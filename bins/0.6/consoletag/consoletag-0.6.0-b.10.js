import Ml,{encrypt as Hl,decrypt as Ul,derive_key as zr}from"/pkg/device_wasm.js";var _t,F,qr,Fe,or,Yr,Xr,Jr,Cn,dn,fn,Zr,pt={},Qr=[],jl=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,vt=Array.isArray;function be(e,t){for(var n in t)e[n]=t[n];return e}function Fn(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ee(e,t,n){var r,o,l,a={};for(l in t)l=="key"?r=t[l]:l=="ref"?o=t[l]:a[l]=t[l];if(arguments.length>2&&(a.children=arguments.length>3?_t.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(l in e.defaultProps)a[l]==null&&(a[l]=e.defaultProps[l]);return st(e,a,r,o,null)}function st(e,t,n,r,o){var l={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++qr,__i:-1,__u:0};return o==null&&F.vnode!=null&&F.vnode(l),l}function An(){return{current:null}}function A(e){return e.children}function fe(e,t){this.props=e,this.context=t}function Ge(e,t){if(t==null)return e.__?Ge(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Ge(e):null}function eo(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return eo(e)}}function pn(e){(!e.__d&&(e.__d=!0)&&Fe.push(e)&&!Tt.__r++||or!=F.debounceRendering)&&((or=F.debounceRendering)||Yr)(Tt)}function Tt(){for(var e,t,n,r,o,l,a,i=1;Fe.length;)Fe.length>i&&Fe.sort(Xr),e=Fe.shift(),i=Fe.length,e.__d&&(n=void 0,o=(r=(t=e).__v).__e,l=[],a=[],t.__P&&((n=be({},r)).__v=r.__v+1,F.vnode&&F.vnode(n),On(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[o]:null,l,o??Ge(r),!!(32&r.__u),a),n.__v=r.__v,n.__.__k[n.__i]=n,ro(l,n,a),n.__e!=o&&eo(n)));Tt.__r=0}function to(e,t,n,r,o,l,a,i,s,u,f){var d,h,p,m,y,v,b=r&&r.__k||Qr,g=t.length;for(s=Wl(n,t,b,s,g),d=0;d<g;d++)(p=n.__k[d])!=null&&(h=p.__i==-1?pt:b[p.__i]||pt,p.__i=d,v=On(e,p,h,o,l,a,i,s,u,f),m=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&Ln(h.ref,null,p),f.push(p.ref,p.__c||m,p)),y==null&&m!=null&&(y=m),4&p.__u||h.__k===p.__k?s=no(p,s,e):typeof p.type=="function"&&v!==void 0?s=v:m&&(s=m.nextSibling),p.__u&=-7);return n.__e=y,s}function Wl(e,t,n,r,o){var l,a,i,s,u,f=n.length,d=f,h=0;for(e.__k=new Array(o),l=0;l<o;l++)(a=t[l])!=null&&typeof a!="boolean"&&typeof a!="function"?(s=l+h,(a=e.__k[l]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?st(null,a,null,null,null):vt(a)?st(A,{children:a},null,null,null):a.constructor==null&&a.__b>0?st(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,i=null,(u=a.__i=Bl(a,n,s,d))!=-1&&(d--,(i=n[u])&&(i.__u|=2)),i==null||i.__v==null?(u==-1&&(o>f?h--:o<f&&h++),typeof a.type!="function"&&(a.__u|=4)):u!=s&&(u==s-1?h--:u==s+1?h++:(u>s?h--:h++,a.__u|=4))):e.__k[l]=null;if(d)for(l=0;l<f;l++)(i=n[l])!=null&&(2&i.__u)==0&&(i.__e==r&&(r=Ge(i)),lo(i,i));return r}function no(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=no(r[o],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=Ge(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function pe(e,t){return t=t||[],e==null||typeof e=="boolean"||(vt(e)?e.some(function(n){pe(n,t)}):t.push(e)),t}function Bl(e,t,n,r){var o,l,a=e.key,i=e.type,s=t[n];if(s===null&&e.key==null||s&&a==s.key&&i==s.type&&(2&s.__u)==0)return n;if(r>(s!=null&&(2&s.__u)==0?1:0))for(o=n-1,l=n+1;o>=0||l<t.length;){if(o>=0){if((s=t[o])&&(2&s.__u)==0&&a==s.key&&i==s.type)return o;o--}if(l<t.length){if((s=t[l])&&(2&s.__u)==0&&a==s.key&&i==s.type)return l;l++}}return-1}function lr(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||jl.test(t)?n:n+"px"}function xt(e,t,n,r,o){var l,a;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||lr(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||lr(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")l=t!=(t=t.replace(Jr,"$1")),a=t.toLowerCase(),t=a in e||t=="onFocusOut"||t=="onFocusIn"?a.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+l]=n,n?r?n.u=r.u:(n.u=Cn,e.addEventListener(t,l?fn:dn,l)):e.removeEventListener(t,l?fn:dn,l);else{if(o=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function ar(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=Cn++;else if(t.t<n.u)return;return n(F.event?F.event(t):t)}}}function On(e,t,n,r,o,l,a,i,s,u){var f,d,h,p,m,y,v,b,g,w,S,$,N,L,J,q,T,D=t.type;if(t.constructor!=null)return null;128&n.__u&&(s=!!(32&n.__u),l=[i=t.__e=n.__e]),(f=F.__b)&&f(t);e:if(typeof D=="function")try{if(b=t.props,g="prototype"in D&&D.prototype.render,w=(f=D.contextType)&&r[f.__c],S=f?w?w.props.value:f.__:r,n.__c?v=(d=t.__c=n.__c).__=d.__E:(g?t.__c=d=new D(b,S):(t.__c=d=new fe(b,S),d.constructor=D,d.render=Vl),w&&w.sub(d),d.props=b,d.state||(d.state={}),d.context=S,d.__n=r,h=d.__d=!0,d.__h=[],d._sb=[]),g&&d.__s==null&&(d.__s=d.state),g&&D.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=be({},d.__s)),be(d.__s,D.getDerivedStateFromProps(b,d.__s))),p=d.props,m=d.state,d.__v=t,h)g&&D.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),g&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(g&&D.getDerivedStateFromProps==null&&b!==p&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(b,S),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(b,d.__s,S)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(d.props=b,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(H){H&&(H.__=t)}),$=0;$<d._sb.length;$++)d.__h.push(d._sb[$]);d._sb=[],d.__h.length&&a.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(b,d.__s,S),g&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(p,m,y)})}if(d.context=S,d.props=b,d.__P=e,d.__e=!1,N=F.__r,L=0,g){for(d.state=d.__s,d.__d=!1,N&&N(t),f=d.render(d.props,d.state,d.context),J=0;J<d._sb.length;J++)d.__h.push(d._sb[J]);d._sb=[]}else do d.__d=!1,N&&N(t),f=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++L<25);d.state=d.__s,d.getChildContext!=null&&(r=be(be({},r),d.getChildContext())),g&&!h&&d.getSnapshotBeforeUpdate!=null&&(y=d.getSnapshotBeforeUpdate(p,m)),q=f,f!=null&&f.type===A&&f.key==null&&(q=oo(f.props.children)),i=to(e,vt(q)?q:[q],t,n,r,o,l,a,i,s,u),d.base=t.__e,t.__u&=-161,d.__h.length&&a.push(d),v&&(d.__E=d.__=null)}catch(H){if(t.__v=null,s||l!=null)if(H.then){for(t.__u|=s?160:128;i&&i.nodeType==8&&i.nextSibling;)i=i.nextSibling;l[l.indexOf(i)]=null,t.__e=i}else for(T=l.length;T--;)Fn(l[T]);else t.__e=n.__e,t.__k=n.__k;F.__e(H,t,n)}else l==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):i=t.__e=Kl(n.__e,t,n,r,o,l,a,s,u);return(f=F.diffed)&&f(t),128&t.__u?void 0:i}function ro(e,t,n){for(var r=0;r<n.length;r++)Ln(n[r],n[++r],n[++r]);F.__c&&F.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(l){l.call(o)})}catch(l){F.__e(l,o.__v)}})}function oo(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:vt(e)?e.map(oo):be({},e)}function Kl(e,t,n,r,o,l,a,i,s){var u,f,d,h,p,m,y,v=n.props,b=t.props,g=t.type;if(g=="svg"?o="http://www.w3.org/2000/svg":g=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),l!=null){for(u=0;u<l.length;u++)if((p=l[u])&&"setAttribute"in p==!!g&&(g?p.localName==g:p.nodeType==3)){e=p,l[u]=null;break}}if(e==null){if(g==null)return document.createTextNode(b);e=document.createElementNS(o,g,b.is&&b),i&&(F.__m&&F.__m(t,l),i=!1),l=null}if(g==null)v===b||i&&e.data==b||(e.data=b);else{if(l=l&&_t.call(e.childNodes),v=n.props||pt,!i&&l!=null)for(v={},u=0;u<e.attributes.length;u++)v[(p=e.attributes[u]).name]=p.value;for(u in v)if(p=v[u],u!="children"){if(u=="dangerouslySetInnerHTML")d=p;else if(!(u in b)){if(u=="value"&&"defaultValue"in b||u=="checked"&&"defaultChecked"in b)continue;xt(e,u,null,p,o)}}for(u in b)p=b[u],u=="children"?h=p:u=="dangerouslySetInnerHTML"?f=p:u=="value"?m=p:u=="checked"?y=p:i&&typeof p!="function"||v[u]===p||xt(e,u,p,v[u],o);if(f)i||d&&(f.__html==d.__html||f.__html==e.innerHTML)||(e.innerHTML=f.__html),t.__k=[];else if(d&&(e.innerHTML=""),to(t.type=="template"?e.content:e,vt(h)?h:[h],t,n,r,g=="foreignObject"?"http://www.w3.org/1999/xhtml":o,l,a,l?l[0]:n.__k&&Ge(n,0),i,s),l!=null)for(u=l.length;u--;)Fn(l[u]);i||(u="value",g=="progress"&&m==null?e.removeAttribute("value"):m!=null&&(m!==e[u]||g=="progress"&&!m||g=="option"&&m!=v[u])&&xt(e,u,m,v[u],o),u="checked",y!=null&&y!=e[u]&&xt(e,u,y,v[u],o))}return e}function Ln(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(o){F.__e(o,n)}}function lo(e,t,n){var r,o;if(F.unmount&&F.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||Ln(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(l){F.__e(l,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&lo(r[o],t,n||typeof e.type!="function");n||Fn(e.__e),e.__c=e.__=e.__e=void 0}function Vl(e,t,n){return this.constructor(e,n)}function ze(e,t,n){var r,o,l,a;t==document&&(t=document.documentElement),F.__&&F.__(e,t),o=(r=typeof n=="function")?null:n&&n.__k||t.__k,l=[],a=[],On(t,e=(!r&&n||t).__k=ee(A,null,[e]),o||pt,pt,t.namespaceURI,!r&&n?[n]:o?null:t.firstChild?_t.call(t.childNodes):null,l,!r&&n?n:o?o.__e:t.firstChild,r,a),ro(l,e,a)}function ao(e,t){ze(e,t,ao)}function io(e,t,n){var r,o,l,a,i=be({},e.props);for(l in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)l=="key"?r=t[l]:l=="ref"?o=t[l]:i[l]=t[l]==null&&a!=null?a[l]:t[l];return arguments.length>2&&(i.children=arguments.length>3?_t.call(arguments,2):n),st(e.type,i,r||e.key,o||e.ref,null)}function G(e){function t(n){var r,o;return this.getChildContext||(r=new Set,(o={})[t.__c]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(l){this.props.value!=l.value&&r.forEach(function(a){a.__e=!0,pn(a)})},this.sub=function(l){r.add(l);var a=l.componentWillUnmount;l.componentWillUnmount=function(){r&&r.delete(l),a&&a.call(l)}}),n.children}return t.__c="__cC"+Zr++,t.__=e,t.Provider=t.__l=(t.Consumer=function(n,r){return n.children(r)}).contextType=t,t}_t=Qr.slice,F={__e:function(e,t,n,r){for(var o,l,a;t=t.__;)if((o=t.__c)&&!o.__)try{if((l=o.constructor)&&l.getDerivedStateFromError!=null&&(o.setState(l.getDerivedStateFromError(e)),a=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),a=o.__d),a)return o.__E=o}catch(i){e=i}throw e}},qr=0,fe.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=be({},this.state),typeof e=="function"&&(e=e(be({},n),this.props)),e&&be(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),pn(this))},fe.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),pn(this))},fe.prototype.render=A,Fe=[],Yr=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Xr=function(e,t){return e.__v.__b-t.__v.__b},Tt.__r=0,Jr=/(PointerCapture)$|Capture$/i,Cn=0,dn=ar(!1),fn=ar(!0),Zr=0;var Gl=0;function c(e,t,n,r,o,l){t||(t={});var a,i,s=t;if("ref"in s)for(i in s={},t)i=="ref"?a=t[i]:s[i]=t[i];var u={type:e,props:s,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Gl,__i:-1,__u:0,__source:o,__self:l};if(typeof e=="function"&&(a=e.defaultProps))for(i in a)s[i]===void 0&&(s[i]=a[i]);return F.vnode&&F.vnode(u),u}var we,j,Zt,ir,qe=0,so=[],V=F,sr=V.__b,ur=V.__r,cr=V.diffed,dr=V.__c,fr=V.unmount,pr=V.__;function He(e,t){V.__h&&V.__h(j,e,qe||t),qe=0;var n=j.__H||(j.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function E(e){return qe=1,Ze(uo,e)}function Ze(e,t,n){var r=He(we++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):uo(void 0,t),function(i){var s=r.__N?r.__N[0]:r.__[0],u=r.t(s,i);s!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=j,!j.__f)){var o=function(i,s,u){if(!r.__c.__H)return!0;var f=r.__c.__H.__.filter(function(h){return!!h.__c});if(f.every(function(h){return!h.__N}))return!l||l.call(this,i,s,u);var d=r.__c.props!==i;return f.forEach(function(h){if(h.__N){var p=h.__[0];h.__=h.__N,h.__N=void 0,p!==h.__[0]&&(d=!0)}}),l&&l.call(this,i,s,u)||d};j.__f=!0;var l=j.shouldComponentUpdate,a=j.componentWillUpdate;j.componentWillUpdate=function(i,s,u){if(this.__e){var f=l;l=void 0,o(i,s,u),l=f}a&&a.call(this,i,s,u)},j.shouldComponentUpdate=o}return r.__N||r.__}function C(e,t){var n=He(we++,3);!V.__s&&Rn(n.__H,t)&&(n.__=e,n.u=t,j.__H.__h.push(n))}function Ue(e,t){var n=He(we++,4);!V.__s&&Rn(n.__H,t)&&(n.__=e,n.u=t,j.__h.push(n))}function k(e){return qe=5,R(function(){return{current:e}},[])}function Dn(e,t,n){qe=6,Ue(function(){if(typeof e=="function"){var r=e(t());return function(){e(null),r&&typeof r=="function"&&r()}}if(e)return e.current=t(),function(){return e.current=null}},n==null?n:n.concat(e))}function R(e,t){var n=He(we++,7);return Rn(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function K(e,t){return qe=8,R(function(){return e},t)}function W(e){var t=j.context[e.__c],n=He(we++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(j)),t.props.value):e.__}function In(e,t){V.useDebugValue&&V.useDebugValue(t?t(e):e)}function zl(e){var t=He(we++,10),n=E();return t.__=e,j.componentDidCatch||(j.componentDidCatch=function(r,o){t.__&&t.__(r,o),n[1](r)}),[n[0],function(){n[1](void 0)}]}function ae(){var e=He(we++,11);if(!e.__){for(var t=j.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function ql(){for(var e;e=so.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Nt),e.__H.__h.forEach(hn),e.__H.__h=[]}catch(t){e.__H.__h=[],V.__e(t,e.__v)}}V.__b=function(e){j=null,sr&&sr(e)},V.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),pr&&pr(e,t)},V.__r=function(e){ur&&ur(e),we=0;var t=(j=e.__c).__H;t&&(Zt===j?(t.__h=[],j.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(Nt),t.__h.forEach(hn),t.__h=[],we=0)),Zt=j},V.diffed=function(e){cr&&cr(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(so.push(t)!==1&&ir===V.requestAnimationFrame||((ir=V.requestAnimationFrame)||Yl)(ql)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),Zt=j=null},V.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Nt),n.__h=n.__h.filter(function(r){return!r.__||hn(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],V.__e(r,n.__v)}}),dr&&dr(e,t)},V.unmount=function(e){fr&&fr(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Nt(r)}catch(o){t=o}}),n.__H=void 0,t&&V.__e(t,n.__v))};var hr=typeof requestAnimationFrame=="function";function Yl(e){var t,n=function(){clearTimeout(r),hr&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,35);hr&&(t=requestAnimationFrame(n))}function Nt(e){var t=j,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),j=t}function hn(e){var t=j;e.__c=e.__(),j=t}function Rn(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function uo(e,t){return typeof t=="function"?t(e):t}const Xl=location.hostname==="localhost"||location.hostname==="127.0.0.1"||location.hostname==="192.168.10.51",Ye=e=>{const t=e.startsWith("/")?"":"/";return(Xl?"http://consoledev.local":"")+t+e};function We(e){const t=e.trim();if(t==="")return null;const n=Number(t);return isNaN(n)?null:n}function co(){const e=[window.location.search,window.location.hash].filter(Boolean).map(t=>t.replace(/^[?#]/,"")).join("&");return Object.fromEntries(new URLSearchParams(e).entries())}function Jl(e){const t=[];let n="",r=!1;for(let o=0;o<e.length;o++){const l=e[o],a=e[o+1];l==='"'&&r&&a==='"'?(n+='"',o++):l==='"'?r=!r:l===","&&!r?(t.push(n),n=""):n+=l}return t.push(n),t}function mr(e){if(e=="")return 0;if(e.length!=6)return null;const t=atob(e),n=new ArrayBuffer(4),r=new Uint8Array(n);for(let o=0;o<4;o++)r[o]=t.charCodeAt(o);return new DataView(n).getFloat32(0,!0)}function Zl(e){e=e.replace("#","");const t=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return(t*299+n*587+r*114)/1e3>=128?"black":"white"}var ne=(e=>(e.Assigned="Assigned",e.Actual="Actual",e))(ne||{});const fo=G(null);async function Ql(){try{const e=Ye("api/storage-config");return await(await encryptedFetch(e,{method:"GET"})).json()}catch{return{rack_config:{}}}}async function ea(e){const t=Ye("api/storage-config");return await(await encryptedFetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}function ta({children:e}){const[t,n]=E(null),[r,o]=E(!1),l=K(async()=>{o(!0),n(await Ql()),o(!1)},[]),a=K(async i=>{o(!0);try{n(await ea(i))}catch(s){throw s}finally{o(!1)}},[]);return C(()=>{(async()=>await l())()},[]),c(fo.Provider,{value:{storageConfig:t,setStorageConfig:n,loadingStorgeConfig:r,reloadStorageConfig:l,saveStorageConfig:a},children:e})}const Mn=()=>W(fo),Ct=async(e,t,n)=>{const r=Ye(e);try{return await(await encryptedFetch(r,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json()}catch(o){throw console.log(`Error calling ${r} : ${o}`),o}},po=(e,t,n)=>{var S;const r=Jl(e),o=We(r[8]),l=We(r[9]),a=We(r[10]),i=We(r[11]),s=We(r[13]),u=s?new Date(s*1e3):null,f=We(r[14]),d=f?new Date(f*1e3):null,h=r[15],p=mr(r[16]),m=mr(r[17]),y=r[18]==="y",v=r[19],b=r[20],g=r[21],w=r[22];return{id:r[0],tag_id:r[1],material_type:r[2],material_subtype:r[3],color_name:r[4],color_code:r[5],note:r[6],brand:r[7],weight_advertised:o,weight_core:l,weight_new:a,weight_current:i,weight_left:i&&l?i-l:i&&o&&a?i-(a-o):null,weight_used:a&&i?a-i:i&&o&&l?o+l-i:null,slicer_filament:r[12],slicer_filament_name:r[12]?((S=n==null?void 0:n.find($=>$.code==r[12]))==null?void 0:S.name)??""??null:"",added_datetime:u,encoded_datetime:d,full_unused:h,consumed_since_add:p,consumed_since_weight:m,k_setting:y,data_origin:v,tag_type:b,printer_location:t!=null&&t.get(r[0])?"!"+(t==null?void 0:t.get(r[0])):null,assigned_location:g,actual_location:w}};function ut(e){if(!e)return"";const t=e.rack?`R:${e.rack}`:null,n=e.bay?`B:${e.bay}`:null,r=e.shelf?`S:${e.shelf}`:null,o=e.position?`P:${e.position}`:null,l=e.container?`C:${e.container}`:null,a=[t,n,r,o,l].filter(s=>s!=null).join("/");return a!=""?"#"+a:""}function mn(e){if(e){const t={R:0,B:0,S:0,P:0,C:0};for(const[,r,o]of e.matchAll(/([RBSPC]):(\d+)/g))t[r]=Number(o);return{rack:t.R,bay:t.B,shelf:t.S,position:t.P,container:t.C}}else return null}/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),na=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),vr=e=>{const t=na(e);return t.charAt(0).toUpperCase()+t.slice(1)},ra=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oa={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,children:o,iconNode:l,class:a="",...i})=>ee("svg",{...oa,width:String(t),height:t,stroke:e,"stroke-width":r?Number(n)*24/Number(t):n,class:["lucide",a].join(" "),...i},[...l.map(([s,u])=>ee(s,u)),...pe(o)]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(e,t)=>{const n=({class:r="",children:o,...l})=>ee(la,{...l,iconNode:t,class:ra(`lucide-${_r(vr(e))}`,`lucide-${_r(e)}`,r)},o);return n.displayName=vr(e),n};/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=je("corner-down-left",[["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}],["path",{d:"m9 10-5 5 5 5",key:"1kshq7"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=je("delete",[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=je("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=je("spool",[["path",{d:"M17 13.44 4.442 17.082A2 2 0 0 0 4.982 21H19a2 2 0 0 0 .558-3.921l-1.115-.32A2 2 0 0 1 17 14.837V7.66",key:"13vns8"}],["path",{d:"m7 10.56 12.558-3.642A2 2 0 0 0 19.018 3H5a2 2 0 0 0-.558 3.921l1.115.32A2 2 0 0 1 7 9.163v7.178",key:"s8x3u0"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=je("square-library",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 7v10",key:"d5nglc"}],["path",{d:"M11 7v10",key:"pptsnr"}],["path",{d:"m15 7 2 10",key:"1m7qm5"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=je("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=je("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ho(e,t){for(var n in t)e[n]=t[n];return e}function vn(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function It(e,t){var n=t(),r=E({t:{__:n,u:t}}),o=r[0].t,l=r[1];return Ue(function(){o.__=n,o.u=t,Qt(o)&&l({t:o})},[e,n,t]),C(function(){return Qt(o)&&l({t:o}),e(function(){Qt(o)&&l({t:o})})},[e]),n}function Qt(e){var t,n,r=e.u,o=e.__;try{var l=r();return!((t=o)===(n=l)&&(t!==0||1/t==1/n)||t!=t&&n!=n)}catch{return!0}}function Hn(e){e()}function Un(e){return e}function jn(){return[!1,Hn]}var Wn=Ue;function Ft(e,t){this.props=e,this.context=t}function mo(e,t){function n(o){var l=this.props.ref,a=l==o.ref;return!a&&l&&(l.call?l(null):l.current=null),t?!t(this.props,o)||!a:vn(this.props,o)}function r(o){return this.shouldComponentUpdate=n,ee(e,o)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(Ft.prototype=new fe).isPureReactComponent=!0,Ft.prototype.shouldComponentUpdate=function(e,t){return vn(this.props,e)||vn(this.state,t)};var gr=F.__b;F.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),gr&&gr(e)};var ca=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Bn(e){function t(n){var r=ho({},n);return delete r.ref,e(r,n.ref||null)}return t.$$typeof=ca,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var yr=function(e,t){return e==null?null:pe(pe(e).map(t))},_o={map:yr,forEach:yr,count:function(e){return e?pe(e).length:0},only:function(e){var t=pe(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:pe},da=F.__e;F.__e=function(e,t,n,r){if(e.then){for(var o,l=t;l=l.__;)if((o=l.__c)&&o.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t)}da(e,t,n,r)};var wr=F.unmount;function vo(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=ho({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return vo(r,t,n)})),e}function bo(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return bo(r,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function ct(){this.__u=0,this.o=null,this.__b=null}function go(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function yo(e){var t,n,r;function o(l){if(t||(t=e()).then(function(a){n=a.default||a},function(a){r=a}),r)throw r;if(!n)throw t;return ee(n,l)}return o.displayName="Lazy",o.__f=!0,o}function Be(){this.i=null,this.l=null}F.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),wr&&wr(e)},(ct.prototype=new fe).__c=function(e,t){var n=t.__c,r=this;r.o==null&&(r.o=[]),r.o.push(n);var o=go(r.__v),l=!1,a=function(){l||(l=!0,n.__R=null,o?o(i):i())};n.__R=a;var i=function(){if(!--r.__u){if(r.state.__a){var s=r.state.__a;r.__v.__k[0]=bo(s,s.__c.__P,s.__c.__O)}var u;for(r.setState({__a:r.__b=null});u=r.o.pop();)u.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(a,a)},ct.prototype.componentWillUnmount=function(){this.o=[]},ct.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=vo(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__a&&ee(A,null,e.fallback);return o&&(o.__u&=-33),[ee(A,null,t.__a?null:e.children),o]};var $r=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function fa(e){return this.getChildContext=function(){return e.context},e.children}function pa(e){var t=this,n=e.h;if(t.componentWillUnmount=function(){ze(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),!t.v){for(var r=t.__v;r!==null&&!r.__m&&r.__!==null;)r=r.__;t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],__k:{__m:r.__m},contains:function(){return!0},insertBefore:function(o,l){this.childNodes.push(o),t.h.insertBefore(o,l)},removeChild:function(o){this.childNodes.splice(this.childNodes.indexOf(o)>>>1,1),t.h.removeChild(o)}}}ze(ee(fa,{context:t.context},e.__v),t.v)}function Kn(e,t){var n=ee(pa,{__v:e,h:t});return n.containerInfo=t,n}(Be.prototype=new fe).__a=function(e){var t=this,n=go(t.__v),r=t.l.get(e);return r[0]++,function(o){var l=function(){t.props.revealOrder?(r.push(o),$r(t,e,r)):o()};n?n(l):l()}},Be.prototype.render=function(e){this.i=null,this.l=new Map;var t=pe(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},Be.prototype.componentDidUpdate=Be.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){$r(e,n,t)})};var wo=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,ha=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ma=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,_a=/[A-Z0-9]/g,va=typeof document<"u",ba=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function $o(e,t,n){return t.__k==null&&(t.textContent=""),ze(e,t),typeof n=="function"&&n(),e?e.__c:null}function xo(e,t,n){return ao(e,t),typeof n=="function"&&n(),e?e.__c:null}fe.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(fe.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var xr=F.event;function ga(){}function ya(){return this.cancelBubble}function wa(){return this.defaultPrevented}F.event=function(e){return xr&&(e=xr(e)),e.persist=ga,e.isPropagationStopped=ya,e.isDefaultPrevented=wa,e.nativeEvent=e};var Vn,$a={enumerable:!1,configurable:!0,get:function(){return this.class}},Er=F.vnode;F.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,r=t.type,o={},l=r.indexOf("-")===-1;for(var a in n){var i=n[a];if(!(a==="value"&&"defaultValue"in n&&i==null||va&&a==="children"&&r==="noscript"||a==="class"||a==="className")){var s=a.toLowerCase();a==="defaultValue"&&"value"in n&&n.value==null?a="value":a==="download"&&i===!0?i="":s==="translate"&&i==="no"?i=!1:s[0]==="o"&&s[1]==="n"?s==="ondoubleclick"?a="ondblclick":s!=="onchange"||r!=="input"&&r!=="textarea"||ba(n.type)?s==="onfocus"?a="onfocusin":s==="onblur"?a="onfocusout":ma.test(a)&&(a=s):s=a="oninput":l&&ha.test(a)?a=a.replace(_a,"-$&").toLowerCase():i===null&&(i=void 0),s==="oninput"&&o[a=s]&&(a="oninputCapture"),o[a]=i}}r=="select"&&o.multiple&&Array.isArray(o.value)&&(o.value=pe(n.children).forEach(function(u){u.props.selected=o.value.indexOf(u.props.value)!=-1})),r=="select"&&o.defaultValue!=null&&(o.value=pe(n.children).forEach(function(u){u.props.selected=o.multiple?o.defaultValue.indexOf(u.props.value)!=-1:o.defaultValue==u.props.value})),n.class&&!n.className?(o.class=n.class,Object.defineProperty(o,"className",$a)):(n.className&&!n.class||n.class&&n.className)&&(o.class=o.className=n.className),t.props=o}(e),e.$$typeof=wo,Er&&Er(e)};var Sr=F.__r;F.__r=function(e){Sr&&Sr(e),Vn=e.__c};var kr=F.diffed;F.diffed=function(e){kr&&kr(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value),Vn=null};var Eo={ReactCurrentDispatcher:{current:{readContext:function(e){return Vn.__n[e.__c].props.value},useCallback:K,useContext:W,useDebugValue:In,useDeferredValue:Un,useEffect:C,useId:ae,useImperativeHandle:Dn,useInsertionEffect:Wn,useLayoutEffect:Ue,useMemo:R,useReducer:Ze,useRef:k,useState:E,useSyncExternalStore:It,useTransition:jn}}},xa="18.3.1";function So(e){return ee.bind(null,e)}function Qe(e){return!!e&&e.$$typeof===wo}function ko(e){return Qe(e)&&e.type===A}function No(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function Gn(e){return Qe(e)?io.apply(null,arguments):e}function Po(e){return!!e.__k&&(ze(null,e),!0)}function To(e){return e&&(e.base||e.nodeType===1&&e)||null}var Co=function(e,t){return e(t)},Fo=function(e,t){return e(t)},Ao=A,Oo=Qe,x={useState:E,useId:ae,useReducer:Ze,useEffect:C,useLayoutEffect:Ue,useInsertionEffect:Wn,useTransition:jn,useDeferredValue:Un,useSyncExternalStore:It,startTransition:Hn,useRef:k,useImperativeHandle:Dn,useMemo:R,useCallback:K,useContext:W,useDebugValue:In,version:"18.3.1",Children:_o,render:$o,hydrate:xo,unmountComponentAtNode:Po,createPortal:Kn,createElement:ee,createContext:G,createFactory:So,cloneElement:Gn,createRef:An,Fragment:A,isValidElement:Qe,isElement:Oo,isFragment:ko,isMemo:No,findDOMNode:To,Component:fe,PureComponent:Ft,memo:mo,forwardRef:Bn,flushSync:Fo,unstable_batchedUpdates:Co,StrictMode:Ao,Suspense:ct,SuspenseList:Be,lazy:yo,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Eo};const bn=Object.freeze(Object.defineProperty({__proto__:null,Children:_o,Component:fe,Fragment:A,PureComponent:Ft,StrictMode:Ao,Suspense:ct,SuspenseList:Be,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Eo,cloneElement:Gn,createContext:G,createElement:ee,createFactory:So,createPortal:Kn,createRef:An,default:x,findDOMNode:To,flushSync:Fo,forwardRef:Bn,hydrate:xo,isElement:Oo,isFragment:ko,isMemo:No,isValidElement:Qe,lazy:yo,memo:mo,render:$o,startTransition:Hn,unmountComponentAtNode:Po,unstable_batchedUpdates:Co,useCallback:K,useContext:W,useDebugValue:In,useDeferredValue:Un,useEffect:C,useErrorBoundary:zl,useId:ae,useImperativeHandle:Dn,useInsertionEffect:Wn,useLayoutEffect:Ue,useMemo:R,useReducer:Ze,useRef:k,useState:E,useSyncExternalStore:It,useTransition:jn,version:xa},Symbol.toStringTag,{value:"Module"})),Lo=typeof document<"u"?x.useLayoutEffect:()=>{};function Ea(e){const t=k(null);return Lo(()=>{t.current=e},[e]),K((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const Ne=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},Oe=e=>e&&"window"in e&&e.window===e?e:Ne(e).defaultView||window;function Sa(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function ka(e){return Sa(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let Na=!1;function zn(){return Na}function Do(e,t){if(!zn())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:ka(n)?n=n.host:n=n.parentNode}return!1}const gn=(e=document)=>{var t;if(!zn())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function Io(e){return zn()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function Pa(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function Ta(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Ro(e){let t=null;return()=>(t==null&&(t=e()),t)}const Ca=Ro(function(){return Ta(/^Mac/i)}),Fa=Ro(function(){return Pa(/Android/i)});function Mo(){let e=k(new Map),t=K((o,l,a,i)=>{let s=i!=null&&i.once?(...u)=>{e.current.delete(a),a(...u)}:a;e.current.set(a,{type:l,eventTarget:o,fn:s,options:i}),o.addEventListener(l,s,i)},[]),n=K((o,l,a,i)=>{var s;let u=((s=e.current.get(a))===null||s===void 0?void 0:s.fn)||a;o.removeEventListener(l,u,i),e.current.delete(a)},[]),r=K(()=>{e.current.forEach((o,l)=>{n(o.eventTarget,o.type,l,o.options)})},[n]);return C(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function Aa(e){return e.mozInputSource===0&&e.isTrusted?!0:Fa()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Ho(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function Oa(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function Uo(e){let t=k({isFocused:!1,observer:null});Lo(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=Ea(r=>{e==null||e(r)});return K(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let o=r.target,l=a=>{if(t.current.isFocused=!1,o.disabled){let i=Ho(a);n(i)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",l,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&o.disabled){var a;(a=t.current.observer)===null||a===void 0||a.disconnect();let i=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:i})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:i}))}}),t.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let La=!1,bt=null,yn=new Set,dt=new Map,Me=!1,wn=!1;const Da={Tab:!0,Escape:!0};function qn(e,t){for(let n of yn)n(e,t)}function Ia(e){return!(e.metaKey||!Ca()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function At(e){Me=!0,Ia(e)&&(bt="keyboard",qn("keyboard",e))}function Ve(e){bt="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Me=!0,qn("pointer",e))}function jo(e){Aa(e)&&(Me=!0,bt="virtual")}function Wo(e){e.target===window||e.target===document||La||!e.isTrusted||(!Me&&!wn&&(bt="virtual",qn("virtual",e)),Me=!1,wn=!1)}function Bo(){Me=!1,wn=!0}function $n(e){if(typeof window>"u"||typeof document>"u"||dt.get(Oe(e)))return;const t=Oe(e),n=Ne(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Me=!0,r.apply(this,arguments)},n.addEventListener("keydown",At,!0),n.addEventListener("keyup",At,!0),n.addEventListener("click",jo,!0),t.addEventListener("focus",Wo,!0),t.addEventListener("blur",Bo,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",Ve,!0),n.addEventListener("pointermove",Ve,!0),n.addEventListener("pointerup",Ve,!0)),t.addEventListener("beforeunload",()=>{Ko(e)},{once:!0}),dt.set(t,{focus:r})}const Ko=(e,t)=>{const n=Oe(e),r=Ne(e);t&&r.removeEventListener("DOMContentLoaded",t),dt.has(n)&&(n.HTMLElement.prototype.focus=dt.get(n).focus,r.removeEventListener("keydown",At,!0),r.removeEventListener("keyup",At,!0),r.removeEventListener("click",jo,!0),n.removeEventListener("focus",Wo,!0),n.removeEventListener("blur",Bo,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",Ve,!0),r.removeEventListener("pointermove",Ve,!0),r.removeEventListener("pointerup",Ve,!0)),dt.delete(n))};function Ra(e){const t=Ne(e);let n;return t.readyState!=="loading"?$n(e):(n=()=>{$n(e)},t.addEventListener("DOMContentLoaded",n)),()=>Ko(e,n)}typeof document<"u"&&Ra();function Vo(){return bt!=="pointer"}const Ma=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Ha(e,t,n){let r=Ne(n==null?void 0:n.target);const o=typeof window<"u"?Oe(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,l=typeof window<"u"?Oe(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,a=typeof window<"u"?Oe(n==null?void 0:n.target).HTMLElement:HTMLElement,i=typeof window<"u"?Oe(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof o&&!Ma.has(r.activeElement.type)||r.activeElement instanceof l||r.activeElement instanceof a&&r.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof i&&!Da[n.key])}function Ua(e,t,n){$n(),C(()=>{let r=(o,l)=>{Ha(!!(n!=null&&n.isTextInput),o,l)&&e(Vo())};return yn.add(r),()=>{yn.delete(r)}},t)}function ja(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:o}=e;const l=K(s=>{if(s.target===s.currentTarget)return r&&r(s),o&&o(!1),!0},[r,o]),a=Uo(l),i=K(s=>{const u=Ne(s.target),f=u?gn(u):gn();s.target===s.currentTarget&&f===Io(s.nativeEvent)&&(n&&n(s),o&&o(!0),a(s))},[o,n,a]);return{focusProps:{onFocus:!t&&(n||o||r)?i:void 0,onBlur:!t&&(r||o)?l:void 0}}}function Wa(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:o}=e,l=k({isFocusWithin:!1}),{addGlobalListener:a,removeAllGlobalListeners:i}=Mo(),s=K(d=>{d.currentTarget.contains(d.target)&&l.current.isFocusWithin&&!d.currentTarget.contains(d.relatedTarget)&&(l.current.isFocusWithin=!1,i(),n&&n(d),o&&o(!1))},[n,o,l,i]),u=Uo(s),f=K(d=>{if(!d.currentTarget.contains(d.target))return;const h=Ne(d.target),p=gn(h);if(!l.current.isFocusWithin&&p===Io(d.nativeEvent)){r&&r(d),o&&o(!0),l.current.isFocusWithin=!0,u(d);let m=d.currentTarget;a(h,"focus",y=>{if(l.current.isFocusWithin&&!Do(m,y.target)){let v=new h.defaultView.FocusEvent("blur",{relatedTarget:y.target});Oa(v,m);let b=Ho(v);s(b)}},{capture:!0})}},[r,o,u,a,s]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:f,onBlur:s}}}let xn=!1,en=0;function Ba(){xn=!0,setTimeout(()=>{xn=!1},50)}function Nr(e){e.pointerType==="touch"&&Ba()}function Ka(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",Nr),en++,()=>{en--,!(en>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Nr)}}function Yn(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:o}=e,[l,a]=E(!1),i=k({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;C(Ka,[]);let{addGlobalListener:s,removeAllGlobalListeners:u}=Mo(),{hoverProps:f,triggerHoverEnd:d}=R(()=>{let h=(y,v)=>{if(i.pointerType=v,o||v==="touch"||i.isHovered||!y.currentTarget.contains(y.target))return;i.isHovered=!0;let b=y.currentTarget;i.target=b,s(Ne(y.target),"pointerover",g=>{i.isHovered&&i.target&&!Do(i.target,g.target)&&p(g,g.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:b,pointerType:v}),n&&n(!0),a(!0)},p=(y,v)=>{let b=i.target;i.pointerType="",i.target=null,!(v==="touch"||!i.isHovered||!b)&&(i.isHovered=!1,u(),r&&r({type:"hoverend",target:b,pointerType:v}),n&&n(!1),a(!1))},m={};return typeof PointerEvent<"u"&&(m.onPointerEnter=y=>{xn&&y.pointerType==="mouse"||h(y,y.pointerType)},m.onPointerLeave=y=>{!o&&y.currentTarget.contains(y.target)&&p(y,y.pointerType)}),{hoverProps:m,triggerHoverEnd:p}},[t,n,r,o,i,s,u]);return C(()=>{o&&d({currentTarget:i.target},i.pointerType)},[o]),{hoverProps:f,isHovered:l}}function Rt(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,o=k({isFocused:!1,isFocusVisible:t||Vo()}),[l,a]=E(!1),[i,s]=E(()=>o.current.isFocused&&o.current.isFocusVisible),u=K(()=>s(o.current.isFocused&&o.current.isFocusVisible),[]),f=K(p=>{o.current.isFocused=p,a(p),u()},[u]);Ua(p=>{o.current.isFocusVisible=p,u()},[],{isTextInput:n});let{focusProps:d}=ja({isDisabled:r,onFocusChange:f}),{focusWithinProps:h}=Wa({isDisabled:!r,onFocusWithinChange:f});return{isFocused:l,isFocusVisible:i,focusProps:r?h:d}}var Va=Object.defineProperty,Ga=(e,t,n)=>t in e?Va(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tn=(e,t,n)=>(Ga(e,typeof t!="symbol"?t+"":t,n),n);let za=class{constructor(){tn(this,"current",this.detect()),tn(this,"handoffState","pending"),tn(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ie=new za;function et(e){var t,n;return Ie.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(n=(t=e.current)==null?void 0:t.ownerDocument)!=null?n:document:null:document}function gt(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function $e(){let e=[],t={addEventListener(n,r,o,l){return n.addEventListener(r,o,l),t.add(()=>n.removeEventListener(r,o,l))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return gt(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,o){let l=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:o}),this.add(()=>{Object.assign(n.style,{[r]:l})})},group(n){let r=$e();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let o of e.splice(r,1))o()}},dispose(){for(let n of e.splice(0))n()}};return t}function Mt(){let[e]=E($e);return C(()=>()=>e.dispose(),[e]),e}let Y=(e,t)=>{Ie.isServer?C(e,t):Ue(e,t)};function me(e){let t=k(e);return Y(()=>{t.current=e},[e]),t}let O=function(e){let t=me(e);return x.useCallback((...n)=>t.current(...n),[t])};function qa(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function Ya(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function Go({disabled:e=!1}={}){let t=k(null),[n,r]=E(!1),o=Mt(),l=O(()=>{t.current=null,r(!1),o.dispose()}),a=O(i=>{if(o.dispose(),t.current===null){t.current=i.currentTarget,r(!0);{let s=et(i.currentTarget);o.addEventListener(s,"pointerup",l,!1),o.addEventListener(s,"pointermove",u=>{if(t.current){let f=qa(u);r(Ya(f,t.current.getBoundingClientRect()))}},!1),o.addEventListener(s,"pointercancel",l,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:a,onPointerUp:l,onClick:l}}}let Xa=G(void 0);function Ht(){return W(Xa)}function En(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function re(e,t,...n){if(e in t){let o=t[e];return typeof o=="function"?o(...n):o}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,re),r}var Xe=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Xe||{}),Ee=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Ee||{});function X(){let e=Za();return K(t=>Ja({mergeRefs:e,...t}),[e])}function Ja({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:o,visible:l=!0,name:a,mergeRefs:i}){i=i??Qa;let s=zo(t,e);if(l)return Et(s,n,r,a,i);let u=o??0;if(u&2){let{static:f=!1,...d}=s;if(f)return Et(d,n,r,a,i)}if(u&1){let{unmount:f=!0,...d}=s;return re(f?0:1,{0(){return null},1(){return Et({...d,hidden:!0,style:{display:"none"}},n,r,a,i)}})}return Et(s,n,r,a,i)}function Et(e,t={},n,r,o){let{as:l=n,children:a,refName:i="ref",...s}=nn(e,["unmount","static"]),u=e.ref!==void 0?{[i]:e.ref}:{},f=typeof a=="function"?a(t):a;"className"in s&&s.className&&typeof s.className=="function"&&(s.className=s.className(t)),s["aria-labelledby"]&&s["aria-labelledby"]===s.id&&(s["aria-labelledby"]=void 0);let d={};if(t){let h=!1,p=[];for(let[m,y]of Object.entries(t))typeof y=="boolean"&&(h=!0),y===!0&&p.push(m.replace(/([A-Z])/g,v=>`-${v.toLowerCase()}`));if(h){d["data-headlessui-state"]=p.join(" ");for(let m of p)d[`data-${m}`]=""}}if(l===A&&(Object.keys(Ce(s)).length>0||Object.keys(Ce(d)).length>0))if(!Qe(f)||Array.isArray(f)&&f.length>1){if(Object.keys(Ce(s)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ce(s)).concat(Object.keys(Ce(d))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=f.props,p=h==null?void 0:h.className,m=typeof p=="function"?(...b)=>En(p(...b),s.className):En(p,s.className),y=m?{className:m}:{},v=zo(f.props,Ce(nn(s,["ref"])));for(let b in d)b in v&&delete d[b];return Gn(f,Object.assign({},v,d,u,{ref:o(ei(f),u.ref)},y))}return ee(l,Object.assign({},nn(s,["ref"]),l!==A&&u,l!==A&&d),f)}function Za(){let e=k([]),t=K(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function Qa(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function zo(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[o=>{var l;return(l=o==null?void 0:o.preventDefault)==null?void 0:l.call(o)}]);for(let r in n)Object.assign(t,{[r](o,...l){let a=n[r];for(let i of a){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;i(o,...l)}}});return t}function Ut(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];for(let r in n)Object.assign(t,{[r](...o){let l=n[r];for(let a of l)a==null||a(...o)}});return t}function z(e){var t;return Object.assign(Bn(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ce(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function nn(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function ei(e){return x.version.split(".")[0]>="19"?e.props.ref:e.ref}let ti="button";function ni(e,t){var n;let r=Ht(),{disabled:o=r||!1,autoFocus:l=!1,...a}=e,{isFocusVisible:i,focusProps:s}=Rt({autoFocus:l}),{isHovered:u,hoverProps:f}=Yn({isDisabled:o}),{pressed:d,pressProps:h}=Go({disabled:o}),p=Ut({ref:t,type:(n=a.type)!=null?n:"button",disabled:o||void 0,autoFocus:l},s,f,h),m=R(()=>({disabled:o,hover:u,focus:i,active:d,autofocus:l}),[o,u,i,d,l]);return X()({ourProps:p,theirProps:a,slot:m,defaultTag:ti,name:"Button"})}let rn=z(ni),ri="span";var ht=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(ht||{});function oi(e,t){var n;let{features:r=1,...o}=e,l={ref:t,"aria-hidden":(r&2)===2?!0:(n=o["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return X()({ourProps:l,theirProps:o,slot:{},defaultTag:ri,name:"Hidden"})}let mt=z(oi),li=G(void 0);function qo(){return W(li)}function Yo(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function ge(e){return Yo(e)&&"tagName"in e}function ke(e){return ge(e)&&"accessKey"in e}function Se(e){return ge(e)&&"tabIndex"in e}function ai(e){return ge(e)&&"style"in e}function ii(e){return ke(e)&&e.nodeName==="IFRAME"}function Xo(e){return ke(e)&&e.nodeName==="INPUT"}function Pr(e){return ke(e)&&e.nodeName==="LABEL"}function si(e){return ge(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}let Jo=Symbol();function ui(e,t=!0){return Object.assign(e,{[Jo]:t})}function te(...e){let t=k(e);C(()=>{t.current=e},[e]);let n=O(r=>{for(let o of t.current)o!=null&&(typeof o=="function"?o(r):o.current=r)});return e.every(r=>r==null||(r==null?void 0:r[Jo]))?void 0:n}let jt=G(null);jt.displayName="DescriptionContext";function Zo(){let e=W(jt);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Zo),t}return e}function ci(){var e,t;return(t=(e=W(jt))==null?void 0:e.value)!=null?t:void 0}function di(){let[e,t]=E([]);return[e.length>0?e.join(" "):void 0,R(()=>function(n){let r=O(l=>(t(a=>[...a,l]),()=>t(a=>{let i=a.slice(),s=i.indexOf(l);return s!==-1&&i.splice(s,1),i}))),o=R(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return x.createElement(jt.Provider,{value:o},n.children)},[t])]}let fi="p";function pi(e,t){let n=ae(),r=Ht(),{id:o=`headlessui-description-${n}`,...l}=e,a=Zo(),i=te(t);Y(()=>a.register(o),[o,a.register]);let s=r||!1,u=R(()=>({...a.slot,disabled:s}),[a.slot,s]),f={ref:i,...a.props,id:o};return X()({ourProps:f,theirProps:l,slot:u,defaultTag:fi,name:a.name||"Description"})}let hi=z(pi),mi=Object.assign(hi,{});var de=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(de||{});let Xn=G(null);Xn.displayName="LabelContext";function Qo(){let e=W(Xn);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Qo),t}return e}function _i(e){var t,n,r;let o=(n=(t=W(Xn))==null?void 0:t.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[o,...e].filter(Boolean).join(" "):o}let vi="label";function bi(e,t){var n;let r=ae(),o=Qo(),l=qo(),a=Ht(),{id:i=`headlessui-label-${r}`,htmlFor:s=l??((n=o.props)==null?void 0:n.htmlFor),passive:u=!1,...f}=e,d=te(t);Y(()=>o.register(i),[i,o.register]);let h=O(v=>{let b=v.currentTarget;if(!(v.target!==v.currentTarget&&si(v.target))&&(Pr(b)&&v.preventDefault(),o.props&&"onClick"in o.props&&typeof o.props.onClick=="function"&&o.props.onClick(v),Pr(b))){let g=document.getElementById(b.htmlFor);if(g){let w=g.getAttribute("disabled");if(w==="true"||w==="")return;let S=g.getAttribute("aria-disabled");if(S==="true"||S==="")return;(Xo(g)&&(g.type==="file"||g.type==="radio"||g.type==="checkbox")||g.role==="radio"||g.role==="checkbox"||g.role==="switch")&&g.click(),g.focus({preventScroll:!0})}}}),p=a||!1,m=R(()=>({...o.slot,disabled:p}),[o.slot,p]),y={ref:d,...o.props,id:i,htmlFor:s,onClick:h};return u&&("onClick"in y&&(delete y.htmlFor,delete y.onClick),"onClick"in f&&delete f.onClick),X()({ourProps:y,theirProps:f,slot:m,defaultTag:s?vi:"div",name:o.name||"Label"})}let gi=z(bi);Object.assign(gi,{});let yi=G(()=>{});function wi({value:e,children:t}){return x.createElement(yi.Provider,{value:e},t)}let el=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var $i=Object.defineProperty,xi=(e,t,n)=>t in e?$i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ei=(e,t,n)=>(xi(e,t+"",n),n),tl=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},ce=(e,t,n)=>(tl(e,t,"read from private field"),n?n.call(e):t.get(e)),on=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Tr=(e,t,n,r)=>(tl(e,t,"write to private field"),t.set(e,n),n),ve,ot,lt;let Si=class{constructor(t){on(this,ve,{}),on(this,ot,new el(()=>new Set)),on(this,lt,new Set),Ei(this,"disposables",$e()),Tr(this,ve,t)}dispose(){this.disposables.dispose()}get state(){return ce(this,ve)}subscribe(t,n){let r={selector:t,callback:n,current:t(ce(this,ve))};return ce(this,lt).add(r),this.disposables.add(()=>{ce(this,lt).delete(r)})}on(t,n){return ce(this,ot).get(t).add(n),this.disposables.add(()=>{ce(this,ot).get(t).delete(n)})}send(t){let n=this.reduce(ce(this,ve),t);if(n!==ce(this,ve)){Tr(this,ve,n);for(let r of ce(this,lt)){let o=r.selector(ce(this,ve));nl(r.current,o)||(r.current=o,r.callback(o))}for(let r of ce(this,ot).get(t.type))r(ce(this,ve),t)}}};ve=new WeakMap,ot=new WeakMap,lt=new WeakMap;function nl(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:ln(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:ln(e.entries(),t.entries()):Cr(e)&&Cr(t)?ln(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function ln(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function Cr(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var ki=Object.defineProperty,Ni=(e,t,n)=>t in e?ki(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fr=(e,t,n)=>(Ni(e,typeof t!="symbol"?t+"":t,n),n),Pi=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(Pi||{});let Ti={0(e,t){let n=t.id,r=e.stack,o=e.stack.indexOf(n);if(o!==-1){let l=e.stack.slice();return l.splice(o,1),l.push(n),r=l,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let o=e.stack.slice();return o.splice(r,1),{...e,stack:o}}},Ci=class rl extends Si{constructor(){super(...arguments),Fr(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),Fr(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new rl({stack:[]})}reduce(t,n){return re(n.type,Ti,t,n)}};const ol=new el(()=>Ci.new());function Fi(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var an={exports:{}},sn={};const Ai=Fi(bn);/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ar;function Oi(){if(Ar)return sn;Ar=1;var e=Ai;function t(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,o=e.useRef,l=e.useEffect,a=e.useMemo,i=e.useDebugValue;return sn.useSyncExternalStoreWithSelector=function(s,u,f,d,h){var p=o(null);if(p.current===null){var m={hasValue:!1,value:null};p.current=m}else m=p.current;p=a(function(){function v($){if(!b){if(b=!0,g=$,$=d($),h!==void 0&&m.hasValue){var N=m.value;if(h(N,$))return w=N}return w=$}if(N=w,n(g,$))return N;var L=d($);return h!==void 0&&h(N,L)?(g=$,N):(g=$,w=L)}var b=!1,g,w,S=f===void 0?null:f;return[function(){return v(u())},S===null?void 0:function(){return v(S())}]},[u,f,d,h]);var y=r(s,p[0],p[1]);return l(function(){m.hasValue=!0,m.value=y},[y]),i(y),y},sn}var Or;function Li(){return Or||(Or=1,an.exports=Oi()),an.exports}var Di=Li();function ll(e,t,n=nl){return Di.useSyncExternalStoreWithSelector(O(r=>e.subscribe(Ii,r)),O(()=>e.state),O(()=>e.state),O(t),n)}function Ii(e){return e}function yt(e,t){let n=ae(),r=ol.get(t),[o,l]=ll(r,K(a=>[r.selectors.isTop(a,n),r.selectors.inStack(a,n)],[r,n]));return Y(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?l?o:!0:!1}let Sn=new Map,ft=new Map;function Lr(e){var t;let n=(t=ft.get(e))!=null?t:0;return ft.set(e,n+1),n!==0?()=>Dr(e):(Sn.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Dr(e))}function Dr(e){var t;let n=(t=ft.get(e))!=null?t:1;if(n===1?ft.delete(e):ft.set(e,n-1),n!==1)return;let r=Sn.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,Sn.delete(e))}function Ri(e,{allowed:t,disallowed:n}={}){let r=yt(e,"inert-others");Y(()=>{var o,l;if(!r)return;let a=$e();for(let s of(o=n==null?void 0:n())!=null?o:[])s&&a.add(Lr(s));let i=(l=t==null?void 0:t())!=null?l:[];for(let s of i){if(!s)continue;let u=et(s);if(!u)continue;let f=s.parentElement;for(;f&&f!==u.body;){for(let d of f.children)i.some(h=>d.contains(h))||a.add(Lr(d));f=f.parentElement}}return a.dispose},[r,t,n])}function Mi(e,t,n){let r=me(o=>{let l=o.getBoundingClientRect();l.x===0&&l.y===0&&l.width===0&&l.height===0&&n()});C(()=>{if(!e)return;let o=t===null?null:ke(t)?t:t.current;if(!o)return;let l=$e();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>r.current(o));a.observe(o),l.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>r.current(o));a.observe(o),l.add(()=>a.disconnect())}return()=>l.dispose()},[t,r,e])}let Ot=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Hi=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Z=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Z||{}),Le=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Le||{}),Ui=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Ui||{});function ji(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Ot)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function Wi(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Hi)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var al=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(al||{});function Bi(e,t=0){var n;return e===((n=et(e))==null?void 0:n.body)?!1:re(t,{0(){return e.matches(Ot)},1(){let r=e;for(;r!==null;){if(r.matches(Ot))return!0;r=r.parentElement}return!1}})}var Ki=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Ki||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ye(e){e==null||e.focus({preventScroll:!0})}let Vi=["textarea","input"].join(",");function Gi(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Vi))!=null?n:!1}function Ke(e,t=n=>n){return e.slice().sort((n,r)=>{let o=t(n),l=t(r);if(o===null||l===null)return 0;let a=o.compareDocumentPosition(l);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function he(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:o=[]}={}){let l=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?n?Ke(e):e:t&64?Wi(e):ji(e);o.length>0&&a.length>1&&(a=a.filter(p=>!o.some(m=>m!=null&&"current"in m?(m==null?void 0:m.current)===p:m===p))),r=r??l.activeElement;let i=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),s=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(r))-1;if(t&4)return Math.max(0,a.indexOf(r))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},f=0,d=a.length,h;do{if(f>=d||f+d<=0)return 0;let p=s+f;if(t&16)p=(p+d)%d;else{if(p<0)return 3;if(p>=d)return 1}h=a[p],h==null||h.focus(u),f+=i}while(h!==l.activeElement);return t&6&&Gi(h)&&h.select(),2}function il(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function zi(){return/Android/gi.test(window.navigator.userAgent)}function Ir(){return il()||zi()}function St(e,t,n,r){let o=me(n);C(()=>{if(!e)return;function l(a){o.current(a)}return document.addEventListener(t,l,r),()=>document.removeEventListener(t,l,r)},[e,t,r])}function sl(e,t,n,r){let o=me(n);C(()=>{if(!e)return;function l(a){o.current(a)}return window.addEventListener(t,l,r),()=>window.removeEventListener(t,l,r)},[e,t,r])}const Rr=30;function qi(e,t,n){let r=me(n),o=K(function(i,s){if(i.defaultPrevented)return;let u=s(i);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let f=function d(h){return typeof h=="function"?d(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let d of f)if(d!==null&&(d.contains(u)||i.composed&&i.composedPath().includes(d)))return;return!Bi(u,al.Loose)&&u.tabIndex!==-1&&i.preventDefault(),r.current(i,u)},[r,t]),l=k(null);St(e,"pointerdown",i=>{var s,u;Ir()||(l.current=((u=(s=i.composedPath)==null?void 0:s.call(i))==null?void 0:u[0])||i.target)},!0),St(e,"pointerup",i=>{if(Ir()||!l.current)return;let s=l.current;return l.current=null,o(i,()=>s)},!0);let a=k({x:0,y:0});St(e,"touchstart",i=>{a.current.x=i.touches[0].clientX,a.current.y=i.touches[0].clientY},!0),St(e,"touchend",i=>{let s={x:i.changedTouches[0].clientX,y:i.changedTouches[0].clientY};if(!(Math.abs(s.x-a.current.x)>=Rr||Math.abs(s.y-a.current.y)>=Rr))return o(i,()=>Se(i.target)?i.target:null)},!0),sl(e,"blur",i=>o(i,()=>ii(window.document.activeElement)?window.document.activeElement:null),!0)}function Wt(...e){return R(()=>et(...e),[...e])}function ul(e,t,n,r){let o=me(n);C(()=>{e=e??window;function l(a){o.current(a)}return e.addEventListener(t,l,r),()=>e.removeEventListener(t,l,r)},[e,t,r])}function Yi(e,t){return R(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function Xi(e){return It(e.subscribe,e.getSnapshot,e.getSnapshot)}function Ji(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(o){return r.add(o),()=>r.delete(o)},dispatch(o,...l){let a=t[o].call(n,...l);a&&(n=a,r.forEach(i=>i()))}}}function Zi(){let e;return{before({doc:t}){var n;let r=t.documentElement,o=(n=t.defaultView)!=null?n:window;e=Math.max(0,o.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,o=Math.max(0,r.clientWidth-r.offsetWidth),l=Math.max(0,e-o);n.style(r,"paddingRight",`${l}px`)}}}function Qi(){return il()?{before({doc:e,d:t,meta:n}){function r(o){return n.containers.flatMap(l=>l()).some(l=>l.contains(o))}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let i=$e();i.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>i.dispose()))}let l=(o=window.scrollY)!=null?o:window.pageYOffset,a=null;t.addEventListener(e,"click",i=>{if(Se(i.target))try{let s=i.target.closest("a");if(!s)return;let{hash:u}=new URL(s.href),f=e.querySelector(u);Se(f)&&!r(f)&&(a=f)}catch{}},!0),t.addEventListener(e,"touchstart",i=>{if(Se(i.target)&&ai(i.target))if(r(i.target)){let s=i.target;for(;s.parentElement&&r(s.parentElement);)s=s.parentElement;t.style(s,"overscrollBehavior","contain")}else t.style(i.target,"touchAction","none")}),t.addEventListener(e,"touchmove",i=>{if(Se(i.target)){if(Xo(i.target))return;if(r(i.target)){let s=i.target;for(;s.parentElement&&s.dataset.headlessuiPortal!==""&&!(s.scrollHeight>s.clientHeight||s.scrollWidth>s.clientWidth);)s=s.parentElement;s.dataset.headlessuiPortal===""&&i.preventDefault()}else i.preventDefault()}},{passive:!1}),t.add(()=>{var i;let s=(i=window.scrollY)!=null?i:window.pageYOffset;l!==s&&window.scrollTo(0,l),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function es(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function ts(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let De=Ji(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:$e(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:ts(n)},o=[Qi(),Zi(),es()];o.forEach(({before:l})=>l==null?void 0:l(r)),o.forEach(({after:l})=>l==null?void 0:l(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});De.subscribe(()=>{let e=De.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",o=n.count!==0;(o&&!r||!o&&r)&&De.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&De.dispatch("TEARDOWN",n)}});function ns(e,t,n=()=>({containers:[]})){let r=Xi(De),o=t?r.get(t):void 0,l=o?o.count>0:!1;return Y(()=>{if(!(!t||!e))return De.dispatch("PUSH",t,n),()=>De.dispatch("POP",t,n)},[e,t]),l}function rs(e,t,n=()=>[document.body]){let r=yt(e,"scroll-lock");ns(r,t,o=>{var l;return{containers:[...(l=o.containers)!=null?l:[],n]}})}function os(e=0){let[t,n]=E(e),r=K(s=>n(s),[t]),o=K(s=>n(u=>u|s),[t]),l=K(s=>(t&s)===s,[t]),a=K(s=>n(u=>u&~s),[n]),i=K(s=>n(u=>u^s),[n]);return{flags:t,setFlag:r,addFlag:o,hasFlag:l,removeFlag:a,toggleFlag:i}}var ls={},Mr,Hr;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Mr=process==null?void 0:ls)==null?void 0:Mr.NODE_ENV)==="test"&&typeof((Hr=Element==null?void 0:Element.prototype)==null?void 0:Hr.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var as=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(as||{});function is(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function ss(e,t,n,r){let[o,l]=E(n),{hasFlag:a,addFlag:i,removeFlag:s}=os(e&&o?3:0),u=k(!1),f=k(!1),d=Mt();return Y(()=>{var h;if(e){if(n&&l(!0),!t){n&&i(3);return}return(h=r==null?void 0:r.start)==null||h.call(r,n),us(t,{inFlight:u,prepare(){f.current?f.current=!1:f.current=u.current,u.current=!0,!f.current&&(n?(i(3),s(4)):(i(4),s(2)))},run(){f.current?n?(s(3),i(4)):(s(4),i(3)):n?s(1):i(1)},done(){var p;f.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(u.current=!1,s(7),n||l(!1),(p=r==null?void 0:r.end)==null||p.call(r,n))}})}},[e,n,t,d]),e?[o,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function us(e,{prepare:t,run:n,done:r,inFlight:o}){let l=$e();return ds(e,{prepare:t,inFlight:o}),l.nextFrame(()=>{n(),l.requestAnimationFrame(()=>{l.add(cs(e,r))})}),l.dispose}function cs(e,t){var n,r;let o=$e();if(!e)return o.dispose;let l=!1;o.add(()=>{l=!0});let a=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(i=>i instanceof CSSTransition))!=null?r:[];return a.length===0?(t(),o.dispose):(Promise.allSettled(a.map(i=>i.finished)).then(()=>{l||t()}),o.dispose)}function ds(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function Jn(e,t){let n=k([]),r=O(e);C(()=>{let o=[...n.current];for(let[l,a]of t.entries())if(n.current[l]!==a){let i=r(t,o);return n.current=t,i}},[r,...t])}let Bt=G(null);Bt.displayName="OpenClosedContext";var _e=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(_e||{});function Kt(){return W(Bt)}function fs({value:e,children:t}){return x.createElement(Bt.Provider,{value:e},t)}function ps({children:e}){return x.createElement(Bt.Provider,{value:null},e)}function hs(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let xe=[];hs(()=>{function e(t){if(!Se(t.target)||t.target===document.body||xe[0]===t.target)return;let n=t.target;n=n.closest(Ot),xe.unshift(n??t.target),xe=xe.filter(r=>r!=null&&r.isConnected),xe.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function cl(e){let t=O(e),n=k(!1);C(()=>(n.current=!1,()=>{n.current=!0,gt(()=>{n.current&&t()})}),[t])}function ms(){let e=typeof document>"u";return"useSyncExternalStore"in bn?(t=>t.useSyncExternalStore)(bn)(()=>()=>{},()=>!1,()=>!e):!1}function wt(){let e=ms(),[t,n]=E(Ie.isHandoffComplete);return t&&Ie.isHandoffComplete===!1&&n(!1),C(()=>{t!==!0&&n(!0)},[t]),C(()=>Ie.handoff(),[]),e?!1:t}let dl=G(!1);function _s(){return W(dl)}function Ur(e){return x.createElement(dl.Provider,{value:e.force},e.children)}function vs(e){let t=_s(),n=W(pl),[r,o]=E(()=>{var l;if(!t&&n!==null)return(l=n.current)!=null?l:null;if(Ie.isServer)return null;let a=e==null?void 0:e.getElementById("headlessui-portal-root");if(a)return a;if(e===null)return null;let i=e.createElement("div");return i.setAttribute("id","headlessui-portal-root"),e.body.appendChild(i)});return C(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),C(()=>{t||n!==null&&o(n.current)},[n,o,t]),r}let fl=A,bs=z(function(e,t){let{ownerDocument:n=null,...r}=e,o=k(null),l=te(ui(p=>{o.current=p}),t),a=Wt(o),i=n??a,s=vs(i),[u]=E(()=>{var p;return Ie.isServer?null:(p=i==null?void 0:i.createElement("div"))!=null?p:null}),f=W(kn),d=wt();Y(()=>{!s||!u||s.contains(u)||(u.setAttribute("data-headlessui-portal",""),s.appendChild(u))},[s,u]),Y(()=>{if(u&&f)return f.register(u)},[f,u]),cl(()=>{var p;!s||!u||(Yo(u)&&s.contains(u)&&s.removeChild(u),s.childNodes.length<=0&&((p=s.parentElement)==null||p.removeChild(s)))});let h=X();return d?!s||!u?null:Kn(h({ourProps:{ref:l},theirProps:r,slot:{},defaultTag:fl,name:"Portal"}),u):null});function gs(e,t){let n=te(t),{enabled:r=!0,ownerDocument:o,...l}=e,a=X();return r?x.createElement(bs,{...l,ownerDocument:o,ref:n}):a({ourProps:{ref:n},theirProps:l,slot:{},defaultTag:fl,name:"Portal"})}let ys=A,pl=G(null);function ws(e,t){let{target:n,...r}=e,o={ref:te(t)},l=X();return x.createElement(pl.Provider,{value:n},l({ourProps:o,theirProps:r,defaultTag:ys,name:"Popover.Group"}))}let kn=G(null);function $s(){let e=W(kn),t=k([]),n=O(l=>(t.current.push(l),e&&e.register(l),()=>r(l))),r=O(l=>{let a=t.current.indexOf(l);a!==-1&&t.current.splice(a,1),e&&e.unregister(l)}),o=R(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,R(()=>function({children:l}){return x.createElement(kn.Provider,{value:o},l)},[o])]}let xs=z(gs),hl=z(ws),Es=Object.assign(xs,{Group:hl});function Ss(e,t=typeof document<"u"?document.defaultView:null,n){let r=yt(e,"escape");ul(t,"keydown",o=>{r&&(o.defaultPrevented||o.key===de.Escape&&n(o))})}function ks(){var e;let[t]=E(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=E((e=t==null?void 0:t.matches)!=null?e:!1);return Y(()=>{if(!t)return;function o(l){r(l.matches)}return t.addEventListener("change",o),()=>t.removeEventListener("change",o)},[t]),n}function Ns({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=Wt(n),o=O(()=>{var l,a;let i=[];for(let s of e)s!==null&&(ge(s)?i.push(s):"current"in s&&ge(s.current)&&i.push(s.current));if(t!=null&&t.current)for(let s of t.current)i.push(s);for(let s of(l=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?l:[])s!==document.body&&s!==document.head&&ge(s)&&s.id!=="headlessui-portal-root"&&(n&&(s.contains(n)||s.contains((a=n==null?void 0:n.getRootNode())==null?void 0:a.host))||i.some(u=>s.contains(u))||i.push(s));return i});return{resolveContainers:o,contains:O(l=>o().some(a=>a.contains(l)))}}let ml=G(null);function jr({children:e,node:t}){let[n,r]=E(null),o=_l(t??n);return x.createElement(ml.Provider,{value:o},e,o===null&&x.createElement(mt,{features:ht.Hidden,ref:l=>{var a,i;if(l){for(let s of(i=(a=et(l))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?i:[])if(s!==document.body&&s!==document.head&&ge(s)&&s!=null&&s.contains(l)){r(s);break}}}}))}function _l(e=null){var t;return(t=W(ml))!=null?t:e}function Vt(){let e=k(!1);return Y(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var at=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(at||{});function Ps(){let e=k(0);return sl(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function vl(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)ge(n.current)&&t.add(n.current);return t}let Ts="div";var Ae=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Ae||{});function Cs(e,t){let n=k(null),r=te(n,t),{initialFocus:o,initialFocusFallback:l,containers:a,features:i=15,...s}=e;wt()||(i=0);let u=Wt(n);Ls(i,{ownerDocument:u});let f=Ds(i,{ownerDocument:u,container:n,initialFocus:o,initialFocusFallback:l});Is(i,{ownerDocument:u,container:n,containers:a,previousActiveElement:f});let d=Ps(),h=O(g=>{if(!ke(n.current))return;let w=n.current;(S=>S())(()=>{re(d.current,{[at.Forwards]:()=>{he(w,Z.First,{skipElements:[g.relatedTarget,l]})},[at.Backwards]:()=>{he(w,Z.Last,{skipElements:[g.relatedTarget,l]})}})})}),p=yt(!!(i&2),"focus-trap#tab-lock"),m=Mt(),y=k(!1),v={ref:r,onKeyDown(g){g.key=="Tab"&&(y.current=!0,m.requestAnimationFrame(()=>{y.current=!1}))},onBlur(g){if(!(i&4))return;let w=vl(a);ke(n.current)&&w.add(n.current);let S=g.relatedTarget;Se(S)&&S.dataset.headlessuiFocusGuard!=="true"&&(bl(w,S)||(y.current?he(n.current,re(d.current,{[at.Forwards]:()=>Z.Next,[at.Backwards]:()=>Z.Previous})|Z.WrapAround,{relativeTo:g.target}):Se(g.target)&&ye(g.target)))}},b=X();return x.createElement(x.Fragment,null,p&&x.createElement(mt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:ht.Focusable}),b({ourProps:v,theirProps:s,defaultTag:Ts,name:"FocusTrap"}),p&&x.createElement(mt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:ht.Focusable}))}let Fs=z(Cs),As=Object.assign(Fs,{features:Ae});function Os(e=!0){let t=k(xe.slice());return Jn(([n],[r])=>{r===!0&&n===!1&&gt(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=xe.slice())},[e,xe,t]),O(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function Ls(e,{ownerDocument:t}){let n=!!(e&8),r=Os(n);Jn(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&ye(r())},[n]),cl(()=>{n&&ye(r())})}function Ds(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:o}){let l=k(null),a=yt(!!(e&1),"focus-trap#initial-focus"),i=Vt();return Jn(()=>{if(e===0)return;if(!a){o!=null&&o.current&&ye(o.current);return}let s=n.current;s&&gt(()=>{if(!i.current)return;let u=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){l.current=u;return}}else if(s.contains(u)){l.current=u;return}if(r!=null&&r.current)ye(r.current);else{if(e&16){if(he(s,Z.First|Z.AutoFocus)!==Le.Error)return}else if(he(s,Z.First)!==Le.Error)return;if(o!=null&&o.current&&(ye(o.current),(t==null?void 0:t.activeElement)===o.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}l.current=t==null?void 0:t.activeElement})},[o,a,e]),l}function Is(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:o}){let l=Vt(),a=!!(e&4);ul(t==null?void 0:t.defaultView,"focus",i=>{if(!a||!l.current)return;let s=vl(r);ke(n.current)&&s.add(n.current);let u=o.current;if(!u)return;let f=i.target;ke(f)?bl(s,f)?(o.current=f,ye(f)):(i.preventDefault(),i.stopPropagation(),ye(u)):ye(o.current)},!0)}function bl(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function gl(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:wl)!==A||x.Children.count(e.children)===1}let Gt=G(null);Gt.displayName="TransitionContext";var Rs=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Rs||{});function Ms(){let e=W(Gt);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function Hs(){let e=W(zt);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let zt=G(null);zt.displayName="NestingContext";function qt(e){return"children"in e?qt(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function yl(e,t){let n=me(e),r=k([]),o=Vt(),l=Mt(),a=O((p,m=Ee.Hidden)=>{let y=r.current.findIndex(({el:v})=>v===p);y!==-1&&(re(m,{[Ee.Unmount](){r.current.splice(y,1)},[Ee.Hidden](){r.current[y].state="hidden"}}),l.microTask(()=>{var v;!qt(r)&&o.current&&((v=n.current)==null||v.call(n))}))}),i=O(p=>{let m=r.current.find(({el:y})=>y===p);return m?m.state!=="visible"&&(m.state="visible"):r.current.push({el:p,state:"visible"}),()=>a(p,Ee.Unmount)}),s=k([]),u=k(Promise.resolve()),f=k({enter:[],leave:[]}),d=O((p,m,y)=>{s.current.splice(0),t&&(t.chains.current[m]=t.chains.current[m].filter(([v])=>v!==p)),t==null||t.chains.current[m].push([p,new Promise(v=>{s.current.push(v)})]),t==null||t.chains.current[m].push([p,new Promise(v=>{Promise.all(f.current[m].map(([b,g])=>g)).then(()=>v())})]),m==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>y(m)):y(m)}),h=O((p,m,y)=>{Promise.all(f.current[m].splice(0).map(([v,b])=>b)).then(()=>{var v;(v=s.current.shift())==null||v()}).then(()=>y(m))});return R(()=>({children:r,register:i,unregister:a,onStart:d,onStop:h,wait:u,chains:f}),[i,a,r,d,h,f,u])}let wl=A,$l=Xe.RenderStrategy;function Us(e,t){var n,r;let{transition:o=!0,beforeEnter:l,afterEnter:a,beforeLeave:i,afterLeave:s,enter:u,enterFrom:f,enterTo:d,entered:h,leave:p,leaveFrom:m,leaveTo:y,...v}=e,[b,g]=E(null),w=k(null),S=gl(e),$=te(...S?[w,t,g]:t===null?[]:[t]),N=(n=v.unmount)==null||n?Ee.Unmount:Ee.Hidden,{show:L,appear:J,initial:q}=Ms(),[T,D]=E(L?"visible":"hidden"),H=Hs(),{register:U,unregister:_}=H;Y(()=>U(w),[U,w]),Y(()=>{if(N===Ee.Hidden&&w.current){if(L&&T!=="visible"){D("visible");return}return re(T,{hidden:()=>_(w),visible:()=>U(w)})}},[T,w,U,_,L,N]);let P=wt();Y(()=>{if(S&&P&&T==="visible"&&w.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[w,T,P,S]);let Q=q&&!J,oe=J&&L&&q,ie=k(!1),se=yl(()=>{ie.current||(D("hidden"),_(w))},H),M=O(Jt=>{ie.current=!0;let $t=Jt?"enter":"leave";se.onStart(w,$t,tt=>{tt==="enter"?l==null||l():tt==="leave"&&(i==null||i())})}),B=O(Jt=>{let $t=Jt?"enter":"leave";ie.current=!1,se.onStop(w,$t,tt=>{tt==="enter"?a==null||a():tt==="leave"&&(s==null||s())}),$t==="leave"&&!qt(se)&&(D("hidden"),_(w))});C(()=>{S&&o||(M(L),B(L))},[L,S,o]);let ue=!(!o||!S||!P||Q),[,I]=ss(ue,b,L,{start:M,end:B}),Pe=Ce({ref:$,className:((r=En(v.className,oe&&u,oe&&f,I.enter&&u,I.enter&&I.closed&&f,I.enter&&!I.closed&&d,I.leave&&p,I.leave&&!I.closed&&m,I.leave&&I.closed&&y,!I.transition&&L&&h))==null?void 0:r.trim())||void 0,...is(I)}),Te=0;T==="visible"&&(Te|=_e.Open),T==="hidden"&&(Te|=_e.Closed),L&&T==="hidden"&&(Te|=_e.Opening),!L&&T==="visible"&&(Te|=_e.Closing);let Rl=X();return x.createElement(zt.Provider,{value:se},x.createElement(fs,{value:Te},Rl({ourProps:Pe,theirProps:v,defaultTag:wl,features:$l,visible:T==="visible",name:"Transition.Child"})))}function js(e,t){let{show:n,appear:r=!1,unmount:o=!0,...l}=e,a=k(null),i=gl(e),s=te(...i?[a,t]:t===null?[]:[t]);wt();let u=Kt();if(n===void 0&&u!==null&&(n=(u&_e.Open)===_e.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[f,d]=E(n?"visible":"hidden"),h=yl(()=>{n||d("hidden")}),[p,m]=E(!0),y=k([n]);Y(()=>{p!==!1&&y.current[y.current.length-1]!==n&&(y.current.push(n),m(!1))},[y,n]);let v=R(()=>({show:n,appear:r,initial:p}),[n,r,p]);Y(()=>{n?d("visible"):!qt(h)&&a.current!==null&&d("hidden")},[n,h]);let b={unmount:o},g=O(()=>{var $;p&&m(!1),($=e.beforeEnter)==null||$.call(e)}),w=O(()=>{var $;p&&m(!1),($=e.beforeLeave)==null||$.call(e)}),S=X();return x.createElement(zt.Provider,{value:h},x.createElement(Gt.Provider,{value:v},S({ourProps:{...b,as:A,children:x.createElement(xl,{ref:s,...b,...l,beforeEnter:g,beforeLeave:w})},theirProps:{},defaultTag:A,features:$l,visible:f==="visible",name:"Transition"})))}function Ws(e,t){let n=W(Gt)!==null,r=Kt()!==null;return x.createElement(x.Fragment,null,!n&&r?x.createElement(Nn,{ref:t,...e}):x.createElement(xl,{ref:t,...e}))}let Nn=z(js),xl=z(Us),Zn=z(Ws),Bs=Object.assign(Nn,{Child:Zn,Root:Nn});var Ks=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ks||{}),Vs=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Vs||{});let Gs={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Qn=G(null);Qn.displayName="DialogContext";function Yt(e){let t=W(Qn);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Yt),n}return t}function zs(e,t){return re(t.type,Gs,e,t)}let Wr=z(function(e,t){let n=ae(),{id:r=`headlessui-dialog-${n}`,open:o,onClose:l,initialFocus:a,role:i="dialog",autoFocus:s=!0,__demoMode:u=!1,unmount:f=!1,...d}=e,h=k(!1);i=function(){return i==="dialog"||i==="alertdialog"?i:(h.current||(h.current=!0,console.warn(`Invalid role [${i}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=Kt();o===void 0&&p!==null&&(o=(p&_e.Open)===_e.Open);let m=k(null),y=te(m,t),v=Wt(m),b=o?0:1,[g,w]=Ze(zs,{titleId:null,descriptionId:null,panelRef:An()}),S=O(()=>l(!1)),$=O(I=>w({type:0,id:I})),N=wt()?b===0:!1,[L,J]=$s(),q={get current(){var I;return(I=g.panelRef.current)!=null?I:m.current}},T=_l(),{resolveContainers:D}=Ns({mainTreeNode:T,portals:L,defaultContainers:[q]}),H=p!==null?(p&_e.Closing)===_e.Closing:!1;Ri(u||H?!1:N,{allowed:O(()=>{var I,Pe;return[(Pe=(I=m.current)==null?void 0:I.closest("[data-headlessui-portal]"))!=null?Pe:null]}),disallowed:O(()=>{var I;return[(I=T==null?void 0:T.closest("body > *:not(#headlessui-portal-root)"))!=null?I:null]})});let U=ol.get(null);Y(()=>{if(N)return U.actions.push(r),()=>U.actions.pop(r)},[U,r,N]);let _=ll(U,K(I=>U.selectors.isTop(I,r),[U,r]));qi(_,D,I=>{I.preventDefault(),S()}),Ss(_,v==null?void 0:v.defaultView,I=>{I.preventDefault(),I.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),S()}),rs(u||H?!1:N,v,D),Mi(N,m,S);let[P,Q]=di(),oe=R(()=>[{dialogState:b,close:S,setTitleId:$,unmount:f},g],[b,g,S,$,f]),ie=R(()=>({open:b===0}),[b]),se={ref:y,id:r,role:i,tabIndex:-1,"aria-modal":u?void 0:b===0?!0:void 0,"aria-labelledby":g.titleId,"aria-describedby":P,unmount:f},M=!ks(),B=Ae.None;N&&!u&&(B|=Ae.RestoreFocus,B|=Ae.TabLock,s&&(B|=Ae.AutoFocus),M&&(B|=Ae.InitialFocus));let ue=X();return x.createElement(ps,null,x.createElement(Ur,{force:!0},x.createElement(Es,null,x.createElement(Qn.Provider,{value:oe},x.createElement(hl,{target:m},x.createElement(Ur,{force:!1},x.createElement(Q,{slot:ie},x.createElement(J,null,x.createElement(As,{initialFocus:a,initialFocusFallback:m,containers:D,features:B},x.createElement(wi,{value:S},ue({ourProps:se,theirProps:d,slot:ie,defaultTag:qs,features:Ys,visible:b===0,name:"Dialog"})))))))))))}),qs="div",Ys=Xe.RenderStrategy|Xe.Static;function Xs(e,t){let{transition:n=!1,open:r,...o}=e,l=Kt(),a=e.hasOwnProperty("open")||l!==null,i=e.hasOwnProperty("onClose");if(!a&&!i)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!i)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!l&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!o.static?x.createElement(jr,null,x.createElement(Bs,{show:r,transition:n,unmount:o.unmount},x.createElement(Wr,{ref:t,...o}))):x.createElement(jr,null,x.createElement(Wr,{ref:t,open:r,...o}))}let Js="div";function Zs(e,t){let n=ae(),{id:r=`headlessui-dialog-panel-${n}`,transition:o=!1,...l}=e,[{dialogState:a,unmount:i},s]=Yt("Dialog.Panel"),u=te(t,s.panelRef),f=R(()=>({open:a===0}),[a]),d=O(v=>{v.stopPropagation()}),h={ref:u,id:r,onClick:d},p=o?Zn:A,m=o?{unmount:i}:{},y=X();return x.createElement(p,{...m},y({ourProps:h,theirProps:l,slot:f,defaultTag:Js,name:"Dialog.Panel"}))}let Qs="div";function eu(e,t){let{transition:n=!1,...r}=e,[{dialogState:o,unmount:l}]=Yt("Dialog.Backdrop"),a=R(()=>({open:o===0}),[o]),i={ref:t,"aria-hidden":!0},s=n?Zn:A,u=n?{unmount:l}:{},f=X();return x.createElement(s,{...u},f({ourProps:i,theirProps:r,slot:a,defaultTag:Qs,name:"Dialog.Backdrop"}))}let tu="h2";function nu(e,t){let n=ae(),{id:r=`headlessui-dialog-title-${n}`,...o}=e,[{dialogState:l,setTitleId:a}]=Yt("Dialog.Title"),i=te(t);C(()=>(a(r),()=>a(null)),[r,a]);let s=R(()=>({open:l===0}),[l]),u={ref:i,id:r};return X()({ourProps:u,theirProps:o,slot:s,defaultTag:tu,name:"Dialog.Title"})}let ru=z(Xs),ou=z(Zs),lu=z(eu),au=z(nu),iu=Object.assign(ru,{Panel:ou,Title:au,Description:mi}),su="input";function uu(e,t){let n=ae(),r=qo(),o=Ht(),{id:l=r||`headlessui-input-${n}`,disabled:a=o||!1,autoFocus:i=!1,invalid:s=!1,...u}=e,f=_i(),d=ci(),{isFocused:h,focusProps:p}=Rt({autoFocus:i}),{isHovered:m,hoverProps:y}=Yn({isDisabled:a}),v=Ut({ref:t,id:l,"aria-labelledby":f,"aria-describedby":d,"aria-invalid":s?"true":void 0,disabled:a||void 0,autoFocus:i},p,y),b=R(()=>({disabled:a,invalid:s,hover:m,focus:h,autofocus:i}),[a,s,m,h,i]);return X()({ourProps:v,theirProps:u,slot:b,defaultTag:su,name:"Input"})}let cu=z(uu);function du({onFocus:e}){let[t,n]=E(!0),r=Vt();return t?x.createElement(mt,{as:"button",type:"button",features:ht.Focusable,onFocus:o=>{o.preventDefault();let l,a=50;function i(){if(a--<=0){l&&cancelAnimationFrame(l);return}if(e()){if(cancelAnimationFrame(l),!r.current)return;n(!1);return}l=requestAnimationFrame(i)}l=requestAnimationFrame(i)}}):null}const El=G(null);function fu(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let o=(n=r.get(t))!=null?n:0;r.set(t,o+1);let l=Array.from(r.keys()).indexOf(t);function a(){let i=r.get(t);i>1?r.set(t,i-1):r.delete(t)}return[l,a]}}}function pu({children:e}){let t=k(fu());return ee(El.Provider,{value:t},e)}function Sl(e){let t=W(El);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=ae(),[r,o]=t.current.get(e,n);return C(()=>o,[]),r}var hu=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(hu||{}),mu=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(mu||{}),_u=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(_u||{});let vu={0(e,t){var n;let r=Ke(e.tabs,f=>f.current),o=Ke(e.panels,f=>f.current),l=r.filter(f=>{var d;return!((d=f.current)!=null&&d.hasAttribute("disabled"))}),a={...e,tabs:r,panels:o};if(t.index<0||t.index>r.length-1){let f=re(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>re(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(l.length===0)return a;let d=re(f,{0:()=>r.indexOf(l[0]),1:()=>r.indexOf(l[l.length-1])});return{...a,selectedIndex:d===-1?e.selectedIndex:d}}let i=r.slice(0,t.index),s=[...r.slice(t.index),...i].find(f=>l.includes(f));if(!s)return a;let u=(n=r.indexOf(s))!=null?n:e.selectedIndex;return u===-1&&(u=e.selectedIndex),{...a,selectedIndex:u}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=Ke([...e.tabs,t.tab],l=>l.current),o=e.selectedIndex;return e.info.current.isControlled||(o=r.indexOf(n),o===-1&&(o=e.selectedIndex)),{...e,tabs:r,selectedIndex:o}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:Ke([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},er=G(null);er.displayName="TabsDataContext";function Je(e){let t=W(er);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Je),n}return t}let tr=G(null);tr.displayName="TabsActionsContext";function nr(e){let t=W(tr);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,nr),n}return t}function bu(e,t){return re(t.type,vu,e,t)}let gu="div";function yu(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:o=!1,onChange:l,selectedIndex:a=null,...i}=e;const s=r?"vertical":"horizontal",u=o?"manual":"auto";let f=a!==null,d=me({isControlled:f}),h=te(t),[p,m]=Ze(bu,{info:d,selectedIndex:a??n,tabs:[],panels:[]}),y=R(()=>({selectedIndex:p.selectedIndex}),[p.selectedIndex]),v=me(l||(()=>{})),b=me(p.tabs),g=R(()=>({orientation:s,activation:u,...p}),[s,u,p]),w=O(T=>(m({type:1,tab:T}),()=>m({type:2,tab:T}))),S=O(T=>(m({type:3,panel:T}),()=>m({type:4,panel:T}))),$=O(T=>{N.current!==T&&v.current(T),f||m({type:0,index:T})}),N=me(f?e.selectedIndex:p.selectedIndex),L=R(()=>({registerTab:w,registerPanel:S,change:$}),[]);Y(()=>{m({type:0,index:a??n})},[a]),Y(()=>{if(N.current===void 0||p.tabs.length<=0)return;let T=Ke(p.tabs,D=>D.current);T.some((D,H)=>p.tabs[H]!==D)&&$(T.indexOf(p.tabs[N.current]))});let J={ref:h},q=X();return x.createElement(pu,null,x.createElement(tr.Provider,{value:L},x.createElement(er.Provider,{value:g},g.tabs.length<=0&&x.createElement(du,{onFocus:()=>{var T,D;for(let H of b.current)if(((T=H.current)==null?void 0:T.tabIndex)===0)return(D=H.current)==null||D.focus(),!0;return!1}}),q({ourProps:J,theirProps:i,slot:y,defaultTag:gu,name:"Tabs"}))))}let wu="div";function $u(e,t){let{orientation:n,selectedIndex:r}=Je("Tab.List"),o=te(t),l=R(()=>({selectedIndex:r}),[r]),a=e,i={ref:o,role:"tablist","aria-orientation":n};return X()({ourProps:i,theirProps:a,slot:l,defaultTag:wu,name:"Tabs.List"})}let xu="button";function Eu(e,t){var n,r;let o=ae(),{id:l=`headlessui-tabs-tab-${o}`,disabled:a=!1,autoFocus:i=!1,...s}=e,{orientation:u,activation:f,selectedIndex:d,tabs:h,panels:p}=Je("Tab"),m=nr("Tab"),y=Je("Tab"),[v,b]=E(null),g=k(null),w=te(g,t,b);Y(()=>m.registerTab(g),[m,g]);let S=Sl("tabs"),$=h.indexOf(g);$===-1&&($=S);let N=$===d,L=O(M=>{var B;let ue=M();if(ue===Le.Success&&f==="auto"){let I=(B=et(g))==null?void 0:B.activeElement,Pe=y.tabs.findIndex(Te=>Te.current===I);Pe!==-1&&m.change(Pe)}return ue}),J=O(M=>{let B=h.map(ue=>ue.current).filter(Boolean);if(M.key===de.Space||M.key===de.Enter){M.preventDefault(),M.stopPropagation(),m.change($);return}switch(M.key){case de.Home:case de.PageUp:return M.preventDefault(),M.stopPropagation(),L(()=>he(B,Z.First));case de.End:case de.PageDown:return M.preventDefault(),M.stopPropagation(),L(()=>he(B,Z.Last))}if(L(()=>re(u,{vertical(){return M.key===de.ArrowUp?he(B,Z.Previous|Z.WrapAround):M.key===de.ArrowDown?he(B,Z.Next|Z.WrapAround):Le.Error},horizontal(){return M.key===de.ArrowLeft?he(B,Z.Previous|Z.WrapAround):M.key===de.ArrowRight?he(B,Z.Next|Z.WrapAround):Le.Error}}))===Le.Success)return M.preventDefault()}),q=k(!1),T=O(()=>{var M;q.current||(q.current=!0,(M=g.current)==null||M.focus({preventScroll:!0}),m.change($),gt(()=>{q.current=!1}))}),D=O(M=>{M.preventDefault()}),{isFocusVisible:H,focusProps:U}=Rt({autoFocus:i}),{isHovered:_,hoverProps:P}=Yn({isDisabled:a}),{pressed:Q,pressProps:oe}=Go({disabled:a}),ie=R(()=>({selected:N,hover:_,active:Q,focus:H,autofocus:i,disabled:a}),[N,_,H,Q,i,a]),se=Ut({ref:w,onKeyDown:J,onMouseDown:D,onClick:T,id:l,role:"tab",type:Yi(e,v),"aria-controls":(r=(n=p[$])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":N,tabIndex:N?0:-1,disabled:a||void 0,autoFocus:i},U,P,oe);return X()({ourProps:se,theirProps:s,slot:ie,defaultTag:xu,name:"Tabs.Tab"})}let Su="div";function ku(e,t){let{selectedIndex:n}=Je("Tab.Panels"),r=te(t),o=R(()=>({selectedIndex:n}),[n]),l=e,a={ref:r};return X()({ourProps:a,theirProps:l,slot:o,defaultTag:Su,name:"Tabs.Panels"})}let Nu="div",Pu=Xe.RenderStrategy|Xe.Static;function Tu(e,t){var n,r,o,l;let a=ae(),{id:i=`headlessui-tabs-panel-${a}`,tabIndex:s=0,...u}=e,{selectedIndex:f,tabs:d,panels:h}=Je("Tab.Panel"),p=nr("Tab.Panel"),m=k(null),y=te(m,t);Y(()=>p.registerPanel(m),[p,m]);let v=Sl("panels"),b=h.indexOf(m);b===-1&&(b=v);let g=b===f,{isFocusVisible:w,focusProps:S}=Rt(),$=R(()=>({selected:g,focus:w}),[g,w]),N=Ut({ref:y,id:i,role:"tabpanel","aria-labelledby":(r=(n=d[b])==null?void 0:n.current)==null?void 0:r.id,tabIndex:g?s:-1},S),L=X();return!g&&((o=u.unmount)==null||o)&&!((l=u.static)!=null&&l)?x.createElement(mt,{"aria-hidden":"true",...N}):L({ourProps:N,theirProps:u,slot:$,defaultTag:Nu,features:Pu,visible:g,name:"Tabs.Panel"})}let Cu=z(Eu),kl=z(yu),Nl=z($u),Pl=z(ku),Pt=z(Tu),un=Object.assign(Cu,{Group:kl,List:Nl,Panels:Pl,Panel:Pt});const it=({maxValue:e,handleNumpadValue:t})=>{const[n,r]=E(""),[o,l]=E(""),a=p=>f?p>e:!n&&p===0||parseInt(n+p)>e,i=(p,m)=>{p<=m&&t(p,!0)},s=p=>{const m=parseInt(n);if(m>p){l(`Must be between 1 and ${p}`);return}i(m,p),r(""),l("")},u=(p,m)=>{p==="backspace"?r(y=>y.slice(0,-1)):p==="confirm"?s(m):(r(y=>y+p),t(Number(n+p),!1))},f=e<10,d=[];for(let p=1;p<=9;p++){const m=a(p);d.push(c("button",{onClick:()=>f?i(p,e):u(p.toString(),e),disabled:m,className:`px-2 py-4 text-xl font-semibold rounded-lg border border-gray-300 dark:border-gray-600 
            ${m?"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed":"bg-base-100 hover:bg-base-200 active:bg-base-300"} transition-colors`,children:p},p))}const h=a(0);return c(A,{children:c("div",{className:"grid grid-cols-3 gap-3 max-w-xs mx-auto",children:[!f&&c(A,{children:[c("div",{className:"text-right col-span-3 px-4 py-2 bg-base-100 border border-gray-300 dark:border-gray-600 rounded-lg font-mono text-lg min-w-[100px]",children:n||"_"})," "]}),d,f?c("button",{disabled:!0,className:"col-span-3 px-2 py-4 text-lg font-semibold rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed",children:"0"}):c(A,{children:[c("button",{onClick:()=>u("backspace",e),className:"px-2 py-4 text-lg font-semibold rounded-lg border border-gray-300 dark:border-gray-600 bg-base-100 hover:bg-base-200 active:bg-base-300 transition-colors flex items-center justify-center",children:c(ia,{size:24})}),c("button",{disabled:h,onClick:()=>u("0",e),className:`px-2 py-4 text-xl font-semibold rounded-lg border border-gray-300 dark:border-gray-600 
            ${h?"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed":"bg-base-100 hover:bg-base-200 active:bg-base-300"} transition-colors`,children:"0"}),c("button",{onClick:()=>u("confirm",e),className:"px-2 py-4 text-lg font-semibold rounded-lg border border-gray-300 dark:border-gray-600 bg-base-100 hover:bg-base-200 active:bg-base-300 transition-colors flex items-center justify-center",children:c(aa,{size:24})})]})]})})};function Tl({storageConfig:e,onCancel:t,onSelect:n,onClear:r,initialLocation:o,closeOnPressOutside:l=!0}){if(!e)return c(A,{});const a=k(null);C(()=>{if(!l||!t)return;function _(P){a.current&&!a.current.contains(P.target)&&t()}return document.addEventListener("mousedown",_),()=>document.removeEventListener("click",_)},[t]);const[i,s]=E((o==null?void 0:o.rack)||null),[u,f]=E((o==null?void 0:o.bay)||null),[d,h]=E((o==null?void 0:o.shelf)||null),[p,m]=E((o==null?void 0:o.position)||null),[y,v]=E((o==null?void 0:o.container)||null),[b,g]=E(null);C(()=>{s(o==null?void 0:o.rack),f(o==null?void 0:o.bay),h(o==null?void 0:o.shelf),m(o==null?void 0:o.position),v(o==null?void 0:o.container),o&&(o.container?g("6complete"):o.position?g("5container"):o.shelf?g("4position"):o.bay?g("3shelf"):o.rack?g("2bay"):g("1rack"))},[o]);const w=e?Object.entries(e.rack_config).map(([_,P])=>({rackId:Number(_),name:P.name})):[];C(()=>{o&&(s(o.rack),f(o.bay),h(o.shelf),m(o.position),v(o.container||null))},[o]);const S=(_,P)=>_.num_shelves,$=(_,P,Q)=>_.num_positions,N=(_,P,Q,oe)=>_.num_containers;C(()=>{if(!i||!e)return;const _=e.rack_config[i].num_bays;b=="2bay"&&_<=1&&J(_,!0)},[b]),C(()=>{if(!i)return;const _=S(e.rack_config[i]);b=="3shelf"&&_<=1&&q(_,!0)},[b]),C(()=>{if(!i)return;const _=$(e.rack_config[i]);b=="4position"&&_<=1&&T(_,!0)},[b]),C(()=>{if(!i)return;const _=N(e.rack_config[i]);b=="5container"&&_<=1&&D(_,!0)},[b]);const L=(_,P)=>{s(_),h(null),m(null),v(null),g("2bay")},J=(_,P)=>{f(_),h(null),m(null),v(null),P&&g("3shelf")},q=(_,P)=>{h(_),m(null),v(null),P&&g("4position")},T=(_,P)=>{m(_),v(null),P&&g("5container")},D=(_,P)=>{v(_),P&&g("6complete")},H=_=>{switch(_){case"1rack":s(null),f(null),h(null),m(null),v(null),g("1rack");break;case"2bay":f(null),h(null),m(null),v(null),g("2bay");break;case"3shelf":h(null),m(null),v(null),g("3shelf");break;case"4position":m(null),v(null),g("4position");break;case"5container":v(null),g("5container");break}},U=(_,P)=>{b==="2bay"&&i?J(_,P):b==="3shelf"&&i?q(_,P):b==="4position"&&i?T(_,P):b==="5container"&&i&&D(_,P)};return w.length===0?c("div",{className:"text-center py-12 text-base-content/60",children:[c("p",{className:"text-lg font-medium mb-2",children:"No storage configured"}),c("p",{className:"text-sm",children:"Please configure storage racks first"})]}):c("div",{ref:a,className:"space-y-2",children:[c("div",{children:i?c("div",{className:"flex items-center gap-2 mb-2",children:[c("span",{className:"text-sm font-medium text-base-content/70",children:"Rack:"}),c("span",{className:"font-medium",children:e.rack_config[i].name}),c("button",{onClick:()=>H("1rack"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:c(nt,{size:16})})]}):c(A,{children:[c("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:"Select Rack:"}),c("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:w.map(_=>c("button",{onClick:()=>L(_.rackId),className:"px-4 py-3 bg-base-100 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-base-200 hover:border-gray-400 dark:hover:border-gray-500 transition-colors text-left font-medium",children:_.name},_.rackId))})]})}),i&&b>="2bay"&&c("div",{children:u&&b>"2bay"?c("div",{className:"flex items-center gap-2 mb-2",children:[c("span",{className:"text-sm font-medium text-base-content/70",children:"Bay:"}),c("span",{className:"font-medium",children:u}),c("button",{onClick:()=>H("2bay"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:c(nt,{size:16})})]}):b==="2bay"&&c(A,{children:[c("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:["Which bay? (1-",e.rack_config[i].num_bays,")"]}),c(it,{maxValue:e.rack_config[i].num_bays,handleNumpadValue:U})]})}),i&&b>="3shelf"&&c("div",{children:d&&b>"3shelf"?c("div",{className:"flex items-center gap-2 mb-2",children:[c("span",{className:"text-sm font-medium text-base-content/70",children:"Shelf:"}),c("span",{className:"font-medium",children:d}),c("button",{onClick:()=>H("3shelf"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:c(nt,{size:16})})]}):b==="3shelf"&&c(A,{children:[c("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:["Which shelf? (1-",e.rack_config[i].num_shelves,")"]}),c(it,{maxValue:S(e.rack_config[i]),handleNumpadValue:U})]})}),i&&b>="4position"&&c("div",{children:p&&b>"4position"?c("div",{className:"flex items-center gap-2 mb-2",children:[c("span",{className:"text-sm font-medium text-base-content/70",children:"Position:"}),c("span",{className:"font-medium",children:p}),c("button",{onClick:()=>H("4position"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:c(nt,{size:16})})]}):b==="4position"&&c(A,{children:[c("div",{className:"text-sm font-medium text-base-content/70 mb-2 flex items-center gap-2",children:["Which position? (1-",$(e.rack_config[i]),")",(()=>{const _=e.rack_config[i].num_positions,P=$(e.rack_config[i]);return _!==P?c("span",{className:"text-xs text-primary flex items-center gap-1",children:[c(sa,{size:14}),"This shelf has ",P," positions"]}):null})()]}),c(it,{maxValue:$(e.rack_config[i]),handleNumpadValue:U})]})}),i&&b>="5container"&&c("div",{children:y&&b>"5container"?c("div",{className:"flex items-center gap-2 mb-2",children:[c("span",{className:"text-sm font-medium text-base-content/70",children:"Container:"}),c("span",{className:"font-medium",children:y}),c("button",{onClick:()=>H("5container"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:c(nt,{size:16})})]}):b==="5container"&&c(A,{children:[c("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:["Which container? (1-",N(e.rack_config[i]),")"]}),c(it,{maxValue:N(e.rack_config[i]),handleNumpadValue:U})]})}),i&&c("div",{className:"bg-primary/10 border border-primary rounded-lg p-4",children:c("div",{className:"flex items-start gap-2",children:[c("span",{className:`${b!="6complete"&&"invisible"} text-primary font-bold text-4xl`,children:""}),c("div",{children:[c("p",{className:"font-medium text-base-content",children:"Selected Location:"}),c("p",{className:"text-sm text-base-content/80",children:[e.rack_config[i].name,!!u&&` / Bay ${u}`,!!d&&` / Shelf ${d}`,!!p&&` / Position ${p}`,!!y&&` / Container ${y}`]})]})]})}),c("div",{className:"dialog-actions",children:[r&&c(rn,{className:"btn btn-outline w-20",onClick:()=>r&&r(),children:"Clear"}),c(rn,{className:"btn btn-outline w-20",onClick:()=>t&&t(),children:"Cancel"}),c(rn,{className:"btn btn-primary w-20",onClick:()=>n&&n({rack:i,bay:u,shelf:d,position:p,container:y}),disabled:i==null,children:"Ok"})]})]})}const Cl=G({urlParams:{}});function Fu({children:e}){const[t,n]=E({});return C(()=>{n(co())},[]),c(Cl.Provider,{value:{urlParams:t},children:e})}const Fl=()=>W(Cl),Lt=({location:e,storageConfig:t})=>c("div",{className:"space-y-2 mb-0 flex-1",children:e?c(A,{children:[c("div",{className:"badge badge-lg badge-info w-full",children:`Rack: ${(t==null?void 0:t.rack_config[e==null?void 0:e.rack].name)??""}`}),c("div",{className:"flex flex-row space-x-2",children:[!!(e!=null&&e.bay)&&c(A,{children:c("div",{className:"flex flex-col flex-1",children:[c("div",{className:"w-full px-0 badge badge-lg badge-outline badge-info flex-1 border-l-8 border-r-8 rounded-none",children:"Bay"}),c("div",{className:"w-full px-0 badge badge-lg badge-outline badge-info flex-1 border-l-8 border-r-8 rounded-none",children:`${e==null?void 0:e.bay}`})]})}),!!(e!=null&&e.shelf)&&c(A,{children:c("div",{className:"flex flex-col flex-1",children:[c("div",{className:"w-full px-0 badge badge-lg badge-outline badge-info flex-1 border-t-6 border-b-3 rounded-none",children:"Shelf"}),c("div",{className:"w-full px-0 badge badge-lg badge-outline badge-info flex-1 border-t-3 border-b-6 rounded-none",children:`${e==null?void 0:e.shelf}`})]})}),!!(e!=null&&e.position)&&c(A,{children:c("div",{className:"flex flex-col flex-1",children:[c("div",{className:"w-full px-0 badge badge-lg badge-outline badge-info flex-1 rounded-none",children:"Position"}),c("div",{className:"w-full px-0 badge badge-lg badge-outline badge-info flex-1 rounded-none",children:[c("div",{}),c("div",{className:"px-2 border h-full flex items-center border-b-0 border-t-0",children:`${e==null?void 0:e.position}`}),c("div",{})]})]})}),!!(e!=null&&e.container)&&c(A,{children:c("div",{className:"flex flex-col flex-1",children:[c("div",{className:"w-full px-0 badge badge-lg badge-dash badge-info flex-1 rounded-none",children:"Container"}),c("div",{className:"w-full px-0 badge badge-lg badge-dash badge-info flex-1 rounded-t-none rounded-b-3xl",children:`${e==null?void 0:e.container}`})]})})]})]}):c("div",{className:"badge badge-info badge-lg badge-outline w-full",children:"Location not Set"})}),Au={securityKey:"",setSecurityKey:()=>{},securityOk:!1,setSecurityOk:()=>{}},Xt=G(Au),Ou=({children:e})=>{const t=new URLSearchParams(window.location.hash.slice(1)).get("sk")||""||new URLSearchParams(window.location.hash.slice(1)).get("_sk")||"",[n,r]=E(t),[o,l]=E(!1);return window.securityKey=n,C(()=>{Lu(l)},[]),c(Xt.Provider,{value:{securityKey:n,setSecurityKey:r,securityOk:o,setSecurityOk:l},children:e})};let Pn=null;function Lu(e){Pn=e}function Du(e){Pn&&Pn(e)}function Iu(e){const{securityOk:t}=W(Xt),[n,r]=E([]),[o,l]=E(new Map),a=async()=>{let f,d=Ye("/api/spools");if(f=await(await encryptedFetch(d)).text(),f!="")return f},i=async()=>{let f,d=Ye("/api/spools-in-printers");if(f=await(await encryptedFetch(d)).text(),f!="")return f},s=(f,d)=>{let h=null,p=null;if(d){const v=JSON.parse(d);p=new Map(Object.entries(v.spools)),h=p}else h=o;const y=f.trim().split(`
`).map(v=>po(v,h,e));return r(y),p&&l(p),y},u=async()=>{let f;try{f=await a()}catch(h){return console.error("Failed to fetch spools data:",h),null}let d=null;try{d=await i()}catch(h){console.error("Failed to fetch spools in printers:",h)}return s(f,d)};return C(()=>{u()},[e,t]),[n,u,s]}const rt=({spool:e,onClick:t})=>c("button",{onClick:t,className:"flex flex-col text-lg w-full items-start p-2 rounded-lg",style:e!=null&&e.color_code?{backgroundColor:`#${e.color_code.slice(0,6)}`,color:`${Zl(e.color_code.slice(0,6))}`}:void 0,children:c("div",{className:"flex flex-wrap gap-1 text-left leading-tight",children:[c("span",{className:"mr-0",children:[e.id,"."]}),c("span",{className:"flex-1",children:[e.brand," ",e.material_type," ",e.material_subtype," ",e.color_name]})]})}),Br=({spool:e,storageConfig:t,selectedLocation:n,handleSetSpoolLocation:r})=>{const o=ut(n);return c("div",{className:"flex flex-col space-y-4",children:[c("div",{className:"flex flex-row space-x-2",children:[c("button",{disabled:e.assigned_location==o,className:"btn btn-primary flex-grow",onClick:()=>r(e.id,ne.Assigned,n),children:"Assign to Selected"}),c("button",{disabled:e.actual_location==o,className:"btn btn-primary flex-grow",onClick:()=>r(e.id,ne.Actual,n),children:"Place in Selected"})]}),c("div",{className:"border p-2 rounded-lg space-y-2",children:[c("p",{className:"text-lg text-center",children:"Actual Location"}),c(Lt,{location:mn(e.actual_location),storageConfig:t}),c("div",{className:"flex flex-row space-x-2 pt-4",children:c("button",{disabled:!(e!=null&&e.actual_location),className:"btn btn-outline flex-grow",onClick:()=>r(e.id,ne.Actual,null),children:"Pick"})})]}),c("div",{className:"border p-2 rounded-lg space-y-2",children:[c("p",{className:"text-lg text-center",children:"Assigned Location"}),c(Lt,{location:mn(e.assigned_location),storageConfig:t}),c("div",{className:"flex flex-row space-x-2 pt-4",children:c("button",{disabled:!(e!=null&&e.assigned_location),className:"btn btn-outline flex-grow",onClick:()=>r(e.id,ne.Assigned,null),children:"Unassign"})})]})]})};function Ru({serverTagLocation:e}){const{urlParams:t}=Fl(),[n,r]=E(e),[o,l]=E(ut(e)),a=_=>{r(_),l(ut(_))},[i,s]=E(null),[u,f]=E(null),[d,h]=E(null),[p,m]=E(!1),y=k(null),{storageConfig:v}=Mn(),[b,g]=E([]),[w,S]=Iu(b),[$,N]=E(null),[L,J]=E([]);C(()=>{(async()=>await T())()},[]),C(()=>{a(e)},[e]);const q=async()=>{try{return(await Ct("/api/spool-staging","GET")).csv_record||null}catch{return null}},T=async()=>{const _=await q(),P=!!_&&po(_,null,null);s(P)},D=(_,P)=>{if(P){const Q=w.find(oe=>oe.id===_.toString());Q?(f(Q),h(null)):h(`Spool ID ${_} Not Found`)}},H=()=>{f(null),h(null)},U=async(_,P,Q)=>{const oe={location:ut(Q),location_type:P,spool_id:_};try{const ie=await Ct("/api/spool-location","POST",oe);ie.error&&console.log(`Error setting spool location : ${ie.error}`);const se=w.find(B=>B.id===_);Q==null&&(P==ne.Actual&&se.assigned_location!=o||P==ne.Assigned&&se.actual_location!=o)&&J(B=>[...B,se]);const M=await S();if(u){const B=M.find(ue=>ue.id===u.id);f(B)}if(i){const B=M.find(ue=>ue.id===i.id);s(B)}}catch{}};return C(()=>{J(_=>_.filter(P=>{const Q=w.find(oe=>oe.id===P.id);return Q.actual_location!==o&&Q.assigned_location!==o}))},[w]),c("div",{className:"hero bg-base-300",children:c("div",{className:"hero-content flex-col",children:[c("div",{className:"text-center",children:c("h1",{className:"text-3xl font-bold",children:["Location Tag Scanned",c("a",{className:"btn btn-outline btn-primary font-mono text-3xl",href:"/L1/edit/#"+new URLSearchParams(t).toString(),children:[t.TG,c(_n,{size:30})]})]})}),c("div",{className:"card bg-base-100 w-full shadow-sm rounded-lg overflow-hidden",children:[c("div",{class:"bg-primary text-primary-content text-center p-2",children:c("h2",{className:"card-title flex",children:["Selected Location",c("span",{className:"text-warning",children:n!=e&&" (Edited)"}),c("button",{className:"btn btn-outline ml-auto",onClick:()=>a(e),children:"Refresh"})]})}),c("div",{className:"card-body p-4",children:[c("div",{className:"flex flex-row space-x-2",children:[c(Lt,{location:n,storageConfig:v}),c("button",{className:"btn px-0 btn-soft btn-primary h-auto rounded-lg",onClick:()=>m(_=>!_),onMouseDown:_=>{_.stopPropagation()},children:c(_n,{size:60})})]}),p&&c("div",{ref:y,id:"location-picker-popup",className:"bg-base-200 border border-base-300 rounded-md p-2 mt-2",children:c(Tl,{initialLocation:n,storageConfig:v,onCancel:()=>m(!1),onSelect:_=>{a(_),m(!1)},onClear:()=>{a(null)}})})]})]}),c(kl,{className:"w-full",children:[c(Nl,{className:"tabs tabs-lift",children:[c(un,{className:"tab data-[selected]:!bg-primary data-[selected]:!text-primary-content",children:"Location Spools"}),c(un,{className:"tab data-[selected]:!bg-primary data-[selected]:!text-primary-content",children:"Staging Spool"}),c(un,{className:"tab data-[selected]:!bg-primary data-[selected]:!text-primary-content",children:"Spool ID"})]}),c(Pl,{children:[c(Pt,{className:"min-h-[454px] p-6 bg-base-100 space-y-4 rounded-lg rounded-tl-none",children:[L.length!=0&&c("div",{className:"flex items-center mb-4 mt-0",children:[c("hr",{className:"flex-grow border-t border-gray-300"}),c("span",{className:"mx-2 text-gray-500",children:"Recently Unassigned or Picked"}),c("hr",{className:"flex-grow border-t border-gray-300"})]}),L.map(_=>c("div",{className:"space-y-2 border-gray-500 border-1 p-2 rounded-lg",children:[c(rt,{onClick:()=>{$!=`recent-${_.id}`?N(`recent-${_.id}`):N(null)},spool:_}),$===`recent-${_.id}`&&c("div",{className:"flex flex-row space-x-3",children:[c("button",{onClick:()=>{U(_.id,ne.Assigned,n)},className:"btn btn-primary flex-1",children:"Assign"}),c("button",{onClick:()=>{U(_.id,ne.Actual,n)},className:"btn btn-primary flex-1",children:"Place"})]})]})),c("div",{className:"flex items-center mb-4 mt-0",children:[c("hr",{className:"flex-grow border-t border-gray-300"}),c("span",{className:"mx-2 text-gray-500",children:"Spools Currently in Location"}),c("hr",{className:"flex-grow border-t border-gray-300"})]}),w.filter(_=>_.actual_location===o).map(_=>c("div",{className:"space-y-2 border-gray-500 border-1 p-2 rounded-lg",children:[c(rt,{onClick:()=>{$!=`actual-${_.id}`?N(`actual-${_.id}`):N(null)},spool:_}),$===`actual-${_.id}`&&c("div",{className:"flex flex-row space-x-3",children:[c("button",{onClick:()=>{_.assigned_location==o?U(_.id,ne.Assigned,null):U(_.id,ne.Assigned,n)},className:"btn flex-1"+(_.assigned_location==o?" btn-outline":" btn-primary"),children:_.assigned_location==o?"Unassign from Location":"Assign to Location"}),c("button",{onClick:()=>{U(_.id,ne.Actual,null)},className:"btn btn-outline flex-1",children:"Pick"})]})]})),c("div",{className:"flex items-center my-4",children:[c("hr",{className:"flex-grow border-t border-gray-300"}),c("span",{className:"mx-2 text-gray-500",children:"Assigned to Location, but Not in Place"}),c("hr",{className:"flex-grow border-t border-gray-300"})]}),w.filter(_=>_.assigned_location===o&&_.actual_location!==o).map(_=>c("div",{className:"space-y-2 border-gray-500 border-1 p-2 rounded-lg",children:[c(rt,{onClick:()=>{$!=`assigned-${_.id}`?N(`assigned-${_.id}`):N(null)},spool:_}),$===`assigned-${_.id}`&&c("div",{className:"flex flex-row space-x-3",children:[c("button",{onClick:()=>{U(_.id,ne.Assigned,null)},className:"btn btn-outline flex-1",children:"Unassign from Location"}),c("button",{onClick:()=>{U(_.id,ne.Actual,n)},className:"btn btn-primary flex-1",children:"Place"})]})]}))]}),c(Pt,{className:"min-h-[454px] p-6 bg-base-100 border-base-300 rounded-lg",children:c("div",{className:"card bg-base-100 w-full shadow-sm space-y-4",children:[c("div",{className:"flex flex-col space-y-3",children:c("div",{className:"flex flex-row space-x-3",children:[i?c(rt,{spool:i}):c("div",{className:"flex flex-col badge badge-outline badge-xl w-full py-5 ",children:"Spool Staging is Empty"}),c("button",{onClick:T,className:"btn btn-outline ml-auto relative h-auto w-24",children:"Refresh"})]})}),i&&c(Br,{spool:i,storageConfig:v,selectedLocation:n,handleSetSpoolLocation:U})]})}),c(Pt,{className:"min-h-[454px] p-6 bg-base-100 border-base-300 rounded-lg",children:c("div",{className:"flex flex-col space-y-4",children:[c("div",{className:"flex flex-row space-x-3",children:u?c(A,{children:[c(rt,{spool:u}),c("button",{onClick:H,className:"btn btn-outline ml-auto relative h-auto w-24",children:"Reselect"})]}):d?c(A,{children:[c("div",{className:"flex flex-col badge badge-error badge-outline badge-xl w-full py-5",children:d??"Select Spool ID"}),c("button",{onClick:H,className:"btn btn-outline ml-auto relative h-auto w-24",children:"Reselect"})]}):c("div",{className:"flex flex-col badge badge-outline badge-xl w-full py-5",children:"Select Spool ID"})}),c("div",{className:"w-full",children:u?c(Br,{spool:u,storageConfig:v,selectedLocation:n,handleSetSpoolLocation:U}):c(it,{maxValue:w.reduce((_,P)=>Math.max(_,Number(P.id)),0),handleNumpadValue:D})})]})})]})]}),c("div",{className:"hidden card bg-base-100 w-full shadow-sm rounded-lg overflow-hidden",children:[c("div",{class:"animate-pulse duration-500 bg-primary text-primary-content text-center p-2",children:c("h2",{className:"card-title",children:[c(br,{className:"rotate-90 scale-y-[0.8]"}),"Spools in Location",c("button",{className:"btn btn-outline ml-auto",children:"Refresh"})]})}),c("div",{className:"card-body",children:c("div",{children:c("p",{children:"Placeholder for spools currently in location and allow removing them"})})})]}),c("div",{className:"hidden card bg-base-100 w-full shadow-sm rounded-lg overflow-hidden",children:[c("div",{class:"bg-primary text-primary-content text-center p-2",children:c("h2",{className:"card-title",children:[c(br,{className:"rotate-90 scale-y-[0.8]"}),"Spools Assigned to This Location",c("button",{className:"btn btn-outline ml-auto",children:"Refresh"})]})}),c("div",{className:"card-body",children:c("div",{children:c("p",{children:"Display Spools assigned to location and allow removing them"})})})]})]})})}var Mu={};function kt(e,t){for(var n in t)e[n]=t[n];return e}function Hu(e,t,n){var r,o=/(?:\?([^#]*))?(#.*)?$/,l=e.match(o),a={};if(l&&l[1])for(var i=l[1].split("&"),s=0;s<i.length;s++){var u=i[s].split("=");a[decodeURIComponent(u[0])]=decodeURIComponent(u.slice(1).join("="))}e=Tn(e.replace(o,"")),t=Tn(t||"");for(var f=Math.max(e.length,t.length),d=0;d<f;d++)if(t[d]&&t[d].charAt(0)===":"){var h=t[d].replace(/(^:|[+*?]+$)/g,""),p=(t[d].match(/[+*?]+$/)||Mu)[0]||"",m=~p.indexOf("+"),y=~p.indexOf("*"),v=e[d]||"";if(!v&&!y&&(p.indexOf("?")<0||m)){r=!1;break}if(a[h]=decodeURIComponent(v),m||y){a[h]=e.slice(d).map(decodeURIComponent).join("/");break}}else if(t[d]!==e[d]){r=!1;break}return(n.default===!0||r!==!1)&&a}function Uu(e,t){return e.rank<t.rank?1:e.rank>t.rank?-1:e.index-t.index}function ju(e,t){return e.index=t,e.rank=function(n){return n.props.default?0:Tn(n.props.path).map(Wu).join("")}(e),e.props}function Tn(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function Wu(e){return e.charAt(0)==":"?1+"*+?".indexOf(e.charAt(e.length-1))||4:5}var Bu={},Re=[],Kr=[],le=null,Al={url:rr()},Ku=G(Al);function rr(){var e;return""+((e=le&&le.location?le.location:le&&le.getCurrentLocation?le.getCurrentLocation():typeof location<"u"?location:Bu).pathname||"")+(e.search||"")}function Dt(e,t){return t===void 0&&(t=!1),typeof e!="string"&&e.url&&(t=e.replace,e=e.url),function(n){for(var r=Re.length;r--;)if(Re[r].canRoute(n))return!0;return!1}(e)&&function(n,r){r===void 0&&(r="push"),le&&le[r]?le[r](n):typeof history<"u"&&history[r+"State"]&&history[r+"State"](null,null,n)}(e,t?"replace":"push"),Ol(e)}function Ol(e){for(var t=!1,n=0;n<Re.length;n++)Re[n].routeTo(e)&&(t=!0);return t}function Vu(e){if(e&&e.getAttribute){var t=e.getAttribute("href"),n=e.getAttribute("target");if(t&&t.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return Dt(t)}}function Gu(e){return e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),e.preventDefault(),!1}function zu(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||e.button)){var t=e.target;do if(t.localName==="a"&&t.getAttribute("href")){if(t.hasAttribute("data-native")||t.hasAttribute("native"))return;if(Vu(t))return Gu(e)}while(t=t.parentNode)}}var Vr=!1;function Ll(e){e.history&&(le=e.history),this.state={url:e.url||rr()}}kt(Ll.prototype=new fe,{shouldComponentUpdate:function(e){return e.static!==!0||e.url!==this.props.url||e.onChange!==this.props.onChange},canRoute:function(e){var t=pe(this.props.children);return this.g(t,e)!==void 0},routeTo:function(e){this.setState({url:e});var t=this.canRoute(e);return this.p||this.forceUpdate(),t},componentWillMount:function(){this.p=!0},componentDidMount:function(){var e=this;Vr||(Vr=!0,le||addEventListener("popstate",function(){Ol(rr())}),addEventListener("click",zu)),Re.push(this),le&&(this.u=le.listen(function(t){var n=t.location||t;e.routeTo(""+(n.pathname||"")+(n.search||""))})),this.p=!1},componentWillUnmount:function(){typeof this.u=="function"&&this.u(),Re.splice(Re.indexOf(this),1)},componentWillUpdate:function(){this.p=!0},componentDidUpdate:function(){this.p=!1},g:function(e,t){e=e.filter(ju).sort(Uu);for(var n=0;n<e.length;n++){var r=e[n],o=Hu(t,r.props.path,r.props);if(o)return[r,o]}},render:function(e,t){var n,r,o=e.onChange,l=t.url,a=this.c,i=this.g(pe(e.children),l);if(i&&(r=io(i[0],kt(kt({url:l,matches:n=i[1]},n),{key:void 0,ref:void 0}))),l!==(a&&a.url)){kt(Al,a=this.c={url:l,previous:a&&a.url,current:r,path:r?r.props.path:null,matches:n}),a.router=this,a.active=r?[r]:[];for(var s=Kr.length;s--;)Kr[s]({});typeof o=="function"&&o(a)}return ee(Ku.Provider,{value:a},r)}});const qu=({serverTagLocation:e,onChangeServerTagLocation:t,onRefreshServerTagLocation:n})=>{const{urlParams:r}=Fl(),{storageConfig:o}=Mn(),[l,a]=E(!0),i=k(null);return c(A,{children:c("div",{className:"hero bg-base-300",children:c("div",{className:"hero-content flex-col",children:[c("div",{className:"text-center",children:c("h1",{className:"text-3xl font-bold",children:["Edit Location Tag ",c("div",{className:"badge badge-outline badge-xl font-mono text-3xl",children:r.TG})]})}),c("div",{className:"card bg-base-100 w-full shadow-sm rounded-lg overflow-hidden",children:[c("div",{class:"bg-primary text-primary-content text-center p-2",children:c("h2",{className:"card-title",children:[c(ua,{className:"rotate-90 scale-y-[0.8]"}),"Tag Information",c("button",{onClick:n,className:"btn btn-outline ml-auto",children:"Refresh"})]})}),c("div",{className:"card-body space-y-4",children:[c("div",{className:"flex flex-row space-x-2",children:[c(Lt,{location:e,storageConfig:o}),c("button",{className:"btn px-0 btn-soft btn-primary h-auto rounded-lg",onMouseDown:s=>{s.stopPropagation()},onClick:()=>{a(s=>!s)},children:c(_n,{size:60})})]}),l&&c("div",{ref:i,id:"location-picker-popup",className:"bg-base-200 border border-base-300 rounded-md p-2",children:c(Tl,{closeOnPressOutside:!1,initialLocation:e,storageConfig:o,onCancel:()=>a(!1),onSelect:async s=>{await t(s),a(!1)},onClear:async()=>{await t(null),a(!1)}})})]}),c("button",{onClick:()=>{Dt("/L1/#"+new URLSearchParams(r).toString())},disabled:!e,className:"btn btn-primary m-4 mt-0",children:"Use Tag"})]})]})})})};function Yu(){const e=R(()=>co(),[]),[t,n]=E(null),{storageConfig:r}=Mn(),o=async s=>{try{const u=await Ct("api/tag-scanned","POST",{tag_id_hex:s});switch(!0){case"Unknown"in u.tag_info:return null;case"Location"in u.tag_info:return u.tag_info.Location.location}}catch{return null}};C(()=>{(async()=>await i()=="TagNotFound"&&Dt("/L1/edit/#"+new URLSearchParams(e).toString()))()},[r]);const l=async(s,u)=>{try{return await Ct("/api/set-tag-location","POST",{tag_id_hex:s,location:u})}catch{return null}},a=async s=>{try{const u=s?ut(s):"";if(e&&e.TG){const f=await l(e.TG,u);f.error&&console.log(f.error),await i()}}catch{}},i=async()=>{const s=e.TG;if(s){const u=await o(s);if(u){const f=mn(u);return n(f),f}else return n(null),"TagNotFound"}else return n(null),"NoTagInUrl"};return C(()=>{(async()=>await i()=="TagNotFound"&&Dt("/L1/edit/#"+new URLSearchParams(e).toString()))()},[]),C(()=>{},[t,r]),c("div",{class:"w-screen h-screen flex flex-col",children:c(Ll,{children:[c(Ru,{path:"/L1",serverTagLocation:t}),c(qu,{path:"/L1/edit",serverTagLocation:t,onChangeServerTagLocation:a,onRefreshServerTagLocation:async()=>{await i()}})]})})}let cn=null,Dl=!1;function Il(){return cn||(cn=Ml().then(()=>{console.log("Wasm initialized"),window.securityKeyOnDerive="",window.encryptionKey=zr("","example_salt"),Dl=!0})),cn}async function Xu(e,t={},n={}){const{retries:r=3,retryOnNetworkError:o=!0,retryOn400:l=!1,retryOn500:a=!0}=n;let i=null;for(let s=0;s<r;s++)try{const u=await fetch(e,t);if(i=u,!u.ok){const f=u.status;if(f>=500&&a||f>=400&&f<500&&l)continue}return u}catch(u){if(!o)throw u}return i}window.encryptedFetch=async(...e)=>{if(window.securityKey==="")throw new Error("No Security Key Set");Dl||await Il();const[t,n={}]=e;n.body&&typeof n.body=="string"&&(n.body=Hl(Gr(),n.body));const r=await Xu(t,n,{retries:!n.method||n.method==="GET"?3:1,retryOnNetworkError:!0,retryOn500:!0}),o=await r.text();let l;if(o==="")l="";else{let a=Gr();l=o.split("|").filter(f=>f.length>0).map(f=>Ul(a,f)).join(""),Du(!0);const i=new URL(window.location.href),s=new URLSearchParams(i.hash.slice(1));s.delete("sk");const u=s.toString();history.replaceState(null,"",u?`#${u}`:window.location.pathname+window.location.search)}return new Response(l,{status:r.status,statusText:r.statusText,headers:r.headers})};function Gr(){const e=window.securityKey;return e!=window.securityKeyOnDerive&&(console.log("generating security key"),window.encryptionKey=zr(e,"example_salt"),window.securityKeyOnDerive=e),window.encryptionKey}function Ju({onSecurityKeyChanged:e}){const{securityKey:t,setSecurityKey:n}=W(Xt),r=k(null),o=k(null);return c(iu,{open:!0,onClose:()=>{},initialFocus:o,children:[c(lu,{className:"dialog-backdrop"}),c("div",{className:"dialog-container",children:c("div",{className:"security-key-section",children:[c("h3",{children:"Security Key:"}),c(cu,{ref:o,placeholder:"Enter Security Key",className:"security-key-input",type:"text",value:t,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellcheck:!1,onChange:a=>{n(a.currentTarget.value),clearTimeout(r.current),r.current=setTimeout(()=>{e()},500)}})]})})]})}function Zu({children:e}){const{securityOk:t}=W(Xt);C(()=>{(async()=>await n())()},[t]);const n=async()=>{try{const r=Ye("/api/test-key");return await(await encryptedFetch(r,{method:"POST",headers:{"Content-Type":"application/text"},body:JSON.stringify({test:"Hello"})})).text(),console.log("Authentication Succeeded"),"Ok"}catch{return console.log("Authentication Failed"),"Err"}};return t?c(A,{children:e}):c(Ju,{onSecurityKeyChanged:n})}(async()=>(console.log("Initialize Wasm"),Il(),ze(c(Fu,{children:c(Ou,{children:c(Zu,{children:c(ta,{children:c(Yu,{})})})})}),document.getElementById("app"))))();
