import zl,{encrypt as ql,decrypt as Yl,derive_key as lo}from"/pkg/device_wasm.js";var $t,F,ao,Fe,mr,io,so,uo,Un,bn,gn,co,vt={},fo=[],Xl=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,wt=Array.isArray;function ge(e,t){for(var n in t)e[n]=t[n];return e}function Hn(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ee(e,t,n){var r,o,l,a={};for(l in t)l=="key"?r=t[l]:l=="ref"?o=t[l]:a[l]=t[l];if(arguments.length>2&&(a.children=arguments.length>3?$t.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(l in e.defaultProps)a[l]===void 0&&(a[l]=e.defaultProps[l]);return dt(e,a,r,o,null)}function dt(e,t,n,r,o){var l={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++ao,__i:-1,__u:0};return o==null&&F.vnode!=null&&F.vnode(l),l}function jn(){return{current:null}}function O(e){return e.children}function fe(e,t){this.props=e,this.context=t}function ze(e,t){if(t==null)return e.__?ze(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?ze(e):null}function po(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return po(e)}}function yn(e){(!e.__d&&(e.__d=!0)&&Fe.push(e)&&!It.__r++||mr!=F.debounceRendering)&&((mr=F.debounceRendering)||io)(It)}function It(){for(var e,t,n,r,o,l,a,i=1;Fe.length;)Fe.length>i&&Fe.sort(so),e=Fe.shift(),i=Fe.length,e.__d&&(n=void 0,r=void 0,o=(r=(t=e).__v).__e,l=[],a=[],t.__P&&((n=ge({},r)).__v=r.__v+1,F.vnode&&F.vnode(n),Wn(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[o]:null,l,o??ze(r),!!(32&r.__u),a),n.__v=r.__v,n.__.__k[n.__i]=n,_o(l,n,a),r.__e=r.__=null,n.__e!=o&&po(n)));It.__r=0}function ho(e,t,n,r,o,l,a,i,s,u,f){var d,h,p,m,g,b,_,y=r&&r.__k||fo,$=t.length;for(s=Jl(n,t,y,s,$),d=0;d<$;d++)(p=n.__k[d])!=null&&(h=p.__i==-1?vt:y[p.__i]||vt,p.__i=d,b=Wn(e,p,h,o,l,a,i,s,u,f),m=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&Bn(h.ref,null,p),f.push(p.ref,p.__c||m,p)),g==null&&m!=null&&(g=m),(_=!!(4&p.__u))||h.__k===p.__k?s=mo(p,s,e,_):typeof p.type=="function"&&b!==void 0?s=b:m&&(s=m.nextSibling),p.__u&=-7);return n.__e=g,s}function Jl(e,t,n,r,o){var l,a,i,s,u,f=n.length,d=f,h=0;for(e.__k=new Array(o),l=0;l<o;l++)(a=t[l])!=null&&typeof a!="boolean"&&typeof a!="function"?(typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?a=e.__k[l]=dt(null,a,null,null,null):wt(a)?a=e.__k[l]=dt(O,{children:a},null,null,null):a.constructor===void 0&&a.__b>0?a=e.__k[l]=dt(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):e.__k[l]=a,s=l+h,a.__=e,a.__b=e.__b+1,i=null,(u=a.__i=Zl(a,n,s,d))!=-1&&(d--,(i=n[u])&&(i.__u|=2)),i==null||i.__v==null?(u==-1&&(o>f?h--:o<f&&h++),typeof a.type!="function"&&(a.__u|=4)):u!=s&&(u==s-1?h--:u==s+1?h++:(u>s?h--:h++,a.__u|=4))):e.__k[l]=null;if(d)for(l=0;l<f;l++)(i=n[l])!=null&&(2&i.__u)==0&&(i.__e==r&&(r=ze(i)),bo(i,i));return r}function mo(e,t,n,r){var o,l;if(typeof e.type=="function"){for(o=e.__k,l=0;o&&l<o.length;l++)o[l]&&(o[l].__=e,t=mo(o[l],t,n,r));return t}e.__e!=t&&(r&&(t&&e.type&&!t.parentNode&&(t=ze(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function pe(e,t){return t=t||[],e==null||typeof e=="boolean"||(wt(e)?e.some(function(n){pe(n,t)}):t.push(e)),t}function Zl(e,t,n,r){var o,l,a,i=e.key,s=e.type,u=t[n],f=u!=null&&(2&u.__u)==0;if(u===null&&i==null||f&&i==u.key&&s==u.type)return n;if(r>(f?1:0)){for(o=n-1,l=n+1;o>=0||l<t.length;)if((u=t[a=o>=0?o--:l++])!=null&&(2&u.__u)==0&&i==u.key&&s==u.type)return a}return-1}function _r(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Xl.test(t)?n:n+"px"}function Pt(e,t,n,r,o){var l,a;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||_r(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||_r(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")l=t!=(t=t.replace(uo,"$1")),a=t.toLowerCase(),t=a in e||t=="onFocusOut"||t=="onFocusIn"?a.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+l]=n,n?r?n.u=r.u:(n.u=Un,e.addEventListener(t,l?gn:bn,l)):e.removeEventListener(t,l?gn:bn,l);else{if(o=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function vr(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=Un++;else if(t.t<n.u)return;return n(F.event?F.event(t):t)}}}function Wn(e,t,n,r,o,l,a,i,s,u){var f,d,h,p,m,g,b,_,y,$,k,w,S,L,Y,z,T,I=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(s=!!(32&n.__u),l=[i=t.__e=n.__e]),(f=F.__b)&&f(t);e:if(typeof I=="function")try{if(_=t.props,y="prototype"in I&&I.prototype.render,$=(f=I.contextType)&&r[f.__c],k=f?$?$.props.value:f.__:r,n.__c?b=(d=t.__c=n.__c).__=d.__E:(y?t.__c=d=new I(_,k):(t.__c=d=new fe(_,k),d.constructor=I,d.render=ea),$&&$.sub(d),d.state||(d.state={}),d.__n=r,h=d.__d=!0,d.__h=[],d._sb=[]),y&&d.__s==null&&(d.__s=d.state),y&&I.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=ge({},d.__s)),ge(d.__s,I.getDerivedStateFromProps(_,d.__s))),p=d.props,m=d.state,d.__v=t,h)y&&I.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),y&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(y&&I.getDerivedStateFromProps==null&&_!==p&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(_,k),t.__v==n.__v||!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(_,d.__s,k)===!1){for(t.__v!=n.__v&&(d.props=_,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(M){M&&(M.__=t)}),w=0;w<d._sb.length;w++)d.__h.push(d._sb[w]);d._sb=[],d.__h.length&&a.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(_,d.__s,k),y&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(p,m,g)})}if(d.context=k,d.props=_,d.__P=e,d.__e=!1,S=F.__r,L=0,y){for(d.state=d.__s,d.__d=!1,S&&S(t),f=d.render(d.props,d.state,d.context),Y=0;Y<d._sb.length;Y++)d.__h.push(d._sb[Y]);d._sb=[]}else do d.__d=!1,S&&S(t),f=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++L<25);d.state=d.__s,d.getChildContext!=null&&(r=ge(ge({},r),d.getChildContext())),y&&!h&&d.getSnapshotBeforeUpdate!=null&&(g=d.getSnapshotBeforeUpdate(p,m)),z=f,f!=null&&f.type===O&&f.key==null&&(z=vo(f.props.children)),i=ho(e,wt(z)?z:[z],t,n,r,o,l,a,i,s,u),d.base=t.__e,t.__u&=-161,d.__h.length&&a.push(d),b&&(d.__E=d.__=null)}catch(M){if(t.__v=null,s||l!=null)if(M.then){for(t.__u|=s?160:128;i&&i.nodeType==8&&i.nextSibling;)i=i.nextSibling;l[l.indexOf(i)]=null,t.__e=i}else{for(T=l.length;T--;)Hn(l[T]);$n(t)}else t.__e=n.__e,t.__k=n.__k,M.then||$n(t);F.__e(M,t,n)}else l==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):i=t.__e=Ql(n.__e,t,n,r,o,l,a,s,u);return(f=F.diffed)&&f(t),128&t.__u?void 0:i}function $n(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach($n)}function _o(e,t,n){for(var r=0;r<n.length;r++)Bn(n[r],n[++r],n[++r]);F.__c&&F.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(l){l.call(o)})}catch(l){F.__e(l,o.__v)}})}function vo(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:wt(e)?e.map(vo):ge({},e)}function Ql(e,t,n,r,o,l,a,i,s){var u,f,d,h,p,m,g,b=n.props||vt,_=t.props,y=t.type;if(y=="svg"?o="http://www.w3.org/2000/svg":y=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),l!=null){for(u=0;u<l.length;u++)if((p=l[u])&&"setAttribute"in p==!!y&&(y?p.localName==y:p.nodeType==3)){e=p,l[u]=null;break}}if(e==null){if(y==null)return document.createTextNode(_);e=document.createElementNS(o,y,_.is&&_),i&&(F.__m&&F.__m(t,l),i=!1),l=null}if(y==null)b===_||i&&e.data==_||(e.data=_);else{if(l=l&&$t.call(e.childNodes),!i&&l!=null)for(b={},u=0;u<e.attributes.length;u++)b[(p=e.attributes[u]).name]=p.value;for(u in b)if(p=b[u],u!="children"){if(u=="dangerouslySetInnerHTML")d=p;else if(!(u in _)){if(u=="value"&&"defaultValue"in _||u=="checked"&&"defaultChecked"in _)continue;Pt(e,u,null,p,o)}}for(u in _)p=_[u],u=="children"?h=p:u=="dangerouslySetInnerHTML"?f=p:u=="value"?m=p:u=="checked"?g=p:i&&typeof p!="function"||b[u]===p||Pt(e,u,p,b[u],o);if(f)i||d&&(f.__html==d.__html||f.__html==e.innerHTML)||(e.innerHTML=f.__html),t.__k=[];else if(d&&(e.innerHTML=""),ho(t.type=="template"?e.content:e,wt(h)?h:[h],t,n,r,y=="foreignObject"?"http://www.w3.org/1999/xhtml":o,l,a,l?l[0]:n.__k&&ze(n,0),i,s),l!=null)for(u=l.length;u--;)Hn(l[u]);i||(u="value",y=="progress"&&m==null?e.removeAttribute("value"):m!=null&&(m!==e[u]||y=="progress"&&!m||y=="option"&&m!=b[u])&&Pt(e,u,m,b[u],o),u="checked",g!=null&&g!=e[u]&&Pt(e,u,g,b[u],o))}return e}function Bn(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(o){F.__e(o,n)}}function bo(e,t,n){var r,o;if(F.unmount&&F.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||Bn(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(l){F.__e(l,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&bo(r[o],t,n||typeof e.type!="function");n||Hn(e.__e),e.__c=e.__=e.__e=void 0}function ea(e,t,n){return this.constructor(e,n)}function qe(e,t,n){var r,o,l,a;t==document&&(t=document.documentElement),F.__&&F.__(e,t),o=(r=typeof n=="function")?null:n&&n.__k||t.__k,l=[],a=[],Wn(t,e=(!r&&n||t).__k=ee(O,null,[e]),o||vt,vt,t.namespaceURI,!r&&n?[n]:o?null:t.firstChild?$t.call(t.childNodes):null,l,!r&&n?n:o?o.__e:t.firstChild,r,a),_o(l,e,a)}function go(e,t){qe(e,t,go)}function yo(e,t,n){var r,o,l,a,i=ge({},e.props);for(l in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)l=="key"?r=t[l]:l=="ref"?o=t[l]:i[l]=t[l]===void 0&&a!=null?a[l]:t[l];return arguments.length>2&&(i.children=arguments.length>3?$t.call(arguments,2):n),dt(e.type,i,r||e.key,o||e.ref,null)}function V(e){function t(n){var r,o;return this.getChildContext||(r=new Set,(o={})[t.__c]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(l){this.props.value!=l.value&&r.forEach(function(a){a.__e=!0,yn(a)})},this.sub=function(l){r.add(l);var a=l.componentWillUnmount;l.componentWillUnmount=function(){r&&r.delete(l),a&&a.call(l)}}),n.children}return t.__c="__cC"+co++,t.__=e,t.Provider=t.__l=(t.Consumer=function(n,r){return n.children(r)}).contextType=t,t}$t=fo.slice,F={__e:function(e,t,n,r){for(var o,l,a;t=t.__;)if((o=t.__c)&&!o.__)try{if((l=o.constructor)&&l.getDerivedStateFromError!=null&&(o.setState(l.getDerivedStateFromError(e)),a=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),a=o.__d),a)return o.__E=o}catch(i){e=i}throw e}},ao=0,fe.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=ge({},this.state),typeof e=="function"&&(e=e(ge({},n),this.props)),e&&ge(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),yn(this))},fe.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),yn(this))},fe.prototype.render=O,Fe=[],io=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,so=function(e,t){return e.__v.__b-t.__v.__b},It.__r=0,uo=/(PointerCapture)$|Capture$/i,Un=0,bn=vr(!1),gn=vr(!0),co=0;var ta=0;function c(e,t,n,r,o,l){t||(t={});var a,i,s=t;if("ref"in s)for(i in s={},t)i=="ref"?a=t[i]:s[i]=t[i];var u={type:e,props:s,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--ta,__i:-1,__u:0,__source:o,__self:l};if(typeof e=="function"&&(a=e.defaultProps))for(i in a)s[i]===void 0&&(s[i]=a[i]);return F.vnode&&F.vnode(u),u}var xe,H,an,br,Ye=0,$o=[],K=F,gr=K.__b,yr=K.__r,$r=K.diffed,wr=K.__c,xr=K.unmount,Er=K.__;function Ue(e,t){K.__h&&K.__h(H,e,Ye||t),Ye=0;var n=H.__H||(H.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function E(e){return Ye=1,Qe(wo,e)}function Qe(e,t,n){var r=Ue(xe++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):wo(void 0,t),function(i){var s=r.__N?r.__N[0]:r.__[0],u=r.t(s,i);s!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=H,!H.__f)){var o=function(i,s,u){if(!r.__c.__H)return!0;var f=r.__c.__H.__.filter(function(h){return!!h.__c});if(f.every(function(h){return!h.__N}))return!l||l.call(this,i,s,u);var d=r.__c.props!==i;return f.forEach(function(h){if(h.__N){var p=h.__[0];h.__=h.__N,h.__N=void 0,p!==h.__[0]&&(d=!0)}}),l&&l.call(this,i,s,u)||d};H.__f=!0;var l=H.shouldComponentUpdate,a=H.componentWillUpdate;H.componentWillUpdate=function(i,s,u){if(this.__e){var f=l;l=void 0,o(i,s,u),l=f}a&&a.call(this,i,s,u)},H.shouldComponentUpdate=o}return r.__N||r.__}function C(e,t){var n=Ue(xe++,3);!K.__s&&Gn(n.__H,t)&&(n.__=e,n.u=t,H.__H.__h.push(n))}function He(e,t){var n=Ue(xe++,4);!K.__s&&Gn(n.__H,t)&&(n.__=e,n.u=t,H.__h.push(n))}function N(e){return Ye=5,Z(function(){return{current:e}},[])}function Kn(e,t,n){Ye=6,He(function(){if(typeof e=="function"){var r=e(t());return function(){e(null),r&&typeof r=="function"&&r()}}if(e)return e.current=t(),function(){return e.current=null}},n==null?n:n.concat(e))}function Z(e,t){var n=Ue(xe++,7);return Gn(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function B(e,t){return Ye=8,Z(function(){return e},t)}function j(e){var t=H.context[e.__c],n=Ue(xe++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(H)),t.props.value):e.__}function Vn(e,t){K.useDebugValue&&K.useDebugValue(t?t(e):e)}function na(e){var t=Ue(xe++,10),n=E();return t.__=e,H.componentDidCatch||(H.componentDidCatch=function(r,o){t.__&&t.__(r,o),n[1](r)}),[n[0],function(){n[1](void 0)}]}function ae(){var e=Ue(xe++,11);if(!e.__){for(var t=H.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function ra(){for(var e;e=$o.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Lt),e.__H.__h.forEach(wn),e.__H.__h=[]}catch(t){e.__H.__h=[],K.__e(t,e.__v)}}K.__b=function(e){H=null,gr&&gr(e)},K.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Er&&Er(e,t)},K.__r=function(e){yr&&yr(e),xe=0;var t=(H=e.__c).__H;t&&(an===H?(t.__h=[],H.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(Lt),t.__h.forEach(wn),t.__h=[],xe=0)),an=H},K.diffed=function(e){$r&&$r(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&($o.push(t)!==1&&br===K.requestAnimationFrame||((br=K.requestAnimationFrame)||oa)(ra)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),an=H=null},K.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Lt),n.__h=n.__h.filter(function(r){return!r.__||wn(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],K.__e(r,n.__v)}}),wr&&wr(e,t)},K.unmount=function(e){xr&&xr(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Lt(r)}catch(o){t=o}}),n.__H=void 0,t&&K.__e(t,n.__v))};var Sr=typeof requestAnimationFrame=="function";function oa(e){var t,n=function(){clearTimeout(r),Sr&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,35);Sr&&(t=requestAnimationFrame(n))}function Lt(e){var t=H,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),H=t}function wn(e){var t=H;e.__c=e.__(),H=t}function Gn(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function wo(e,t){return typeof t=="function"?t(e):t}const la=location.hostname==="localhost"||location.hostname==="127.0.0.1"||location.hostname==="192.168.10.51",Xe=e=>{const t=e.startsWith("/")?"":"/";return(la?"http://consoledev.local":"")+t+e};function Be(e){const t=e.trim();if(t==="")return null;const n=Number(t);return isNaN(n)?null:n}function xo(){const e=[window.location.search,window.location.hash].filter(Boolean).map(t=>t.replace(/^[?#]/,"")).join("&");return Object.fromEntries(new URLSearchParams(e).entries())}function aa(e){const t=[];let n="",r=!1;for(let o=0;o<e.length;o++){const l=e[o],a=e[o+1];l==='"'&&r&&a==='"'?(n+='"',o++):l==='"'?r=!r:l===","&&!r?(t.push(n),n=""):n+=l}return t.push(n),t}function kr(e){if(e=="")return 0;if(e.length!=6)return null;const t=atob(e),n=new ArrayBuffer(4),r=new Uint8Array(n);for(let o=0;o<4;o++)r[o]=t.charCodeAt(o);return new DataView(n).getFloat32(0,!0)}function ia(e){e=e.replace("#","");const t=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return(t*299+n*587+r*114)/1e3>=128?"black":"white"}var ne=(e=>(e.Assigned="Assigned",e.Actual="Actual",e))(ne||{});const Eo=V(null);async function sa(){try{const e=Xe("api/storage-config");return await(await encryptedFetch(e,{method:"GET"})).json()}catch{return{rack_config:{}}}}async function ua(e){const t=Xe("api/storage-config");return await(await encryptedFetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}function ca({children:e}){const[t,n]=E(null),[r,o]=E(!1),l=B(async()=>{o(!0),n(await sa()),o(!1)},[]),a=B(async i=>{o(!0);try{n(await ua(i))}catch(s){throw s}finally{o(!1)}},[]);return C(()=>{(async()=>await l())()},[]),c(Eo.Provider,{value:{storageConfig:t,setStorageConfig:n,loadingStorgeConfig:r,reloadStorageConfig:l,saveStorageConfig:a},children:e})}const zn=()=>j(Eo),Rt=async(e,t,n)=>{const r=Xe(e);try{return await(await encryptedFetch(r,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json()}catch(o){throw console.log(`Error calling ${r} : ${o}`),o}};function da(e,t,n,r,o,l,a,i,s){return n&&e?n-e+o:e&&r&&t?r+t-e-o:null}function fa(e,t,n,r,o,l,a,i){const s=e&&t?e-t-o:e&&r&&n?e-(n-r)-o:null;return s?[s,"inuse"]:!l&&l[0]!=""&&a=="y"&&r?[r*i,"unused"]:null}const So=(e,t,n)=>{var S;const r=aa(e),o=r[1],l=Be(r[8]),a=Be(r[9]),i=Be(r[10]),s=Be(r[11]),u=Be(r[13]),f=u?new Date(u*1e3):null,d=Be(r[14]),h=d?new Date(d*1e3):null,p=r[15],m=kr(r[16]),g=kr(r[17]),b=r[18]==="y",_=r[19],y=r[20],$=r[21],k=r[22],w=parseInt(r[23]||"0",10);return{id:r[0],tag_id:o,material_type:r[2],material_subtype:r[3],color_name:r[4],color_code:r[5],note:r[6],brand:r[7],weight_advertised:l,weight_core:a,weight_new:i,weight_current:s,weight_left:fa(s,a,i,l,g,o,p,w),weight_used:da(s,a,i,l,g),slicer_filament:r[12],slicer_filament_name:r[12]?((S=n==null?void 0:n.find(L=>L.code==r[12]))==null?void 0:S.name)??"":"",added_datetime:f,encoded_datetime:h,full_unused:p,consumed_since_add:m,consumed_since_weight:g,k_setting:b,data_origin:_,tag_type:y,printer_location:t!=null&&t.get(r[0])?"!"+(t==null?void 0:t.get(r[0])):null,assigned_location:$,actual_location:k,spools_count:w}};function ft(e){if(!e)return"";const t=e.rack?`R:${e.rack}`:null,n=e.bay?`B:${e.bay}`:null,r=e.shelf?`S:${e.shelf}`:null,o=e.position?`P:${e.position}`:null,l=e.container?`C:${e.container}`:null,a=[t,n,r,o,l].filter(s=>s!=null).join("/");return a!=""?"#"+a:""}function xn(e){if(e){const t={R:0,B:0,S:0,P:0,C:0};for(const[,r,o]of e.matchAll(/([RBSPC]):(\d+)/g))t[r]=Number(o);return{rack:t.R,bay:t.B,shelf:t.S,position:t.P,container:t.C}}else return null}/**
 * @license lucide-preact v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-preact v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-preact v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-preact v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=e=>{const t=ha(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-preact v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ma={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-preact v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-preact v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,children:o,iconNode:l,class:a="",...i})=>ee("svg",{...ma,width:String(t),height:t,stroke:e,"stroke-width":r?Number(n)*24/Number(t):n,class:["lucide",a].join(" "),...!o&&!_a(i)&&{"aria-hidden":"true"},...i},[...l.map(([s,u])=>ee(s,u)),...pe(o)]);/**
 * @license lucide-preact v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(e,t)=>{const n=({class:r="",className:o="",children:l,...a})=>ee(va,{...a,iconNode:t,class:pa(`lucide-${Nr(Pr(e))}`,`lucide-${Nr(e)}`,r,o)},l);return n.displayName=Pr(e),n};/**
 * @license lucide-preact v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=je("corner-down-left",[["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}],["path",{d:"m9 10-5 5 5 5",key:"1kshq7"}]]);/**
 * @license lucide-preact v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=je("delete",[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]]);/**
 * @license lucide-preact v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=je("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-preact v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=je("spool",[["path",{d:"M17 13.44 4.442 17.082A2 2 0 0 0 4.982 21H19a2 2 0 0 0 .558-3.921l-1.115-.32A2 2 0 0 1 17 14.837V7.66",key:"13vns8"}],["path",{d:"m7 10.56 12.558-3.642A2 2 0 0 0 19.018 3H5a2 2 0 0 0-.558 3.921l1.115.32A2 2 0 0 1 7 9.163v7.178",key:"s8x3u0"}]]);/**
 * @license lucide-preact v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=je("square-library",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 7v10",key:"d5nglc"}],["path",{d:"M11 7v10",key:"pptsnr"}],["path",{d:"m15 7 2 10",key:"1m7qm5"}]]);/**
 * @license lucide-preact v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=je("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-preact v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=je("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ko(e,t){for(var n in t)e[n]=t[n];return e}function Sn(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function Kt(e,t){var n=t(),r=E({t:{__:n,u:t}}),o=r[0].t,l=r[1];return He(function(){o.__=n,o.u=t,sn(o)&&l({t:o})},[e,n,t]),C(function(){return sn(o)&&l({t:o}),e(function(){sn(o)&&l({t:o})})},[e]),n}function sn(e){var t,n,r=e.u,o=e.__;try{var l=r();return!((t=o)===(n=l)&&(t!==0||1/t==1/n)||t!=t&&n!=n)}catch{return!0}}function qn(e){e()}function Yn(e){return e}function Xn(){return[!1,qn]}var Jn=He;function Mt(e,t){this.props=e,this.context=t}function No(e,t){function n(o){var l=this.props.ref,a=l==o.ref;return!a&&l&&(l.call?l(null):l.current=null),t?!t(this.props,o)||!a:Sn(this.props,o)}function r(o){return this.shouldComponentUpdate=n,ee(e,o)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r.type=e,r}(Mt.prototype=new fe).isPureReactComponent=!0,Mt.prototype.shouldComponentUpdate=function(e,t){return Sn(this.props,e)||Sn(this.state,t)};var Cr=F.__b;F.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Cr&&Cr(e)};var wa=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Zn(e){function t(n){var r=ko({},n);return delete r.ref,e(r,n.ref||null)}return t.$$typeof=wa,t.render=e,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var Fr=function(e,t){return e==null?null:pe(pe(e).map(t))},Po={map:Fr,forEach:Fr,count:function(e){return e?pe(e).length:0},only:function(e){var t=pe(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:pe},xa=F.__e;F.__e=function(e,t,n,r){if(e.then){for(var o,l=t;l=l.__;)if((o=l.__c)&&o.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t)}xa(e,t,n,r)};var Ar=F.unmount;function To(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=ko({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return To(r,t,n)})),e}function Co(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return Co(r,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function pt(){this.__u=0,this.o=null,this.__b=null}function Fo(e){if(!e.__)return null;var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Ao(e){var t,n,r,o=null;function l(a){if(t||(t=e()).then(function(i){i&&(o=i.default||i),r=!0},function(i){n=i,r=!0}),n)throw n;if(!r)throw t;return o?ee(o,a):null}return l.displayName="Lazy",l.__f=!0,l}function Ke(){this.i=null,this.l=null}F.unmount=function(e){var t=e.__c;t&&(t.__z=!0),t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),Ar&&Ar(e)},(pt.prototype=new fe).__c=function(e,t){var n=t.__c,r=this;r.o==null&&(r.o=[]),r.o.push(n);var o=Fo(r.__v),l=!1,a=function(){l||r.__z||(l=!0,n.__R=null,o?o(s):s())};n.__R=a;var i=n.__P;n.__P=null;var s=function(){if(!--r.__u){if(r.state.__a){var u=r.state.__a;r.__v.__k[0]=Co(u,u.__c.__P,u.__c.__O)}var f;for(r.setState({__a:r.__b=null});f=r.o.pop();)f.__P=i,f.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(a,a)},pt.prototype.componentWillUnmount=function(){this.o=[]},pt.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=To(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__a&&ee(O,null,e.fallback);return o&&(o.__u&=-33),[ee(O,null,t.__a?null:e.children),o]};var Or=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function Ea(e){return this.getChildContext=function(){return e.context},e.children}function Sa(e){var t=this,n=e.h;if(t.componentWillUnmount=function(){qe(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),!t.v){for(var r=t.__v;r!==null&&!r.__m&&r.__!==null;)r=r.__;t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],__k:{__m:r.__m},contains:function(){return!0},namespaceURI:n.namespaceURI,insertBefore:function(o,l){this.childNodes.push(o),t.h.insertBefore(o,l)},removeChild:function(o){this.childNodes.splice(this.childNodes.indexOf(o)>>>1,1),t.h.removeChild(o)}}}qe(ee(Ea,{context:t.context},e.__v),t.v)}function Qn(e,t){var n=ee(Sa,{__v:e,h:t});return n.containerInfo=t,n}(Ke.prototype=new fe).__a=function(e){var t=this,n=Fo(t.__v),r=t.l.get(e);return r[0]++,function(o){var l=function(){t.props.revealOrder?(r.push(o),Or(t,e,r)):o()};n?n(l):l()}},Ke.prototype.render=function(e){this.i=null,this.l=new Map;var t=pe(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},Ke.prototype.componentDidUpdate=Ke.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){Or(e,n,t)})};var Oo=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,ka=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Na=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Pa=/[A-Z0-9]/g,Ta=typeof document<"u",Ca=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function Lo(e,t,n){return t.__k==null&&(t.textContent=""),qe(e,t),typeof n=="function"&&n(),e?e.__c:null}function Do(e,t,n){return go(e,t),typeof n=="function"&&n(),e?e.__c:null}fe.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(fe.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var Lr=F.event;function Fa(){}function Aa(){return this.cancelBubble}function Oa(){return this.defaultPrevented}F.event=function(e){return Lr&&(e=Lr(e)),e.persist=Fa,e.isPropagationStopped=Aa,e.isDefaultPrevented=Oa,e.nativeEvent=e};var er,La={enumerable:!1,configurable:!0,get:function(){return this.class}},Dr=F.vnode;F.vnode=function(e){typeof e.type=="string"&&(function(t){var n=t.props,r=t.type,o={},l=r.indexOf("-")===-1;for(var a in n){var i=n[a];if(!(a==="value"&&"defaultValue"in n&&i==null||Ta&&a==="children"&&r==="noscript"||a==="class"||a==="className")){var s=a.toLowerCase();a==="defaultValue"&&"value"in n&&n.value==null?a="value":a==="download"&&i===!0?i="":s==="translate"&&i==="no"?i=!1:s[0]==="o"&&s[1]==="n"?s==="ondoubleclick"?a="ondblclick":s!=="onchange"||r!=="input"&&r!=="textarea"||Ca(n.type)?s==="onfocus"?a="onfocusin":s==="onblur"?a="onfocusout":Na.test(a)&&(a=s):s=a="oninput":l&&ka.test(a)?a=a.replace(Pa,"-$&").toLowerCase():i===null&&(i=void 0),s==="oninput"&&o[a=s]&&(a="oninputCapture"),o[a]=i}}r=="select"&&o.multiple&&Array.isArray(o.value)&&(o.value=pe(n.children).forEach(function(u){u.props.selected=o.value.indexOf(u.props.value)!=-1})),r=="select"&&o.defaultValue!=null&&(o.value=pe(n.children).forEach(function(u){u.props.selected=o.multiple?o.defaultValue.indexOf(u.props.value)!=-1:o.defaultValue==u.props.value})),n.class&&!n.className?(o.class=n.class,Object.defineProperty(o,"className",La)):(n.className&&!n.class||n.class&&n.className)&&(o.class=o.className=n.className),t.props=o})(e),e.$$typeof=Oo,Dr&&Dr(e)};var Ir=F.__r;F.__r=function(e){Ir&&Ir(e),er=e.__c};var Rr=F.diffed;F.diffed=function(e){Rr&&Rr(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value),er=null};var Io={ReactCurrentDispatcher:{current:{readContext:function(e){return er.__n[e.__c].props.value},useCallback:B,useContext:j,useDebugValue:Vn,useDeferredValue:Yn,useEffect:C,useId:ae,useImperativeHandle:Kn,useInsertionEffect:Jn,useLayoutEffect:He,useMemo:Z,useReducer:Qe,useRef:N,useState:E,useSyncExternalStore:Kt,useTransition:Xn}}},Da="18.3.1";function Ro(e){return ee.bind(null,e)}function et(e){return!!e&&e.$$typeof===Oo}function Mo(e){return et(e)&&e.type===O}function Uo(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function tr(e){return et(e)?yo.apply(null,arguments):e}function Ho(e){return!!e.__k&&(qe(null,e),!0)}function jo(e){return e&&(e.base||e.nodeType===1&&e)||null}var Wo=function(e,t){return e(t)},Bo=function(e,t){return e(t)},Ko=O,Vo=et,x={useState:E,useId:ae,useReducer:Qe,useEffect:C,useLayoutEffect:He,useInsertionEffect:Jn,useTransition:Xn,useDeferredValue:Yn,useSyncExternalStore:Kt,startTransition:qn,useRef:N,useImperativeHandle:Kn,useMemo:Z,useCallback:B,useContext:j,useDebugValue:Vn,version:"18.3.1",Children:Po,render:Lo,hydrate:Do,unmountComponentAtNode:Ho,createPortal:Qn,createElement:ee,createContext:V,createFactory:Ro,cloneElement:tr,createRef:jn,Fragment:O,isValidElement:et,isElement:Vo,isFragment:Mo,isMemo:Uo,findDOMNode:jo,Component:fe,PureComponent:Mt,memo:No,forwardRef:Zn,flushSync:Bo,unstable_batchedUpdates:Wo,StrictMode:Ko,Suspense:pt,SuspenseList:Ke,lazy:Ao,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Io};const Go=Object.freeze(Object.defineProperty({__proto__:null,Children:Po,Component:fe,Fragment:O,PureComponent:Mt,StrictMode:Ko,Suspense:pt,SuspenseList:Ke,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Io,cloneElement:tr,createContext:V,createElement:ee,createFactory:Ro,createPortal:Qn,createRef:jn,default:x,findDOMNode:jo,flushSync:Bo,forwardRef:Zn,hydrate:Do,isElement:Vo,isFragment:Mo,isMemo:Uo,isValidElement:et,lazy:Ao,memo:No,render:Lo,startTransition:qn,unmountComponentAtNode:Ho,unstable_batchedUpdates:Wo,useCallback:B,useContext:j,useDebugValue:Vn,useDeferredValue:Yn,useEffect:C,useErrorBoundary:na,useId:ae,useImperativeHandle:Kn,useInsertionEffect:Jn,useLayoutEffect:He,useMemo:Z,useReducer:Qe,useRef:N,useState:E,useSyncExternalStore:Kt,useTransition:Xn,version:Da},Symbol.toStringTag,{value:"Module"})),Ia=typeof document<"u"?x.useLayoutEffect:()=>{},Te=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},Oe=e=>e&&"window"in e&&e.window===e?e:Te(e).defaultView||window;function Ra(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function Ma(e){return Ra(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let Ua=!1;function nr(){return Ua}function Le(e,t){if(!nr())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:Ma(n)?n=n.host:n=n.parentNode}return!1}const kn=(e=document)=>{var t;if(!nr())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function zo(e){return nr()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function Ha(e){if(ja())e.focus({preventScroll:!0});else{let t=Wa(e);e.focus(),Ba(t)}}let Tt=null;function ja(){if(Tt==null){Tt=!1;try{document.createElement("div").focus({get preventScroll(){return Tt=!0,!0}})}catch{}}return Tt}function Wa(e){let t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}function Ba(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}function Vt(e){var t;if(typeof window>"u"||window.navigator==null)return!1;let n=(t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands;return Array.isArray(n)&&n.some(r=>e.test(r.brand))||e.test(window.navigator.userAgent)}function qo(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function tt(e){let t=null;return()=>(t==null&&(t=e()),t)}const Ut=tt(function(){return qo(/^Mac/i)}),Ka=tt(function(){return qo(/^iPad/i)||Ut()&&navigator.maxTouchPoints>1}),Va=tt(function(){return Vt(/AppleWebKit/i)&&!Ga()}),Ga=tt(function(){return Vt(/Chrome/i)}),za=tt(function(){return Vt(/Android/i)}),qa=tt(function(){return Vt(/Firefox/i)});function bt(e,t,n=!0){var r,o;let{metaKey:l,ctrlKey:a,altKey:i,shiftKey:s}=t;qa()&&(!((o=window.event)===null||o===void 0||(r=o.type)===null||r===void 0)&&r.startsWith("key"))&&e.target==="_blank"&&(Ut()?l=!0:a=!0);let u=Va()&&Ut()&&!Ka()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:l,ctrlKey:a,altKey:i,shiftKey:s}):new MouseEvent("click",{metaKey:l,ctrlKey:a,altKey:i,shiftKey:s,detail:1,bubbles:!0,cancelable:!0});bt.isOpening=n,Ha(e),e.dispatchEvent(u),bt.isOpening=!1}bt.isOpening=!1;function Yo(){let e=N(new Map),t=B((o,l,a,i)=>{let s=i!=null&&i.once?(...u)=>{e.current.delete(a),a(...u)}:a;e.current.set(a,{type:l,eventTarget:o,fn:s,options:i}),o.addEventListener(l,s,i)},[]),n=B((o,l,a,i)=>{var s;let u=((s=e.current.get(a))===null||s===void 0?void 0:s.fn)||a;o.removeEventListener(l,u,i),e.current.delete(a)},[]),r=B(()=>{e.current.forEach((o,l)=>{n(o.eventTarget,o.type,l,o.options)})},[n]);return C(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function Ya(e){return e.pointerType===""&&e.isTrusted?!0:za()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Xo(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function Xa(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function Jo(e){let t=N({isFocused:!1,observer:null});return Ia(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]),B(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let r=n.target,o=l=>{if(t.current.isFocused=!1,r.disabled){let a=Xo(l);e==null||e(a)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};r.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&r.disabled){var l;(l=t.current.observer)===null||l===void 0||l.disconnect();let a=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),t.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[e])}let Ja=!1,xt=null;const Nn=new Set;let ht=new Map,Me=!1,Pn=!1;const Za={Tab:!0,Escape:!0};function rr(e,t){for(let n of Nn)n(e,t)}function Qa(e){return!(e.metaKey||!Ut()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Ht(e){Me=!0,!bt.isOpening&&Qa(e)&&(xt="keyboard",rr("keyboard",e))}function Ge(e){xt="pointer","pointerType"in e&&e.pointerType,(e.type==="mousedown"||e.type==="pointerdown")&&(Me=!0,rr("pointer",e))}function Zo(e){!bt.isOpening&&Ya(e)&&(Me=!0,xt="virtual")}function Qo(e){e.target===window||e.target===document||Ja||!e.isTrusted||(!Me&&!Pn&&(xt="virtual",rr("virtual",e)),Me=!1,Pn=!1)}function el(){Me=!1,Pn=!0}function Tn(e){if(typeof window>"u"||typeof document>"u"||ht.get(Oe(e)))return;const t=Oe(e),n=Te(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Me=!0,r.apply(this,arguments)},n.addEventListener("keydown",Ht,!0),n.addEventListener("keyup",Ht,!0),n.addEventListener("click",Zo,!0),t.addEventListener("focus",Qo,!0),t.addEventListener("blur",el,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",Ge,!0),n.addEventListener("pointermove",Ge,!0),n.addEventListener("pointerup",Ge,!0)),t.addEventListener("beforeunload",()=>{tl(e)},{once:!0}),ht.set(t,{focus:r})}const tl=(e,t)=>{const n=Oe(e),r=Te(e);t&&r.removeEventListener("DOMContentLoaded",t),ht.has(n)&&(n.HTMLElement.prototype.focus=ht.get(n).focus,r.removeEventListener("keydown",Ht,!0),r.removeEventListener("keyup",Ht,!0),r.removeEventListener("click",Zo,!0),n.removeEventListener("focus",Qo,!0),n.removeEventListener("blur",el,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",Ge,!0),r.removeEventListener("pointermove",Ge,!0),r.removeEventListener("pointerup",Ge,!0)),ht.delete(n))};function ei(e){const t=Te(e);let n;return t.readyState!=="loading"?Tn(e):(n=()=>{Tn(e)},t.addEventListener("DOMContentLoaded",n)),()=>tl(e,n)}typeof document<"u"&&ei();function Cn(){return xt!=="pointer"}const ti=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ni(e,t,n){let r=Te(n==null?void 0:n.target);const o=typeof window<"u"?Oe(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,l=typeof window<"u"?Oe(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,a=typeof window<"u"?Oe(n==null?void 0:n.target).HTMLElement:HTMLElement,i=typeof window<"u"?Oe(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof o&&!ti.has(r.activeElement.type)||r.activeElement instanceof l||r.activeElement instanceof a&&r.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof i&&!Za[n.key])}function ri(e,t,n){Tn(),C(()=>{if((n==null?void 0:n.enabled)===!1)return;let r=(o,l)=>{ni(!!(n!=null&&n.isTextInput),o,l)&&e(Cn())};return Nn.add(r),()=>{Nn.delete(r)}},t)}function oi(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:o}=e;const l=B(s=>{if(s.target===s.currentTarget)return r&&r(s),o&&o(!1),!0},[r,o]),a=Jo(l),i=B(s=>{const u=Te(s.target),f=u?kn(u):kn();s.target===s.currentTarget&&f===zo(s.nativeEvent)&&(n&&n(s),o&&o(!0),a(s))},[o,n,a]);return{focusProps:{onFocus:!t&&(n||o||r)?i:void 0,onBlur:!t&&(r||o)?l:void 0}}}function li(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:o}=e,l=N({isFocusWithin:!1}),{addGlobalListener:a,removeAllGlobalListeners:i}=Yo(),s=B(d=>{Le(d.currentTarget,d.target)&&l.current.isFocusWithin&&!Le(d.currentTarget,d.relatedTarget)&&(l.current.isFocusWithin=!1,i(),n&&n(d),o&&o(!1))},[n,o,l,i]),u=Jo(s),f=B(d=>{if(!Le(d.currentTarget,d.target))return;const h=Te(d.target),p=kn(h);if(!l.current.isFocusWithin&&p===zo(d.nativeEvent)){r&&r(d),o&&o(!0),l.current.isFocusWithin=!0,u(d);let m=d.currentTarget;a(h,"focus",g=>{if(l.current.isFocusWithin&&!Le(m,g.target)){let b=new h.defaultView.FocusEvent("blur",{relatedTarget:g.target});Xa(b,m);let _=Xo(b);s(_)}},{capture:!0})}},[r,o,u,a,s]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:f,onBlur:s}}}let Fn=!1,Ct=0;function ai(){Fn=!0,setTimeout(()=>{Fn=!1},50)}function Mr(e){e.pointerType==="touch"&&ai()}function ii(){if(!(typeof document>"u"))return Ct===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",Mr),Ct++,()=>{Ct--,!(Ct>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Mr)}}function or(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:o}=e,[l,a]=E(!1),i=N({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;C(ii,[]);let{addGlobalListener:s,removeAllGlobalListeners:u}=Yo(),{hoverProps:f,triggerHoverEnd:d}=Z(()=>{let h=(g,b)=>{if(i.pointerType=b,o||b==="touch"||i.isHovered||!Le(g.currentTarget,g.target))return;i.isHovered=!0;let _=g.currentTarget;i.target=_,s(Te(g.target),"pointerover",y=>{i.isHovered&&i.target&&!Le(i.target,y.target)&&p(y,y.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:_,pointerType:b}),n&&n(!0),a(!0)},p=(g,b)=>{let _=i.target;i.pointerType="",i.target=null,!(b==="touch"||!i.isHovered||!_)&&(i.isHovered=!1,u(),r&&r({type:"hoverend",target:_,pointerType:b}),n&&n(!1),a(!1))},m={};return typeof PointerEvent<"u"&&(m.onPointerEnter=g=>{Fn&&g.pointerType==="mouse"||h(g,g.pointerType)},m.onPointerLeave=g=>{!o&&Le(g.currentTarget,g.target)&&p(g,g.pointerType)}),{hoverProps:m,triggerHoverEnd:p}},[t,n,r,o,i,s,u]);return C(()=>{o&&d({currentTarget:i.target},i.pointerType)},[o]),{hoverProps:f,isHovered:l}}function Gt(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,o=N({isFocused:!1,isFocusVisible:t||Cn()}),[l,a]=E(!1),[i,s]=E(()=>o.current.isFocused&&o.current.isFocusVisible),u=B(()=>s(o.current.isFocused&&o.current.isFocusVisible),[]),f=B(p=>{o.current.isFocused=p,o.current.isFocusVisible=Cn(),a(p),u()},[u]);ri(p=>{o.current.isFocusVisible=p,u()},[n,l],{enabled:l,isTextInput:n});let{focusProps:d}=oi({isDisabled:r,onFocusChange:f}),{focusWithinProps:h}=li({isDisabled:!r,onFocusWithinChange:f});return{isFocused:l,isFocusVisible:i,focusProps:r?h:d}}var si=Object.defineProperty,ui=(e,t,n)=>t in e?si(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,un=(e,t,n)=>(ui(e,typeof t!="symbol"?t+"":t,n),n);let ci=class{constructor(){un(this,"current",this.detect()),un(this,"handoffState","pending"),un(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ye=new ci;function nt(e){var t;return ye.isServer?null:e==null?document:(t=e==null?void 0:e.ownerDocument)!=null?t:document}function An(e){var t,n;return ye.isServer?null:e==null?document:(n=(t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))!=null?n:document}function lr(e){var t,n;return(n=(t=An(e))==null?void 0:t.activeElement)!=null?n:null}function di(e){return lr(e)===e}function Et(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Ee(){let e=[],t={addEventListener(n,r,o,l){return n.addEventListener(r,o,l),t.add(()=>n.removeEventListener(r,o,l))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Et(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,o){let l=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:o}),this.add(()=>{Object.assign(n.style,{[r]:l})})},group(n){let r=Ee();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let o of e.splice(r,1))o()}},dispose(){for(let n of e.splice(0))n()}};return t}function St(){let[e]=E(Ee);return C(()=>()=>e.dispose(),[e]),e}let J=(e,t)=>{ye.isServer?C(e,t):He(e,t)};function _e(e){let t=N(e);return J(()=>{t.current=e},[e]),t}let A=function(e){let t=_e(e);return x.useCallback((...n)=>t.current(...n),[t])};function fi(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function pi(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function nl({disabled:e=!1}={}){let t=N(null),[n,r]=E(!1),o=St(),l=A(()=>{t.current=null,r(!1),o.dispose()}),a=A(i=>{if(o.dispose(),t.current===null){t.current=i.currentTarget,r(!0);{let s=nt(i.currentTarget);o.addEventListener(s,"pointerup",l,!1),o.addEventListener(s,"pointermove",u=>{if(t.current){let f=fi(u);r(pi(f,t.current.getBoundingClientRect()))}},!1),o.addEventListener(s,"pointercancel",l,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:a,onPointerUp:l,onClick:l}}}function ie(e){return Z(()=>e,Object.values(e))}let hi=V(void 0);function zt(){return j(hi)}function On(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function re(e,t,...n){if(e in t){let o=t[e];return typeof o=="function"?o(...n):o}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,re),r}var Je=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Je||{}),ke=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(ke||{});function q(){let e=_i();return B(t=>mi({mergeRefs:e,...t}),[e])}function mi({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:o,visible:l=!0,name:a,mergeRefs:i}){i=i??vi;let s=rl(t,e);if(l)return Ft(s,n,r,a,i);let u=o??0;if(u&2){let{static:f=!1,...d}=s;if(f)return Ft(d,n,r,a,i)}if(u&1){let{unmount:f=!0,...d}=s;return re(f?0:1,{0(){return null},1(){return Ft({...d,hidden:!0,style:{display:"none"}},n,r,a,i)}})}return Ft(s,n,r,a,i)}function Ft(e,t={},n,r,o){let{as:l=n,children:a,refName:i="ref",...s}=cn(e,["unmount","static"]),u=e.ref!==void 0?{[i]:e.ref}:{},f=typeof a=="function"?a(t):a;"className"in s&&s.className&&typeof s.className=="function"&&(s.className=s.className(t)),s["aria-labelledby"]&&s["aria-labelledby"]===s.id&&(s["aria-labelledby"]=void 0);let d={};if(t){let h=!1,p=[];for(let[m,g]of Object.entries(t))typeof g=="boolean"&&(h=!0),g===!0&&p.push(m.replace(/([A-Z])/g,b=>`-${b.toLowerCase()}`));if(h){d["data-headlessui-state"]=p.join(" ");for(let m of p)d[`data-${m}`]=""}}if(mt(l)&&(Object.keys(Ce(s)).length>0||Object.keys(Ce(d)).length>0))if(!et(f)||Array.isArray(f)&&f.length>1||gi(f)){if(Object.keys(Ce(s)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ce(s)).concat(Object.keys(Ce(d))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=f.props,p=h==null?void 0:h.className,m=typeof p=="function"?(..._)=>On(p(..._),s.className):On(p,s.className),g=m?{className:m}:{},b=rl(f.props,Ce(cn(s,["ref"])));for(let _ in d)_ in b&&delete d[_];return tr(f,Object.assign({},b,d,u,{ref:o(bi(f),u.ref)},g))}return ee(l,Object.assign({},cn(s,["ref"]),!mt(l)&&u,!mt(l)&&d),f)}function _i(){let e=N([]),t=B(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function vi(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function rl(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[o=>{var l;return(l=o==null?void 0:o.preventDefault)==null?void 0:l.call(o)}]);for(let r in n)Object.assign(t,{[r](o,...l){let a=n[r];for(let i of a){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;i(o,...l)}}});return t}function qt(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];for(let r in n)Object.assign(t,{[r](...o){let l=n[r];for(let a of l)a==null||a(...o)}});return t}function G(e){var t;return Object.assign(Zn(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ce(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function cn(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function bi(e){return x.version.split(".")[0]>="19"?e.props.ref:e.ref}function mt(e){return e===O||e===Symbol.for("react.fragment")}function gi(e){return mt(e.type)}let yi="button";function $i(e,t){var n;let r=zt(),{disabled:o=r||!1,autoFocus:l=!1,...a}=e,{isFocusVisible:i,focusProps:s}=Gt({autoFocus:l}),{isHovered:u,hoverProps:f}=or({isDisabled:o}),{pressed:d,pressProps:h}=nl({disabled:o}),p=qt({ref:t,type:(n=a.type)!=null?n:"button",disabled:o||void 0,autoFocus:l},s,f,h),m=ie({disabled:o,hover:u,focus:i,active:d,autofocus:l});return q()({ourProps:p,theirProps:a,slot:m,defaultTag:yi,name:"Button"})}let dn=G($i),wi="span";var gt=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(gt||{});function xi(e,t){var n;let{features:r=1,...o}=e,l={ref:t,"aria-hidden":(r&2)===2?!0:(n=o["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return q()({ourProps:l,theirProps:o,slot:{},defaultTag:wi,name:"Hidden"})}let yt=G(xi),Ei=V(void 0);function ol(){return j(Ei)}function Si(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function $e(e){return Si(e)&&"tagName"in e}function Pe(e){return $e(e)&&"accessKey"in e}function Ne(e){return $e(e)&&"tabIndex"in e}function ki(e){return $e(e)&&"style"in e}function Ni(e){return Pe(e)&&e.nodeName==="IFRAME"}function ll(e){return Pe(e)&&e.nodeName==="INPUT"}function Ur(e){return Pe(e)&&e.nodeName==="LABEL"}function Pi(e){return $e(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}let al=Symbol();function Ti(e,t=!0){return Object.assign(e,{[al]:t})}function te(...e){let t=N(e);C(()=>{t.current=e},[e]);let n=A(r=>{for(let o of t.current)o!=null&&(typeof o=="function"?o(r):o.current=r)});return e.every(r=>r==null||(r==null?void 0:r[al]))?void 0:n}let Yt=V(null);Yt.displayName="DescriptionContext";function il(){let e=j(Yt);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,il),t}return e}function Ci(){var e,t;return(t=(e=j(Yt))==null?void 0:e.value)!=null?t:void 0}function Fi(){let[e,t]=E([]);return[e.length>0?e.join(" "):void 0,Z(()=>function(n){let r=A(l=>(t(a=>[...a,l]),()=>t(a=>{let i=a.slice(),s=i.indexOf(l);return s!==-1&&i.splice(s,1),i}))),o=Z(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return x.createElement(Yt.Provider,{value:o},n.children)},[t])]}let Ai="p";function Oi(e,t){let n=ae(),r=zt(),{id:o=`headlessui-description-${n}`,...l}=e,a=il(),i=te(t);J(()=>a.register(o),[o,a.register]);let s=ie({...a.slot,disabled:r||!1}),u={ref:i,...a.props,id:o};return q()({ourProps:u,theirProps:l,slot:s,defaultTag:Ai,name:a.name||"Description"})}let Li=G(Oi),Di=Object.assign(Li,{});var de=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(de||{});let ar=V(null);ar.displayName="LabelContext";function sl(){let e=j(ar);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,sl),t}return e}function Ii(e){var t,n,r;let o=(n=(t=j(ar))==null?void 0:t.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[o,...e].filter(Boolean).join(" "):o}let Ri="label";function Mi(e,t){var n;let r=ae(),o=sl(),l=ol(),a=zt(),{id:i=`headlessui-label-${r}`,htmlFor:s=l??((n=o.props)==null?void 0:n.htmlFor),passive:u=!1,...f}=e,d=te(t);J(()=>o.register(i),[i,o.register]);let h=A(g=>{let b=g.currentTarget;if(!(g.target!==g.currentTarget&&Pi(g.target))&&(Ur(b)&&g.preventDefault(),o.props&&"onClick"in o.props&&typeof o.props.onClick=="function"&&o.props.onClick(g),Ur(b))){let _=document.getElementById(b.htmlFor);if(_){let y=_.getAttribute("disabled");if(y==="true"||y==="")return;let $=_.getAttribute("aria-disabled");if($==="true"||$==="")return;(ll(_)&&(_.type==="file"||_.type==="radio"||_.type==="checkbox")||_.role==="radio"||_.role==="checkbox"||_.role==="switch")&&_.click(),_.focus({preventScroll:!0})}}}),p=ie({...o.slot,disabled:a||!1}),m={ref:d,...o.props,id:i,htmlFor:s,onClick:h};return u&&("onClick"in m&&(delete m.htmlFor,delete m.onClick),"onClick"in f&&delete f.onClick),q()({ourProps:m,theirProps:f,slot:p,defaultTag:s?Ri:"div",name:o.name||"Label"})}let Ui=G(Mi);Object.assign(Ui,{});let Hi=V(()=>{});function ji({value:e,children:t}){return x.createElement(Hi.Provider,{value:e},t)}let ul=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var Wi=Object.defineProperty,Bi=(e,t,n)=>t in e?Wi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ki=(e,t,n)=>(Bi(e,t+"",n),n),cl=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},ce=(e,t,n)=>(cl(e,t,"read from private field"),n?n.call(e):t.get(e)),fn=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Hr=(e,t,n,r)=>(cl(e,t,"write to private field"),t.set(e,n),n),be,it,st;let Vi=class{constructor(t){fn(this,be,{}),fn(this,it,new ul(()=>new Set)),fn(this,st,new Set),Ki(this,"disposables",Ee()),Hr(this,be,t),ye.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return ce(this,be)}subscribe(t,n){if(ye.isServer)return()=>{};let r={selector:t,callback:n,current:t(ce(this,be))};return ce(this,st).add(r),this.disposables.add(()=>{ce(this,st).delete(r)})}on(t,n){return ye.isServer?()=>{}:(ce(this,it).get(t).add(n),this.disposables.add(()=>{ce(this,it).get(t).delete(n)}))}send(t){let n=this.reduce(ce(this,be),t);if(n!==ce(this,be)){Hr(this,be,n);for(let r of ce(this,st)){let o=r.selector(ce(this,be));dl(r.current,o)||(r.current=o,r.callback(o))}for(let r of ce(this,it).get(t.type))r(ce(this,be),t)}}};be=new WeakMap,it=new WeakMap,st=new WeakMap;function dl(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:pn(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:pn(e.entries(),t.entries()):jr(e)&&jr(t)?pn(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function pn(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function jr(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var Gi=Object.defineProperty,zi=(e,t,n)=>t in e?Gi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Wr=(e,t,n)=>(zi(e,typeof t!="symbol"?t+"":t,n),n),qi=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(qi||{});let Yi={0(e,t){let n=t.id,r=e.stack,o=e.stack.indexOf(n);if(o!==-1){let l=e.stack.slice();return l.splice(o,1),l.push(n),r=l,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let o=e.stack.slice();return o.splice(r,1),{...e,stack:o}}},Xi=class fl extends Vi{constructor(){super(...arguments),Wr(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),Wr(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new fl({stack:[]})}reduce(t,n){return re(n.type,Yi,t,n)}};const pl=new ul(()=>Xi.new());function Ji(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var hn={exports:{}},mn={};const Zi=Ji(Go);/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Br;function Qi(){if(Br)return mn;Br=1;var e=Zi;function t(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,o=e.useRef,l=e.useEffect,a=e.useMemo,i=e.useDebugValue;return mn.useSyncExternalStoreWithSelector=function(s,u,f,d,h){var p=o(null);if(p.current===null){var m={hasValue:!1,value:null};p.current=m}else m=p.current;p=a(function(){function b(w){if(!_){if(_=!0,y=w,w=d(w),h!==void 0&&m.hasValue){var S=m.value;if(h(S,w))return $=S}return $=w}if(S=$,n(y,w))return S;var L=d(w);return h!==void 0&&h(S,L)?(y=w,S):(y=w,$=L)}var _=!1,y,$,k=f===void 0?null:f;return[function(){return b(u())},k===null?void 0:function(){return b(k())}]},[u,f,d,h]);var g=r(s,p[0],p[1]);return l(function(){m.hasValue=!0,m.value=g},[g]),i(g),g},mn}var Kr;function es(){return Kr||(Kr=1,hn.exports=Qi()),hn.exports}var ts=es();function hl(e,t,n=dl){return ts.useSyncExternalStoreWithSelector(A(r=>e.subscribe(ns,r)),A(()=>e.state),A(()=>e.state),A(t),n)}function ns(e){return e}function kt(e,t){let n=ae(),r=pl.get(t),[o,l]=hl(r,B(a=>[r.selectors.isTop(a,n),r.selectors.inStack(a,n)],[r,n]));return J(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?l?o:!0:!1}let Ln=new Map,_t=new Map;function Vr(e){var t;let n=(t=_t.get(e))!=null?t:0;return _t.set(e,n+1),n!==0?()=>Gr(e):(Ln.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Gr(e))}function Gr(e){var t;let n=(t=_t.get(e))!=null?t:1;if(n===1?_t.delete(e):_t.set(e,n-1),n!==1)return;let r=Ln.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,Ln.delete(e))}function rs(e,{allowed:t,disallowed:n}={}){let r=kt(e,"inert-others");J(()=>{var o,l;if(!r)return;let a=Ee();for(let s of(o=n==null?void 0:n())!=null?o:[])s&&a.add(Vr(s));let i=(l=t==null?void 0:t())!=null?l:[];for(let s of i){if(!s)continue;let u=nt(s);if(!u)continue;let f=s.parentElement;for(;f&&f!==u.body;){for(let d of f.children)i.some(h=>d.contains(h))||a.add(Vr(d));f=f.parentElement}}return a.dispose},[r,t,n])}function os(e,t,n){let r=_e(o=>{let l=o.getBoundingClientRect();l.x===0&&l.y===0&&l.width===0&&l.height===0&&n()});C(()=>{if(!e)return;let o=t===null?null:Pe(t)?t:t.current;if(!o)return;let l=Ee();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>r.current(o));a.observe(o),l.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>r.current(o));a.observe(o),l.add(()=>a.disconnect())}return()=>l.dispose()},[t,r,e])}let jt=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),ls=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var X=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(X||{}),De=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(De||{}),as=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(as||{});function is(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(jt)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function ss(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(ls)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var ml=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(ml||{});function us(e,t=0){var n;return e===((n=nt(e))==null?void 0:n.body)?!1:re(t,{0(){return e.matches(jt)},1(){let r=e;for(;r!==null;){if(r.matches(jt))return!0;r=r.parentElement}return!1}})}var cs=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(cs||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function we(e){e==null||e.focus({preventScroll:!0})}let ds=["textarea","input"].join(",");function fs(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,ds))!=null?n:!1}function Ve(e,t=n=>n){return e.slice().sort((n,r)=>{let o=t(n),l=t(r);if(o===null||l===null)return 0;let a=o.compareDocumentPosition(l);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function me(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:o=[]}={}){let l=Array.isArray(e)?e.length>0?An(e[0]):document:An(e),a=Array.isArray(e)?n?Ve(e):e:t&64?ss(e):is(e);o.length>0&&a.length>1&&(a=a.filter(p=>!o.some(m=>m!=null&&"current"in m?(m==null?void 0:m.current)===p:m===p))),r=r??(l==null?void 0:l.activeElement);let i=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),s=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(r))-1;if(t&4)return Math.max(0,a.indexOf(r))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},f=0,d=a.length,h;do{if(f>=d||f+d<=0)return 0;let p=s+f;if(t&16)p=(p+d)%d;else{if(p<0)return 3;if(p>=d)return 1}h=a[p],h==null||h.focus(u),f+=i}while(h!==lr(h));return t&6&&fs(h)&&h.select(),2}function _l(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function ps(){return/Android/gi.test(window.navigator.userAgent)}function zr(){return _l()||ps()}function At(e,t,n,r){let o=_e(n);C(()=>{if(!e)return;function l(a){o.current(a)}return document.addEventListener(t,l,r),()=>document.removeEventListener(t,l,r)},[e,t,r])}function vl(e,t,n,r){let o=_e(n);C(()=>{if(!e)return;function l(a){o.current(a)}return window.addEventListener(t,l,r),()=>window.removeEventListener(t,l,r)},[e,t,r])}const qr=30;function hs(e,t,n){let r=_e(n),o=B(function(i,s){if(i.defaultPrevented)return;let u=s(i);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let f=(function d(h){return typeof h=="function"?d(h()):Array.isArray(h)||h instanceof Set?h:[h]})(t);for(let d of f)if(d!==null&&(d.contains(u)||i.composed&&i.composedPath().includes(d)))return;return!us(u,ml.Loose)&&u.tabIndex!==-1&&i.preventDefault(),r.current(i,u)},[r,t]),l=N(null);At(e,"pointerdown",i=>{var s,u;zr()||(l.current=((u=(s=i.composedPath)==null?void 0:s.call(i))==null?void 0:u[0])||i.target)},!0),At(e,"pointerup",i=>{if(zr()||!l.current)return;let s=l.current;return l.current=null,o(i,()=>s)},!0);let a=N({x:0,y:0});At(e,"touchstart",i=>{a.current.x=i.touches[0].clientX,a.current.y=i.touches[0].clientY},!0),At(e,"touchend",i=>{let s={x:i.changedTouches[0].clientX,y:i.changedTouches[0].clientY};if(!(Math.abs(s.x-a.current.x)>=qr||Math.abs(s.y-a.current.y)>=qr))return o(i,()=>Ne(i.target)?i.target:null)},!0),vl(e,"blur",i=>o(i,()=>Ni(window.document.activeElement)?window.document.activeElement:null),!0)}function ir(...e){return Z(()=>nt(...e),[...e])}function bl(e,t,n,r){let o=_e(n);C(()=>{e=e??window;function l(a){o.current(a)}return e.addEventListener(t,l,r),()=>e.removeEventListener(t,l,r)},[e,t,r])}function ms(e,t){return Z(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function _s(e){return Kt(e.subscribe,e.getSnapshot,e.getSnapshot)}function vs(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(o){return r.add(o),()=>r.delete(o)},dispatch(o,...l){let a=t[o].call(n,...l);a&&(n=a,r.forEach(i=>i()))}}}function bs(){let e;return{before({doc:t}){var n;let r=t.documentElement,o=(n=t.defaultView)!=null?n:window;e=Math.max(0,o.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,o=Math.max(0,r.clientWidth-r.offsetWidth),l=Math.max(0,e-o);n.style(r,"paddingRight",`${l}px`)}}}function gs(){return _l()?{before({doc:e,d:t,meta:n}){function r(o){for(let l of n().containers)for(let a of l())if(a.contains(o))return!0;return!1}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let i=Ee();i.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>i.dispose()))}let l=(o=window.scrollY)!=null?o:window.pageYOffset,a=null;t.addEventListener(e,"click",i=>{if(Ne(i.target))try{let s=i.target.closest("a");if(!s)return;let{hash:u}=new URL(s.href),f=e.querySelector(u);Ne(f)&&!r(f)&&(a=f)}catch{}},!0),t.group(i=>{t.addEventListener(e,"touchstart",s=>{if(i.dispose(),Ne(s.target)&&ki(s.target))if(r(s.target)){let u=s.target;for(;u.parentElement&&r(u.parentElement);)u=u.parentElement;i.style(u,"overscrollBehavior","contain")}else i.style(s.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",i=>{if(Ne(i.target)){if(ll(i.target))return;if(r(i.target)){let s=i.target;for(;s.parentElement&&s.dataset.headlessuiPortal!==""&&!(s.scrollHeight>s.clientHeight||s.scrollWidth>s.clientWidth);)s=s.parentElement;s.dataset.headlessuiPortal===""&&i.preventDefault()}else i.preventDefault()}},{passive:!1}),t.add(()=>{var i;let s=(i=window.scrollY)!=null?i:window.pageYOffset;l!==s&&window.scrollTo(0,l),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function ys(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Yr(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Ie=vs(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Ee(),meta:new Set,computedMeta:{}};return r.count++,r.meta.add(t),r.computedMeta=Yr(r.meta),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t),n.computedMeta=Yr(n.meta)),this},SCROLL_PREVENT(e){let t={doc:e.doc,d:e.d,meta(){return e.computedMeta}},n=[gs(),bs(),ys()];n.forEach(({before:r})=>r==null?void 0:r(t)),n.forEach(({after:r})=>r==null?void 0:r(t))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Ie.subscribe(()=>{let e=Ie.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",o=n.count!==0;(o&&!r||!o&&r)&&Ie.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Ie.dispatch("TEARDOWN",n)}});function $s(e,t,n=()=>({containers:[]})){let r=_s(Ie),o=t?r.get(t):void 0,l=o?o.count>0:!1;return J(()=>{if(!(!t||!e))return Ie.dispatch("PUSH",t,n),()=>Ie.dispatch("POP",t,n)},[e,t]),l}function ws(e,t,n=()=>[document.body]){let r=kt(e,"scroll-lock");$s(r,t,o=>{var l;return{containers:[...(l=o.containers)!=null?l:[],n]}})}function xs(e=0){let[t,n]=E(e),r=B(s=>n(s),[]),o=B(s=>n(u=>u|s),[]),l=B(s=>(t&s)===s,[t]),a=B(s=>n(u=>u&~s),[]),i=B(s=>n(u=>u^s),[]);return{flags:t,setFlag:r,addFlag:o,hasFlag:l,removeFlag:a,toggleFlag:i}}var Es={},Xr,Jr;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Xr=process==null?void 0:Es)==null?void 0:Xr.NODE_ENV)==="test"&&typeof((Jr=Element==null?void 0:Element.prototype)==null?void 0:Jr.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Ss=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(Ss||{});function ks(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function Ns(e,t,n,r){let[o,l]=E(n),{hasFlag:a,addFlag:i,removeFlag:s}=xs(e&&o?3:0),u=N(!1),f=N(!1),d=St();return J(()=>{var h;if(e){if(n&&l(!0),!t){n&&i(3);return}return(h=r==null?void 0:r.start)==null||h.call(r,n),Ps(t,{inFlight:u,prepare(){f.current?f.current=!1:f.current=u.current,u.current=!0,!f.current&&(n?(i(3),s(4)):(i(4),s(2)))},run(){f.current?n?(s(3),i(4)):(s(4),i(3)):n?s(1):i(1)},done(){var p;f.current&&Fs(t)||(u.current=!1,s(7),n||l(!1),(p=r==null?void 0:r.end)==null||p.call(r,n))}})}},[e,n,t,d]),e?[o,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Ps(e,{prepare:t,run:n,done:r,inFlight:o}){let l=Ee();return Cs(e,{prepare:t,inFlight:o}),l.nextFrame(()=>{n(),l.requestAnimationFrame(()=>{l.add(Ts(e,r))})}),l.dispose}function Ts(e,t){var n,r;let o=Ee();if(!e)return o.dispose;let l=!1;o.add(()=>{l=!0});let a=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(i=>i instanceof CSSTransition))!=null?r:[];return a.length===0?(t(),o.dispose):(Promise.allSettled(a.map(i=>i.finished)).then(()=>{l||t()}),o.dispose)}function Cs(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function Fs(e){var t,n;return((n=(t=e.getAnimations)==null?void 0:t.call(e))!=null?n:[]).some(r=>r instanceof CSSTransition&&r.playState!=="finished")}function sr(e,t){let n=N([]),r=A(e);C(()=>{let o=[...n.current];for(let[l,a]of t.entries())if(n.current[l]!==a){let i=r(t,o);return n.current=t,i}},[r,...t])}let Xt=V(null);Xt.displayName="OpenClosedContext";var ve=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(ve||{});function Jt(){return j(Xt)}function As({value:e,children:t}){return x.createElement(Xt.Provider,{value:e},t)}function Os({children:e}){return x.createElement(Xt.Provider,{value:null},e)}function Ls(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Se=[];Ls(()=>{function e(t){if(!Ne(t.target)||t.target===document.body||Se[0]===t.target)return;let n=t.target;n=n.closest(jt),Se.unshift(n??t.target),Se=Se.filter(r=>r!=null&&r.isConnected),Se.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function gl(e){let t=A(e),n=N(!1);C(()=>(n.current=!1,()=>{n.current=!0,Et(()=>{n.current&&t()})}),[t])}let yl=V(!1);function Ds(){return j(yl)}function Zr(e){return x.createElement(yl.Provider,{value:e.force},e.children)}function Is(e){let t=Ds(),n=j(wl),[r,o]=E(()=>{var l;if(!t&&n!==null)return(l=n.current)!=null?l:null;if(ye.isServer)return null;let a=e==null?void 0:e.getElementById("headlessui-portal-root");if(a)return a;if(e===null)return null;let i=e.createElement("div");return i.setAttribute("id","headlessui-portal-root"),e.body.appendChild(i)});return C(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),C(()=>{t||n!==null&&o(n.current)},[n,o,t]),r}let $l=O,Rs=G(function(e,t){let{ownerDocument:n=null,...r}=e,o=N(null),l=te(Ti(h=>{o.current=h}),t),a=ir(o.current),i=n??a,s=Is(i),u=j(Dn),f=St(),d=q();return gl(()=>{var h;s&&s.childNodes.length<=0&&((h=s.parentElement)==null||h.removeChild(s))}),s?Qn(x.createElement("div",{"data-headlessui-portal":"",ref:h=>{f.dispose(),u&&h&&f.add(u.register(h))}},d({ourProps:{ref:l},theirProps:r,slot:{},defaultTag:$l,name:"Portal"})),s):null});function Ms(e,t){let n=te(t),{enabled:r=!0,ownerDocument:o,...l}=e,a=q();return r?x.createElement(Rs,{...l,ownerDocument:o,ref:n}):a({ourProps:{ref:n},theirProps:l,slot:{},defaultTag:$l,name:"Portal"})}let Us=O,wl=V(null);function Hs(e,t){let{target:n,...r}=e,o={ref:te(t)},l=q();return x.createElement(wl.Provider,{value:n},l({ourProps:o,theirProps:r,defaultTag:Us,name:"Popover.Group"}))}let Dn=V(null);function js(){let e=j(Dn),t=N([]),n=A(l=>(t.current.push(l),e&&e.register(l),()=>r(l))),r=A(l=>{let a=t.current.indexOf(l);a!==-1&&t.current.splice(a,1),e&&e.unregister(l)}),o=Z(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,Z(()=>function({children:l}){return x.createElement(Dn.Provider,{value:o},l)},[o])]}let Ws=G(Ms),xl=G(Hs),Bs=Object.assign(Ws,{Group:xl});function Ks(e,t=typeof document<"u"?document.defaultView:null,n){let r=kt(e,"escape");bl(t,"keydown",o=>{r&&(o.defaultPrevented||o.key===de.Escape&&n(o))})}function Vs(){var e;let[t]=E(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=E((e=t==null?void 0:t.matches)!=null?e:!1);return J(()=>{if(!t)return;function o(l){r(l.matches)}return t.addEventListener("change",o),()=>t.removeEventListener("change",o)},[t]),n}function Gs({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=A(()=>{var o,l;let a=nt(n),i=[];for(let s of e)s!==null&&($e(s)?i.push(s):"current"in s&&$e(s.current)&&i.push(s.current));if(t!=null&&t.current)for(let s of t.current)i.push(s);for(let s of(o=a==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?o:[])s!==document.body&&s!==document.head&&$e(s)&&s.id!=="headlessui-portal-root"&&(n&&(s.contains(n)||s.contains((l=n==null?void 0:n.getRootNode())==null?void 0:l.host))||i.some(u=>s.contains(u))||i.push(s));return i});return{resolveContainers:r,contains:A(o=>r().some(l=>l.contains(o)))}}let El=V(null);function Qr({children:e,node:t}){let[n,r]=E(null),o=Sl(t??n);return x.createElement(El.Provider,{value:o},e,o===null&&x.createElement(yt,{features:gt.Hidden,ref:l=>{var a,i;if(l){for(let s of(i=(a=nt(l))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?i:[])if(s!==document.body&&s!==document.head&&$e(s)&&s!=null&&s.contains(l)){r(s);break}}}}))}function Sl(e=null){var t;return(t=j(El))!=null?t:e}function zs(){let e=typeof document>"u";return(t=>t.useSyncExternalStore)(Go)(()=>()=>{},()=>!1,()=>!e)}function Zt(){let e=zs(),[t,n]=E(ye.isHandoffComplete);return t&&ye.isHandoffComplete===!1&&n(!1),C(()=>{t!==!0&&n(!0)},[t]),C(()=>ye.handoff(),[]),e?!1:t}function Qt(){let e=N(!1);return J(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var ut=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(ut||{});function qs(){let e=N(0);return vl(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function kl(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)$e(n.current)&&t.add(n.current);return t}let Ys="div";var Ae=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Ae||{});function Xs(e,t){let n=N(null),r=te(n,t),{initialFocus:o,initialFocusFallback:l,containers:a,features:i=15,...s}=e;Zt()||(i=0);let u=ir(n.current);eu(i,{ownerDocument:u});let f=tu(i,{ownerDocument:u,container:n,initialFocus:o,initialFocusFallback:l});nu(i,{ownerDocument:u,container:n,containers:a,previousActiveElement:f});let d=qs(),h=A(y=>{if(!Pe(n.current))return;let $=n.current;(k=>k())(()=>{re(d.current,{[ut.Forwards]:()=>{me($,X.First,{skipElements:[y.relatedTarget,l]})},[ut.Backwards]:()=>{me($,X.Last,{skipElements:[y.relatedTarget,l]})}})})}),p=kt(!!(i&2),"focus-trap#tab-lock"),m=St(),g=N(!1),b={ref:r,onKeyDown(y){y.key=="Tab"&&(g.current=!0,m.requestAnimationFrame(()=>{g.current=!1}))},onBlur(y){if(!(i&4))return;let $=kl(a);Pe(n.current)&&$.add(n.current);let k=y.relatedTarget;Ne(k)&&k.dataset.headlessuiFocusGuard!=="true"&&(Nl($,k)||(g.current?me(n.current,re(d.current,{[ut.Forwards]:()=>X.Next,[ut.Backwards]:()=>X.Previous})|X.WrapAround,{relativeTo:y.target}):Ne(y.target)&&we(y.target)))}},_=q();return x.createElement(x.Fragment,null,p&&x.createElement(yt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:gt.Focusable}),_({ourProps:b,theirProps:s,defaultTag:Ys,name:"FocusTrap"}),p&&x.createElement(yt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:gt.Focusable}))}let Js=G(Xs),Zs=Object.assign(Js,{features:Ae});function Qs(e=!0){let t=N(Se.slice());return sr(([n],[r])=>{r===!0&&n===!1&&Et(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Se.slice())},[e,Se,t]),A(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function eu(e,{ownerDocument:t}){let n=!!(e&8),r=Qs(n);sr(()=>{n||di(t==null?void 0:t.body)&&we(r())},[n]),gl(()=>{n&&we(r())})}function tu(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:o}){let l=N(null),a=kt(!!(e&1),"focus-trap#initial-focus"),i=Qt();return sr(()=>{if(e===0)return;if(!a){o!=null&&o.current&&we(o.current);return}let s=n.current;s&&Et(()=>{if(!i.current)return;let u=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){l.current=u;return}}else if(s.contains(u)){l.current=u;return}if(r!=null&&r.current)we(r.current);else{if(e&16){if(me(s,X.First|X.AutoFocus)!==De.Error)return}else if(me(s,X.First)!==De.Error)return;if(o!=null&&o.current&&(we(o.current),(t==null?void 0:t.activeElement)===o.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}l.current=t==null?void 0:t.activeElement})},[o,a,e]),l}function nu(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:o}){let l=Qt(),a=!!(e&4);bl(t==null?void 0:t.defaultView,"focus",i=>{if(!a||!l.current)return;let s=kl(r);Pe(n.current)&&s.add(n.current);let u=o.current;if(!u)return;let f=i.target;Pe(f)?Nl(s,f)?(o.current=f,we(f)):(i.preventDefault(),i.stopPropagation(),we(u)):we(o.current)},!0)}function Nl(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function Pl(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!mt((t=e.as)!=null?t:Cl)||x.Children.count(e.children)===1}let en=V(null);en.displayName="TransitionContext";var ru=(e=>(e.Visible="visible",e.Hidden="hidden",e))(ru||{});function ou(){let e=j(en);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function lu(){let e=j(tn);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let tn=V(null);tn.displayName="NestingContext";function nn(e){return"children"in e?nn(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function Tl(e,t){let n=_e(e),r=N([]),o=Qt(),l=St(),a=A((p,m=ke.Hidden)=>{let g=r.current.findIndex(({el:b})=>b===p);g!==-1&&(re(m,{[ke.Unmount](){r.current.splice(g,1)},[ke.Hidden](){r.current[g].state="hidden"}}),l.microTask(()=>{var b;!nn(r)&&o.current&&((b=n.current)==null||b.call(n))}))}),i=A(p=>{let m=r.current.find(({el:g})=>g===p);return m?m.state!=="visible"&&(m.state="visible"):r.current.push({el:p,state:"visible"}),()=>a(p,ke.Unmount)}),s=N([]),u=N(Promise.resolve()),f=N({enter:[],leave:[]}),d=A((p,m,g)=>{s.current.splice(0),t&&(t.chains.current[m]=t.chains.current[m].filter(([b])=>b!==p)),t==null||t.chains.current[m].push([p,new Promise(b=>{s.current.push(b)})]),t==null||t.chains.current[m].push([p,new Promise(b=>{Promise.all(f.current[m].map(([_,y])=>y)).then(()=>b())})]),m==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>g(m)):g(m)}),h=A((p,m,g)=>{Promise.all(f.current[m].splice(0).map(([b,_])=>_)).then(()=>{var b;(b=s.current.shift())==null||b()}).then(()=>g(m))});return Z(()=>({children:r,register:i,unregister:a,onStart:d,onStop:h,wait:u,chains:f}),[i,a,r,d,h,f,u])}let Cl=O,Fl=Je.RenderStrategy;function au(e,t){var n,r;let{transition:o=!0,beforeEnter:l,afterEnter:a,beforeLeave:i,afterLeave:s,enter:u,enterFrom:f,enterTo:d,entered:h,leave:p,leaveFrom:m,leaveTo:g,...b}=e,[_,y]=E(null),$=N(null),k=Pl(e),w=te(...k?[$,t,y]:t===null?[]:[t]),S=(n=b.unmount)==null||n?ke.Unmount:ke.Hidden,{show:L,appear:Y,initial:z}=ou(),[T,I]=E(L?"visible":"hidden"),M=lu(),{register:U,unregister:v}=M;J(()=>U($),[U,$]),J(()=>{if(S===ke.Hidden&&$.current){if(L&&T!=="visible"){I("visible");return}return re(T,{hidden:()=>v($),visible:()=>U($)})}},[T,$,U,v,L,S]);let P=Zt();J(()=>{if(k&&P&&T==="visible"&&$.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[$,T,P,k]);let Q=z&&!Y,oe=Y&&L&&z,se=N(!1),ue=Tl(()=>{se.current||(I("hidden"),v($))},M),R=A(ln=>{se.current=!0;let Nt=ln?"enter":"leave";ue.onStart($,Nt,ot=>{ot==="enter"?l==null||l():ot==="leave"&&(i==null||i())})}),W=A(ln=>{let Nt=ln?"enter":"leave";se.current=!1,ue.onStop($,Nt,ot=>{ot==="enter"?a==null||a():ot==="leave"&&(s==null||s())}),Nt==="leave"&&!nn(ue)&&(I("hidden"),v($))});C(()=>{k&&o||(R(L),W(L))},[L,k,o]);let he=!(!o||!k||!P||Q),[,D]=Ns(he,_,L,{start:R,end:W}),We=Ce({ref:w,className:((r=On(b.className,oe&&u,oe&&f,D.enter&&u,D.enter&&D.closed&&f,D.enter&&!D.closed&&d,D.leave&&p,D.leave&&!D.closed&&m,D.leave&&D.closed&&g,!D.transition&&L&&h))==null?void 0:r.trim())||void 0,...ks(D)}),rt=0;T==="visible"&&(rt|=ve.Open),T==="hidden"&&(rt|=ve.Closed),L&&T==="hidden"&&(rt|=ve.Opening),!L&&T==="visible"&&(rt|=ve.Closing);let Gl=q();return x.createElement(tn.Provider,{value:ue},x.createElement(As,{value:rt},Gl({ourProps:We,theirProps:b,defaultTag:Cl,features:Fl,visible:T==="visible",name:"Transition.Child"})))}function iu(e,t){let{show:n,appear:r=!1,unmount:o=!0,...l}=e,a=N(null),i=Pl(e),s=te(...i?[a,t]:t===null?[]:[t]);Zt();let u=Jt();if(n===void 0&&u!==null&&(n=(u&ve.Open)===ve.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[f,d]=E(n?"visible":"hidden"),h=Tl(()=>{n||d("hidden")}),[p,m]=E(!0),g=N([n]);J(()=>{p!==!1&&g.current[g.current.length-1]!==n&&(g.current.push(n),m(!1))},[g,n]);let b=Z(()=>({show:n,appear:r,initial:p}),[n,r,p]);J(()=>{n?d("visible"):!nn(h)&&a.current!==null&&d("hidden")},[n,h]);let _={unmount:o},y=A(()=>{var w;p&&m(!1),(w=e.beforeEnter)==null||w.call(e)}),$=A(()=>{var w;p&&m(!1),(w=e.beforeLeave)==null||w.call(e)}),k=q();return x.createElement(tn.Provider,{value:h},x.createElement(en.Provider,{value:b},k({ourProps:{..._,as:O,children:x.createElement(Al,{ref:s,..._,...l,beforeEnter:y,beforeLeave:$})},theirProps:{},defaultTag:O,features:Fl,visible:f==="visible",name:"Transition"})))}function su(e,t){let n=j(en)!==null,r=Jt()!==null;return x.createElement(x.Fragment,null,!n&&r?x.createElement(In,{ref:t,...e}):x.createElement(Al,{ref:t,...e}))}let In=G(iu),Al=G(au),ur=G(su),uu=Object.assign(In,{Child:ur,Root:In});var cu=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(cu||{}),du=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(du||{});let fu={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},cr=V(null);cr.displayName="DialogContext";function rn(e){let t=j(cr);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,rn),n}return t}function pu(e,t){return re(t.type,fu,e,t)}let eo=G(function(e,t){let n=ae(),{id:r=`headlessui-dialog-${n}`,open:o,onClose:l,initialFocus:a,role:i="dialog",autoFocus:s=!0,__demoMode:u=!1,unmount:f=!1,...d}=e,h=N(!1);i=(function(){return i==="dialog"||i==="alertdialog"?i:(h.current||(h.current=!0,console.warn(`Invalid role [${i}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")})();let p=Jt();o===void 0&&p!==null&&(o=(p&ve.Open)===ve.Open);let m=N(null),g=te(m,t),b=ir(m.current),_=o?0:1,[y,$]=Qe(pu,{titleId:null,descriptionId:null,panelRef:jn()}),k=A(()=>l(!1)),w=A(D=>$({type:0,id:D})),S=Zt()?_===0:!1,[L,Y]=js(),z={get current(){var D;return(D=y.panelRef.current)!=null?D:m.current}},T=Sl(),{resolveContainers:I}=Gs({mainTreeNode:T,portals:L,defaultContainers:[z]}),M=p!==null?(p&ve.Closing)===ve.Closing:!1;rs(u||M?!1:S,{allowed:A(()=>{var D,We;return[(We=(D=m.current)==null?void 0:D.closest("[data-headlessui-portal]"))!=null?We:null]}),disallowed:A(()=>{var D;return[(D=T==null?void 0:T.closest("body > *:not(#headlessui-portal-root)"))!=null?D:null]})});let U=pl.get(null);J(()=>{if(S)return U.actions.push(r),()=>U.actions.pop(r)},[U,r,S]);let v=hl(U,B(D=>U.selectors.isTop(D,r),[U,r]));hs(v,I,D=>{D.preventDefault(),k()}),Ks(v,b==null?void 0:b.defaultView,D=>{D.preventDefault(),D.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),k()}),ws(u||M?!1:S,b,I),os(S,m,k);let[P,Q]=Fi(),oe=Z(()=>[{dialogState:_,close:k,setTitleId:w,unmount:f},y],[_,k,w,f,y]),se=ie({open:_===0}),ue={ref:g,id:r,role:i,tabIndex:-1,"aria-modal":u?void 0:_===0?!0:void 0,"aria-labelledby":y.titleId,"aria-describedby":P,unmount:f},R=!Vs(),W=Ae.None;S&&!u&&(W|=Ae.RestoreFocus,W|=Ae.TabLock,s&&(W|=Ae.AutoFocus),R&&(W|=Ae.InitialFocus));let he=q();return x.createElement(Os,null,x.createElement(Zr,{force:!0},x.createElement(Bs,null,x.createElement(cr.Provider,{value:oe},x.createElement(xl,{target:m},x.createElement(Zr,{force:!1},x.createElement(Q,{slot:se},x.createElement(Y,null,x.createElement(Zs,{initialFocus:a,initialFocusFallback:m,containers:I,features:W},x.createElement(ji,{value:k},he({ourProps:ue,theirProps:d,slot:se,defaultTag:hu,features:mu,visible:_===0,name:"Dialog"})))))))))))}),hu="div",mu=Je.RenderStrategy|Je.Static;function _u(e,t){let{transition:n=!1,open:r,...o}=e,l=Jt(),a=e.hasOwnProperty("open")||l!==null,i=e.hasOwnProperty("onClose");if(!a&&!i)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!i)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!l&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!o.static?x.createElement(Qr,null,x.createElement(uu,{show:r,transition:n,unmount:o.unmount},x.createElement(eo,{ref:t,...o}))):x.createElement(Qr,null,x.createElement(eo,{ref:t,open:r,...o}))}let vu="div";function bu(e,t){let n=ae(),{id:r=`headlessui-dialog-panel-${n}`,transition:o=!1,...l}=e,[{dialogState:a,unmount:i},s]=rn("Dialog.Panel"),u=te(t,s.panelRef),f=ie({open:a===0}),d=A(b=>{b.stopPropagation()}),h={ref:u,id:r,onClick:d},p=o?ur:O,m=o?{unmount:i}:{},g=q();return x.createElement(p,{...m},g({ourProps:h,theirProps:l,slot:f,defaultTag:vu,name:"Dialog.Panel"}))}let gu="div";function yu(e,t){let{transition:n=!1,...r}=e,[{dialogState:o,unmount:l}]=rn("Dialog.Backdrop"),a=ie({open:o===0}),i={ref:t,"aria-hidden":!0},s=n?ur:O,u=n?{unmount:l}:{},f=q();return x.createElement(s,{...u},f({ourProps:i,theirProps:r,slot:a,defaultTag:gu,name:"Dialog.Backdrop"}))}let $u="h2";function wu(e,t){let n=ae(),{id:r=`headlessui-dialog-title-${n}`,...o}=e,[{dialogState:l,setTitleId:a}]=rn("Dialog.Title"),i=te(t);C(()=>(a(r),()=>a(null)),[r,a]);let s=ie({open:l===0}),u={ref:i,id:r};return q()({ourProps:u,theirProps:o,slot:s,defaultTag:$u,name:"Dialog.Title"})}let xu=G(_u),Eu=G(bu),Su=G(yu),ku=G(wu),Nu=Object.assign(xu,{Panel:Eu,Title:ku,Description:Di}),Pu="input";function Tu(e,t){let n=ae(),r=ol(),o=zt(),{id:l=r||`headlessui-input-${n}`,disabled:a=o||!1,autoFocus:i=!1,invalid:s=!1,...u}=e,f=Ii(),d=Ci(),{isFocused:h,focusProps:p}=Gt({autoFocus:i}),{isHovered:m,hoverProps:g}=or({isDisabled:a}),b=qt({ref:t,id:l,"aria-labelledby":f,"aria-describedby":d,"aria-invalid":s?"true":void 0,disabled:a||void 0,autoFocus:i},p,g),_=ie({disabled:a,invalid:s,hover:m,focus:h,autofocus:i});return q()({ourProps:b,theirProps:u,slot:_,defaultTag:Pu,name:"Input"})}let Cu=G(Tu);function Fu({onFocus:e}){let[t,n]=E(!0),r=Qt();return t?x.createElement(yt,{as:"button",type:"button",features:gt.Focusable,onFocus:o=>{o.preventDefault();let l,a=50;function i(){if(a--<=0){l&&cancelAnimationFrame(l);return}if(e()){if(cancelAnimationFrame(l),!r.current)return;n(!1);return}l=requestAnimationFrame(i)}l=requestAnimationFrame(i)}}):null}const Ol=V(null);function Au(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let o=(n=r.get(t))!=null?n:0;r.set(t,o+1);let l=Array.from(r.keys()).indexOf(t);function a(){let i=r.get(t);i>1?r.set(t,i-1):r.delete(t)}return[l,a]}}}function Ou({children:e}){let t=N(Au());return ee(Ol.Provider,{value:t},e)}function Ll(e){let t=j(Ol);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=ae(),[r,o]=t.current.get(e,n);return C(()=>o,[]),r}var Lu=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Lu||{}),Du=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(Du||{}),Iu=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(Iu||{});let Ru={0(e,t){var n;let r=Ve(e.tabs,f=>f.current),o=Ve(e.panels,f=>f.current),l=r.filter(f=>{var d;return!((d=f.current)!=null&&d.hasAttribute("disabled"))}),a={...e,tabs:r,panels:o};if(t.index<0||t.index>r.length-1){let f=re(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>re(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(l.length===0)return a;let d=re(f,{0:()=>r.indexOf(l[0]),1:()=>r.indexOf(l[l.length-1])});return{...a,selectedIndex:d===-1?e.selectedIndex:d}}let i=r.slice(0,t.index),s=[...r.slice(t.index),...i].find(f=>l.includes(f));if(!s)return a;let u=(n=r.indexOf(s))!=null?n:e.selectedIndex;return u===-1&&(u=e.selectedIndex),{...a,selectedIndex:u}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=Ve([...e.tabs,t.tab],l=>l.current),o=e.selectedIndex;return e.info.current.isControlled||(o=r.indexOf(n),o===-1&&(o=e.selectedIndex)),{...e,tabs:r,selectedIndex:o}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:Ve([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},dr=V(null);dr.displayName="TabsDataContext";function Ze(e){let t=j(dr);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ze),n}return t}let fr=V(null);fr.displayName="TabsActionsContext";function pr(e){let t=j(fr);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,pr),n}return t}function Mu(e,t){return re(t.type,Ru,e,t)}let Uu="div";function Hu(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:o=!1,onChange:l,selectedIndex:a=null,...i}=e;const s=r?"vertical":"horizontal",u=o?"manual":"auto";let f=a!==null,d=_e({isControlled:f}),h=te(t),[p,m]=Qe(Mu,{info:d,selectedIndex:a??n,tabs:[],panels:[]}),g=ie({selectedIndex:p.selectedIndex}),b=_e(l||(()=>{})),_=_e(p.tabs),y=Z(()=>({orientation:s,activation:u,...p}),[s,u,p]),$=A(T=>(m({type:1,tab:T}),()=>m({type:2,tab:T}))),k=A(T=>(m({type:3,panel:T}),()=>m({type:4,panel:T}))),w=A(T=>{S.current!==T&&b.current(T),f||m({type:0,index:T})}),S=_e(f?e.selectedIndex:p.selectedIndex),L=Z(()=>({registerTab:$,registerPanel:k,change:w}),[]);J(()=>{m({type:0,index:a??n})},[a]),J(()=>{if(S.current===void 0||p.tabs.length<=0)return;let T=Ve(p.tabs,I=>I.current);T.some((I,M)=>p.tabs[M]!==I)&&w(T.indexOf(p.tabs[S.current]))});let Y={ref:h},z=q();return x.createElement(Ou,null,x.createElement(fr.Provider,{value:L},x.createElement(dr.Provider,{value:y},y.tabs.length<=0&&x.createElement(Fu,{onFocus:()=>{var T,I;for(let M of _.current)if(((T=M.current)==null?void 0:T.tabIndex)===0)return(I=M.current)==null||I.focus(),!0;return!1}}),z({ourProps:Y,theirProps:i,slot:g,defaultTag:Uu,name:"Tabs"}))))}let ju="div";function Wu(e,t){let{orientation:n,selectedIndex:r}=Ze("Tab.List"),o=te(t),l=ie({selectedIndex:r}),a=e,i={ref:o,role:"tablist","aria-orientation":n};return q()({ourProps:i,theirProps:a,slot:l,defaultTag:ju,name:"Tabs.List"})}let Bu="button";function Ku(e,t){var n,r;let o=ae(),{id:l=`headlessui-tabs-tab-${o}`,disabled:a=!1,autoFocus:i=!1,...s}=e,{orientation:u,activation:f,selectedIndex:d,tabs:h,panels:p}=Ze("Tab"),m=pr("Tab"),g=Ze("Tab"),[b,_]=E(null),y=N(null),$=te(y,t,_);J(()=>m.registerTab(y),[m,y]);let k=Ll("tabs"),w=h.indexOf(y);w===-1&&(w=k);let S=w===d,L=A(R=>{let W=R();if(W===De.Success&&f==="auto"){let he=lr(y.current),D=g.tabs.findIndex(We=>We.current===he);D!==-1&&m.change(D)}return W}),Y=A(R=>{let W=h.map(he=>he.current).filter(Boolean);if(R.key===de.Space||R.key===de.Enter){R.preventDefault(),R.stopPropagation(),m.change(w);return}switch(R.key){case de.Home:case de.PageUp:return R.preventDefault(),R.stopPropagation(),L(()=>me(W,X.First));case de.End:case de.PageDown:return R.preventDefault(),R.stopPropagation(),L(()=>me(W,X.Last))}if(L(()=>re(u,{vertical(){return R.key===de.ArrowUp?me(W,X.Previous|X.WrapAround):R.key===de.ArrowDown?me(W,X.Next|X.WrapAround):De.Error},horizontal(){return R.key===de.ArrowLeft?me(W,X.Previous|X.WrapAround):R.key===de.ArrowRight?me(W,X.Next|X.WrapAround):De.Error}}))===De.Success)return R.preventDefault()}),z=N(!1),T=A(()=>{var R;z.current||(z.current=!0,(R=y.current)==null||R.focus({preventScroll:!0}),m.change(w),Et(()=>{z.current=!1}))}),I=A(R=>{R.preventDefault()}),{isFocusVisible:M,focusProps:U}=Gt({autoFocus:i}),{isHovered:v,hoverProps:P}=or({isDisabled:a}),{pressed:Q,pressProps:oe}=nl({disabled:a}),se=ie({selected:S,hover:v,active:Q,focus:M,autofocus:i,disabled:a}),ue=qt({ref:$,onKeyDown:Y,onMouseDown:I,onClick:T,id:l,role:"tab",type:ms(e,b),"aria-controls":(r=(n=p[w])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":S,tabIndex:S?0:-1,disabled:a||void 0,autoFocus:i},U,P,oe);return q()({ourProps:ue,theirProps:s,slot:se,defaultTag:Bu,name:"Tabs.Tab"})}let Vu="div";function Gu(e,t){let{selectedIndex:n}=Ze("Tab.Panels"),r=te(t),o=ie({selectedIndex:n}),l=e,a={ref:r};return q()({ourProps:a,theirProps:l,slot:o,defaultTag:Vu,name:"Tabs.Panels"})}let zu="div",qu=Je.RenderStrategy|Je.Static;function Yu(e,t){var n,r,o,l;let a=ae(),{id:i=`headlessui-tabs-panel-${a}`,tabIndex:s=0,...u}=e,{selectedIndex:f,tabs:d,panels:h}=Ze("Tab.Panel"),p=pr("Tab.Panel"),m=N(null),g=te(m,t);J(()=>p.registerPanel(m),[p,m]);let b=Ll("panels"),_=h.indexOf(m);_===-1&&(_=b);let y=_===f,{isFocusVisible:$,focusProps:k}=Gt(),w=ie({selected:y,focus:$}),S=qt({ref:g,id:i,role:"tabpanel","aria-labelledby":(r=(n=d[_])==null?void 0:n.current)==null?void 0:r.id,tabIndex:y?s:-1},k),L=q();return!y&&((o=u.unmount)==null||o)&&!((l=u.static)!=null&&l)?x.createElement(yt,{"aria-hidden":"true",...S}):L({ourProps:S,theirProps:u,slot:w,defaultTag:zu,features:qu,visible:y,name:"Tabs.Panel"})}let Xu=G(Ku),Dl=G(Hu),Il=G(Wu),Rl=G(Gu),Dt=G(Yu),_n=Object.assign(Xu,{Group:Dl,List:Il,Panels:Rl,Panel:Dt});const ct=({maxValue:e,handleNumpadValue:t})=>{const[n,r]=E(""),[o,l]=E(""),a=p=>f?p>e:!n&&p===0||parseInt(n+p)>e,i=(p,m)=>{p<=m&&t(p,!0)},s=p=>{const m=parseInt(n);if(m>p){l(`Must be between 1 and ${p}`);return}i(m,p),r(""),l("")},u=(p,m)=>{p==="backspace"?r(g=>g.slice(0,-1)):p==="confirm"?s(m):(r(g=>g+p),t(Number(n+p),!1))},f=e<10,d=[];for(let p=1;p<=9;p++){const m=a(p);d.push(c("button",{onClick:()=>f?i(p,e):u(p.toString(),e),disabled:m,className:`px-2 py-4 text-xl font-semibold rounded-lg border border-gray-300 dark:border-gray-600 
            ${m?"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed":"bg-base-100 hover:bg-base-200 active:bg-base-300"} transition-colors`,children:p},p))}const h=a(0);return c(O,{children:c("div",{className:"grid grid-cols-3 gap-3 max-w-xs mx-auto",children:[!f&&c(O,{children:[c("div",{className:"text-right col-span-3 px-4 py-2 bg-base-100 border border-gray-300 dark:border-gray-600 rounded-lg font-mono text-lg min-w-[100px]",children:n||"_"})," "]}),d,f?c("button",{disabled:!0,className:"col-span-3 px-2 py-4 text-lg font-semibold rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed",children:"0"}):c(O,{children:[c("button",{onClick:()=>u("backspace",e),className:"px-2 py-4 text-lg font-semibold rounded-lg border border-gray-300 dark:border-gray-600 bg-base-100 hover:bg-base-200 active:bg-base-300 transition-colors flex items-center justify-center",children:c(ga,{size:24})}),c("button",{disabled:h,onClick:()=>u("0",e),className:`px-2 py-4 text-xl font-semibold rounded-lg border border-gray-300 dark:border-gray-600 
            ${h?"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed":"bg-base-100 hover:bg-base-200 active:bg-base-300"} transition-colors`,children:"0"}),c("button",{onClick:()=>u("confirm",e),className:"px-2 py-4 text-lg font-semibold rounded-lg border border-gray-300 dark:border-gray-600 bg-base-100 hover:bg-base-200 active:bg-base-300 transition-colors flex items-center justify-center",children:c(ba,{size:24})})]})]})})};function Ml({storageConfig:e,onCancel:t,onSelect:n,onClear:r,initialLocation:o,closeOnPressOutside:l=!0}){if(!e)return c(O,{});const a=N(null);C(()=>{if(!l||!t)return;function v(P){a.current&&!a.current.contains(P.target)&&t()}return document.addEventListener("mousedown",v),()=>document.removeEventListener("click",v)},[t]);const[i,s]=E((o==null?void 0:o.rack)||null),[u,f]=E((o==null?void 0:o.bay)||null),[d,h]=E((o==null?void 0:o.shelf)||null),[p,m]=E((o==null?void 0:o.position)||null),[g,b]=E((o==null?void 0:o.container)||null),[_,y]=E(null);C(()=>{s(o==null?void 0:o.rack),f(o==null?void 0:o.bay),h(o==null?void 0:o.shelf),m(o==null?void 0:o.position),b(o==null?void 0:o.container),o&&(o.container?y("6complete"):o.position?y("5container"):o.shelf?y("4position"):o.bay?y("3shelf"):o.rack?y("2bay"):y("1rack"))},[o]);const $=e?Object.entries(e.rack_config).map(([v,P])=>({rackId:Number(v),name:P.name})):[];C(()=>{o&&(s(o.rack),f(o.bay),h(o.shelf),m(o.position),b(o.container||null))},[o]);const k=(v,P)=>v.num_shelves,w=(v,P,Q)=>v.num_positions,S=(v,P,Q,oe)=>v.num_containers;C(()=>{if(!i||!e)return;const v=e.rack_config[i].num_bays;_=="2bay"&&v<=1&&Y(v,!0)},[_]),C(()=>{if(!i)return;const v=k(e.rack_config[i]);_=="3shelf"&&v<=1&&z(v,!0)},[_]),C(()=>{if(!i)return;const v=w(e.rack_config[i]);_=="4position"&&v<=1&&T(v,!0)},[_]),C(()=>{if(!i)return;const v=S(e.rack_config[i]);_=="5container"&&v<=1&&I(v,!0)},[_]);const L=(v,P)=>{s(v),h(null),m(null),b(null),y("2bay")},Y=(v,P)=>{f(v),h(null),m(null),b(null),P&&y("3shelf")},z=(v,P)=>{h(v),m(null),b(null),P&&y("4position")},T=(v,P)=>{m(v),b(null),P&&y("5container")},I=(v,P)=>{b(v),P&&y("6complete")},M=v=>{switch(v){case"1rack":s(null),f(null),h(null),m(null),b(null),y("1rack");break;case"2bay":f(null),h(null),m(null),b(null),y("2bay");break;case"3shelf":h(null),m(null),b(null),y("3shelf");break;case"4position":m(null),b(null),y("4position");break;case"5container":b(null),y("5container");break}},U=(v,P)=>{_==="2bay"&&i?Y(v,P):_==="3shelf"&&i?z(v,P):_==="4position"&&i?T(v,P):_==="5container"&&i&&I(v,P)};return $.length===0?c("div",{className:"text-center py-12 text-base-content/60",children:[c("p",{className:"text-lg font-medium mb-2",children:"No storage configured"}),c("p",{className:"text-sm",children:"Please configure storage racks first"})]}):c("div",{ref:a,className:"space-y-2",children:[c("div",{children:i?c("div",{className:"flex items-center gap-2 mb-2",children:[c("span",{className:"text-sm font-medium text-base-content/70",children:"Rack:"}),c("span",{className:"font-medium",children:e.rack_config[i].name}),c("button",{onClick:()=>M("1rack"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:c(lt,{size:16})})]}):c(O,{children:[c("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:"Select Rack:"}),c("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:$.map(v=>c("button",{onClick:()=>L(v.rackId),className:"px-4 py-3 bg-base-100 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-base-200 hover:border-gray-400 dark:hover:border-gray-500 transition-colors text-left font-medium",children:v.name},v.rackId))})]})}),i&&_>="2bay"&&c("div",{children:u&&_>"2bay"?c("div",{className:"flex items-center gap-2 mb-2",children:[c("span",{className:"text-sm font-medium text-base-content/70",children:"Bay:"}),c("span",{className:"font-medium",children:u}),c("button",{onClick:()=>M("2bay"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:c(lt,{size:16})})]}):_==="2bay"&&c(O,{children:[c("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:["Which bay? (1-",e.rack_config[i].num_bays,")"]}),c(ct,{maxValue:e.rack_config[i].num_bays,handleNumpadValue:U})]})}),i&&_>="3shelf"&&c("div",{children:d&&_>"3shelf"?c("div",{className:"flex items-center gap-2 mb-2",children:[c("span",{className:"text-sm font-medium text-base-content/70",children:"Shelf:"}),c("span",{className:"font-medium",children:d}),c("button",{onClick:()=>M("3shelf"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:c(lt,{size:16})})]}):_==="3shelf"&&c(O,{children:[c("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:["Which shelf? (1-",e.rack_config[i].num_shelves,")"]}),c(ct,{maxValue:k(e.rack_config[i]),handleNumpadValue:U})]})}),i&&_>="4position"&&c("div",{children:p&&_>"4position"?c("div",{className:"flex items-center gap-2 mb-2",children:[c("span",{className:"text-sm font-medium text-base-content/70",children:"Position:"}),c("span",{className:"font-medium",children:p}),c("button",{onClick:()=>M("4position"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:c(lt,{size:16})})]}):_==="4position"&&c(O,{children:[c("div",{className:"text-sm font-medium text-base-content/70 mb-2 flex items-center gap-2",children:["Which position? (1-",w(e.rack_config[i]),")",(()=>{const v=e.rack_config[i].num_positions,P=w(e.rack_config[i]);return v!==P?c("span",{className:"text-xs text-primary flex items-center gap-1",children:[c(ya,{size:14}),"This shelf has ",P," positions"]}):null})()]}),c(ct,{maxValue:w(e.rack_config[i]),handleNumpadValue:U})]})}),i&&_>="5container"&&c("div",{children:g&&_>"5container"?c("div",{className:"flex items-center gap-2 mb-2",children:[c("span",{className:"text-sm font-medium text-base-content/70",children:"Container:"}),c("span",{className:"font-medium",children:g}),c("button",{onClick:()=>M("5container"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:c(lt,{size:16})})]}):_==="5container"&&c(O,{children:[c("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:["Which container? (1-",S(e.rack_config[i]),")"]}),c(ct,{maxValue:S(e.rack_config[i]),handleNumpadValue:U})]})}),i&&c("div",{className:"bg-primary/10 border border-primary rounded-lg p-4",children:c("div",{className:"flex items-start gap-2",children:[c("span",{className:`${_!="6complete"&&"invisible"} text-primary font-bold text-4xl`,children:""}),c("div",{children:[c("p",{className:"font-medium text-base-content",children:"Selected Location:"}),c("p",{className:"text-sm text-base-content/80",children:[e.rack_config[i].name,!!u&&` / Bay ${u}`,!!d&&` / Shelf ${d}`,!!p&&` / Position ${p}`,!!g&&` / Container ${g}`]})]})]})}),c("div",{className:"dialog-actions",children:[r&&c(dn,{className:"btn btn-outline w-20",onClick:()=>r&&r(),children:"Clear"}),c(dn,{className:"btn btn-outline w-20",onClick:()=>t&&t(),children:"Cancel"}),c(dn,{className:"btn btn-primary w-20",onClick:()=>n&&n({rack:i,bay:u,shelf:d,position:p,container:g}),disabled:i==null,children:"Ok"})]})]})}const Ul=V({urlParams:{}});function Ju({children:e}){const[t,n]=E({});return C(()=>{n(xo())},[]),c(Ul.Provider,{value:{urlParams:t},children:e})}const Hl=()=>j(Ul),Wt=({location:e,storageConfig:t})=>c("div",{className:"space-y-2 mb-0 flex-1",children:e?c(O,{children:[c("div",{className:"badge badge-lg badge-info w-full",children:`Rack: ${(t==null?void 0:t.rack_config[e==null?void 0:e.rack].name)??""}`}),c("div",{className:"flex flex-row space-x-2",children:[!!(e!=null&&e.bay)&&c(O,{children:c("div",{className:"flex flex-col flex-1",children:[c("div",{className:"w-full px-0 badge badge-lg badge-outline badge-info flex-1 border-l-8 border-r-8 rounded-none",children:"Bay"}),c("div",{className:"w-full px-0 badge badge-lg badge-outline badge-info flex-1 border-l-8 border-r-8 rounded-none",children:`${e==null?void 0:e.bay}`})]})}),!!(e!=null&&e.shelf)&&c(O,{children:c("div",{className:"flex flex-col flex-1",children:[c("div",{className:"w-full px-0 badge badge-lg badge-outline badge-info flex-1 border-t-6 border-b-3 rounded-none",children:"Shelf"}),c("div",{className:"w-full px-0 badge badge-lg badge-outline badge-info flex-1 border-t-3 border-b-6 rounded-none",children:`${e==null?void 0:e.shelf}`})]})}),!!(e!=null&&e.position)&&c(O,{children:c("div",{className:"flex flex-col flex-1",children:[c("div",{className:"w-full px-0 badge badge-lg badge-outline badge-info flex-1 rounded-none",children:"Position"}),c("div",{className:"w-full px-0 badge badge-lg badge-outline badge-info flex-1 rounded-none",children:[c("div",{}),c("div",{className:"px-2 border h-full flex items-center border-b-0 border-t-0",children:`${e==null?void 0:e.position}`}),c("div",{})]})]})}),!!(e!=null&&e.container)&&c(O,{children:c("div",{className:"flex flex-col flex-1",children:[c("div",{className:"w-full px-0 badge badge-lg badge-dash badge-info flex-1 rounded-none",children:"Container"}),c("div",{className:"w-full px-0 badge badge-lg badge-dash badge-info flex-1 rounded-t-none rounded-b-3xl",children:`${e==null?void 0:e.container}`})]})})]})]}):c("div",{className:"badge badge-info badge-lg badge-outline w-full",children:"Location not Set"})}),Zu={securityKey:"",setSecurityKey:()=>{},securityOk:!1,setSecurityOk:()=>{}},on=V(Zu),Qu=({children:e})=>{const t=new URLSearchParams(window.location.hash.slice(1)).get("sk")||""||new URLSearchParams(window.location.hash.slice(1)).get("_sk")||"",[n,r]=E(t),[o,l]=E(!1);return window.securityKey=n,C(()=>{ec(l)},[]),c(on.Provider,{value:{securityKey:n,setSecurityKey:r,securityOk:o,setSecurityOk:l},children:e})};let Rn=null;function ec(e){Rn=e}function tc(e){Rn&&Rn(e)}function nc(e){const{securityOk:t}=j(on),[n,r]=E([]),[o,l]=E(new Map),a=async()=>{let f,d=Xe("/api/spools");if(f=await(await encryptedFetch(d)).text(),f!="")return f},i=async()=>{let f,d=Xe("/api/spools-in-printers");if(f=await(await encryptedFetch(d)).text(),f!="")return f},s=(f,d)=>{let h=null,p=null;if(d){const b=JSON.parse(d);p=new Map(Object.entries(b.spools)),h=p}else h=o;const g=f.trim().split(`
`).map(b=>So(b,h,e));return r(g),p&&l(p),g},u=async()=>{let f;try{f=await a()}catch(h){return console.error("Failed to fetch spools data:",h),null}let d=null;try{d=await i()}catch(h){console.error("Failed to fetch spools in printers:",h)}return s(f,d)};return C(()=>{u()},[e,t]),[n,u,s]}const at=({spool:e,onClick:t})=>c("button",{onClick:t,className:"flex flex-col text-lg w-full items-start p-2 rounded-lg",style:e!=null&&e.color_code?{backgroundColor:`#${e.color_code.slice(0,6)}`,color:`${ia(e.color_code.slice(0,6))}`}:void 0,children:c("div",{className:"flex flex-wrap gap-1 text-left leading-tight",children:[c("span",{className:"mr-0",children:[e.id,"."]}),c("span",{className:"flex-1",children:[e.brand," ",e.material_type," ",e.material_subtype," ",e.color_name]})]})}),to=({spool:e,storageConfig:t,selectedLocation:n,handleSetSpoolLocation:r})=>{const o=ft(n);return c("div",{className:"flex flex-col space-y-4",children:[c("div",{className:"flex flex-row space-x-2",children:[c("button",{disabled:e.assigned_location==o,className:"btn btn-primary flex-grow",onClick:()=>r(e.id,ne.Assigned,n),children:"Assign to Selected"}),c("button",{disabled:e.actual_location==o,className:"btn btn-primary flex-grow",onClick:()=>r(e.id,ne.Actual,n),children:"Place in Selected"})]}),c("div",{className:"border p-2 rounded-lg space-y-2",children:[c("p",{className:"text-lg text-center",children:"Actual Location"}),c(Wt,{location:xn(e.actual_location),storageConfig:t}),c("div",{className:"flex flex-row space-x-2 pt-4",children:c("button",{disabled:!(e!=null&&e.actual_location),className:"btn btn-outline flex-grow",onClick:()=>r(e.id,ne.Actual,null),children:"Pick"})})]}),c("div",{className:"border p-2 rounded-lg space-y-2",children:[c("p",{className:"text-lg text-center",children:"Assigned Location"}),c(Wt,{location:xn(e.assigned_location),storageConfig:t}),c("div",{className:"flex flex-row space-x-2 pt-4",children:c("button",{disabled:!(e!=null&&e.assigned_location),className:"btn btn-outline flex-grow",onClick:()=>r(e.id,ne.Assigned,null),children:"Unassign"})})]})]})};function rc({serverTagLocation:e}){const{urlParams:t}=Hl(),[n,r]=E(e),[o,l]=E(ft(e)),a=v=>{r(v),l(ft(v))},[i,s]=E(null),[u,f]=E(null),[d,h]=E(null),[p,m]=E(!1),g=N(null),{storageConfig:b}=zn(),[_,y]=E([]),[$,k]=nc(_),[w,S]=E(null),[L,Y]=E([]);C(()=>{(async()=>await T())()},[]),C(()=>{a(e)},[e]);const z=async()=>{try{return(await Rt("/api/spool-staging","GET")).csv_record||null}catch{return null}},T=async()=>{const v=await z(),P=!!v&&So(v,null,null);s(P)},I=(v,P)=>{if(P){const Q=$.find(oe=>oe.id===v.toString());Q?(f(Q),h(null)):h(`Spool ID ${v} Not Found`)}},M=()=>{f(null),h(null)},U=async(v,P,Q)=>{const oe={location:ft(Q),location_type:P,spool_id:v};try{const se=await Rt("/api/spool-location","POST",oe);se.error&&console.log(`Error setting spool location : ${se.error}`);const ue=$.find(W=>W.id===v);Q==null&&(P==ne.Actual&&ue.assigned_location!=o||P==ne.Assigned&&ue.actual_location!=o)&&Y(W=>[...W,ue]);const R=await k();if(u){const W=R.find(he=>he.id===u.id);f(W)}if(i){const W=R.find(he=>he.id===i.id);s(W)}}catch{}};return C(()=>{Y(v=>v.filter(P=>{const Q=$.find(oe=>oe.id===P.id);return Q.actual_location!==o&&Q.assigned_location!==o}))},[$]),c("div",{className:"hero bg-base-300",children:c("div",{className:"hero-content flex-col",children:[c("div",{className:"text-center",children:c("h1",{className:"text-3xl font-bold",children:["Location Tag Scanned",c("a",{className:"btn btn-outline btn-primary font-mono text-3xl",href:"/L1/edit/#"+new URLSearchParams(t).toString(),children:[t.TG,c(En,{size:30})]})]})}),c("div",{className:"card bg-base-100 w-full shadow-sm rounded-lg overflow-hidden",children:[c("div",{class:"bg-primary text-primary-content text-center p-2",children:c("h2",{className:"card-title flex",children:["Selected Location",c("span",{className:"text-warning",children:n!=e&&" (Edited)"}),c("button",{className:"btn btn-outline ml-auto",onClick:()=>a(e),children:"Refresh"})]})}),c("div",{className:"card-body p-4",children:[c("div",{className:"flex flex-row space-x-2",children:[c(Wt,{location:n,storageConfig:b}),c("button",{className:"btn px-0 btn-soft btn-primary h-auto rounded-lg",onClick:()=>m(v=>!v),onMouseDown:v=>{v.stopPropagation()},children:c(En,{size:60})})]}),p&&c("div",{ref:g,id:"location-picker-popup",className:"bg-base-200 border border-base-300 rounded-md p-2 mt-2",children:c(Ml,{initialLocation:n,storageConfig:b,onCancel:()=>m(!1),onSelect:v=>{a(v),m(!1)},onClear:()=>{a(null)}})})]})]}),c(Dl,{className:"w-full",children:[c(Il,{className:"tabs tabs-lift",children:[c(_n,{className:"tab data-[selected]:!bg-primary data-[selected]:!text-primary-content",children:"Location Spools"}),c(_n,{className:"tab data-[selected]:!bg-primary data-[selected]:!text-primary-content",children:"Staging Spool"}),c(_n,{className:"tab data-[selected]:!bg-primary data-[selected]:!text-primary-content",children:"Spool ID"})]}),c(Rl,{children:[c(Dt,{className:"min-h-[454px] p-6 bg-base-100 space-y-4 rounded-lg rounded-tl-none",children:[L.length!=0&&c("div",{className:"flex items-center mb-4 mt-0",children:[c("hr",{className:"flex-grow border-t border-gray-300"}),c("span",{className:"mx-2 text-gray-500",children:"Recently Unassigned or Picked"}),c("hr",{className:"flex-grow border-t border-gray-300"})]}),L.map(v=>c("div",{className:"space-y-2 border-gray-500 border-1 p-2 rounded-lg",children:[c(at,{onClick:()=>{w!=`recent-${v.id}`?S(`recent-${v.id}`):S(null)},spool:v}),w===`recent-${v.id}`&&c("div",{className:"flex flex-row space-x-3",children:[c("button",{onClick:()=>{U(v.id,ne.Assigned,n)},className:"btn btn-primary flex-1",children:"Assign"}),c("button",{onClick:()=>{U(v.id,ne.Actual,n)},className:"btn btn-primary flex-1",children:"Place"})]})]})),c("div",{className:"flex items-center mb-4 mt-0",children:[c("hr",{className:"flex-grow border-t border-gray-300"}),c("span",{className:"mx-2 text-gray-500",children:"Spools Currently in Location"}),c("hr",{className:"flex-grow border-t border-gray-300"})]}),$.filter(v=>v.actual_location===o).map(v=>c("div",{className:"space-y-2 border-gray-500 border-1 p-2 rounded-lg",children:[c(at,{onClick:()=>{w!=`actual-${v.id}`?S(`actual-${v.id}`):S(null)},spool:v}),w===`actual-${v.id}`&&c("div",{className:"flex flex-row space-x-3",children:[c("button",{onClick:()=>{v.assigned_location==o?U(v.id,ne.Assigned,null):U(v.id,ne.Assigned,n)},className:"btn flex-1"+(v.assigned_location==o?" btn-outline":" btn-primary"),children:v.assigned_location==o?"Unassign from Location":"Assign to Location"}),c("button",{onClick:()=>{U(v.id,ne.Actual,null)},className:"btn btn-outline flex-1",children:"Pick"})]})]})),c("div",{className:"flex items-center my-4",children:[c("hr",{className:"flex-grow border-t border-gray-300"}),c("span",{className:"mx-2 text-gray-500",children:"Assigned to Location, but Not in Place"}),c("hr",{className:"flex-grow border-t border-gray-300"})]}),$.filter(v=>v.assigned_location===o&&v.actual_location!==o).map(v=>c("div",{className:"space-y-2 border-gray-500 border-1 p-2 rounded-lg",children:[c(at,{onClick:()=>{w!=`assigned-${v.id}`?S(`assigned-${v.id}`):S(null)},spool:v}),w===`assigned-${v.id}`&&c("div",{className:"flex flex-row space-x-3",children:[c("button",{onClick:()=>{U(v.id,ne.Assigned,null)},className:"btn btn-outline flex-1",children:"Unassign from Location"}),c("button",{onClick:()=>{U(v.id,ne.Actual,n)},className:"btn btn-primary flex-1",children:"Place"})]})]}))]}),c(Dt,{className:"min-h-[454px] p-6 bg-base-100 border-base-300 rounded-lg",children:c("div",{className:"card bg-base-100 w-full shadow-sm space-y-4",children:[c("div",{className:"flex flex-col space-y-3",children:c("div",{className:"flex flex-row space-x-3",children:[i?c(at,{spool:i}):c("div",{className:"flex flex-col badge badge-outline badge-xl w-full py-5 ",children:"Spool Staging is Empty"}),c("button",{onClick:T,className:"btn btn-outline ml-auto relative h-auto w-24",children:"Refresh"})]})}),i&&c(to,{spool:i,storageConfig:b,selectedLocation:n,handleSetSpoolLocation:U})]})}),c(Dt,{className:"min-h-[454px] p-6 bg-base-100 border-base-300 rounded-lg",children:c("div",{className:"flex flex-col space-y-4",children:[c("div",{className:"flex flex-row space-x-3",children:u?c(O,{children:[c(at,{spool:u}),c("button",{onClick:M,className:"btn btn-outline ml-auto relative h-auto w-24",children:"Reselect"})]}):d?c(O,{children:[c("div",{className:"flex flex-col badge badge-error badge-outline badge-xl w-full py-5",children:d??"Select Spool ID"}),c("button",{onClick:M,className:"btn btn-outline ml-auto relative h-auto w-24",children:"Reselect"})]}):c("div",{className:"flex flex-col badge badge-outline badge-xl w-full py-5",children:"Select Spool ID"})}),c("div",{className:"w-full",children:u?c(to,{spool:u,storageConfig:b,selectedLocation:n,handleSetSpoolLocation:U}):c(ct,{maxValue:$.reduce((v,P)=>Math.max(v,Number(P.id)),0),handleNumpadValue:I})})]})})]})]}),c("div",{className:"hidden card bg-base-100 w-full shadow-sm rounded-lg overflow-hidden",children:[c("div",{class:"animate-pulse duration-500 bg-primary text-primary-content text-center p-2",children:c("h2",{className:"card-title",children:[c(Tr,{className:"rotate-90 scale-y-[0.8]"}),"Spools in Location",c("button",{className:"btn btn-outline ml-auto",children:"Refresh"})]})}),c("div",{className:"card-body",children:c("div",{children:c("p",{children:"Placeholder for spools currently in location and allow removing them"})})})]}),c("div",{className:"hidden card bg-base-100 w-full shadow-sm rounded-lg overflow-hidden",children:[c("div",{class:"bg-primary text-primary-content text-center p-2",children:c("h2",{className:"card-title",children:[c(Tr,{className:"rotate-90 scale-y-[0.8]"}),"Spools Assigned to This Location",c("button",{className:"btn btn-outline ml-auto",children:"Refresh"})]})}),c("div",{className:"card-body",children:c("div",{children:c("p",{children:"Display Spools assigned to location and allow removing them"})})})]})]})})}var oc={};function Ot(e,t){for(var n in t)e[n]=t[n];return e}function lc(e,t,n){var r,o=/(?:\?([^#]*))?(#.*)?$/,l=e.match(o),a={};if(l&&l[1])for(var i=l[1].split("&"),s=0;s<i.length;s++){var u=i[s].split("=");a[decodeURIComponent(u[0])]=decodeURIComponent(u.slice(1).join("="))}e=Mn(e.replace(o,"")),t=Mn(t||"");for(var f=Math.max(e.length,t.length),d=0;d<f;d++)if(t[d]&&t[d].charAt(0)===":"){var h=t[d].replace(/(^:|[+*?]+$)/g,""),p=(t[d].match(/[+*?]+$/)||oc)[0]||"",m=~p.indexOf("+"),g=~p.indexOf("*"),b=e[d]||"";if(!b&&!g&&(p.indexOf("?")<0||m)){r=!1;break}if(a[h]=decodeURIComponent(b),m||g){a[h]=e.slice(d).map(decodeURIComponent).join("/");break}}else if(t[d]!==e[d]){r=!1;break}return(n.default===!0||r!==!1)&&a}function ac(e,t){return e.rank<t.rank?1:e.rank>t.rank?-1:e.index-t.index}function ic(e,t){return e.index=t,e.rank=(function(n){return n.props.default?0:Mn(n.props.path).map(sc).join("")})(e),e.props}function Mn(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function sc(e){return e.charAt(0)==":"?1+"*+?".indexOf(e.charAt(e.length-1))||4:5}var uc={},Re=[],no=[],le=null,jl={url:hr()},cc=V(jl);function hr(){var e;return""+((e=le&&le.location?le.location:le&&le.getCurrentLocation?le.getCurrentLocation():typeof location<"u"?location:uc).pathname||"")+(e.search||"")}function Bt(e,t){return t===void 0&&(t=!1),typeof e!="string"&&e.url&&(t=e.replace,e=e.url),(function(n){for(var r=Re.length;r--;)if(Re[r].canRoute(n))return!0;return!1})(e)&&(function(n,r){r===void 0&&(r="push"),le&&le[r]?le[r](n):typeof history<"u"&&history[r+"State"]&&history[r+"State"](null,null,n)})(e,t?"replace":"push"),Wl(e)}function Wl(e){for(var t=!1,n=0;n<Re.length;n++)Re[n].routeTo(e)&&(t=!0);return t}function dc(e){if(e&&e.getAttribute){var t=e.getAttribute("href"),n=e.getAttribute("target");if(t&&t.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return Bt(t)}}function fc(e){return e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),e.preventDefault(),!1}function pc(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||e.button)){var t=e.target;do if(t.localName==="a"&&t.getAttribute("href")){if(t.hasAttribute("data-native")||t.hasAttribute("native"))return;if(dc(t))return fc(e)}while(t=t.parentNode)}}var ro=!1;function Bl(e){e.history&&(le=e.history),this.state={url:e.url||hr()}}Ot(Bl.prototype=new fe,{shouldComponentUpdate:function(e){return e.static!==!0||e.url!==this.props.url||e.onChange!==this.props.onChange},canRoute:function(e){var t=pe(this.props.children);return this.g(t,e)!==void 0},routeTo:function(e){this.setState({url:e});var t=this.canRoute(e);return this.p||this.forceUpdate(),t},componentWillMount:function(){this.p=!0},componentDidMount:function(){var e=this;ro||(ro=!0,le||addEventListener("popstate",function(){Wl(hr())}),addEventListener("click",pc)),Re.push(this),le&&(this.u=le.listen(function(t){var n=t.location||t;e.routeTo(""+(n.pathname||"")+(n.search||""))})),this.p=!1},componentWillUnmount:function(){typeof this.u=="function"&&this.u(),Re.splice(Re.indexOf(this),1)},componentWillUpdate:function(){this.p=!0},componentDidUpdate:function(){this.p=!1},g:function(e,t){e=e.filter(ic).sort(ac);for(var n=0;n<e.length;n++){var r=e[n],o=lc(t,r.props.path,r.props);if(o)return[r,o]}},render:function(e,t){var n,r,o=e.onChange,l=t.url,a=this.c,i=this.g(pe(e.children),l);if(i&&(r=yo(i[0],Ot(Ot({url:l,matches:n=i[1]},n),{key:void 0,ref:void 0}))),l!==(a&&a.url)){Ot(jl,a=this.c={url:l,previous:a&&a.url,current:r,path:r?r.props.path:null,matches:n}),a.router=this,a.active=r?[r]:[];for(var s=no.length;s--;)no[s]({});typeof o=="function"&&o(a)}return ee(cc.Provider,{value:a},r)}});const hc=({serverTagLocation:e,onChangeServerTagLocation:t,onRefreshServerTagLocation:n})=>{const{urlParams:r}=Hl(),{storageConfig:o}=zn(),[l,a]=E(!0),i=N(null);return c(O,{children:c("div",{className:"hero bg-base-300",children:c("div",{className:"hero-content flex-col",children:[c("div",{className:"text-center",children:c("h1",{className:"text-3xl font-bold",children:["Edit Location Tag ",c("div",{className:"badge badge-outline badge-xl font-mono text-3xl",children:r.TG})]})}),c("div",{className:"card bg-base-100 w-full shadow-sm rounded-lg overflow-hidden",children:[c("div",{class:"bg-primary text-primary-content text-center p-2",children:c("h2",{className:"card-title",children:[c($a,{className:"rotate-90 scale-y-[0.8]"}),"Tag Information",c("button",{onClick:n,className:"btn btn-outline ml-auto",children:"Refresh"})]})}),c("div",{className:"card-body space-y-4",children:[c("div",{className:"flex flex-row space-x-2",children:[c(Wt,{location:e,storageConfig:o}),c("button",{className:"btn px-0 btn-soft btn-primary h-auto rounded-lg",onMouseDown:s=>{s.stopPropagation()},onClick:()=>{a(s=>!s)},children:c(En,{size:60})})]}),l&&c("div",{ref:i,id:"location-picker-popup",className:"bg-base-200 border border-base-300 rounded-md p-2",children:c(Ml,{closeOnPressOutside:!1,initialLocation:e,storageConfig:o,onCancel:()=>a(!1),onSelect:async s=>{await t(s),a(!1)},onClear:async()=>{await t(null),a(!1)}})})]}),c("button",{onClick:()=>{Bt("/L1/#"+new URLSearchParams(r).toString())},disabled:!e,className:"btn btn-primary m-4 mt-0",children:"Use Tag"})]})]})})})};function mc(){const e=Z(()=>xo(),[]),[t,n]=E(null),{storageConfig:r}=zn(),o=async s=>{try{const u=await Rt("api/tag-scanned","POST",{tag_id_hex:s});switch(!0){case"Unknown"in u.tag_info:return null;case"Location"in u.tag_info:return u.tag_info.Location.location}}catch{return null}};C(()=>{(async()=>await i()=="TagNotFound"&&Bt("/L1/edit/#"+new URLSearchParams(e).toString()))()},[r]);const l=async(s,u)=>{try{return await Rt("/api/set-tag-location","POST",{tag_id_hex:s,location:u})}catch{return null}},a=async s=>{try{const u=s?ft(s):"";if(e&&e.TG){const f=await l(e.TG,u);f.error&&console.log(f.error),await i()}}catch{}},i=async()=>{const s=e.TG;if(s){const u=await o(s);if(u){const f=xn(u);return n(f),f}else return n(null),"TagNotFound"}else return n(null),"NoTagInUrl"};return C(()=>{(async()=>await i()=="TagNotFound"&&Bt("/L1/edit/#"+new URLSearchParams(e).toString()))()},[]),C(()=>{},[t,r]),c("div",{class:"w-screen h-screen flex flex-col",children:c(Bl,{children:[c(rc,{path:"/L1",serverTagLocation:t}),c(hc,{path:"/L1/edit",serverTagLocation:t,onChangeServerTagLocation:a,onRefreshServerTagLocation:async()=>{await i()}})]})})}let vn=null,Kl=!1;function Vl(){return vn||(vn=zl().then(()=>{console.log("Wasm initialized"),window.securityKeyOnDerive="",window.encryptionKey=lo("","example_salt"),Kl=!0})),vn}async function _c(e,t={},n={}){const{retries:r=3,retryOnNetworkError:o=!0,retryOn400:l=!1,retryOn500:a=!0}=n;let i=null;for(let s=0;s<r;s++)try{const u=await fetch(e,t);if(i=u,!u.ok){const f=u.status;if(f>=500&&a||f>=400&&f<500&&l)continue}return u}catch(u){if(!o)throw u}return i}window.encryptedFetch=async(...e)=>{if(window.securityKey==="")throw new Error("No Security Key Set");Kl||await Vl();const[t,n={}]=e;n.body&&typeof n.body=="string"&&(n.body=ql(oo(),n.body));const r=await _c(t,n,{retries:!n.method||n.method==="GET"?3:1,retryOnNetworkError:!0,retryOn500:!0}),o=await r.text();let l;if(o==="")l="";else{let a=oo();l=o.split("|").filter(f=>f.length>0).map(f=>Yl(a,f)).join(""),tc(!0);const i=new URL(window.location.href),s=new URLSearchParams(i.hash.slice(1));s.delete("sk");const u=s.toString();history.replaceState(null,"",u?`#${u}`:window.location.pathname+window.location.search)}return new Response(l,{status:r.status,statusText:r.statusText,headers:r.headers})};function oo(){const e=window.securityKey;return e!=window.securityKeyOnDerive&&(console.log("generating security key"),window.encryptionKey=lo(e,"example_salt"),window.securityKeyOnDerive=e),window.encryptionKey}function vc({onSecurityKeyChanged:e}){const{securityKey:t,setSecurityKey:n}=j(on),r=N(null),o=N(null);return c(Nu,{open:!0,onClose:()=>{},initialFocus:o,children:[c(Su,{className:"dialog-backdrop"}),c("div",{className:"dialog-container",children:c("div",{className:"security-key-section",children:[c("h3",{children:"Security Key:"}),c(Cu,{ref:o,placeholder:"Enter Security Key",className:"security-key-input",type:"text",value:t,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellcheck:!1,onChange:a=>{n(a.currentTarget.value),clearTimeout(r.current),r.current=setTimeout(()=>{e()},500)}})]})})]})}function bc({children:e}){const{securityOk:t}=j(on);C(()=>{(async()=>await n())()},[t]);const n=async()=>{try{const r=Xe("/api/test-key");return await(await encryptedFetch(r,{method:"POST",headers:{"Content-Type":"application/text"},body:JSON.stringify({test:"Hello"})})).text(),console.log("Authentication Succeeded"),"Ok"}catch{return console.log("Authentication Failed"),"Err"}};return t?c(O,{children:e}):c(vc,{onSecurityKeyChanged:n})}(async()=>(console.log("Initialize Wasm"),Vl(),qe(c(Ju,{children:c(Qu,{children:c(bc,{children:c(ca,{children:c(mc,{})})})})}),document.getElementById("app"))))();
