import Rl,{encrypt as Il,decrypt as Ml,derive_key as Gr}from"/pkg/device_wasm.js";var vt,A,zr,Oe,rr,qr,Yr,Xr,Tn,cn,dn,Jr,ht={},Zr=[],Hl=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,bt=Array.isArray;function ye(e,t){for(var n in t)e[n]=t[n];return e}function Cn(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Q(e,t,n){var r,o,l,i={};for(l in t)l=="key"?r=t[l]:l=="ref"?o=t[l]:i[l]=t[l];if(arguments.length>2&&(i.children=arguments.length>3?vt.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(l in e.defaultProps)i[l]==null&&(i[l]=e.defaultProps[l]);return ut(e,i,r,o,null)}function ut(e,t,n,r,o){var l={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++zr,__i:-1,__u:0};return o==null&&A.vnode!=null&&A.vnode(l),l}function Fn(){return{current:null}}function R(e){return e.children}function de(e,t){this.props=e,this.context=t}function qe(e,t){if(t==null)return e.__?qe(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?qe(e):null}function Qr(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Qr(e)}}function fn(e){(!e.__d&&(e.__d=!0)&&Oe.push(e)&&!At.__r++||rr!=A.debounceRendering)&&((rr=A.debounceRendering)||qr)(At)}function At(){for(var e,t,n,r,o,l,i,a=1;Oe.length;)Oe.length>a&&Oe.sort(Yr),e=Oe.shift(),a=Oe.length,e.__d&&(n=void 0,o=(r=(t=e).__v).__e,l=[],i=[],t.__P&&((n=ye({},r)).__v=r.__v+1,A.vnode&&A.vnode(n),An(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[o]:null,l,o??qe(r),!!(32&r.__u),i),n.__v=r.__v,n.__.__k[n.__i]=n,no(l,n,i),n.__e!=o&&Qr(n)));At.__r=0}function eo(e,t,n,r,o,l,i,a,s,u,f){var d,h,p,m,g,b,v=r&&r.__k||Zr,_=t.length;for(s=Ul(n,t,v,s,_),d=0;d<_;d++)(p=n.__k[d])!=null&&(h=p.__i==-1?ht:v[p.__i]||ht,p.__i=d,b=An(e,p,h,o,l,i,a,s,u,f),m=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&On(h.ref,null,p),f.push(p.ref,p.__c||m,p)),g==null&&m!=null&&(g=m),4&p.__u||h.__k===p.__k?s=to(p,s,e):typeof p.type=="function"&&b!==void 0?s=b:m&&(s=m.nextSibling),p.__u&=-7);return n.__e=g,s}function Ul(e,t,n,r,o){var l,i,a,s,u,f=n.length,d=f,h=0;for(e.__k=new Array(o),l=0;l<o;l++)(i=t[l])!=null&&typeof i!="boolean"&&typeof i!="function"?(s=l+h,(i=e.__k[l]=typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?ut(null,i,null,null,null):bt(i)?ut(R,{children:i},null,null,null):i.constructor==null&&i.__b>0?ut(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=e,i.__b=e.__b+1,a=null,(u=i.__i=jl(i,n,s,d))!=-1&&(d--,(a=n[u])&&(a.__u|=2)),a==null||a.__v==null?(u==-1&&(o>f?h--:o<f&&h++),typeof i.type!="function"&&(i.__u|=4)):u!=s&&(u==s-1?h--:u==s+1?h++:(u>s?h--:h++,i.__u|=4))):e.__k[l]=null;if(d)for(l=0;l<f;l++)(a=n[l])!=null&&(2&a.__u)==0&&(a.__e==r&&(r=qe(a)),oo(a,a));return r}function to(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=to(r[o],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=qe(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function fe(e,t){return t=t||[],e==null||typeof e=="boolean"||(bt(e)?e.some(function(n){fe(n,t)}):t.push(e)),t}function jl(e,t,n,r){var o,l,i=e.key,a=e.type,s=t[n];if(s===null&&e.key==null||s&&i==s.key&&a==s.type&&(2&s.__u)==0)return n;if(r>(s!=null&&(2&s.__u)==0?1:0))for(o=n-1,l=n+1;o>=0||l<t.length;){if(o>=0){if((s=t[o])&&(2&s.__u)==0&&i==s.key&&a==s.type)return o;o--}if(l<t.length){if((s=t[l])&&(2&s.__u)==0&&i==s.key&&a==s.type)return l;l++}}return-1}function or(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Hl.test(t)?n:n+"px"}function Et(e,t,n,r,o){var l,i;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||or(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||or(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")l=t!=(t=t.replace(Xr,"$1")),i=t.toLowerCase(),t=i in e||t=="onFocusOut"||t=="onFocusIn"?i.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+l]=n,n?r?n.u=r.u:(n.u=Tn,e.addEventListener(t,l?dn:cn,l)):e.removeEventListener(t,l?dn:cn,l);else{if(o=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function lr(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=Tn++;else if(t.t<n.u)return;return n(A.event?A.event(t):t)}}}function An(e,t,n,r,o,l,i,a,s,u){var f,d,h,p,m,g,b,v,_,x,$,P,T,O,q,w,k,L=t.type;if(t.constructor!=null)return null;128&n.__u&&(s=!!(32&n.__u),l=[a=t.__e=n.__e]),(f=A.__b)&&f(t);e:if(typeof L=="function")try{if(v=t.props,_="prototype"in L&&L.prototype.render,x=(f=L.contextType)&&r[f.__c],$=f?x?x.props.value:f.__:r,n.__c?b=(d=t.__c=n.__c).__=d.__E:(_?t.__c=d=new L(v,$):(t.__c=d=new de(v,$),d.constructor=L,d.render=Bl),x&&x.sub(d),d.props=v,d.state||(d.state={}),d.context=$,d.__n=r,h=d.__d=!0,d.__h=[],d._sb=[]),_&&d.__s==null&&(d.__s=d.state),_&&L.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=ye({},d.__s)),ye(d.__s,L.getDerivedStateFromProps(v,d.__s))),p=d.props,m=d.state,d.__v=t,h)_&&L.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),_&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(_&&L.getDerivedStateFromProps==null&&v!==p&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(v,$),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(v,d.__s,$)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(d.props=v,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(H){H&&(H.__=t)}),P=0;P<d._sb.length;P++)d.__h.push(d._sb[P]);d._sb=[],d.__h.length&&i.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(v,d.__s,$),_&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(p,m,g)})}if(d.context=$,d.props=v,d.__P=e,d.__e=!1,T=A.__r,O=0,_){for(d.state=d.__s,d.__d=!1,T&&T(t),f=d.render(d.props,d.state,d.context),q=0;q<d._sb.length;q++)d.__h.push(d._sb[q]);d._sb=[]}else do d.__d=!1,T&&T(t),f=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++O<25);d.state=d.__s,d.getChildContext!=null&&(r=ye(ye({},r),d.getChildContext())),_&&!h&&d.getSnapshotBeforeUpdate!=null&&(g=d.getSnapshotBeforeUpdate(p,m)),w=f,f!=null&&f.type===R&&f.key==null&&(w=ro(f.props.children)),a=eo(e,bt(w)?w:[w],t,n,r,o,l,i,a,s,u),d.base=t.__e,t.__u&=-161,d.__h.length&&i.push(d),b&&(d.__E=d.__=null)}catch(H){if(t.__v=null,s||l!=null)if(H.then){for(t.__u|=s?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;l[l.indexOf(a)]=null,t.__e=a}else for(k=l.length;k--;)Cn(l[k]);else t.__e=n.__e,t.__k=n.__k;A.__e(H,t,n)}else l==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):a=t.__e=Wl(n.__e,t,n,r,o,l,i,s,u);return(f=A.diffed)&&f(t),128&t.__u?void 0:a}function no(e,t,n){for(var r=0;r<n.length;r++)On(n[r],n[++r],n[++r]);A.__c&&A.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(l){l.call(o)})}catch(l){A.__e(l,o.__v)}})}function ro(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:bt(e)?e.map(ro):ye({},e)}function Wl(e,t,n,r,o,l,i,a,s){var u,f,d,h,p,m,g,b=n.props,v=t.props,_=t.type;if(_=="svg"?o="http://www.w3.org/2000/svg":_=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),l!=null){for(u=0;u<l.length;u++)if((p=l[u])&&"setAttribute"in p==!!_&&(_?p.localName==_:p.nodeType==3)){e=p,l[u]=null;break}}if(e==null){if(_==null)return document.createTextNode(v);e=document.createElementNS(o,_,v.is&&v),a&&(A.__m&&A.__m(t,l),a=!1),l=null}if(_==null)b===v||a&&e.data==v||(e.data=v);else{if(l=l&&vt.call(e.childNodes),b=n.props||ht,!a&&l!=null)for(b={},u=0;u<e.attributes.length;u++)b[(p=e.attributes[u]).name]=p.value;for(u in b)if(p=b[u],u!="children"){if(u=="dangerouslySetInnerHTML")d=p;else if(!(u in v)){if(u=="value"&&"defaultValue"in v||u=="checked"&&"defaultChecked"in v)continue;Et(e,u,null,p,o)}}for(u in v)p=v[u],u=="children"?h=p:u=="dangerouslySetInnerHTML"?f=p:u=="value"?m=p:u=="checked"?g=p:a&&typeof p!="function"||b[u]===p||Et(e,u,p,b[u],o);if(f)a||d&&(f.__html==d.__html||f.__html==e.innerHTML)||(e.innerHTML=f.__html),t.__k=[];else if(d&&(e.innerHTML=""),eo(t.type=="template"?e.content:e,bt(h)?h:[h],t,n,r,_=="foreignObject"?"http://www.w3.org/1999/xhtml":o,l,i,l?l[0]:n.__k&&qe(n,0),a,s),l!=null)for(u=l.length;u--;)Cn(l[u]);a||(u="value",_=="progress"&&m==null?e.removeAttribute("value"):m!=null&&(m!==e[u]||_=="progress"&&!m||_=="option"&&m!=b[u])&&Et(e,u,m,b[u],o),u="checked",g!=null&&g!=e[u]&&Et(e,u,g,b[u],o))}return e}function On(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(o){A.__e(o,n)}}function oo(e,t,n){var r,o;if(A.unmount&&A.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||On(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(l){A.__e(l,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&oo(r[o],t,n||typeof e.type!="function");n||Cn(e.__e),e.__c=e.__=e.__e=void 0}function Bl(e,t,n){return this.constructor(e,n)}function Ye(e,t,n){var r,o,l,i;t==document&&(t=document.documentElement),A.__&&A.__(e,t),o=(r=typeof n=="function")?null:n&&n.__k||t.__k,l=[],i=[],An(t,e=(!r&&n||t).__k=Q(R,null,[e]),o||ht,ht,t.namespaceURI,!r&&n?[n]:o?null:t.firstChild?vt.call(t.childNodes):null,l,!r&&n?n:o?o.__e:t.firstChild,r,i),no(l,e,i)}function lo(e,t){Ye(e,t,lo)}function ao(e,t,n){var r,o,l,i,a=ye({},e.props);for(l in e.type&&e.type.defaultProps&&(i=e.type.defaultProps),t)l=="key"?r=t[l]:l=="ref"?o=t[l]:a[l]=t[l]==null&&i!=null?i[l]:t[l];return arguments.length>2&&(a.children=arguments.length>3?vt.call(arguments,2):n),ut(e.type,a,r||e.key,o||e.ref,null)}function V(e){function t(n){var r,o;return this.getChildContext||(r=new Set,(o={})[t.__c]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(l){this.props.value!=l.value&&r.forEach(function(i){i.__e=!0,fn(i)})},this.sub=function(l){r.add(l);var i=l.componentWillUnmount;l.componentWillUnmount=function(){r&&r.delete(l),i&&i.call(l)}}),n.children}return t.__c="__cC"+Jr++,t.__=e,t.Provider=t.__l=(t.Consumer=function(n,r){return n.children(r)}).contextType=t,t}vt=Zr.slice,A={__e:function(e,t,n,r){for(var o,l,i;t=t.__;)if((o=t.__c)&&!o.__)try{if((l=o.constructor)&&l.getDerivedStateFromError!=null&&(o.setState(l.getDerivedStateFromError(e)),i=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),i=o.__d),i)return o.__E=o}catch(a){e=a}throw e}},zr=0,de.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=ye({},this.state),typeof e=="function"&&(e=e(ye({},n),this.props)),e&&ye(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),fn(this))},de.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),fn(this))},de.prototype.render=R,Oe=[],qr=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Yr=function(e,t){return e.__v.__b-t.__v.__b},At.__r=0,Xr=/(PointerCapture)$|Capture$/i,Tn=0,cn=lr(!1),dn=lr(!0),Jr=0;var Kl=0;function c(e,t,n,r,o,l){t||(t={});var i,a,s=t;if("ref"in s)for(a in s={},t)a=="ref"?i=t[a]:s[a]=t[a];var u={type:e,props:s,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Kl,__i:-1,__u:0,__source:o,__self:l};if(typeof e=="function"&&(i=e.defaultProps))for(a in i)s[a]===void 0&&(s[a]=i[a]);return A.vnode&&A.vnode(u),u}var Ee,j,Zt,ar,Xe=0,io=[],K=A,ir=K.__b,sr=K.__r,ur=K.diffed,cr=K.__c,dr=K.unmount,fr=K.__;function je(e,t){K.__h&&K.__h(j,e,Xe||t),Xe=0;var n=j.__H||(j.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function S(e){return Xe=1,et(so,e)}function et(e,t,n){var r=je(Ee++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):so(void 0,t),function(a){var s=r.__N?r.__N[0]:r.__[0],u=r.t(s,a);s!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=j,!j.__f)){var o=function(a,s,u){if(!r.__c.__H)return!0;var f=r.__c.__H.__.filter(function(h){return!!h.__c});if(f.every(function(h){return!h.__N}))return!l||l.call(this,a,s,u);var d=r.__c.props!==a;return f.forEach(function(h){if(h.__N){var p=h.__[0];h.__=h.__N,h.__N=void 0,p!==h.__[0]&&(d=!0)}}),l&&l.call(this,a,s,u)||d};j.__f=!0;var l=j.shouldComponentUpdate,i=j.componentWillUpdate;j.componentWillUpdate=function(a,s,u){if(this.__e){var f=l;l=void 0,o(a,s,u),l=f}i&&i.call(this,a,s,u)},j.shouldComponentUpdate=o}return r.__N||r.__}function F(e,t){var n=je(Ee++,3);!K.__s&&Rn(n.__H,t)&&(n.__=e,n.u=t,j.__H.__h.push(n))}function We(e,t){var n=je(Ee++,4);!K.__s&&Rn(n.__H,t)&&(n.__=e,n.u=t,j.__h.push(n))}function N(e){return Xe=5,M(function(){return{current:e}},[])}function Ln(e,t,n){Xe=6,We(function(){if(typeof e=="function"){var r=e(t());return function(){e(null),r&&typeof r=="function"&&r()}}if(e)return e.current=t(),function(){return e.current=null}},n==null?n:n.concat(e))}function M(e,t){var n=je(Ee++,7);return Rn(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function B(e,t){return Xe=8,M(function(){return e},t)}function W(e){var t=j.context[e.__c],n=je(Ee++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(j)),t.props.value):e.__}function Dn(e,t){K.useDebugValue&&K.useDebugValue(t?t(e):e)}function Vl(e){var t=je(Ee++,10),n=S();return t.__=e,j.componentDidCatch||(j.componentDidCatch=function(r,o){t.__&&t.__(r,o),n[1](r)}),[n[0],function(){n[1](void 0)}]}function ie(){var e=je(Ee++,11);if(!e.__){for(var t=j.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function Gl(){for(var e;e=io.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Tt),e.__H.__h.forEach(pn),e.__H.__h=[]}catch(t){e.__H.__h=[],K.__e(t,e.__v)}}K.__b=function(e){j=null,ir&&ir(e)},K.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),fr&&fr(e,t)},K.__r=function(e){sr&&sr(e),Ee=0;var t=(j=e.__c).__H;t&&(Zt===j?(t.__h=[],j.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(Tt),t.__h.forEach(pn),t.__h=[],Ee=0)),Zt=j},K.diffed=function(e){ur&&ur(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(io.push(t)!==1&&ar===K.requestAnimationFrame||((ar=K.requestAnimationFrame)||zl)(Gl)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),Zt=j=null},K.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Tt),n.__h=n.__h.filter(function(r){return!r.__||pn(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],K.__e(r,n.__v)}}),cr&&cr(e,t)},K.unmount=function(e){dr&&dr(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Tt(r)}catch(o){t=o}}),n.__H=void 0,t&&K.__e(t,n.__v))};var pr=typeof requestAnimationFrame=="function";function zl(e){var t,n=function(){clearTimeout(r),pr&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,35);pr&&(t=requestAnimationFrame(n))}function Tt(e){var t=j,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),j=t}function pn(e){var t=j;e.__c=e.__(),j=t}function Rn(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function so(e,t){return typeof t=="function"?t(e):t}const ql=location.hostname==="localhost"||location.hostname==="127.0.0.1"||location.hostname==="192.168.10.51",Je=e=>{const t=e.startsWith("/")?"":"/";return(ql?"http://consoledev.local":"")+t+e};function Ke(e){const t=e.trim();if(t==="")return null;const n=Number(t);return isNaN(n)?null:n}function uo(){const e=[window.location.search,window.location.hash].filter(Boolean).map(t=>t.replace(/^[?#]/,"")).join("&");return Object.fromEntries(new URLSearchParams(e).entries())}function Yl(e){const t=[];let n="",r=!1;for(let o=0;o<e.length;o++){const l=e[o],i=e[o+1];l==='"'&&r&&i==='"'?(n+='"',o++):l==='"'?r=!r:l===","&&!r?(t.push(n),n=""):n+=l}return t.push(n),t}function hr(e){if(e=="")return 0;if(e.length!=6)return null;const t=atob(e),n=new ArrayBuffer(4),r=new Uint8Array(n);for(let o=0;o<4;o++)r[o]=t.charCodeAt(o);return new DataView(n).getFloat32(0,!0)}function Xl(e){e=e.replace("#","");const t=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return(t*299+n*587+r*114)/1e3>=128?"black":"white"}var te=(e=>(e.Assigned="Assigned",e.Actual="Actual",e))(te||{});const co=V(null);async function Jl(){try{const e=Je("api/storage-config");return await(await encryptedFetch(e,{method:"GET"})).json()}catch{return{rack_config:{}}}}async function Zl(e){const t=Je("api/storage-config");return await(await encryptedFetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}function Ql({children:e}){const[t,n]=S(null),[r,o]=S(!1),l=B(async()=>{o(!0),n(await Jl()),o(!1)},[]),i=B(async a=>{o(!0);try{n(await Zl(a))}catch(s){throw s}finally{o(!1)}},[]);return F(()=>{(async()=>await l())()},[]),c(co.Provider,{value:{storageConfig:t,setStorageConfig:n,loadingStorgeConfig:r,reloadStorageConfig:l,saveStorageConfig:i},children:e})}const In=()=>W(co),ct=async(e,t,n)=>{const r=Je(e);try{return await(await encryptedFetch(r,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json()}catch(o){throw console.log(`Error calling ${r} : ${o}`),o}},fo=(e,t,n)=>{var $;const r=Yl(e),o=Ke(r[8]),l=Ke(r[9]),i=Ke(r[10]),a=Ke(r[11]),s=Ke(r[13]),u=s?new Date(s*1e3):null,f=Ke(r[14]),d=f?new Date(f*1e3):null,h=r[15],p=hr(r[16]),m=hr(r[17]),g=r[18]==="y",b=r[19],v=r[20],_=r[21],x=r[22];return{id:r[0],tag_id:r[1],material_type:r[2],material_subtype:r[3],color_name:r[4],color_code:r[5],note:r[6],brand:r[7],weight_advertised:o,weight_core:l,weight_new:i,weight_current:a,weight_left:a&&l?a-l:a&&o&&i?a-(i-o):null,weight_used:i&&a?i-a:a&&o&&l?o+l-a:null,slicer_filament:r[12],slicer_filament_name:r[12]?(($=n==null?void 0:n.find(P=>P.code==r[12]))==null?void 0:$.name)??""??null:"",added_datetime:u,encoded_datetime:d,full_unused:h,consumed_since_add:p,consumed_since_weight:m,k_setting:g,data_origin:b,tag_type:v,printer_location:t!=null&&t.get(r[0])?"!"+(t==null?void 0:t.get(r[0])):null,assigned_location:_,actual_location:x}};function lt(e){if(!e)return"";const t=e.rack?`R:${e.rack}`:null,n=e.bay?`B:${e.bay}`:null,r=e.shelf?`S:${e.shelf}`:null,o=e.position?`P:${e.position}`:null,l=e.container?`C:${e.container}`:null,i=[t,n,r,o,l].filter(s=>s!=null).join("/");return i!=""?"#"+i:""}function hn(e){if(e){const t={R:0,B:0,S:0,P:0,C:0};for(const[,r,o]of e.matchAll(/([RBSPC]):(\d+)/g))t[r]=Number(o);return{rack:t.R,bay:t.B,shelf:t.S,position:t.P,container:t.C}}else return null}/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ea=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),_r=e=>{const t=ea(e);return t.charAt(0).toUpperCase()+t.slice(1)},ta=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var na={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,children:o,iconNode:l,class:i="",...a})=>Q("svg",{...na,width:String(t),height:t,stroke:e,"stroke-width":r?Number(n)*24/Number(t):n,class:["lucide",i].join(" "),...a},[...l.map(([s,u])=>Q(s,u)),...fe(o)]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(e,t)=>{const n=({class:r="",children:o,...l})=>Q(ra,{...l,iconNode:t,class:ta(`lucide-${mr(_r(e))}`,`lucide-${mr(e)}`,r)},o);return n.displayName=_r(e),n};/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Be("corner-down-left",[["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}],["path",{d:"m9 10-5 5 5 5",key:"1kshq7"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=Be("delete",[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=Be("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=Be("spool",[["path",{d:"M17 13.44 4.442 17.082A2 2 0 0 0 4.982 21H19a2 2 0 0 0 .558-3.921l-1.115-.32A2 2 0 0 1 17 14.837V7.66",key:"13vns8"}],["path",{d:"m7 10.56 12.558-3.642A2 2 0 0 0 19.018 3H5a2 2 0 0 0-.558 3.921l1.115.32A2 2 0 0 1 7 9.163v7.178",key:"s8x3u0"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=Be("square-library",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 7v10",key:"d5nglc"}],["path",{d:"M11 7v10",key:"pptsnr"}],["path",{d:"m15 7 2 10",key:"1m7qm5"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=Be("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=Be("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function po(e,t){for(var n in t)e[n]=t[n];return e}function _n(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function It(e,t){var n=t(),r=S({t:{__:n,u:t}}),o=r[0].t,l=r[1];return We(function(){o.__=n,o.u=t,Qt(o)&&l({t:o})},[e,n,t]),F(function(){return Qt(o)&&l({t:o}),e(function(){Qt(o)&&l({t:o})})},[e]),n}function Qt(e){var t,n,r=e.u,o=e.__;try{var l=r();return!((t=o)===(n=l)&&(t!==0||1/t==1/n)||t!=t&&n!=n)}catch{return!0}}function Mn(e){e()}function Hn(e){return e}function Un(){return[!1,Mn]}var jn=We;function Ot(e,t){this.props=e,this.context=t}function ho(e,t){function n(o){var l=this.props.ref,i=l==o.ref;return!i&&l&&(l.call?l(null):l.current=null),t?!t(this.props,o)||!i:_n(this.props,o)}function r(o){return this.shouldComponentUpdate=n,Q(e,o)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(Ot.prototype=new de).isPureReactComponent=!0,Ot.prototype.shouldComponentUpdate=function(e,t){return _n(this.props,e)||_n(this.state,t)};var br=A.__b;A.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),br&&br(e)};var sa=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Wn(e){function t(n){var r=po({},n);return delete r.ref,e(r,n.ref||null)}return t.$$typeof=sa,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var gr=function(e,t){return e==null?null:fe(fe(e).map(t))},mo={map:gr,forEach:gr,count:function(e){return e?fe(e).length:0},only:function(e){var t=fe(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:fe},ua=A.__e;A.__e=function(e,t,n,r){if(e.then){for(var o,l=t;l=l.__;)if((o=l.__c)&&o.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t)}ua(e,t,n,r)};var yr=A.unmount;function _o(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=po({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return _o(r,t,n)})),e}function vo(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return vo(r,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function dt(){this.__u=0,this.o=null,this.__b=null}function bo(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function go(e){var t,n,r;function o(l){if(t||(t=e()).then(function(i){n=i.default||i},function(i){r=i}),r)throw r;if(!n)throw t;return Q(n,l)}return o.displayName="Lazy",o.__f=!0,o}function Ve(){this.i=null,this.l=null}A.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),yr&&yr(e)},(dt.prototype=new de).__c=function(e,t){var n=t.__c,r=this;r.o==null&&(r.o=[]),r.o.push(n);var o=bo(r.__v),l=!1,i=function(){l||(l=!0,n.__R=null,o?o(a):a())};n.__R=i;var a=function(){if(!--r.__u){if(r.state.__a){var s=r.state.__a;r.__v.__k[0]=vo(s,s.__c.__P,s.__c.__O)}var u;for(r.setState({__a:r.__b=null});u=r.o.pop();)u.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(i,i)},dt.prototype.componentWillUnmount=function(){this.o=[]},dt.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=_o(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__a&&Q(R,null,e.fallback);return o&&(o.__u&=-33),[Q(R,null,t.__a?null:e.children),o]};var wr=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function ca(e){return this.getChildContext=function(){return e.context},e.children}function da(e){var t=this,n=e.h;if(t.componentWillUnmount=function(){Ye(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),!t.v){for(var r=t.__v;r!==null&&!r.__m&&r.__!==null;)r=r.__;t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],__k:{__m:r.__m},contains:function(){return!0},insertBefore:function(o,l){this.childNodes.push(o),t.h.insertBefore(o,l)},removeChild:function(o){this.childNodes.splice(this.childNodes.indexOf(o)>>>1,1),t.h.removeChild(o)}}}Ye(Q(ca,{context:t.context},e.__v),t.v)}function Bn(e,t){var n=Q(da,{__v:e,h:t});return n.containerInfo=t,n}(Ve.prototype=new de).__a=function(e){var t=this,n=bo(t.__v),r=t.l.get(e);return r[0]++,function(o){var l=function(){t.props.revealOrder?(r.push(o),wr(t,e,r)):o()};n?n(l):l()}},Ve.prototype.render=function(e){this.i=null,this.l=new Map;var t=fe(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},Ve.prototype.componentDidUpdate=Ve.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){wr(e,n,t)})};var yo=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,fa=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,pa=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,ha=/[A-Z0-9]/g,ma=typeof document<"u",_a=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function wo(e,t,n){return t.__k==null&&(t.textContent=""),Ye(e,t),typeof n=="function"&&n(),e?e.__c:null}function $o(e,t,n){return lo(e,t),typeof n=="function"&&n(),e?e.__c:null}de.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(de.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var $r=A.event;function va(){}function ba(){return this.cancelBubble}function ga(){return this.defaultPrevented}A.event=function(e){return $r&&(e=$r(e)),e.persist=va,e.isPropagationStopped=ba,e.isDefaultPrevented=ga,e.nativeEvent=e};var Kn,ya={enumerable:!1,configurable:!0,get:function(){return this.class}},xr=A.vnode;A.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,r=t.type,o={},l=r.indexOf("-")===-1;for(var i in n){var a=n[i];if(!(i==="value"&&"defaultValue"in n&&a==null||ma&&i==="children"&&r==="noscript"||i==="class"||i==="className")){var s=i.toLowerCase();i==="defaultValue"&&"value"in n&&n.value==null?i="value":i==="download"&&a===!0?a="":s==="translate"&&a==="no"?a=!1:s[0]==="o"&&s[1]==="n"?s==="ondoubleclick"?i="ondblclick":s!=="onchange"||r!=="input"&&r!=="textarea"||_a(n.type)?s==="onfocus"?i="onfocusin":s==="onblur"?i="onfocusout":pa.test(i)&&(i=s):s=i="oninput":l&&fa.test(i)?i=i.replace(ha,"-$&").toLowerCase():a===null&&(a=void 0),s==="oninput"&&o[i=s]&&(i="oninputCapture"),o[i]=a}}r=="select"&&o.multiple&&Array.isArray(o.value)&&(o.value=fe(n.children).forEach(function(u){u.props.selected=o.value.indexOf(u.props.value)!=-1})),r=="select"&&o.defaultValue!=null&&(o.value=fe(n.children).forEach(function(u){u.props.selected=o.multiple?o.defaultValue.indexOf(u.props.value)!=-1:o.defaultValue==u.props.value})),n.class&&!n.className?(o.class=n.class,Object.defineProperty(o,"className",ya)):(n.className&&!n.class||n.class&&n.className)&&(o.class=o.className=n.className),t.props=o}(e),e.$$typeof=yo,xr&&xr(e)};var Er=A.__r;A.__r=function(e){Er&&Er(e),Kn=e.__c};var kr=A.diffed;A.diffed=function(e){kr&&kr(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value),Kn=null};var xo={ReactCurrentDispatcher:{current:{readContext:function(e){return Kn.__n[e.__c].props.value},useCallback:B,useContext:W,useDebugValue:Dn,useDeferredValue:Hn,useEffect:F,useId:ie,useImperativeHandle:Ln,useInsertionEffect:jn,useLayoutEffect:We,useMemo:M,useReducer:et,useRef:N,useState:S,useSyncExternalStore:It,useTransition:Un}}},wa="18.3.1";function Eo(e){return Q.bind(null,e)}function tt(e){return!!e&&e.$$typeof===yo}function ko(e){return tt(e)&&e.type===R}function So(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function Vn(e){return tt(e)?ao.apply(null,arguments):e}function No(e){return!!e.__k&&(Ye(null,e),!0)}function Po(e){return e&&(e.base||e.nodeType===1&&e)||null}var To=function(e,t){return e(t)},Co=function(e,t){return e(t)},Fo=R,Ao=tt,E={useState:S,useId:ie,useReducer:et,useEffect:F,useLayoutEffect:We,useInsertionEffect:jn,useTransition:Un,useDeferredValue:Hn,useSyncExternalStore:It,startTransition:Mn,useRef:N,useImperativeHandle:Ln,useMemo:M,useCallback:B,useContext:W,useDebugValue:Dn,version:"18.3.1",Children:mo,render:wo,hydrate:$o,unmountComponentAtNode:No,createPortal:Bn,createElement:Q,createContext:V,createFactory:Eo,cloneElement:Vn,createRef:Fn,Fragment:R,isValidElement:tt,isElement:Ao,isFragment:ko,isMemo:So,findDOMNode:Po,Component:de,PureComponent:Ot,memo:ho,forwardRef:Wn,flushSync:Co,unstable_batchedUpdates:To,StrictMode:Fo,Suspense:dt,SuspenseList:Ve,lazy:go,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:xo};const vn=Object.freeze(Object.defineProperty({__proto__:null,Children:mo,Component:de,Fragment:R,PureComponent:Ot,StrictMode:Fo,Suspense:dt,SuspenseList:Ve,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:xo,cloneElement:Vn,createContext:V,createElement:Q,createFactory:Eo,createPortal:Bn,createRef:Fn,default:E,findDOMNode:Po,flushSync:Co,forwardRef:Wn,hydrate:$o,isElement:Ao,isFragment:ko,isMemo:So,isValidElement:tt,lazy:go,memo:ho,render:wo,startTransition:Mn,unmountComponentAtNode:No,unstable_batchedUpdates:To,useCallback:B,useContext:W,useDebugValue:Dn,useDeferredValue:Hn,useEffect:F,useErrorBoundary:Vl,useId:ie,useImperativeHandle:Ln,useInsertionEffect:jn,useLayoutEffect:We,useMemo:M,useReducer:et,useRef:N,useState:S,useSyncExternalStore:It,useTransition:Un,version:wa},Symbol.toStringTag,{value:"Module"})),Oo=typeof document<"u"?E.useLayoutEffect:()=>{};function $a(e){const t=N(null);return Oo(()=>{t.current=e},[e]),B((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const Ce=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},De=e=>e&&"window"in e&&e.window===e?e:Ce(e).defaultView||window;function xa(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function Ea(e){return xa(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let ka=!1;function Gn(){return ka}function Lo(e,t){if(!Gn())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:Ea(n)?n=n.host:n=n.parentNode}return!1}const bn=(e=document)=>{var t;if(!Gn())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function Do(e){return Gn()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function Sa(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function Na(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Ro(e){let t=null;return()=>(t==null&&(t=e()),t)}const Pa=Ro(function(){return Na(/^Mac/i)}),Ta=Ro(function(){return Sa(/Android/i)});function Io(){let e=N(new Map),t=B((o,l,i,a)=>{let s=a!=null&&a.once?(...u)=>{e.current.delete(i),i(...u)}:i;e.current.set(i,{type:l,eventTarget:o,fn:s,options:a}),o.addEventListener(l,s,a)},[]),n=B((o,l,i,a)=>{var s;let u=((s=e.current.get(i))===null||s===void 0?void 0:s.fn)||i;o.removeEventListener(l,u,a),e.current.delete(i)},[]),r=B(()=>{e.current.forEach((o,l)=>{n(o.eventTarget,o.type,l,o.options)})},[n]);return F(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function Ca(e){return e.mozInputSource===0&&e.isTrusted?!0:Ta()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Mo(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function Fa(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function Ho(e){let t=N({isFocused:!1,observer:null});Oo(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=$a(r=>{e==null||e(r)});return B(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let o=r.target,l=i=>{if(t.current.isFocused=!1,o.disabled){let a=Mo(i);n(a)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",l,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&o.disabled){var i;(i=t.current.observer)===null||i===void 0||i.disconnect();let a=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),t.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let Aa=!1,gt=null,gn=new Set,ft=new Map,Ue=!1,yn=!1;const Oa={Tab:!0,Escape:!0};function zn(e,t){for(let n of gn)n(e,t)}function La(e){return!(e.metaKey||!Pa()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Lt(e){Ue=!0,La(e)&&(gt="keyboard",zn("keyboard",e))}function ze(e){gt="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Ue=!0,zn("pointer",e))}function Uo(e){Ca(e)&&(Ue=!0,gt="virtual")}function jo(e){e.target===window||e.target===document||Aa||!e.isTrusted||(!Ue&&!yn&&(gt="virtual",zn("virtual",e)),Ue=!1,yn=!1)}function Wo(){Ue=!1,yn=!0}function wn(e){if(typeof window>"u"||typeof document>"u"||ft.get(De(e)))return;const t=De(e),n=Ce(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Ue=!0,r.apply(this,arguments)},n.addEventListener("keydown",Lt,!0),n.addEventListener("keyup",Lt,!0),n.addEventListener("click",Uo,!0),t.addEventListener("focus",jo,!0),t.addEventListener("blur",Wo,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",ze,!0),n.addEventListener("pointermove",ze,!0),n.addEventListener("pointerup",ze,!0)),t.addEventListener("beforeunload",()=>{Bo(e)},{once:!0}),ft.set(t,{focus:r})}const Bo=(e,t)=>{const n=De(e),r=Ce(e);t&&r.removeEventListener("DOMContentLoaded",t),ft.has(n)&&(n.HTMLElement.prototype.focus=ft.get(n).focus,r.removeEventListener("keydown",Lt,!0),r.removeEventListener("keyup",Lt,!0),r.removeEventListener("click",Uo,!0),n.removeEventListener("focus",jo,!0),n.removeEventListener("blur",Wo,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",ze,!0),r.removeEventListener("pointermove",ze,!0),r.removeEventListener("pointerup",ze,!0)),ft.delete(n))};function Da(e){const t=Ce(e);let n;return t.readyState!=="loading"?wn(e):(n=()=>{wn(e)},t.addEventListener("DOMContentLoaded",n)),()=>Bo(e,n)}typeof document<"u"&&Da();function Ko(){return gt!=="pointer"}const Ra=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Ia(e,t,n){let r=Ce(n==null?void 0:n.target);const o=typeof window<"u"?De(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,l=typeof window<"u"?De(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,i=typeof window<"u"?De(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?De(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof o&&!Ra.has(r.activeElement.type)||r.activeElement instanceof l||r.activeElement instanceof i&&r.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof a&&!Oa[n.key])}function Ma(e,t,n){wn(),F(()=>{let r=(o,l)=>{Ia(!!(n!=null&&n.isTextInput),o,l)&&e(Ko())};return gn.add(r),()=>{gn.delete(r)}},t)}function Ha(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:o}=e;const l=B(s=>{if(s.target===s.currentTarget)return r&&r(s),o&&o(!1),!0},[r,o]),i=Ho(l),a=B(s=>{const u=Ce(s.target),f=u?bn(u):bn();s.target===s.currentTarget&&f===Do(s.nativeEvent)&&(n&&n(s),o&&o(!0),i(s))},[o,n,i]);return{focusProps:{onFocus:!t&&(n||o||r)?a:void 0,onBlur:!t&&(r||o)?l:void 0}}}function Ua(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:o}=e,l=N({isFocusWithin:!1}),{addGlobalListener:i,removeAllGlobalListeners:a}=Io(),s=B(d=>{d.currentTarget.contains(d.target)&&l.current.isFocusWithin&&!d.currentTarget.contains(d.relatedTarget)&&(l.current.isFocusWithin=!1,a(),n&&n(d),o&&o(!1))},[n,o,l,a]),u=Ho(s),f=B(d=>{if(!d.currentTarget.contains(d.target))return;const h=Ce(d.target),p=bn(h);if(!l.current.isFocusWithin&&p===Do(d.nativeEvent)){r&&r(d),o&&o(!0),l.current.isFocusWithin=!0,u(d);let m=d.currentTarget;i(h,"focus",g=>{if(l.current.isFocusWithin&&!Lo(m,g.target)){let b=new h.defaultView.FocusEvent("blur",{relatedTarget:g.target});Fa(b,m);let v=Mo(b);s(v)}},{capture:!0})}},[r,o,u,i,s]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:f,onBlur:s}}}let $n=!1,en=0;function ja(){$n=!0,setTimeout(()=>{$n=!1},50)}function Sr(e){e.pointerType==="touch"&&ja()}function Wa(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",Sr),en++,()=>{en--,!(en>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Sr)}}function qn(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:o}=e,[l,i]=S(!1),a=N({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;F(Wa,[]);let{addGlobalListener:s,removeAllGlobalListeners:u}=Io(),{hoverProps:f,triggerHoverEnd:d}=M(()=>{let h=(g,b)=>{if(a.pointerType=b,o||b==="touch"||a.isHovered||!g.currentTarget.contains(g.target))return;a.isHovered=!0;let v=g.currentTarget;a.target=v,s(Ce(g.target),"pointerover",_=>{a.isHovered&&a.target&&!Lo(a.target,_.target)&&p(_,_.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:v,pointerType:b}),n&&n(!0),i(!0)},p=(g,b)=>{let v=a.target;a.pointerType="",a.target=null,!(b==="touch"||!a.isHovered||!v)&&(a.isHovered=!1,u(),r&&r({type:"hoverend",target:v,pointerType:b}),n&&n(!1),i(!1))},m={};return typeof PointerEvent<"u"&&(m.onPointerEnter=g=>{$n&&g.pointerType==="mouse"||h(g,g.pointerType)},m.onPointerLeave=g=>{!o&&g.currentTarget.contains(g.target)&&p(g,g.pointerType)}),{hoverProps:m,triggerHoverEnd:p}},[t,n,r,o,a,s,u]);return F(()=>{o&&d({currentTarget:a.target},a.pointerType)},[o]),{hoverProps:f,isHovered:l}}function Mt(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,o=N({isFocused:!1,isFocusVisible:t||Ko()}),[l,i]=S(!1),[a,s]=S(()=>o.current.isFocused&&o.current.isFocusVisible),u=B(()=>s(o.current.isFocused&&o.current.isFocusVisible),[]),f=B(p=>{o.current.isFocused=p,i(p),u()},[u]);Ma(p=>{o.current.isFocusVisible=p,u()},[],{isTextInput:n});let{focusProps:d}=Ha({isDisabled:r,onFocusChange:f}),{focusWithinProps:h}=Ua({isDisabled:!r,onFocusWithinChange:f});return{isFocused:l,isFocusVisible:a,focusProps:r?h:d}}var Ba=Object.defineProperty,Ka=(e,t,n)=>t in e?Ba(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tn=(e,t,n)=>(Ka(e,typeof t!="symbol"?t+"":t,n),n);let Va=class{constructor(){tn(this,"current",this.detect()),tn(this,"handoffState","pending"),tn(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Me=new Va;function nt(e){var t,n;return Me.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(n=(t=e.current)==null?void 0:t.ownerDocument)!=null?n:document:null:document}function yt(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function ke(){let e=[],t={addEventListener(n,r,o,l){return n.addEventListener(r,o,l),t.add(()=>n.removeEventListener(r,o,l))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return yt(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,o){let l=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:o}),this.add(()=>{Object.assign(n.style,{[r]:l})})},group(n){let r=ke();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let o of e.splice(r,1))o()}},dispose(){for(let n of e.splice(0))n()}};return t}function Ht(){let[e]=S(ke);return F(()=>()=>e.dispose(),[e]),e}let z=(e,t)=>{Me.isServer?F(e,t):We(e,t)};function _e(e){let t=N(e);return z(()=>{t.current=e},[e]),t}let D=function(e){let t=_e(e);return E.useCallback((...n)=>t.current(...n),[t])};function Ga(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function za(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function Vo({disabled:e=!1}={}){let t=N(null),[n,r]=S(!1),o=Ht(),l=D(()=>{t.current=null,r(!1),o.dispose()}),i=D(a=>{if(o.dispose(),t.current===null){t.current=a.currentTarget,r(!0);{let s=nt(a.currentTarget);o.addEventListener(s,"pointerup",l,!1),o.addEventListener(s,"pointermove",u=>{if(t.current){let f=Ga(u);r(za(f,t.current.getBoundingClientRect()))}},!1),o.addEventListener(s,"pointercancel",l,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:i,onPointerUp:l,onClick:l}}}let qa=V(void 0);function Ut(){return W(qa)}function xn(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function ne(e,t,...n){if(e in t){let o=t[e];return typeof o=="function"?o(...n):o}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ne),r}var Ze=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Ze||{}),Ne=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Ne||{});function X(){let e=Xa();return B(t=>Ya({mergeRefs:e,...t}),[e])}function Ya({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:o,visible:l=!0,name:i,mergeRefs:a}){a=a??Ja;let s=Go(t,e);if(l)return kt(s,n,r,i,a);let u=o??0;if(u&2){let{static:f=!1,...d}=s;if(f)return kt(d,n,r,i,a)}if(u&1){let{unmount:f=!0,...d}=s;return ne(f?0:1,{0(){return null},1(){return kt({...d,hidden:!0,style:{display:"none"}},n,r,i,a)}})}return kt(s,n,r,i,a)}function kt(e,t={},n,r,o){let{as:l=n,children:i,refName:a="ref",...s}=nn(e,["unmount","static"]),u=e.ref!==void 0?{[a]:e.ref}:{},f=typeof i=="function"?i(t):i;"className"in s&&s.className&&typeof s.className=="function"&&(s.className=s.className(t)),s["aria-labelledby"]&&s["aria-labelledby"]===s.id&&(s["aria-labelledby"]=void 0);let d={};if(t){let h=!1,p=[];for(let[m,g]of Object.entries(t))typeof g=="boolean"&&(h=!0),g===!0&&p.push(m.replace(/([A-Z])/g,b=>`-${b.toLowerCase()}`));if(h){d["data-headlessui-state"]=p.join(" ");for(let m of p)d[`data-${m}`]=""}}if(l===R&&(Object.keys(Ae(s)).length>0||Object.keys(Ae(d)).length>0))if(!tt(f)||Array.isArray(f)&&f.length>1){if(Object.keys(Ae(s)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ae(s)).concat(Object.keys(Ae(d))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=f.props,p=h==null?void 0:h.className,m=typeof p=="function"?(...v)=>xn(p(...v),s.className):xn(p,s.className),g=m?{className:m}:{},b=Go(f.props,Ae(nn(s,["ref"])));for(let v in d)v in b&&delete d[v];return Vn(f,Object.assign({},b,d,u,{ref:o(Za(f),u.ref)},g))}return Q(l,Object.assign({},nn(s,["ref"]),l!==R&&u,l!==R&&d),f)}function Xa(){let e=N([]),t=B(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function Ja(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function Go(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[o=>{var l;return(l=o==null?void 0:o.preventDefault)==null?void 0:l.call(o)}]);for(let r in n)Object.assign(t,{[r](o,...l){let i=n[r];for(let a of i){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;a(o,...l)}}});return t}function jt(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];for(let r in n)Object.assign(t,{[r](...o){let l=n[r];for(let i of l)i==null||i(...o)}});return t}function G(e){var t;return Object.assign(Wn(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ae(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function nn(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function Za(e){return E.version.split(".")[0]>="19"?e.props.ref:e.ref}let Qa="button";function ei(e,t){var n;let r=Ut(),{disabled:o=r||!1,autoFocus:l=!1,...i}=e,{isFocusVisible:a,focusProps:s}=Mt({autoFocus:l}),{isHovered:u,hoverProps:f}=qn({isDisabled:o}),{pressed:d,pressProps:h}=Vo({disabled:o}),p=jt({ref:t,type:(n=i.type)!=null?n:"button",disabled:o||void 0,autoFocus:l},s,f,h),m=M(()=>({disabled:o,hover:u,focus:a,active:d,autofocus:l}),[o,u,a,d,l]);return X()({ourProps:p,theirProps:i,slot:m,defaultTag:Qa,name:"Button"})}let rn=G(ei),ti="span";var mt=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(mt||{});function ni(e,t){var n;let{features:r=1,...o}=e,l={ref:t,"aria-hidden":(r&2)===2?!0:(n=o["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return X()({ourProps:l,theirProps:o,slot:{},defaultTag:ti,name:"Hidden"})}let _t=G(ni),ri=V(void 0);function zo(){return W(ri)}function qo(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function $e(e){return qo(e)&&"tagName"in e}function Te(e){return $e(e)&&"accessKey"in e}function Pe(e){return $e(e)&&"tabIndex"in e}function oi(e){return $e(e)&&"style"in e}function li(e){return Te(e)&&e.nodeName==="IFRAME"}function Yo(e){return Te(e)&&e.nodeName==="INPUT"}function Nr(e){return Te(e)&&e.nodeName==="LABEL"}function ai(e){return $e(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}let Xo=Symbol();function ii(e,t=!0){return Object.assign(e,{[Xo]:t})}function ee(...e){let t=N(e);F(()=>{t.current=e},[e]);let n=D(r=>{for(let o of t.current)o!=null&&(typeof o=="function"?o(r):o.current=r)});return e.every(r=>r==null||(r==null?void 0:r[Xo]))?void 0:n}let Wt=V(null);Wt.displayName="DescriptionContext";function Jo(){let e=W(Wt);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Jo),t}return e}function si(){var e,t;return(t=(e=W(Wt))==null?void 0:e.value)!=null?t:void 0}function ui(){let[e,t]=S([]);return[e.length>0?e.join(" "):void 0,M(()=>function(n){let r=D(l=>(t(i=>[...i,l]),()=>t(i=>{let a=i.slice(),s=a.indexOf(l);return s!==-1&&a.splice(s,1),a}))),o=M(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return E.createElement(Wt.Provider,{value:o},n.children)},[t])]}let ci="p";function di(e,t){let n=ie(),r=Ut(),{id:o=`headlessui-description-${n}`,...l}=e,i=Jo(),a=ee(t);z(()=>i.register(o),[o,i.register]);let s=r||!1,u=M(()=>({...i.slot,disabled:s}),[i.slot,s]),f={ref:a,...i.props,id:o};return X()({ourProps:f,theirProps:l,slot:u,defaultTag:ci,name:i.name||"Description"})}let fi=G(di),pi=Object.assign(fi,{});var ce=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(ce||{});let Yn=V(null);Yn.displayName="LabelContext";function Zo(){let e=W(Yn);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Zo),t}return e}function hi(e){var t,n,r;let o=(n=(t=W(Yn))==null?void 0:t.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[o,...e].filter(Boolean).join(" "):o}let mi="label";function _i(e,t){var n;let r=ie(),o=Zo(),l=zo(),i=Ut(),{id:a=`headlessui-label-${r}`,htmlFor:s=l??((n=o.props)==null?void 0:n.htmlFor),passive:u=!1,...f}=e,d=ee(t);z(()=>o.register(a),[a,o.register]);let h=D(b=>{let v=b.currentTarget;if(!(b.target!==b.currentTarget&&ai(b.target))&&(Nr(v)&&b.preventDefault(),o.props&&"onClick"in o.props&&typeof o.props.onClick=="function"&&o.props.onClick(b),Nr(v))){let _=document.getElementById(v.htmlFor);if(_){let x=_.getAttribute("disabled");if(x==="true"||x==="")return;let $=_.getAttribute("aria-disabled");if($==="true"||$==="")return;(Yo(_)&&(_.type==="file"||_.type==="radio"||_.type==="checkbox")||_.role==="radio"||_.role==="checkbox"||_.role==="switch")&&_.click(),_.focus({preventScroll:!0})}}}),p=i||!1,m=M(()=>({...o.slot,disabled:p}),[o.slot,p]),g={ref:d,...o.props,id:a,htmlFor:s,onClick:h};return u&&("onClick"in g&&(delete g.htmlFor,delete g.onClick),"onClick"in f&&delete f.onClick),X()({ourProps:g,theirProps:f,slot:m,defaultTag:s?mi:"div",name:o.name||"Label"})}let vi=G(_i);Object.assign(vi,{});let bi=V(()=>{});function gi({value:e,children:t}){return E.createElement(bi.Provider,{value:e},t)}let Qo=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var yi=Object.defineProperty,wi=(e,t,n)=>t in e?yi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$i=(e,t,n)=>(wi(e,t+"",n),n),el=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},ue=(e,t,n)=>(el(e,t,"read from private field"),n?n.call(e):t.get(e)),on=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Pr=(e,t,n,r)=>(el(e,t,"write to private field"),t.set(e,n),n),ge,at,it;let xi=class{constructor(t){on(this,ge,{}),on(this,at,new Qo(()=>new Set)),on(this,it,new Set),$i(this,"disposables",ke()),Pr(this,ge,t)}dispose(){this.disposables.dispose()}get state(){return ue(this,ge)}subscribe(t,n){let r={selector:t,callback:n,current:t(ue(this,ge))};return ue(this,it).add(r),this.disposables.add(()=>{ue(this,it).delete(r)})}on(t,n){return ue(this,at).get(t).add(n),this.disposables.add(()=>{ue(this,at).get(t).delete(n)})}send(t){let n=this.reduce(ue(this,ge),t);if(n!==ue(this,ge)){Pr(this,ge,n);for(let r of ue(this,it)){let o=r.selector(ue(this,ge));tl(r.current,o)||(r.current=o,r.callback(o))}for(let r of ue(this,at).get(t.type))r(ue(this,ge),t)}}};ge=new WeakMap,at=new WeakMap,it=new WeakMap;function tl(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:ln(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:ln(e.entries(),t.entries()):Tr(e)&&Tr(t)?ln(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function ln(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function Tr(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var Ei=Object.defineProperty,ki=(e,t,n)=>t in e?Ei(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cr=(e,t,n)=>(ki(e,typeof t!="symbol"?t+"":t,n),n),Si=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(Si||{});let Ni={0(e,t){let n=t.id,r=e.stack,o=e.stack.indexOf(n);if(o!==-1){let l=e.stack.slice();return l.splice(o,1),l.push(n),r=l,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let o=e.stack.slice();return o.splice(r,1),{...e,stack:o}}},Pi=class nl extends xi{constructor(){super(...arguments),Cr(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),Cr(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new nl({stack:[]})}reduce(t,n){return ne(n.type,Ni,t,n)}};const rl=new Qo(()=>Pi.new());function Ti(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var an={exports:{}},sn={};const Ci=Ti(vn);/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fr;function Fi(){if(Fr)return sn;Fr=1;var e=Ci;function t(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,o=e.useRef,l=e.useEffect,i=e.useMemo,a=e.useDebugValue;return sn.useSyncExternalStoreWithSelector=function(s,u,f,d,h){var p=o(null);if(p.current===null){var m={hasValue:!1,value:null};p.current=m}else m=p.current;p=i(function(){function b(P){if(!v){if(v=!0,_=P,P=d(P),h!==void 0&&m.hasValue){var T=m.value;if(h(T,P))return x=T}return x=P}if(T=x,n(_,P))return T;var O=d(P);return h!==void 0&&h(T,O)?(_=P,T):(_=P,x=O)}var v=!1,_,x,$=f===void 0?null:f;return[function(){return b(u())},$===null?void 0:function(){return b($())}]},[u,f,d,h]);var g=r(s,p[0],p[1]);return l(function(){m.hasValue=!0,m.value=g},[g]),a(g),g},sn}var Ar;function Ai(){return Ar||(Ar=1,an.exports=Fi()),an.exports}var Oi=Ai();function ol(e,t,n=tl){return Oi.useSyncExternalStoreWithSelector(D(r=>e.subscribe(Li,r)),D(()=>e.state),D(()=>e.state),D(t),n)}function Li(e){return e}function wt(e,t){let n=ie(),r=rl.get(t),[o,l]=ol(r,B(i=>[r.selectors.isTop(i,n),r.selectors.inStack(i,n)],[r,n]));return z(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?l?o:!0:!1}let En=new Map,pt=new Map;function Or(e){var t;let n=(t=pt.get(e))!=null?t:0;return pt.set(e,n+1),n!==0?()=>Lr(e):(En.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Lr(e))}function Lr(e){var t;let n=(t=pt.get(e))!=null?t:1;if(n===1?pt.delete(e):pt.set(e,n-1),n!==1)return;let r=En.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,En.delete(e))}function Di(e,{allowed:t,disallowed:n}={}){let r=wt(e,"inert-others");z(()=>{var o,l;if(!r)return;let i=ke();for(let s of(o=n==null?void 0:n())!=null?o:[])s&&i.add(Or(s));let a=(l=t==null?void 0:t())!=null?l:[];for(let s of a){if(!s)continue;let u=nt(s);if(!u)continue;let f=s.parentElement;for(;f&&f!==u.body;){for(let d of f.children)a.some(h=>d.contains(h))||i.add(Or(d));f=f.parentElement}}return i.dispose},[r,t,n])}function Ri(e,t,n){let r=_e(o=>{let l=o.getBoundingClientRect();l.x===0&&l.y===0&&l.width===0&&l.height===0&&n()});F(()=>{if(!e)return;let o=t===null?null:Te(t)?t:t.current;if(!o)return;let l=ke();if(typeof ResizeObserver<"u"){let i=new ResizeObserver(()=>r.current(o));i.observe(o),l.add(()=>i.disconnect())}if(typeof IntersectionObserver<"u"){let i=new IntersectionObserver(()=>r.current(o));i.observe(o),l.add(()=>i.disconnect())}return()=>l.dispose()},[t,r,e])}let Dt=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Ii=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var J=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(J||{}),Re=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Re||{}),Mi=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Mi||{});function Hi(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Dt)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function Ui(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Ii)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var ll=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(ll||{});function ji(e,t=0){var n;return e===((n=nt(e))==null?void 0:n.body)?!1:ne(t,{0(){return e.matches(Dt)},1(){let r=e;for(;r!==null;){if(r.matches(Dt))return!0;r=r.parentElement}return!1}})}var Wi=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Wi||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function xe(e){e==null||e.focus({preventScroll:!0})}let Bi=["textarea","input"].join(",");function Ki(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Bi))!=null?n:!1}function Ge(e,t=n=>n){return e.slice().sort((n,r)=>{let o=t(n),l=t(r);if(o===null||l===null)return 0;let i=o.compareDocumentPosition(l);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function me(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:o=[]}={}){let l=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,i=Array.isArray(e)?n?Ge(e):e:t&64?Ui(e):Hi(e);o.length>0&&i.length>1&&(i=i.filter(p=>!o.some(m=>m!=null&&"current"in m?(m==null?void 0:m.current)===p:m===p))),r=r??l.activeElement;let a=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),s=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,i.indexOf(r))-1;if(t&4)return Math.max(0,i.indexOf(r))+1;if(t&8)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},f=0,d=i.length,h;do{if(f>=d||f+d<=0)return 0;let p=s+f;if(t&16)p=(p+d)%d;else{if(p<0)return 3;if(p>=d)return 1}h=i[p],h==null||h.focus(u),f+=a}while(h!==l.activeElement);return t&6&&Ki(h)&&h.select(),2}function al(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Vi(){return/Android/gi.test(window.navigator.userAgent)}function Dr(){return al()||Vi()}function St(e,t,n,r){let o=_e(n);F(()=>{if(!e)return;function l(i){o.current(i)}return document.addEventListener(t,l,r),()=>document.removeEventListener(t,l,r)},[e,t,r])}function il(e,t,n,r){let o=_e(n);F(()=>{if(!e)return;function l(i){o.current(i)}return window.addEventListener(t,l,r),()=>window.removeEventListener(t,l,r)},[e,t,r])}const Rr=30;function Gi(e,t,n){let r=_e(n),o=B(function(a,s){if(a.defaultPrevented)return;let u=s(a);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let f=function d(h){return typeof h=="function"?d(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let d of f)if(d!==null&&(d.contains(u)||a.composed&&a.composedPath().includes(d)))return;return!ji(u,ll.Loose)&&u.tabIndex!==-1&&a.preventDefault(),r.current(a,u)},[r,t]),l=N(null);St(e,"pointerdown",a=>{var s,u;Dr()||(l.current=((u=(s=a.composedPath)==null?void 0:s.call(a))==null?void 0:u[0])||a.target)},!0),St(e,"pointerup",a=>{if(Dr()||!l.current)return;let s=l.current;return l.current=null,o(a,()=>s)},!0);let i=N({x:0,y:0});St(e,"touchstart",a=>{i.current.x=a.touches[0].clientX,i.current.y=a.touches[0].clientY},!0),St(e,"touchend",a=>{let s={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(s.x-i.current.x)>=Rr||Math.abs(s.y-i.current.y)>=Rr))return o(a,()=>Pe(a.target)?a.target:null)},!0),il(e,"blur",a=>o(a,()=>li(window.document.activeElement)?window.document.activeElement:null),!0)}function Bt(...e){return M(()=>nt(...e),[...e])}function sl(e,t,n,r){let o=_e(n);F(()=>{e=e??window;function l(i){o.current(i)}return e.addEventListener(t,l,r),()=>e.removeEventListener(t,l,r)},[e,t,r])}function zi(e,t){return M(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function qi(e){return It(e.subscribe,e.getSnapshot,e.getSnapshot)}function Yi(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(o){return r.add(o),()=>r.delete(o)},dispatch(o,...l){let i=t[o].call(n,...l);i&&(n=i,r.forEach(a=>a()))}}}function Xi(){let e;return{before({doc:t}){var n;let r=t.documentElement,o=(n=t.defaultView)!=null?n:window;e=Math.max(0,o.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,o=Math.max(0,r.clientWidth-r.offsetWidth),l=Math.max(0,e-o);n.style(r,"paddingRight",`${l}px`)}}}function Ji(){return al()?{before({doc:e,d:t,meta:n}){function r(o){return n.containers.flatMap(l=>l()).some(l=>l.contains(o))}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let a=ke();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let l=(o=window.scrollY)!=null?o:window.pageYOffset,i=null;t.addEventListener(e,"click",a=>{if(Pe(a.target))try{let s=a.target.closest("a");if(!s)return;let{hash:u}=new URL(s.href),f=e.querySelector(u);Pe(f)&&!r(f)&&(i=f)}catch{}},!0),t.addEventListener(e,"touchstart",a=>{if(Pe(a.target)&&oi(a.target))if(r(a.target)){let s=a.target;for(;s.parentElement&&r(s.parentElement);)s=s.parentElement;t.style(s,"overscrollBehavior","contain")}else t.style(a.target,"touchAction","none")}),t.addEventListener(e,"touchmove",a=>{if(Pe(a.target)){if(Yo(a.target))return;if(r(a.target)){let s=a.target;for(;s.parentElement&&s.dataset.headlessuiPortal!==""&&!(s.scrollHeight>s.clientHeight||s.scrollWidth>s.clientWidth);)s=s.parentElement;s.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),t.add(()=>{var a;let s=(a=window.scrollY)!=null?a:window.pageYOffset;l!==s&&window.scrollTo(0,l),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})})}}:{}}function Zi(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Qi(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Ie=Yi(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:ke(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:Qi(n)},o=[Ji(),Xi(),Zi()];o.forEach(({before:l})=>l==null?void 0:l(r)),o.forEach(({after:l})=>l==null?void 0:l(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Ie.subscribe(()=>{let e=Ie.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",o=n.count!==0;(o&&!r||!o&&r)&&Ie.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Ie.dispatch("TEARDOWN",n)}});function es(e,t,n=()=>({containers:[]})){let r=qi(Ie),o=t?r.get(t):void 0,l=o?o.count>0:!1;return z(()=>{if(!(!t||!e))return Ie.dispatch("PUSH",t,n),()=>Ie.dispatch("POP",t,n)},[e,t]),l}function ts(e,t,n=()=>[document.body]){let r=wt(e,"scroll-lock");es(r,t,o=>{var l;return{containers:[...(l=o.containers)!=null?l:[],n]}})}function ns(e=0){let[t,n]=S(e),r=B(s=>n(s),[t]),o=B(s=>n(u=>u|s),[t]),l=B(s=>(t&s)===s,[t]),i=B(s=>n(u=>u&~s),[n]),a=B(s=>n(u=>u^s),[n]);return{flags:t,setFlag:r,addFlag:o,hasFlag:l,removeFlag:i,toggleFlag:a}}var rs={},Ir,Mr;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Ir=process==null?void 0:rs)==null?void 0:Ir.NODE_ENV)==="test"&&typeof((Mr=Element==null?void 0:Element.prototype)==null?void 0:Mr.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var os=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(os||{});function ls(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function as(e,t,n,r){let[o,l]=S(n),{hasFlag:i,addFlag:a,removeFlag:s}=ns(e&&o?3:0),u=N(!1),f=N(!1),d=Ht();return z(()=>{var h;if(e){if(n&&l(!0),!t){n&&a(3);return}return(h=r==null?void 0:r.start)==null||h.call(r,n),is(t,{inFlight:u,prepare(){f.current?f.current=!1:f.current=u.current,u.current=!0,!f.current&&(n?(a(3),s(4)):(a(4),s(2)))},run(){f.current?n?(s(3),a(4)):(s(4),a(3)):n?s(1):a(1)},done(){var p;f.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(u.current=!1,s(7),n||l(!1),(p=r==null?void 0:r.end)==null||p.call(r,n))}})}},[e,n,t,d]),e?[o,{closed:i(1),enter:i(2),leave:i(4),transition:i(2)||i(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function is(e,{prepare:t,run:n,done:r,inFlight:o}){let l=ke();return us(e,{prepare:t,inFlight:o}),l.nextFrame(()=>{n(),l.requestAnimationFrame(()=>{l.add(ss(e,r))})}),l.dispose}function ss(e,t){var n,r;let o=ke();if(!e)return o.dispose;let l=!1;o.add(()=>{l=!0});let i=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(a=>a instanceof CSSTransition))!=null?r:[];return i.length===0?(t(),o.dispose):(Promise.allSettled(i.map(a=>a.finished)).then(()=>{l||t()}),o.dispose)}function us(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function Xn(e,t){let n=N([]),r=D(e);F(()=>{let o=[...n.current];for(let[l,i]of t.entries())if(n.current[l]!==i){let a=r(t,o);return n.current=t,a}},[r,...t])}let Kt=V(null);Kt.displayName="OpenClosedContext";var ve=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(ve||{});function Vt(){return W(Kt)}function cs({value:e,children:t}){return E.createElement(Kt.Provider,{value:e},t)}function ds({children:e}){return E.createElement(Kt.Provider,{value:null},e)}function fs(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Se=[];fs(()=>{function e(t){if(!Pe(t.target)||t.target===document.body||Se[0]===t.target)return;let n=t.target;n=n.closest(Dt),Se.unshift(n??t.target),Se=Se.filter(r=>r!=null&&r.isConnected),Se.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function ul(e){let t=D(e),n=N(!1);F(()=>(n.current=!1,()=>{n.current=!0,yt(()=>{n.current&&t()})}),[t])}function ps(){let e=typeof document>"u";return"useSyncExternalStore"in vn?(t=>t.useSyncExternalStore)(vn)(()=>()=>{},()=>!1,()=>!e):!1}function $t(){let e=ps(),[t,n]=S(Me.isHandoffComplete);return t&&Me.isHandoffComplete===!1&&n(!1),F(()=>{t!==!0&&n(!0)},[t]),F(()=>Me.handoff(),[]),e?!1:t}let cl=V(!1);function hs(){return W(cl)}function Hr(e){return E.createElement(cl.Provider,{value:e.force},e.children)}function ms(e){let t=hs(),n=W(fl),[r,o]=S(()=>{var l;if(!t&&n!==null)return(l=n.current)!=null?l:null;if(Me.isServer)return null;let i=e==null?void 0:e.getElementById("headlessui-portal-root");if(i)return i;if(e===null)return null;let a=e.createElement("div");return a.setAttribute("id","headlessui-portal-root"),e.body.appendChild(a)});return F(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),F(()=>{t||n!==null&&o(n.current)},[n,o,t]),r}let dl=R,_s=G(function(e,t){let{ownerDocument:n=null,...r}=e,o=N(null),l=ee(ii(p=>{o.current=p}),t),i=Bt(o),a=n??i,s=ms(a),[u]=S(()=>{var p;return Me.isServer?null:(p=a==null?void 0:a.createElement("div"))!=null?p:null}),f=W(kn),d=$t();z(()=>{!s||!u||s.contains(u)||(u.setAttribute("data-headlessui-portal",""),s.appendChild(u))},[s,u]),z(()=>{if(u&&f)return f.register(u)},[f,u]),ul(()=>{var p;!s||!u||(qo(u)&&s.contains(u)&&s.removeChild(u),s.childNodes.length<=0&&((p=s.parentElement)==null||p.removeChild(s)))});let h=X();return d?!s||!u?null:Bn(h({ourProps:{ref:l},theirProps:r,slot:{},defaultTag:dl,name:"Portal"}),u):null});function vs(e,t){let n=ee(t),{enabled:r=!0,ownerDocument:o,...l}=e,i=X();return r?E.createElement(_s,{...l,ownerDocument:o,ref:n}):i({ourProps:{ref:n},theirProps:l,slot:{},defaultTag:dl,name:"Portal"})}let bs=R,fl=V(null);function gs(e,t){let{target:n,...r}=e,o={ref:ee(t)},l=X();return E.createElement(fl.Provider,{value:n},l({ourProps:o,theirProps:r,defaultTag:bs,name:"Popover.Group"}))}let kn=V(null);function ys(){let e=W(kn),t=N([]),n=D(l=>(t.current.push(l),e&&e.register(l),()=>r(l))),r=D(l=>{let i=t.current.indexOf(l);i!==-1&&t.current.splice(i,1),e&&e.unregister(l)}),o=M(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,M(()=>function({children:l}){return E.createElement(kn.Provider,{value:o},l)},[o])]}let ws=G(vs),pl=G(gs),$s=Object.assign(ws,{Group:pl});function xs(e,t=typeof document<"u"?document.defaultView:null,n){let r=wt(e,"escape");sl(t,"keydown",o=>{r&&(o.defaultPrevented||o.key===ce.Escape&&n(o))})}function Es(){var e;let[t]=S(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=S((e=t==null?void 0:t.matches)!=null?e:!1);return z(()=>{if(!t)return;function o(l){r(l.matches)}return t.addEventListener("change",o),()=>t.removeEventListener("change",o)},[t]),n}function ks({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=Bt(n),o=D(()=>{var l,i;let a=[];for(let s of e)s!==null&&($e(s)?a.push(s):"current"in s&&$e(s.current)&&a.push(s.current));if(t!=null&&t.current)for(let s of t.current)a.push(s);for(let s of(l=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?l:[])s!==document.body&&s!==document.head&&$e(s)&&s.id!=="headlessui-portal-root"&&(n&&(s.contains(n)||s.contains((i=n==null?void 0:n.getRootNode())==null?void 0:i.host))||a.some(u=>s.contains(u))||a.push(s));return a});return{resolveContainers:o,contains:D(l=>o().some(i=>i.contains(l)))}}let hl=V(null);function Ur({children:e,node:t}){let[n,r]=S(null),o=ml(t??n);return E.createElement(hl.Provider,{value:o},e,o===null&&E.createElement(_t,{features:mt.Hidden,ref:l=>{var i,a;if(l){for(let s of(a=(i=nt(l))==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?a:[])if(s!==document.body&&s!==document.head&&$e(s)&&s!=null&&s.contains(l)){r(s);break}}}}))}function ml(e=null){var t;return(t=W(hl))!=null?t:e}function Gt(){let e=N(!1);return z(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var st=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(st||{});function Ss(){let e=N(0);return il(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function _l(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)$e(n.current)&&t.add(n.current);return t}let Ns="div";var Le=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Le||{});function Ps(e,t){let n=N(null),r=ee(n,t),{initialFocus:o,initialFocusFallback:l,containers:i,features:a=15,...s}=e;$t()||(a=0);let u=Bt(n);As(a,{ownerDocument:u});let f=Os(a,{ownerDocument:u,container:n,initialFocus:o,initialFocusFallback:l});Ls(a,{ownerDocument:u,container:n,containers:i,previousActiveElement:f});let d=Ss(),h=D(_=>{if(!Te(n.current))return;let x=n.current;($=>$())(()=>{ne(d.current,{[st.Forwards]:()=>{me(x,J.First,{skipElements:[_.relatedTarget,l]})},[st.Backwards]:()=>{me(x,J.Last,{skipElements:[_.relatedTarget,l]})}})})}),p=wt(!!(a&2),"focus-trap#tab-lock"),m=Ht(),g=N(!1),b={ref:r,onKeyDown(_){_.key=="Tab"&&(g.current=!0,m.requestAnimationFrame(()=>{g.current=!1}))},onBlur(_){if(!(a&4))return;let x=_l(i);Te(n.current)&&x.add(n.current);let $=_.relatedTarget;Pe($)&&$.dataset.headlessuiFocusGuard!=="true"&&(vl(x,$)||(g.current?me(n.current,ne(d.current,{[st.Forwards]:()=>J.Next,[st.Backwards]:()=>J.Previous})|J.WrapAround,{relativeTo:_.target}):Pe(_.target)&&xe(_.target)))}},v=X();return E.createElement(E.Fragment,null,p&&E.createElement(_t,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:mt.Focusable}),v({ourProps:b,theirProps:s,defaultTag:Ns,name:"FocusTrap"}),p&&E.createElement(_t,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:mt.Focusable}))}let Ts=G(Ps),Cs=Object.assign(Ts,{features:Le});function Fs(e=!0){let t=N(Se.slice());return Xn(([n],[r])=>{r===!0&&n===!1&&yt(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Se.slice())},[e,Se,t]),D(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function As(e,{ownerDocument:t}){let n=!!(e&8),r=Fs(n);Xn(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&xe(r())},[n]),ul(()=>{n&&xe(r())})}function Os(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:o}){let l=N(null),i=wt(!!(e&1),"focus-trap#initial-focus"),a=Gt();return Xn(()=>{if(e===0)return;if(!i){o!=null&&o.current&&xe(o.current);return}let s=n.current;s&&yt(()=>{if(!a.current)return;let u=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){l.current=u;return}}else if(s.contains(u)){l.current=u;return}if(r!=null&&r.current)xe(r.current);else{if(e&16){if(me(s,J.First|J.AutoFocus)!==Re.Error)return}else if(me(s,J.First)!==Re.Error)return;if(o!=null&&o.current&&(xe(o.current),(t==null?void 0:t.activeElement)===o.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}l.current=t==null?void 0:t.activeElement})},[o,i,e]),l}function Ls(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:o}){let l=Gt(),i=!!(e&4);sl(t==null?void 0:t.defaultView,"focus",a=>{if(!i||!l.current)return;let s=_l(r);Te(n.current)&&s.add(n.current);let u=o.current;if(!u)return;let f=a.target;Te(f)?vl(s,f)?(o.current=f,xe(f)):(a.preventDefault(),a.stopPropagation(),xe(u)):xe(o.current)},!0)}function vl(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function bl(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:yl)!==R||E.Children.count(e.children)===1}let zt=V(null);zt.displayName="TransitionContext";var Ds=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Ds||{});function Rs(){let e=W(zt);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function Is(){let e=W(qt);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let qt=V(null);qt.displayName="NestingContext";function Yt(e){return"children"in e?Yt(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function gl(e,t){let n=_e(e),r=N([]),o=Gt(),l=Ht(),i=D((p,m=Ne.Hidden)=>{let g=r.current.findIndex(({el:b})=>b===p);g!==-1&&(ne(m,{[Ne.Unmount](){r.current.splice(g,1)},[Ne.Hidden](){r.current[g].state="hidden"}}),l.microTask(()=>{var b;!Yt(r)&&o.current&&((b=n.current)==null||b.call(n))}))}),a=D(p=>{let m=r.current.find(({el:g})=>g===p);return m?m.state!=="visible"&&(m.state="visible"):r.current.push({el:p,state:"visible"}),()=>i(p,Ne.Unmount)}),s=N([]),u=N(Promise.resolve()),f=N({enter:[],leave:[]}),d=D((p,m,g)=>{s.current.splice(0),t&&(t.chains.current[m]=t.chains.current[m].filter(([b])=>b!==p)),t==null||t.chains.current[m].push([p,new Promise(b=>{s.current.push(b)})]),t==null||t.chains.current[m].push([p,new Promise(b=>{Promise.all(f.current[m].map(([v,_])=>_)).then(()=>b())})]),m==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>g(m)):g(m)}),h=D((p,m,g)=>{Promise.all(f.current[m].splice(0).map(([b,v])=>v)).then(()=>{var b;(b=s.current.shift())==null||b()}).then(()=>g(m))});return M(()=>({children:r,register:a,unregister:i,onStart:d,onStop:h,wait:u,chains:f}),[a,i,r,d,h,f,u])}let yl=R,wl=Ze.RenderStrategy;function Ms(e,t){var n,r;let{transition:o=!0,beforeEnter:l,afterEnter:i,beforeLeave:a,afterLeave:s,enter:u,enterFrom:f,enterTo:d,entered:h,leave:p,leaveFrom:m,leaveTo:g,...b}=e,[v,_]=S(null),x=N(null),$=bl(e),P=ee(...$?[x,t,_]:t===null?[]:[t]),T=(n=b.unmount)==null||n?Ne.Unmount:Ne.Hidden,{show:O,appear:q,initial:w}=Rs(),[k,L]=S(O?"visible":"hidden"),H=Is(),{register:Y,unregister:Z}=H;z(()=>Y(x),[Y,x]),z(()=>{if(T===Ne.Hidden&&x.current){if(O&&k!=="visible"){L("visible");return}return ne(k,{hidden:()=>Z(x),visible:()=>Y(x)})}},[k,x,Y,Z,O,T]);let re=$t();z(()=>{if($&&re&&k==="visible"&&x.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[x,k,re,$]);let we=w&&!q,se=q&&O&&w,pe=N(!1),oe=gl(()=>{pe.current||(L("hidden"),Z(x))},H),I=D(Fe=>{pe.current=!0;let xt=Fe?"enter":"leave";oe.onStart(x,xt,rt=>{rt==="enter"?l==null||l():rt==="leave"&&(a==null||a())})}),y=D(Fe=>{let xt=Fe?"enter":"leave";pe.current=!1,oe.onStop(x,xt,rt=>{rt==="enter"?i==null||i():rt==="leave"&&(s==null||s())}),xt==="leave"&&!Yt(oe)&&(L("hidden"),Z(x))});F(()=>{$&&o||(I(O),y(O))},[O,$,o]);let U=!(!o||!$||!re||we),[,C]=as(U,v,O,{start:I,end:y}),he=Ae({ref:P,className:((r=xn(b.className,se&&u,se&&f,C.enter&&u,C.enter&&C.closed&&f,C.enter&&!C.closed&&d,C.leave&&p,C.leave&&!C.closed&&m,C.leave&&C.closed&&g,!C.transition&&O&&h))==null?void 0:r.trim())||void 0,...ls(C)}),be=0;k==="visible"&&(be|=ve.Open),k==="hidden"&&(be|=ve.Closed),O&&k==="hidden"&&(be|=ve.Opening),!O&&k==="visible"&&(be|=ve.Closing);let le=X();return E.createElement(qt.Provider,{value:oe},E.createElement(cs,{value:be},le({ourProps:he,theirProps:b,defaultTag:yl,features:wl,visible:k==="visible",name:"Transition.Child"})))}function Hs(e,t){let{show:n,appear:r=!1,unmount:o=!0,...l}=e,i=N(null),a=bl(e),s=ee(...a?[i,t]:t===null?[]:[t]);$t();let u=Vt();if(n===void 0&&u!==null&&(n=(u&ve.Open)===ve.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[f,d]=S(n?"visible":"hidden"),h=gl(()=>{n||d("hidden")}),[p,m]=S(!0),g=N([n]);z(()=>{p!==!1&&g.current[g.current.length-1]!==n&&(g.current.push(n),m(!1))},[g,n]);let b=M(()=>({show:n,appear:r,initial:p}),[n,r,p]);z(()=>{n?d("visible"):!Yt(h)&&i.current!==null&&d("hidden")},[n,h]);let v={unmount:o},_=D(()=>{var P;p&&m(!1),(P=e.beforeEnter)==null||P.call(e)}),x=D(()=>{var P;p&&m(!1),(P=e.beforeLeave)==null||P.call(e)}),$=X();return E.createElement(qt.Provider,{value:h},E.createElement(zt.Provider,{value:b},$({ourProps:{...v,as:R,children:E.createElement($l,{ref:s,...v,...l,beforeEnter:_,beforeLeave:x})},theirProps:{},defaultTag:R,features:wl,visible:f==="visible",name:"Transition"})))}function Us(e,t){let n=W(zt)!==null,r=Vt()!==null;return E.createElement(E.Fragment,null,!n&&r?E.createElement(Sn,{ref:t,...e}):E.createElement($l,{ref:t,...e}))}let Sn=G(Hs),$l=G(Ms),Jn=G(Us),js=Object.assign(Sn,{Child:Jn,Root:Sn});var Ws=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ws||{}),Bs=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Bs||{});let Ks={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Zn=V(null);Zn.displayName="DialogContext";function Xt(e){let t=W(Zn);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Xt),n}return t}function Vs(e,t){return ne(t.type,Ks,e,t)}let jr=G(function(e,t){let n=ie(),{id:r=`headlessui-dialog-${n}`,open:o,onClose:l,initialFocus:i,role:a="dialog",autoFocus:s=!0,__demoMode:u=!1,unmount:f=!1,...d}=e,h=N(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(h.current||(h.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=Vt();o===void 0&&p!==null&&(o=(p&ve.Open)===ve.Open);let m=N(null),g=ee(m,t),b=Bt(m),v=o?0:1,[_,x]=et(Vs,{titleId:null,descriptionId:null,panelRef:Fn()}),$=D(()=>l(!1)),P=D(C=>x({type:0,id:C})),T=$t()?v===0:!1,[O,q]=ys(),w={get current(){var C;return(C=_.panelRef.current)!=null?C:m.current}},k=ml(),{resolveContainers:L}=ks({mainTreeNode:k,portals:O,defaultContainers:[w]}),H=p!==null?(p&ve.Closing)===ve.Closing:!1;Di(u||H?!1:T,{allowed:D(()=>{var C,he;return[(he=(C=m.current)==null?void 0:C.closest("[data-headlessui-portal]"))!=null?he:null]}),disallowed:D(()=>{var C;return[(C=k==null?void 0:k.closest("body > *:not(#headlessui-portal-root)"))!=null?C:null]})});let Y=rl.get(null);z(()=>{if(T)return Y.actions.push(r),()=>Y.actions.pop(r)},[Y,r,T]);let Z=ol(Y,B(C=>Y.selectors.isTop(C,r),[Y,r]));Gi(Z,L,C=>{C.preventDefault(),$()}),xs(Z,b==null?void 0:b.defaultView,C=>{C.preventDefault(),C.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),$()}),ts(u||H?!1:T,b,L),Ri(T,m,$);let[re,we]=ui(),se=M(()=>[{dialogState:v,close:$,setTitleId:P,unmount:f},_],[v,_,$,P,f]),pe=M(()=>({open:v===0}),[v]),oe={ref:g,id:r,role:a,tabIndex:-1,"aria-modal":u?void 0:v===0?!0:void 0,"aria-labelledby":_.titleId,"aria-describedby":re,unmount:f},I=!Es(),y=Le.None;T&&!u&&(y|=Le.RestoreFocus,y|=Le.TabLock,s&&(y|=Le.AutoFocus),I&&(y|=Le.InitialFocus));let U=X();return E.createElement(ds,null,E.createElement(Hr,{force:!0},E.createElement($s,null,E.createElement(Zn.Provider,{value:se},E.createElement(pl,{target:m},E.createElement(Hr,{force:!1},E.createElement(we,{slot:pe},E.createElement(q,null,E.createElement(Cs,{initialFocus:i,initialFocusFallback:m,containers:L,features:y},E.createElement(gi,{value:$},U({ourProps:oe,theirProps:d,slot:pe,defaultTag:Gs,features:zs,visible:v===0,name:"Dialog"})))))))))))}),Gs="div",zs=Ze.RenderStrategy|Ze.Static;function qs(e,t){let{transition:n=!1,open:r,...o}=e,l=Vt(),i=e.hasOwnProperty("open")||l!==null,a=e.hasOwnProperty("onClose");if(!i&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!i)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!l&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!o.static?E.createElement(Ur,null,E.createElement(js,{show:r,transition:n,unmount:o.unmount},E.createElement(jr,{ref:t,...o}))):E.createElement(Ur,null,E.createElement(jr,{ref:t,open:r,...o}))}let Ys="div";function Xs(e,t){let n=ie(),{id:r=`headlessui-dialog-panel-${n}`,transition:o=!1,...l}=e,[{dialogState:i,unmount:a},s]=Xt("Dialog.Panel"),u=ee(t,s.panelRef),f=M(()=>({open:i===0}),[i]),d=D(b=>{b.stopPropagation()}),h={ref:u,id:r,onClick:d},p=o?Jn:R,m=o?{unmount:a}:{},g=X();return E.createElement(p,{...m},g({ourProps:h,theirProps:l,slot:f,defaultTag:Ys,name:"Dialog.Panel"}))}let Js="div";function Zs(e,t){let{transition:n=!1,...r}=e,[{dialogState:o,unmount:l}]=Xt("Dialog.Backdrop"),i=M(()=>({open:o===0}),[o]),a={ref:t,"aria-hidden":!0},s=n?Jn:R,u=n?{unmount:l}:{},f=X();return E.createElement(s,{...u},f({ourProps:a,theirProps:r,slot:i,defaultTag:Js,name:"Dialog.Backdrop"}))}let Qs="h2";function eu(e,t){let n=ie(),{id:r=`headlessui-dialog-title-${n}`,...o}=e,[{dialogState:l,setTitleId:i}]=Xt("Dialog.Title"),a=ee(t);F(()=>(i(r),()=>i(null)),[r,i]);let s=M(()=>({open:l===0}),[l]),u={ref:a,id:r};return X()({ourProps:u,theirProps:o,slot:s,defaultTag:Qs,name:"Dialog.Title"})}let tu=G(qs),nu=G(Xs),ru=G(Zs),ou=G(eu),lu=Object.assign(tu,{Panel:nu,Title:ou,Description:pi}),au="input";function iu(e,t){let n=ie(),r=zo(),o=Ut(),{id:l=r||`headlessui-input-${n}`,disabled:i=o||!1,autoFocus:a=!1,invalid:s=!1,...u}=e,f=hi(),d=si(),{isFocused:h,focusProps:p}=Mt({autoFocus:a}),{isHovered:m,hoverProps:g}=qn({isDisabled:i}),b=jt({ref:t,id:l,"aria-labelledby":f,"aria-describedby":d,"aria-invalid":s?"true":void 0,disabled:i||void 0,autoFocus:a},p,g),v=M(()=>({disabled:i,invalid:s,hover:m,focus:h,autofocus:a}),[i,s,m,h,a]);return X()({ourProps:b,theirProps:u,slot:v,defaultTag:au,name:"Input"})}let su=G(iu);function uu({onFocus:e}){let[t,n]=S(!0),r=Gt();return t?E.createElement(_t,{as:"button",type:"button",features:mt.Focusable,onFocus:o=>{o.preventDefault();let l,i=50;function a(){if(i--<=0){l&&cancelAnimationFrame(l);return}if(e()){if(cancelAnimationFrame(l),!r.current)return;n(!1);return}l=requestAnimationFrame(a)}l=requestAnimationFrame(a)}}):null}const xl=V(null);function cu(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let o=(n=r.get(t))!=null?n:0;r.set(t,o+1);let l=Array.from(r.keys()).indexOf(t);function i(){let a=r.get(t);a>1?r.set(t,a-1):r.delete(t)}return[l,i]}}}function du({children:e}){let t=N(cu());return Q(xl.Provider,{value:t},e)}function El(e){let t=W(xl);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=ie(),[r,o]=t.current.get(e,n);return F(()=>o,[]),r}var fu=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(fu||{}),pu=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(pu||{}),hu=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(hu||{});let mu={0(e,t){var n;let r=Ge(e.tabs,f=>f.current),o=Ge(e.panels,f=>f.current),l=r.filter(f=>{var d;return!((d=f.current)!=null&&d.hasAttribute("disabled"))}),i={...e,tabs:r,panels:o};if(t.index<0||t.index>r.length-1){let f=ne(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>ne(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(l.length===0)return i;let d=ne(f,{0:()=>r.indexOf(l[0]),1:()=>r.indexOf(l[l.length-1])});return{...i,selectedIndex:d===-1?e.selectedIndex:d}}let a=r.slice(0,t.index),s=[...r.slice(t.index),...a].find(f=>l.includes(f));if(!s)return i;let u=(n=r.indexOf(s))!=null?n:e.selectedIndex;return u===-1&&(u=e.selectedIndex),{...i,selectedIndex:u}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=Ge([...e.tabs,t.tab],l=>l.current),o=e.selectedIndex;return e.info.current.isControlled||(o=r.indexOf(n),o===-1&&(o=e.selectedIndex)),{...e,tabs:r,selectedIndex:o}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:Ge([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},Qn=V(null);Qn.displayName="TabsDataContext";function Qe(e){let t=W(Qn);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Qe),n}return t}let er=V(null);er.displayName="TabsActionsContext";function tr(e){let t=W(er);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,tr),n}return t}function _u(e,t){return ne(t.type,mu,e,t)}let vu="div";function bu(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:o=!1,onChange:l,selectedIndex:i=null,...a}=e;const s=r?"vertical":"horizontal",u=o?"manual":"auto";let f=i!==null,d=_e({isControlled:f}),h=ee(t),[p,m]=et(_u,{info:d,selectedIndex:i??n,tabs:[],panels:[]}),g=M(()=>({selectedIndex:p.selectedIndex}),[p.selectedIndex]),b=_e(l||(()=>{})),v=_e(p.tabs),_=M(()=>({orientation:s,activation:u,...p}),[s,u,p]),x=D(k=>(m({type:1,tab:k}),()=>m({type:2,tab:k}))),$=D(k=>(m({type:3,panel:k}),()=>m({type:4,panel:k}))),P=D(k=>{T.current!==k&&b.current(k),f||m({type:0,index:k})}),T=_e(f?e.selectedIndex:p.selectedIndex),O=M(()=>({registerTab:x,registerPanel:$,change:P}),[]);z(()=>{m({type:0,index:i??n})},[i]),z(()=>{if(T.current===void 0||p.tabs.length<=0)return;let k=Ge(p.tabs,L=>L.current);k.some((L,H)=>p.tabs[H]!==L)&&P(k.indexOf(p.tabs[T.current]))});let q={ref:h},w=X();return E.createElement(du,null,E.createElement(er.Provider,{value:O},E.createElement(Qn.Provider,{value:_},_.tabs.length<=0&&E.createElement(uu,{onFocus:()=>{var k,L;for(let H of v.current)if(((k=H.current)==null?void 0:k.tabIndex)===0)return(L=H.current)==null||L.focus(),!0;return!1}}),w({ourProps:q,theirProps:a,slot:g,defaultTag:vu,name:"Tabs"}))))}let gu="div";function yu(e,t){let{orientation:n,selectedIndex:r}=Qe("Tab.List"),o=ee(t),l=M(()=>({selectedIndex:r}),[r]),i=e,a={ref:o,role:"tablist","aria-orientation":n};return X()({ourProps:a,theirProps:i,slot:l,defaultTag:gu,name:"Tabs.List"})}let wu="button";function $u(e,t){var n,r;let o=ie(),{id:l=`headlessui-tabs-tab-${o}`,disabled:i=!1,autoFocus:a=!1,...s}=e,{orientation:u,activation:f,selectedIndex:d,tabs:h,panels:p}=Qe("Tab"),m=tr("Tab"),g=Qe("Tab"),[b,v]=S(null),_=N(null),x=ee(_,t,v);z(()=>m.registerTab(_),[m,_]);let $=El("tabs"),P=h.indexOf(_);P===-1&&(P=$);let T=P===d,O=D(I=>{var y;let U=I();if(U===Re.Success&&f==="auto"){let C=(y=nt(_))==null?void 0:y.activeElement,he=g.tabs.findIndex(be=>be.current===C);he!==-1&&m.change(he)}return U}),q=D(I=>{let y=h.map(U=>U.current).filter(Boolean);if(I.key===ce.Space||I.key===ce.Enter){I.preventDefault(),I.stopPropagation(),m.change(P);return}switch(I.key){case ce.Home:case ce.PageUp:return I.preventDefault(),I.stopPropagation(),O(()=>me(y,J.First));case ce.End:case ce.PageDown:return I.preventDefault(),I.stopPropagation(),O(()=>me(y,J.Last))}if(O(()=>ne(u,{vertical(){return I.key===ce.ArrowUp?me(y,J.Previous|J.WrapAround):I.key===ce.ArrowDown?me(y,J.Next|J.WrapAround):Re.Error},horizontal(){return I.key===ce.ArrowLeft?me(y,J.Previous|J.WrapAround):I.key===ce.ArrowRight?me(y,J.Next|J.WrapAround):Re.Error}}))===Re.Success)return I.preventDefault()}),w=N(!1),k=D(()=>{var I;w.current||(w.current=!0,(I=_.current)==null||I.focus({preventScroll:!0}),m.change(P),yt(()=>{w.current=!1}))}),L=D(I=>{I.preventDefault()}),{isFocusVisible:H,focusProps:Y}=Mt({autoFocus:a}),{isHovered:Z,hoverProps:re}=qn({isDisabled:i}),{pressed:we,pressProps:se}=Vo({disabled:i}),pe=M(()=>({selected:T,hover:Z,active:we,focus:H,autofocus:a,disabled:i}),[T,Z,H,we,a,i]),oe=jt({ref:x,onKeyDown:q,onMouseDown:L,onClick:k,id:l,role:"tab",type:zi(e,b),"aria-controls":(r=(n=p[P])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":T,tabIndex:T?0:-1,disabled:i||void 0,autoFocus:a},Y,re,se);return X()({ourProps:oe,theirProps:s,slot:pe,defaultTag:wu,name:"Tabs.Tab"})}let xu="div";function Eu(e,t){let{selectedIndex:n}=Qe("Tab.Panels"),r=ee(t),o=M(()=>({selectedIndex:n}),[n]),l=e,i={ref:r};return X()({ourProps:i,theirProps:l,slot:o,defaultTag:xu,name:"Tabs.Panels"})}let ku="div",Su=Ze.RenderStrategy|Ze.Static;function Nu(e,t){var n,r,o,l;let i=ie(),{id:a=`headlessui-tabs-panel-${i}`,tabIndex:s=0,...u}=e,{selectedIndex:f,tabs:d,panels:h}=Qe("Tab.Panel"),p=tr("Tab.Panel"),m=N(null),g=ee(m,t);z(()=>p.registerPanel(m),[p,m]);let b=El("panels"),v=h.indexOf(m);v===-1&&(v=b);let _=v===f,{isFocusVisible:x,focusProps:$}=Mt(),P=M(()=>({selected:_,focus:x}),[_,x]),T=jt({ref:g,id:a,role:"tabpanel","aria-labelledby":(r=(n=d[v])==null?void 0:n.current)==null?void 0:r.id,tabIndex:_?s:-1},$),O=X();return!_&&((o=u.unmount)==null||o)&&!((l=u.static)!=null&&l)?E.createElement(_t,{"aria-hidden":"true",...T}):O({ourProps:T,theirProps:u,slot:P,defaultTag:ku,features:Su,visible:_,name:"Tabs.Panel"})}let Pu=G($u),kl=G(bu),Sl=G(yu),Nl=G(Eu),Ct=G(Nu),Wr=Object.assign(Pu,{Group:kl,List:Sl,Panels:Nl,Panel:Ct});function Pl({storageConfig:e,onCancel:t,onSelect:n,onClear:r,initialLocation:o,closeOnPressOutside:l=!0}){if(!e)return c(R,{});const i=N(null);F(()=>{if(!l||!t)return;function y(U){i.current&&!i.current.contains(U.target)&&t()}return document.addEventListener("mousedown",y),()=>document.removeEventListener("click",y)},[t]);const[a,s]=S((o==null?void 0:o.rack)||null),[u,f]=S((o==null?void 0:o.bay)||null),[d,h]=S((o==null?void 0:o.shelf)||null),[p,m]=S((o==null?void 0:o.position)||null),[g,b]=S((o==null?void 0:o.container)||null),[v,_]=S(null);F(()=>{s(o==null?void 0:o.rack),f(o==null?void 0:o.bay),h(o==null?void 0:o.shelf),m(o==null?void 0:o.position),b(o==null?void 0:o.container),o&&(o.container?_("6complete"):o.position?_("5container"):o.shelf?_("4position"):o.bay?_("3shelf"):o.rack?_("2bay"):_("1rack"))},[o]);const[x,$]=S(""),[P,T]=S(""),O=e?Object.entries(e.rack_config).map(([y,U])=>({rackId:Number(y),name:U.name})):[];F(()=>{o&&(s(o.rack),f(o.bay),h(o.shelf),m(o.position),b(o.container||null))},[o]);const q=(y,U)=>y.num_shelves,w=(y,U,C)=>y.num_positions,k=(y,U,C,he)=>y.num_containers;F(()=>{if(!a||!e)return;const y=e.rack_config[a].num_bays;v=="2bay"&&y<=1&&H(y)},[v]),F(()=>{if(!a)return;const y=q(e.rack_config[a]);v=="3shelf"&&y<=1&&Y(y)},[v]),F(()=>{if(!a)return;const y=w(e.rack_config[a]);v=="4position"&&y<=1&&Z(y)},[v]),F(()=>{if(!a)return;const y=k(e.rack_config[a]);v=="5container"&&y<=1&&we(y)},[v]);const L=y=>{s(y),h(null),m(null),b(null),$(""),_("2bay")},H=y=>{f(y),h(null),m(null),b(null),$(""),_("3shelf")},Y=y=>{h(y),m(null),b(null),$(""),T(""),_("4position")},Z=y=>{m(y),b(null),$(""),T(""),_("5container")},re=y=>{const U=parseInt(x);if(U>y){T(`Must be between 1 and ${y}`);return}pe(U,y),$(""),T("")},we=y=>{b(y),_("6complete")},se=y=>{switch(y){case"1rack":s(null),f(null),h(null),m(null),b(null),$(""),_("1rack");break;case"2bay":f(null),h(null),m(null),b(null),$(""),_("2bay");break;case"3shelf":h(null),m(null),b(null),$(""),_("3shelf");break;case"4position":m(null),b(null),$(""),_("4position");break;case"5container":b(null),_("5container");break}},pe=(y,U)=>{y<=U&&(v==="2bay"&&a?H(y):v==="3shelf"&&a?Y(y):v==="4position"&&a?Z(y):v==="5container"&&a&&we(y))},oe=(y,U)=>{y==="backspace"?$(C=>C.slice(0,-1)):y==="confirm"?re(U):$(C=>C+y)},I=y=>{const U=le=>C?le>y:!x&&le===0||parseInt(x+le)>y,C=y<10,he=[];for(let le=1;le<=9;le++){const Fe=U(le);he.push(c("button",{onClick:()=>C?pe(le,y):oe(le.toString(),y),disabled:Fe,className:`px-2 py-4 text-xl font-semibold rounded-lg border border-gray-300 dark:border-gray-600 
            ${Fe?"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed":"bg-base-100 hover:bg-base-200 active:bg-base-300"} transition-colors`,children:le},le))}const be=U(0);return c(R,{children:[!C&&c("div",{className:"mb-4",children:[c("div",{className:"flex items-center gap-2 mb-2",children:[c("span",{className:"text-sm text-base-content/70",children:"Enter:"}),c("div",{className:"px-4 py-2 bg-base-100 border border-gray-300 dark:border-gray-600 rounded-lg font-mono text-lg min-w-[100px]",children:x||"_"}),x&&c("button",{onClick:()=>$(""),className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-base-200",children:"Clear"})]}),P&&c("p",{className:"text-sm text-error",children:P})]}),c("div",{className:"grid grid-cols-3 gap-3 max-w-xs mx-auto",children:[he,C?c("button",{disabled:!0,className:"col-span-3 px-2 py-4 text-lg font-semibold rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed",children:"0"}):c(R,{children:[c("button",{onClick:()=>oe("backspace",y),className:"px-2 py-4 text-lg font-semibold rounded-lg border border-gray-300 dark:border-gray-600 bg-base-100 hover:bg-base-200 active:bg-base-300 transition-colors flex items-center justify-center",children:c(la,{size:24})}),c("button",{disabled:be,onClick:()=>oe("0",y),className:`px-2 py-4 text-xl font-semibold rounded-lg border border-gray-300 dark:border-gray-600 
            ${be?"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed":"bg-base-100 hover:bg-base-200 active:bg-base-300"} transition-colors`,children:"0"}),c("button",{onClick:()=>oe("confirm",y),className:"px-2 py-4 text-lg font-semibold rounded-lg border border-gray-300 dark:border-gray-600 bg-base-100 hover:bg-base-200 active:bg-base-300 transition-colors flex items-center justify-center",children:c(oa,{size:24})})]})]})]})};return O.length===0?c("div",{className:"text-center py-12 text-base-content/60",children:[c("p",{className:"text-lg font-medium mb-2",children:"No storage configured"}),c("p",{className:"text-sm",children:"Please configure storage racks first"})]}):c("div",{ref:i,className:"space-y-2",children:[c("div",{children:a?c("div",{className:"flex items-center gap-2 mb-2",children:[c("span",{className:"text-sm font-medium text-base-content/70",children:"Rack:"}),c("span",{className:"font-medium",children:e.rack_config[a].name}),c("button",{onClick:()=>se("1rack"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:c(ot,{size:16})})]}):c(R,{children:[c("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:"Select Rack:"}),c("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:O.map(y=>c("button",{onClick:()=>L(y.rackId),className:"px-4 py-3 bg-base-100 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-base-200 hover:border-gray-400 dark:hover:border-gray-500 transition-colors text-left font-medium",children:y.name},y.rackId))})]})}),a&&v>="2bay"&&c("div",{children:u?c("div",{className:"flex items-center gap-2 mb-2",children:[c("span",{className:"text-sm font-medium text-base-content/70",children:"Bay:"}),c("span",{className:"font-medium",children:u}),c("button",{onClick:()=>se("2bay"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:c(ot,{size:16})})]}):v==="2bay"&&c(R,{children:[c("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:["Which bay? (1-",e.rack_config[a].num_bays,")"]}),I(e.rack_config[a].num_bays)]})}),a&&v>="3shelf"&&c("div",{children:d?c("div",{className:"flex items-center gap-2 mb-2",children:[c("span",{className:"text-sm font-medium text-base-content/70",children:"Shelf:"}),c("span",{className:"font-medium",children:d}),c("button",{onClick:()=>se("3shelf"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:c(ot,{size:16})})]}):v==="3shelf"&&c(R,{children:[c("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:["Which shelf? (1-",e.rack_config[a].num_shelves,")"]}),I(e.rack_config[a].num_shelves)]})}),a&&v>="4position"&&c("div",{children:p?c("div",{className:"flex items-center gap-2 mb-2",children:[c("span",{className:"text-sm font-medium text-base-content/70",children:"Position:"}),c("span",{className:"font-medium",children:p}),c("button",{onClick:()=>se("4position"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:c(ot,{size:16})})]}):v==="4position"&&c(R,{children:[c("div",{className:"text-sm font-medium text-base-content/70 mb-2 flex items-center gap-2",children:["Which position? (1-",w(e.rack_config[a]),")",(()=>{const y=e.rack_config[a].num_positions,U=w(e.rack_config[a]);return y!==U?c("span",{className:"text-xs text-primary flex items-center gap-1",children:[c(aa,{size:14}),"This shelf has ",U," positions"]}):null})()]}),I(w(e.rack_config[a]))]})}),a&&v>="5container"&&c("div",{children:g?c("div",{className:"flex items-center gap-2 mb-2",children:[c("span",{className:"text-sm font-medium text-base-content/70",children:"Container:"}),c("span",{className:"font-medium",children:g}),c("button",{onClick:()=>se("5container"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:c(ot,{size:16})})]}):v==="5container"&&c(R,{children:[c("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:["Which container? (1-",k(e.rack_config[a]),")"]}),I(k(e.rack_config[a]))]})}),a&&c("div",{className:"bg-primary/10 border border-primary rounded-lg p-4",children:c("div",{className:"flex items-start gap-2",children:[c("span",{className:`${v!="6complete"&&"invisible"} text-primary font-bold text-4xl`,children:""}),c("div",{children:[c("p",{className:"font-medium text-base-content",children:"Selected Location:"}),c("p",{className:"text-sm text-base-content/80",children:[e.rack_config[a].name,!!u&&` / Bay ${u}`,!!d&&` / Shelf ${d}`,!!p&&` / Position ${p}`,!!g&&` / Container ${g}`]})]})]})}),c("div",{className:"dialog-actions",children:[r&&c(rn,{className:"btn btn-outline",onClick:()=>r&&r(),children:"Clear"}),c(rn,{className:"btn btn-outline",onClick:()=>t&&t(),children:"Cancel"}),c(rn,{className:"btn btn-outline",onClick:()=>n&&n({rack:a,bay:u,shelf:d,position:p,container:g}),disabled:a==null||P!=""||x!="",children:"Ok"})]})]})}const Tl=V({urlParams:{}});function Tu({children:e}){const[t,n]=S({});return F(()=>{n(uo())},[]),c(Tl.Provider,{value:{urlParams:t},children:e})}const Cl=()=>W(Tl),Ft=({location:e,storageConfig:t})=>c("div",{className:"space-y-2 mb-0 flex-1",children:e?c(R,{children:[c("div",{className:"badge badge-lg badge-info w-full",children:`Rack: ${(t==null?void 0:t.rack_config[e==null?void 0:e.rack].name)??""}`}),c("div",{className:"flex flex-row space-x-2",children:[!!(e!=null&&e.bay)&&c(R,{children:c("div",{className:"flex flex-col flex-1",children:[c("div",{className:"w-full px-0 badge badge-lg badge-outline badge-info flex-1 border-l-8 border-r-8 rounded-none",children:"Bay"}),c("div",{className:"w-full px-0 badge badge-lg badge-outline badge-info flex-1 border-l-8 border-r-8 rounded-none",children:`${e==null?void 0:e.bay}`})]})}),!!(e!=null&&e.shelf)&&c(R,{children:c("div",{className:"flex flex-col flex-1",children:[c("div",{className:"w-full px-0 badge badge-lg badge-outline badge-info flex-1 border-t-6 border-b-3 rounded-none",children:"Shelf"}),c("div",{className:"w-full px-0 badge badge-lg badge-outline badge-info flex-1 border-t-3 border-b-6 rounded-none",children:`${e==null?void 0:e.shelf}`})]})}),!!(e!=null&&e.position)&&c(R,{children:c("div",{className:"flex flex-col flex-1",children:[c("div",{className:"w-full px-0 badge badge-lg badge-outline badge-info flex-1 rounded-none",children:"Position"}),c("div",{className:"w-full px-0 badge badge-lg badge-outline badge-info flex-1 rounded-none",children:[c("div",{}),c("div",{className:"px-2 border h-full flex items-center border-b-0 border-t-0",children:`${e==null?void 0:e.position}`}),c("div",{})]})]})}),!!(e!=null&&e.container)&&c(R,{children:c("div",{className:"flex flex-col flex-1",children:[c("div",{className:"w-full px-0 badge badge-lg badge-dash badge-info flex-1 rounded-none",children:"Container"}),c("div",{className:"w-full px-0 badge badge-lg badge-dash badge-info flex-1 rounded-t-none rounded-b-3xl",children:`${e==null?void 0:e.container}`})]})})]})]}):c("div",{className:"badge badge-info badge-lg badge-outline w-full",children:"Location not Set"})}),Cu={securityKey:"",setSecurityKey:()=>{},securityOk:!1,setSecurityOk:()=>{}},Jt=V(Cu),Fu=({children:e})=>{const t=new URLSearchParams(window.location.hash.slice(1)).get("sk")||""||new URLSearchParams(window.location.hash.slice(1)).get("_sk")||"",[n,r]=S(t),[o,l]=S(!1);return window.securityKey=n,F(()=>{Au(l)},[]),c(Jt.Provider,{value:{securityKey:n,setSecurityKey:r,securityOk:o,setSecurityOk:l},children:e})};let Nn=null;function Au(e){Nn=e}function Ou(e){Nn&&Nn(e)}function Lu(e){const{securityOk:t}=W(Jt),[n,r]=S([]),[o,l]=S(new Map),i=async()=>{let f,d=Je("/api/spools");if(f=await(await encryptedFetch(d)).text(),f!="")return f},a=async()=>{let f,d=Je("/api/spools-in-printers");if(f=await(await encryptedFetch(d)).text(),f!="")return f},s=(f,d)=>{let h=null,p=null;if(d){const b=JSON.parse(d);p=new Map(Object.entries(b.spools)),h=p}else h=o;const g=f.trim().split(`
`).map(b=>fo(b,h,e));r(g),p&&l(p)},u=async()=>{let f;try{f=await i()}catch(h){return console.error("Failed to fetch spools data:",h),""}let d=null;try{d=await a()}catch(h){console.error("Failed to fetch spools in printers:",h)}s(f,d)};return F(()=>{u()},[e,t]),[n,u,s]}const Nt=({spool:e,onClick:t})=>c("button",{onClick:t,className:"flex flex-col text-lg w-full items-start p-2 rounded-lg",style:e!=null&&e.color_code?{backgroundColor:`#${e.color_code.slice(0,6)}`,color:`${Xl(e.color_code.slice(0,6))}`}:void 0,children:c("div",{className:"flex flex-wrap gap-1 text-left leading-tight",children:[c("span",{className:"mr-0",children:[e.id,"."]}),c("span",{className:"flex-1",children:[e.brand," ",e.material_type," ",e.material_subtype," ",e.color_name]})]})});function Du({serverTagLocation:e}){const{urlParams:t}=Cl(),[n,r]=S(e),[o,l]=S(lt(e)),i=w=>{r(w),l(lt(w))},[a,s]=S(null),[u,f]=S(!1),d=N(null),{storageConfig:h}=In(),[p,m]=S([]),[g,b]=Lu(p),[v,_]=S(null),[x,$]=S([]);F(()=>{(async()=>await T())()},[]),F(()=>{i(e)},[e]);const P=async()=>{try{return(await ct("/api/spool-staging","GET")).csv_record||null}catch{return null}},T=async()=>{const w=await P(),k=!!w&&fo(w,null,null);s(k)},O=async(w,k,L)=>{const H={location:lt(L),location_type:k,spool_id:w};try{const Y=await ct("/api/spool-location","POST",H);Y.error&&console.log(`Error setting spool location : ${Y.error}`);const Z=g.find(re=>re.id===w);L==null&&(k==te.Actual&&Z.assigned_location!=o||k==te.Assigned&&Z.actual_location!=o)&&$(re=>[...re,Z]),await b()}catch{}};F(()=>{$(w=>w.filter(k=>{const L=g.find(H=>H.id===k.id);return L.actual_location!==o&&L.assigned_location!==o}))},[g]);const q=async(w,k)=>{if(e&&a){const L={location:lt(k),location_type:w,spool_id:a.id};try{const H=await ct("/api/spool-location","POST",L);await T(),H.error&&console.log(`Error setting spool location : ${H.error}`)}catch{}}};return c("div",{className:"hero bg-base-300",children:c("div",{className:"hero-content flex-col",children:[c("div",{className:"text-center",children:c("h1",{className:"text-3xl font-bold",children:["Location Tag Scanned",c("a",{className:"btn btn-outline btn-primary font-mono text-3xl",href:"/L1/edit/#"+new URLSearchParams(t).toString(),children:[t.TG,c(mn,{size:30})]})]})}),c("div",{className:"card bg-base-100 w-full shadow-sm rounded-lg overflow-hidden",children:[c("div",{class:"bg-primary text-primary-content text-center p-2",children:c("h2",{className:"card-title flex",children:["Selected Location",c("span",{className:"text-warning",children:n!=e&&" (Edited)"}),c("button",{className:"btn btn-outline ml-auto",onClick:()=>i(e),children:"Refresh"})]})}),c("div",{className:"card-body p-4",children:[c("div",{className:"flex flex-row items-center space-x-2",children:[c(Ft,{location:n,storageConfig:h}),c("button",{className:"btn px-0",onClick:()=>f(w=>!w),onMouseDown:w=>{w.stopPropagation()},children:c(mn,{size:60})})]}),u&&c("div",{ref:d,id:"location-picker-popup",className:"bg-gray-700 rounded-md p-2 mt-2",children:c(Pl,{initialLocation:n,storageConfig:h,onCancel:()=>f(!1),onSelect:w=>{i(w),f(!1)},onClear:()=>{i(null)}})})]})]}),c(kl,{className:"w-full",children:[c(Sl,{className:"tabs tabs-lift",children:[c(Wr,{className:"tab data-[selected]:!bg-primary data-[selected]:!text-primary-content",children:"Spools @ Location"}),c(Wr,{className:"tab data-[selected]:!bg-primary data-[selected]:!text-primary-content",children:"Spool @ Staging"})]}),c(Nl,{className:"h-[534px]",children:[c(Ct,{className:"h-full p-6 bg-base-100 space-y-4 rounded-lg rounded-tl-none",children:[x.length!=0&&c("div",{className:"flex items-center mb-4 mt-0",children:[c("hr",{className:"flex-grow border-t border-gray-300"}),c("span",{className:"mx-2 text-gray-500",children:"Recently Unassigned or Picked"}),c("hr",{className:"flex-grow border-t border-gray-300"})]}),x.map(w=>c("div",{className:"space-y-2 border-gray-500 border-1 p-2 rounded-lg",children:[c(Nt,{onClick:()=>{v!=`recent-${w.id}`?_(`recent-${w.id}`):_(null)},spool:w}),v===`recent-${w.id}`&&c("div",{className:"flex flex-row space-x-3",children:[c("button",{onClick:()=>{O(w.id,te.Assigned,n)},className:"btn btn-primary flex-1",children:"Assign"}),c("button",{onClick:()=>{O(w.id,te.Actual,n)},className:"btn btn-primary flex-1",children:"Place"})]})]})),c("div",{className:"flex items-center mb-4 mt-0",children:[c("hr",{className:"flex-grow border-t border-gray-300"}),c("span",{className:"mx-2 text-gray-500",children:"Spools Currently in Location"}),c("hr",{className:"flex-grow border-t border-gray-300"})]}),g.filter(w=>w.actual_location===o).map(w=>c("div",{className:"space-y-2 border-gray-500 border-1 p-2 rounded-lg",children:[c(Nt,{onClick:()=>{v!=`actual-${w.id}`?_(`actual-${w.id}`):_(null)},spool:w}),v===`actual-${w.id}`&&c("div",{className:"flex flex-row space-x-3",children:[c("button",{onClick:()=>{w.assigned_location==o?O(w.id,te.Assigned,null):O(w.id,te.Assigned,n)},className:"btn flex-1"+(w.assigned_location==o?" btn-outline":" btn-primary"),children:w.assigned_location==o?"Unassign from Location":"Assign to Location"}),c("button",{onClick:()=>{O(w.id,te.Actual,null)},className:"btn btn-outline flex-1",children:"Pick"})]})]})),c("div",{className:"flex items-center my-4",children:[c("hr",{className:"flex-grow border-t border-gray-300"}),c("span",{className:"mx-2 text-gray-500",children:"Assigned to Location, but Not in Place"}),c("hr",{className:"flex-grow border-t border-gray-300"})]}),g.filter(w=>w.assigned_location===o&&w.actual_location!==o).map(w=>c("div",{className:"space-y-2 border-gray-500 border-1 p-2 rounded-lg",children:[c(Nt,{onClick:()=>{v!=`assigned-${w.id}`?_(`assigned-${w.id}`):_(null)},spool:w}),v===`assigned-${w.id}`&&c("div",{className:"flex flex-row space-x-3",children:[c("button",{onClick:()=>{O(w.id,te.Assigned,null)},className:"btn btn-outline flex-1",children:"Unassign from Location"}),c("button",{onClick:()=>{O(w.id,te.Actual,n)},className:"btn btn-primary flex-1",children:"Place"})]})]}))]}),c(Ct,{className:"h-full p-6 bg-base-100 border-base-300 rounded-lg",children:c("div",{className:"card bg-base-100 w-full shadow-sm",children:c("div",{className:"card-body space-y-3 p-0",children:[c("div",{className:"flex flex-col space-y-3",children:[c("div",{className:"flex flex-row space-x-3",children:[a?c(Nt,{spool:a}):c("div",{className:"flex flex-col badge badge-outline badge-xl w-full py-5 ",children:"Spool Staging is Empty"}),c("button",{onClick:T,className:"btn btn-outline ml-auto relative top-[1px] h-auto",children:"Refresh"})]}),a&&c("div",{className:"flex flex-row space-x-2",children:[c("button",{disabled:(a==null?void 0:a.assigned_location)==o,className:"btn btn-primary flex-grow",onClick:()=>q(te.Assigned,n),children:"Assign to Selected"}),c("button",{disabled:(a==null?void 0:a.actual_location)==o,className:"btn btn-primary flex-grow",onClick:()=>q(te.Actual,n),children:"Place in Selected"})]})]}),a&&c("div",{children:[c("div",{className:"border p-2 rounded-lg space-y-2",children:[c("p",{className:"text-lg text-center",children:"Actual Location"}),c(Ft,{location:hn(a.actual_location),storageConfig:h}),c("div",{className:"flex flex-row space-x-2 pt-4",children:c("button",{disabled:!(a!=null&&a.actual_location),className:"btn btn-outline flex-grow",onClick:()=>q(te.Actual,null),children:"Pick"})})]}),c("div",{className:"border p-2 rounded-lg space-y-2",children:[c("p",{className:"text-lg text-center",children:"Assigned Location"}),c(Ft,{location:hn(a.assigned_location),storageConfig:h}),c("div",{className:"flex flex-row space-x-2 pt-4",children:c("button",{disabled:!(a!=null&&a.assigned_location),className:"btn btn-outline flex-grow",onClick:()=>q(te.Assigned,null),children:"Unassign"})})]})]})]})})}),c(Ct,{className:"h-full p-6 bg-base-100 border-base-300 rounded-lg",children:"Placeholder for Mobile Scanned Spool or Manual ID Entry"})]})]}),c("div",{className:"hidden card bg-base-100 w-full shadow-sm rounded-lg overflow-hidden",children:[c("div",{class:"animate-pulse duration-500 bg-primary text-primary-content text-center p-2",children:c("h2",{className:"card-title",children:[c(vr,{className:"rotate-90 scale-y-[0.8]"}),"Spools in Location",c("button",{className:"btn btn-outline ml-auto",children:"Refresh"})]})}),c("div",{className:"card-body",children:c("div",{children:c("p",{children:"Placeholder for spools currently in location and allow removing them"})})})]}),c("div",{className:"hidden card bg-base-100 w-full shadow-sm rounded-lg overflow-hidden",children:[c("div",{class:"bg-primary text-primary-content text-center p-2",children:c("h2",{className:"card-title",children:[c(vr,{className:"rotate-90 scale-y-[0.8]"}),"Spools Assigned to This Location",c("button",{className:"btn btn-outline ml-auto",children:"Refresh"})]})}),c("div",{className:"card-body",children:c("div",{children:c("p",{children:"Display Spools assigned to location and allow removing them"})})})]})]})})}var Ru={};function Pt(e,t){for(var n in t)e[n]=t[n];return e}function Iu(e,t,n){var r,o=/(?:\?([^#]*))?(#.*)?$/,l=e.match(o),i={};if(l&&l[1])for(var a=l[1].split("&"),s=0;s<a.length;s++){var u=a[s].split("=");i[decodeURIComponent(u[0])]=decodeURIComponent(u.slice(1).join("="))}e=Pn(e.replace(o,"")),t=Pn(t||"");for(var f=Math.max(e.length,t.length),d=0;d<f;d++)if(t[d]&&t[d].charAt(0)===":"){var h=t[d].replace(/(^:|[+*?]+$)/g,""),p=(t[d].match(/[+*?]+$/)||Ru)[0]||"",m=~p.indexOf("+"),g=~p.indexOf("*"),b=e[d]||"";if(!b&&!g&&(p.indexOf("?")<0||m)){r=!1;break}if(i[h]=decodeURIComponent(b),m||g){i[h]=e.slice(d).map(decodeURIComponent).join("/");break}}else if(t[d]!==e[d]){r=!1;break}return(n.default===!0||r!==!1)&&i}function Mu(e,t){return e.rank<t.rank?1:e.rank>t.rank?-1:e.index-t.index}function Hu(e,t){return e.index=t,e.rank=function(n){return n.props.default?0:Pn(n.props.path).map(Uu).join("")}(e),e.props}function Pn(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function Uu(e){return e.charAt(0)==":"?1+"*+?".indexOf(e.charAt(e.length-1))||4:5}var ju={},He=[],Br=[],ae=null,Fl={url:nr()},Wu=V(Fl);function nr(){var e;return""+((e=ae&&ae.location?ae.location:ae&&ae.getCurrentLocation?ae.getCurrentLocation():typeof location<"u"?location:ju).pathname||"")+(e.search||"")}function Rt(e,t){return t===void 0&&(t=!1),typeof e!="string"&&e.url&&(t=e.replace,e=e.url),function(n){for(var r=He.length;r--;)if(He[r].canRoute(n))return!0;return!1}(e)&&function(n,r){r===void 0&&(r="push"),ae&&ae[r]?ae[r](n):typeof history<"u"&&history[r+"State"]&&history[r+"State"](null,null,n)}(e,t?"replace":"push"),Al(e)}function Al(e){for(var t=!1,n=0;n<He.length;n++)He[n].routeTo(e)&&(t=!0);return t}function Bu(e){if(e&&e.getAttribute){var t=e.getAttribute("href"),n=e.getAttribute("target");if(t&&t.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return Rt(t)}}function Ku(e){return e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),e.preventDefault(),!1}function Vu(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||e.button)){var t=e.target;do if(t.localName==="a"&&t.getAttribute("href")){if(t.hasAttribute("data-native")||t.hasAttribute("native"))return;if(Bu(t))return Ku(e)}while(t=t.parentNode)}}var Kr=!1;function Ol(e){e.history&&(ae=e.history),this.state={url:e.url||nr()}}Pt(Ol.prototype=new de,{shouldComponentUpdate:function(e){return e.static!==!0||e.url!==this.props.url||e.onChange!==this.props.onChange},canRoute:function(e){var t=fe(this.props.children);return this.g(t,e)!==void 0},routeTo:function(e){this.setState({url:e});var t=this.canRoute(e);return this.p||this.forceUpdate(),t},componentWillMount:function(){this.p=!0},componentDidMount:function(){var e=this;Kr||(Kr=!0,ae||addEventListener("popstate",function(){Al(nr())}),addEventListener("click",Vu)),He.push(this),ae&&(this.u=ae.listen(function(t){var n=t.location||t;e.routeTo(""+(n.pathname||"")+(n.search||""))})),this.p=!1},componentWillUnmount:function(){typeof this.u=="function"&&this.u(),He.splice(He.indexOf(this),1)},componentWillUpdate:function(){this.p=!0},componentDidUpdate:function(){this.p=!1},g:function(e,t){e=e.filter(Hu).sort(Mu);for(var n=0;n<e.length;n++){var r=e[n],o=Iu(t,r.props.path,r.props);if(o)return[r,o]}},render:function(e,t){var n,r,o=e.onChange,l=t.url,i=this.c,a=this.g(fe(e.children),l);if(a&&(r=ao(a[0],Pt(Pt({url:l,matches:n=a[1]},n),{key:void 0,ref:void 0}))),l!==(i&&i.url)){Pt(Fl,i=this.c={url:l,previous:i&&i.url,current:r,path:r?r.props.path:null,matches:n}),i.router=this,i.active=r?[r]:[];for(var s=Br.length;s--;)Br[s]({});typeof o=="function"&&o(i)}return Q(Wu.Provider,{value:i},r)}});const Gu=({serverTagLocation:e,onChangeServerTagLocation:t,onRefreshServerTagLocation:n})=>{const{urlParams:r}=Cl(),{storageConfig:o}=In(),[l,i]=S(!0),a=N(null);return N(null),c(R,{children:c("div",{className:"hero bg-base-300",children:c("div",{className:"hero-content flex-col",children:[c("div",{className:"text-center",children:c("h1",{className:"text-3xl font-bold",children:["Edit Location Tag ",c("div",{className:"badge badge-outline badge-xl font-mono text-3xl",children:r.TG})]})}),c("div",{className:"card bg-base-100 w-full shadow-sm rounded-lg overflow-hidden",children:[c("div",{class:"bg-primary text-primary-content text-center p-2",children:c("h2",{className:"card-title",children:[c(ia,{className:"rotate-90 scale-y-[0.8]"}),"Tag Information",c("button",{onClick:n,className:"btn btn-outline ml-auto",children:"Refresh"})]})}),c("div",{className:"card-body space-y-4",children:[c("div",{className:"flex flex-row items-center space-x-2",children:[c(Ft,{location:e,storageConfig:o}),c("button",{className:"btn px-0",onMouseDown:s=>{s.stopPropagation()},onClick:s=>{i(u=>!u)},children:c(mn,{size:60})})]}),l&&c("div",{ref:a,id:"location-picker-popup",className:"bg-gray-700 rounded-md p-2 mt-2",children:c(Pl,{closeOnPressOutside:!1,initialLocation:e,storageConfig:o,onCancel:()=>i(!1),onSelect:async s=>{await t(s),i(!1)},onClear:async()=>{await t(null),i(!1)}})})]}),c("button",{onClick:()=>{Rt("/L1/#"+new URLSearchParams(r).toString())},disabled:!e,className:"btn btn-primary m-4 mt-0",children:"Use Tag"})]})]})})})};function zu(){const e=M(()=>uo(),[]),[t,n]=S(null),{storageConfig:r}=In(),o=async s=>{try{const u=await ct("api/tag-scanned","POST",{tag_id_hex:s});switch(!0){case"Unknown"in u.tag_info:return null;case"Location"in u.tag_info:return u.tag_info.Location.location}}catch{return null}};F(()=>{(async()=>await a()=="TagNotFound"&&Rt("/L1/edit/#"+new URLSearchParams(e).toString()))()},[r]);const l=async(s,u)=>{try{return await ct("/api/set-tag-location","POST",{tag_id_hex:s,location:u})}catch{return null}},i=async s=>{try{const u=s?lt(s):"";if(e&&e.TG){const f=await l(e.TG,u);f.error&&console.log(f.error),await a()}}catch{}},a=async()=>{const s=e.TG;if(s){const u=await o(s);if(u){const f=hn(u);return n(f),f}else return n(null),"TagNotFound"}else return n(null),"NoTagInUrl"};return F(()=>{(async()=>await a()=="TagNotFound"&&Rt("/L1/edit/#"+new URLSearchParams(e).toString()))()},[]),F(()=>{},[t,r]),c("div",{class:"w-screen h-screen flex flex-col",children:c(Ol,{children:[c(Du,{path:"/L1",serverTagLocation:t}),c(Gu,{path:"/L1/edit",serverTagLocation:t,onChangeServerTagLocation:i,onRefreshServerTagLocation:async()=>{await a()}})]})})}let un=null,Ll=!1;function Dl(){return un||(un=Rl().then(()=>{console.log("Wasm initialized"),window.securityKeyOnDerive="",window.encryptionKey=Gr("","example_salt"),Ll=!0})),un}async function qu(e,t={},n={}){const{retries:r=3,retryOnNetworkError:o=!0,retryOn400:l=!1,retryOn500:i=!0}=n;let a=null;for(let s=0;s<r;s++)try{const u=await fetch(e,t);if(a=u,!u.ok){const f=u.status;if(f>=500&&i||f>=400&&f<500&&l)continue}return u}catch(u){if(!o)throw u}return a}window.encryptedFetch=async(...e)=>{if(window.securityKey==="")throw new Error("No Security Key Set");Ll||await Dl();const[t,n={}]=e;n.body&&typeof n.body=="string"&&(n.body=Il(Vr(),n.body));const r=await qu(t,n,{retries:!n.method||n.method==="GET"?3:1,retryOnNetworkError:!0,retryOn500:!0}),o=await r.text();let l;if(o==="")l="";else{let i=Vr();l=o.split("|").filter(f=>f.length>0).map(f=>Ml(i,f)).join(""),Ou(!0);const a=new URL(window.location.href),s=new URLSearchParams(a.hash.slice(1));s.delete("sk");const u=s.toString();history.replaceState(null,"",u?`#${u}`:window.location.pathname+window.location.search)}return new Response(l,{status:r.status,statusText:r.statusText,headers:r.headers})};function Vr(){const e=window.securityKey;return e!=window.securityKeyOnDerive&&(console.log("generating security key"),window.encryptionKey=Gr(e,"example_salt"),window.securityKeyOnDerive=e),window.encryptionKey}function Yu({onSecurityKeyChanged:e}){const{securityKey:t,setSecurityKey:n}=W(Jt),r=N(null),o=N(null);return c(lu,{open:!0,onClose:()=>{},initialFocus:o,children:[c(ru,{className:"dialog-backdrop"}),c("div",{className:"dialog-container",children:c("div",{className:"security-key-section",children:[c("h3",{children:"Security Key:"}),c(su,{ref:o,placeholder:"Enter Security Key",className:"security-key-input",type:"text",value:t,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellcheck:!1,onChange:i=>{n(i.currentTarget.value),clearTimeout(r.current),r.current=setTimeout(()=>{e()},500)}})]})})]})}function Xu({children:e}){const{securityOk:t}=W(Jt);F(()=>{(async()=>await n())()},[t]);const n=async()=>{try{const r=Je("/api/test-key");return await(await encryptedFetch(r,{method:"POST",headers:{"Content-Type":"application/text"},body:JSON.stringify({test:"Hello"})})).text(),console.log("Authentication Succeeded"),"Ok"}catch{return console.log("Authentication Failed"),"Err"}};return t?c(R,{children:e}):c(Yu,{onSecurityKeyChanged:n})}(async()=>(console.log("Initialize Wasm"),Dl(),Ye(c(Tu,{children:c(Fu,{children:c(Xu,{children:c(Ql,{children:c(zu,{})})})})}),document.getElementById("app"))))();
