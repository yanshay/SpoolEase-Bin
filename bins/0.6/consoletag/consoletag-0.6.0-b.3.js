import $l,{encrypt as wl,decrypt as El,derive_key as Ar}from"/pkg/device_wasm.js";var lt,N,Lr,Pe,Gn,Dr,Rr,Ir,yn,Zt,Jt,Mr,ot={},Hr=[],kl=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,it=Array.isArray;function se(e,t){for(var n in t)e[n]=t[n];return e}function $n(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function G(e,t,n){var r,o,l,a={};for(l in t)l=="key"?r=t[l]:l=="ref"?o=t[l]:a[l]=t[l];if(arguments.length>2&&(a.children=arguments.length>3?lt.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(l in e.defaultProps)a[l]==null&&(a[l]=e.defaultProps[l]);return Qe(e,a,r,o,null)}function Qe(e,t,n,r,o){var l={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++Lr,__i:-1,__u:0};return o==null&&N.vnode!=null&&N.vnode(l),l}function wn(){return{current:null}}function C(e){return e.children}function Q(e,t){this.props=e,this.context=t}function Be(e,t){if(t==null)return e.__?Be(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Be(e):null}function jr(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return jr(e)}}function Qt(e){(!e.__d&&(e.__d=!0)&&Pe.push(e)&&!gt.__r++||Gn!=N.debounceRendering)&&((Gn=N.debounceRendering)||Dr)(gt)}function gt(){for(var e,t,n,r,o,l,a,i=1;Pe.length;)Pe.length>i&&Pe.sort(Rr),e=Pe.shift(),i=Pe.length,e.__d&&(n=void 0,o=(r=(t=e).__v).__e,l=[],a=[],t.__P&&((n=se({},r)).__v=r.__v+1,N.vnode&&N.vnode(n),En(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[o]:null,l,o??Be(r),!!(32&r.__u),a),n.__v=r.__v,n.__.__k[n.__i]=n,Br(l,n,a),n.__e!=o&&jr(n)));gt.__r=0}function Ur(e,t,n,r,o,l,a,i,s,u,f){var c,h,p,_,g,m,v=r&&r.__k||Hr,b=t.length;for(s=Sl(n,t,v,s,b),c=0;c<b;c++)(p=n.__k[c])!=null&&(h=p.__i==-1?ot:v[p.__i]||ot,p.__i=c,m=En(e,p,h,o,l,a,i,s,u,f),_=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&kn(h.ref,null,p),f.push(p.ref,p.__c||_,p)),g==null&&_!=null&&(g=_),4&p.__u||h.__k===p.__k?s=Wr(p,s,e):typeof p.type=="function"&&m!==void 0?s=m:_&&(s=_.nextSibling),p.__u&=-7);return n.__e=g,s}function Sl(e,t,n,r,o){var l,a,i,s,u,f=n.length,c=f,h=0;for(e.__k=new Array(o),l=0;l<o;l++)(a=t[l])!=null&&typeof a!="boolean"&&typeof a!="function"?(s=l+h,(a=e.__k[l]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?Qe(null,a,null,null,null):it(a)?Qe(C,{children:a},null,null,null):a.constructor==null&&a.__b>0?Qe(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,i=null,(u=a.__i=xl(a,n,s,c))!=-1&&(c--,(i=n[u])&&(i.__u|=2)),i==null||i.__v==null?(u==-1&&(o>f?h--:o<f&&h++),typeof a.type!="function"&&(a.__u|=4)):u!=s&&(u==s-1?h--:u==s+1?h++:(u>s?h--:h++,a.__u|=4))):e.__k[l]=null;if(c)for(l=0;l<f;l++)(i=n[l])!=null&&(2&i.__u)==0&&(i.__e==r&&(r=Be(i)),Vr(i,i));return r}function Wr(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=Wr(r[o],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=Be(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function ee(e,t){return t=t||[],e==null||typeof e=="boolean"||(it(e)?e.some(function(n){ee(n,t)}):t.push(e)),t}function xl(e,t,n,r){var o,l,a=e.key,i=e.type,s=t[n];if(s===null&&e.key==null||s&&a==s.key&&i==s.type&&(2&s.__u)==0)return n;if(r>(s!=null&&(2&s.__u)==0?1:0))for(o=n-1,l=n+1;o>=0||l<t.length;){if(o>=0){if((s=t[o])&&(2&s.__u)==0&&a==s.key&&i==s.type)return o;o--}if(l<t.length){if((s=t[l])&&(2&s.__u)==0&&a==s.key&&i==s.type)return l;l++}}return-1}function zn(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||kl.test(t)?n:n+"px"}function pt(e,t,n,r,o){var l,a;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||zn(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||zn(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")l=t!=(t=t.replace(Ir,"$1")),a=t.toLowerCase(),t=a in e||t=="onFocusOut"||t=="onFocusIn"?a.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+l]=n,n?r?n.u=r.u:(n.u=yn,e.addEventListener(t,l?Jt:Zt,l)):e.removeEventListener(t,l?Jt:Zt,l);else{if(o=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function qn(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=yn++;else if(t.t<n.u)return;return n(N.event?N.event(t):t)}}}function En(e,t,n,r,o,l,a,i,s,u){var f,c,h,p,_,g,m,v,b,w,$,F,O,H,te,V,j,U=t.type;if(t.constructor!=null)return null;128&n.__u&&(s=!!(32&n.__u),l=[i=t.__e=n.__e]),(f=N.__b)&&f(t);e:if(typeof U=="function")try{if(v=t.props,b="prototype"in U&&U.prototype.render,w=(f=U.contextType)&&r[f.__c],$=f?w?w.props.value:f.__:r,n.__c?m=(c=t.__c=n.__c).__=c.__E:(b?t.__c=c=new U(v,$):(t.__c=c=new Q(v,$),c.constructor=U,c.render=Pl),w&&w.sub(c),c.props=v,c.state||(c.state={}),c.context=$,c.__n=r,h=c.__d=!0,c.__h=[],c._sb=[]),b&&c.__s==null&&(c.__s=c.state),b&&U.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=se({},c.__s)),se(c.__s,U.getDerivedStateFromProps(v,c.__s))),p=c.props,_=c.state,c.__v=t,h)b&&U.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),b&&c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(b&&U.getDerivedStateFromProps==null&&v!==p&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(v,$),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(v,c.__s,$)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(c.props=v,c.state=c.__s,c.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(q){q&&(q.__=t)}),F=0;F<c._sb.length;F++)c.__h.push(c._sb[F]);c._sb=[],c.__h.length&&a.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(v,c.__s,$),b&&c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(p,_,g)})}if(c.context=$,c.props=v,c.__P=e,c.__e=!1,O=N.__r,H=0,b){for(c.state=c.__s,c.__d=!1,O&&O(t),f=c.render(c.props,c.state,c.context),te=0;te<c._sb.length;te++)c.__h.push(c._sb[te]);c._sb=[]}else do c.__d=!1,O&&O(t),f=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++H<25);c.state=c.__s,c.getChildContext!=null&&(r=se(se({},r),c.getChildContext())),b&&!h&&c.getSnapshotBeforeUpdate!=null&&(g=c.getSnapshotBeforeUpdate(p,_)),V=f,f!=null&&f.type===C&&f.key==null&&(V=Kr(f.props.children)),i=Ur(e,it(V)?V:[V],t,n,r,o,l,a,i,s,u),c.base=t.__e,t.__u&=-161,c.__h.length&&a.push(c),m&&(c.__E=c.__=null)}catch(q){if(t.__v=null,s||l!=null)if(q.then){for(t.__u|=s?160:128;i&&i.nodeType==8&&i.nextSibling;)i=i.nextSibling;l[l.indexOf(i)]=null,t.__e=i}else for(j=l.length;j--;)$n(l[j]);else t.__e=n.__e,t.__k=n.__k;N.__e(q,t,n)}else l==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):i=t.__e=Nl(n.__e,t,n,r,o,l,a,s,u);return(f=N.diffed)&&f(t),128&t.__u?void 0:i}function Br(e,t,n){for(var r=0;r<n.length;r++)kn(n[r],n[++r],n[++r]);N.__c&&N.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(l){l.call(o)})}catch(l){N.__e(l,o.__v)}})}function Kr(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:it(e)?e.map(Kr):se({},e)}function Nl(e,t,n,r,o,l,a,i,s){var u,f,c,h,p,_,g,m=n.props,v=t.props,b=t.type;if(b=="svg"?o="http://www.w3.org/2000/svg":b=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),l!=null){for(u=0;u<l.length;u++)if((p=l[u])&&"setAttribute"in p==!!b&&(b?p.localName==b:p.nodeType==3)){e=p,l[u]=null;break}}if(e==null){if(b==null)return document.createTextNode(v);e=document.createElementNS(o,b,v.is&&v),i&&(N.__m&&N.__m(t,l),i=!1),l=null}if(b==null)m===v||i&&e.data==v||(e.data=v);else{if(l=l&&lt.call(e.childNodes),m=n.props||ot,!i&&l!=null)for(m={},u=0;u<e.attributes.length;u++)m[(p=e.attributes[u]).name]=p.value;for(u in m)if(p=m[u],u!="children"){if(u=="dangerouslySetInnerHTML")c=p;else if(!(u in v)){if(u=="value"&&"defaultValue"in v||u=="checked"&&"defaultChecked"in v)continue;pt(e,u,null,p,o)}}for(u in v)p=v[u],u=="children"?h=p:u=="dangerouslySetInnerHTML"?f=p:u=="value"?_=p:u=="checked"?g=p:i&&typeof p!="function"||m[u]===p||pt(e,u,p,m[u],o);if(f)i||c&&(f.__html==c.__html||f.__html==e.innerHTML)||(e.innerHTML=f.__html),t.__k=[];else if(c&&(e.innerHTML=""),Ur(t.type=="template"?e.content:e,it(h)?h:[h],t,n,r,b=="foreignObject"?"http://www.w3.org/1999/xhtml":o,l,a,l?l[0]:n.__k&&Be(n,0),i,s),l!=null)for(u=l.length;u--;)$n(l[u]);i||(u="value",b=="progress"&&_==null?e.removeAttribute("value"):_!=null&&(_!==e[u]||b=="progress"&&!_||b=="option"&&_!=m[u])&&pt(e,u,_,m[u],o),u="checked",g!=null&&g!=e[u]&&pt(e,u,g,m[u],o))}return e}function kn(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(o){N.__e(o,n)}}function Vr(e,t,n){var r,o;if(N.unmount&&N.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||kn(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(l){N.__e(l,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&Vr(r[o],t,n||typeof e.type!="function");n||$n(e.__e),e.__c=e.__=e.__e=void 0}function Pl(e,t,n){return this.constructor(e,n)}function Ke(e,t,n){var r,o,l,a;t==document&&(t=document.documentElement),N.__&&N.__(e,t),o=(r=typeof n=="function")?null:n&&n.__k||t.__k,l=[],a=[],En(t,e=(!r&&n||t).__k=G(C,null,[e]),o||ot,ot,t.namespaceURI,!r&&n?[n]:o?null:t.firstChild?lt.call(t.childNodes):null,l,!r&&n?n:o?o.__e:t.firstChild,r,a),Br(l,e,a)}function Gr(e,t){Ke(e,t,Gr)}function zr(e,t,n){var r,o,l,a,i=se({},e.props);for(l in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)l=="key"?r=t[l]:l=="ref"?o=t[l]:i[l]=t[l]==null&&a!=null?a[l]:t[l];return arguments.length>2&&(i.children=arguments.length>3?lt.call(arguments,2):n),Qe(e.type,i,r||e.key,o||e.ref,null)}function W(e){function t(n){var r,o;return this.getChildContext||(r=new Set,(o={})[t.__c]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(l){this.props.value!=l.value&&r.forEach(function(a){a.__e=!0,Qt(a)})},this.sub=function(l){r.add(l);var a=l.componentWillUnmount;l.componentWillUnmount=function(){r&&r.delete(l),a&&a.call(l)}}),n.children}return t.__c="__cC"+Mr++,t.__=e,t.Provider=t.__l=(t.Consumer=function(n,r){return n.children(r)}).contextType=t,t}lt=Hr.slice,N={__e:function(e,t,n,r){for(var o,l,a;t=t.__;)if((o=t.__c)&&!o.__)try{if((l=o.constructor)&&l.getDerivedStateFromError!=null&&(o.setState(l.getDerivedStateFromError(e)),a=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),a=o.__d),a)return o.__E=o}catch(i){e=i}throw e}},Lr=0,Q.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=se({},this.state),typeof e=="function"&&(e=e(se({},n),this.props)),e&&se(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Qt(this))},Q.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Qt(this))},Q.prototype.render=C,Pe=[],Dr=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Rr=function(e,t){return e.__v.__b-t.__v.__b},gt.__r=0,Ir=/(PointerCapture)$|Capture$/i,yn=0,Zt=qn(!1),Jt=qn(!0),Mr=0;var Cl=0;function d(e,t,n,r,o,l){t||(t={});var a,i,s=t;if("ref"in s)for(i in s={},t)i=="ref"?a=t[i]:s[i]=t[i];var u={type:e,props:s,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Cl,__i:-1,__u:0,__source:o,__self:l};if(typeof e=="function"&&(a=e.defaultProps))for(i in a)s[i]===void 0&&(s[i]=a[i]);return N.vnode&&N.vnode(u),u}var _e,A,Ht,Yn,Ve=0,qr=[],R=N,Xn=R.__b,Zn=R.__r,Jn=R.diffed,Qn=R.__c,er=R.unmount,tr=R.__;function De(e,t){R.__h&&R.__h(A,e,Ve||t),Ve=0;var n=A.__H||(A.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function x(e){return Ve=1,at(Yr,e)}function at(e,t,n){var r=De(_e++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Yr(void 0,t),function(i){var s=r.__N?r.__N[0]:r.__[0],u=r.t(s,i);s!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=A,!A.__f)){var o=function(i,s,u){if(!r.__c.__H)return!0;var f=r.__c.__H.__.filter(function(h){return!!h.__c});if(f.every(function(h){return!h.__N}))return!l||l.call(this,i,s,u);var c=r.__c.props!==i;return f.forEach(function(h){if(h.__N){var p=h.__[0];h.__=h.__N,h.__N=void 0,p!==h.__[0]&&(c=!0)}}),l&&l.call(this,i,s,u)||c};A.__f=!0;var l=A.shouldComponentUpdate,a=A.componentWillUpdate;A.componentWillUpdate=function(i,s,u){if(this.__e){var f=l;l=void 0,o(i,s,u),l=f}a&&a.call(this,i,s,u)},A.shouldComponentUpdate=o}return r.__N||r.__}function P(e,t){var n=De(_e++,3);!R.__s&&Nn(n.__H,t)&&(n.__=e,n.u=t,A.__H.__h.push(n))}function Re(e,t){var n=De(_e++,4);!R.__s&&Nn(n.__H,t)&&(n.__=e,n.u=t,A.__h.push(n))}function k(e){return Ve=5,I(function(){return{current:e}},[])}function Sn(e,t,n){Ve=6,Re(function(){if(typeof e=="function"){var r=e(t());return function(){e(null),r&&typeof r=="function"&&r()}}if(e)return e.current=t(),function(){return e.current=null}},n==null?n:n.concat(e))}function I(e,t){var n=De(_e++,7);return Nn(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function L(e,t){return Ve=8,I(function(){return e},t)}function M(e){var t=A.context[e.__c],n=De(_e++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(A)),t.props.value):e.__}function xn(e,t){R.useDebugValue&&R.useDebugValue(t?t(e):e)}function Tl(e){var t=De(_e++,10),n=x();return t.__=e,A.componentDidCatch||(A.componentDidCatch=function(r,o){t.__&&t.__(r,o),n[1](r)}),[n[0],function(){n[1](void 0)}]}function ue(){var e=De(_e++,11);if(!e.__){for(var t=A.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function Fl(){for(var e;e=qr.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(vt),e.__H.__h.forEach(en),e.__H.__h=[]}catch(t){e.__H.__h=[],R.__e(t,e.__v)}}R.__b=function(e){A=null,Xn&&Xn(e)},R.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),tr&&tr(e,t)},R.__r=function(e){Zn&&Zn(e),_e=0;var t=(A=e.__c).__H;t&&(Ht===A?(t.__h=[],A.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(vt),t.__h.forEach(en),t.__h=[],_e=0)),Ht=A},R.diffed=function(e){Jn&&Jn(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(qr.push(t)!==1&&Yn===R.requestAnimationFrame||((Yn=R.requestAnimationFrame)||Ol)(Fl)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),Ht=A=null},R.__c=function(e,t){t.some(function(n){try{n.__h.forEach(vt),n.__h=n.__h.filter(function(r){return!r.__||en(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],R.__e(r,n.__v)}}),Qn&&Qn(e,t)},R.unmount=function(e){er&&er(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{vt(r)}catch(o){t=o}}),n.__H=void 0,t&&R.__e(t,n.__v))};var nr=typeof requestAnimationFrame=="function";function Ol(e){var t,n=function(){clearTimeout(r),nr&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,35);nr&&(t=requestAnimationFrame(n))}function vt(e){var t=A,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),A=t}function en(e){var t=A;e.__c=e.__(),A=t}function Nn(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Yr(e,t){return typeof t=="function"?t(e):t}const Al=location.hostname==="localhost"||location.hostname==="127.0.0.1"||location.hostname==="192.168.10.114",xt=e=>{const t=e.startsWith("/")?"":"/";return(Al?"http://consoledev.local":"")+t+e};function je(e){const t=e.trim();if(t==="")return null;const n=Number(t);return isNaN(n)?null:n}function Xr(){const e=[window.location.search,window.location.hash].filter(Boolean).map(t=>t.replace(/^[?#]/,"")).join("&");return Object.fromEntries(new URLSearchParams(e).entries())}function Ll(e){const t=[];let n="",r=!1;for(let o=0;o<e.length;o++){const l=e[o],a=e[o+1];l==='"'&&r&&a==='"'?(n+='"',o++):l==='"'?r=!r:l===","&&!r?(t.push(n),n=""):n+=l}return t.push(n),t}function rr(e){if(e=="")return 0;if(e.length!=6)return null;const t=atob(e),n=new ArrayBuffer(4),r=new Uint8Array(n);for(let o=0;o<4;o++)r[o]=t.charCodeAt(o);return new DataView(n).getFloat32(0,!0)}function Dl(e){e=e.replace("#","");const t=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return(t*299+n*587+r*114)/1e3>=128?"black":"white"}var Ye=(e=>(e.Assigned="Assigned",e.Actual="Actual",e))(Ye||{});const Zr=W(null);async function Rl(){try{const e=xt("api/storage-config");return await(await encryptedFetch(e,{method:"GET"})).json()}catch{return{rack_config:{}}}}async function Il(e){const t=xt("api/storage-config");return await(await encryptedFetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}function Ml({children:e}){const[t,n]=x(null),[r,o]=x(!1),l=L(async()=>{o(!0),n(await Rl()),o(!1)},[]),a=L(async i=>{o(!0);try{n(await Il(i))}catch(s){throw s}finally{o(!1)}},[]);return P(()=>{(async()=>await l())()},[]),d(Zr.Provider,{value:{storageConfig:t,setStorageConfig:n,loadingStorgeConfig:r,reloadStorageConfig:l,saveStorageConfig:a},children:e})}const Pn=()=>M(Zr),yt=async(e,t,n)=>{const r=xt(e);try{return await(await encryptedFetch(r,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json()}catch(o){throw console.log(`Error calling ${r} : ${o}`),o}},Hl=(e,t,n)=>{const r=Ll(e),o=je(r[8]),l=je(r[9]),a=je(r[10]),i=je(r[11]),s=je(r[13]),u=s?new Date(s*1e3):null,f=je(r[14]),c=f?new Date(f*1e3):null,h=r[15],p=rr(r[16]),_=rr(r[17]),g=r[18]==="y",m=r[19],v=r[20],b=r[21],w=r[22];return{id:r[0],tag_id:r[1],material_type:r[2],material_subtype:r[3],color_name:r[4],color_code:r[5],note:r[6],brand:r[7],weight_advertised:o,weight_core:l,weight_new:a,weight_current:i,weight_left:i&&l?i-l:i&&o&&a?i-(a-o):null,weight_used:a&&i?a-i:i&&o&&l?o+l-i:null,slicer_filament:r[12],slicer_filament_name:(r[12],""),added_datetime:u,encoded_datetime:c,full_unused:h,consumed_since_add:p,consumed_since_weight:_,k_setting:g,data_origin:m,tag_type:v,printer_location:null,assigned_location:b,actual_location:w}};function Jr(e){if(!e)return"";const t=e.rack?`R:${e.rack}`:null,n=e.bay?`B:${e.bay}`:null,r=e.shelf?`S:${e.shelf}`:null,o=e.position?`P:${e.position}`:null,l=e.container?`C:${e.container}`:null,a=[t,n,r,o,l].filter(s=>s!=null).join("/");return a!=""?"#"+a:""}function tn(e){if(e){const t={R:0,B:0,S:0,P:0,C:0};for(const[,r,o]of e.matchAll(/([RBSPC]):(\d+)/g))t[r]=Number(o);return{rack:t.R,bay:t.B,shelf:t.S,position:t.P,container:t.C}}else return null}/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jl=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),lr=e=>{const t=jl(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ul=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wl={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,children:o,iconNode:l,class:a="",...i})=>G("svg",{...Wl,width:String(t),height:t,stroke:e,"stroke-width":r?Number(n)*24/Number(t):n,class:["lucide",a].join(" "),...i},[...l.map(([s,u])=>G(s,u)),...ee(o)]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(e,t)=>{const n=({class:r="",children:o,...l})=>G(Bl,{...l,iconNode:t,class:Ul(`lucide-${or(lr(e))}`,`lucide-${or(e)}`,r)},o);return n.displayName=lr(e),n};/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=Ie("corner-down-left",[["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}],["path",{d:"m9 10-5 5 5 5",key:"1kshq7"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=Ie("delete",[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=Ie("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=Ie("spool",[["path",{d:"M17 13.44 4.442 17.082A2 2 0 0 0 4.982 21H19a2 2 0 0 0 .558-3.921l-1.115-.32A2 2 0 0 1 17 14.837V7.66",key:"13vns8"}],["path",{d:"m7 10.56 12.558-3.642A2 2 0 0 0 19.018 3H5a2 2 0 0 0-.558 3.921l1.115.32A2 2 0 0 1 7 9.163v7.178",key:"s8x3u0"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=Ie("square-library",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 7v10",key:"d5nglc"}],["path",{d:"M11 7v10",key:"pptsnr"}],["path",{d:"m15 7 2 10",key:"1m7qm5"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=Ie("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=Ie("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Qr(e,t){for(var n in t)e[n]=t[n];return e}function rn(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function Nt(e,t){var n=t(),r=x({t:{__:n,u:t}}),o=r[0].t,l=r[1];return Re(function(){o.__=n,o.u=t,Ut(o)&&l({t:o})},[e,n,t]),P(function(){return Ut(o)&&l({t:o}),e(function(){Ut(o)&&l({t:o})})},[e]),n}function Ut(e){var t,n,r=e.u,o=e.__;try{var l=r();return!((t=o)===(n=l)&&(t!==0||1/t==1/n)||t!=t&&n!=n)}catch{return!0}}function Cn(e){e()}function Tn(e){return e}function Fn(){return[!1,Cn]}var On=Re;function $t(e,t){this.props=e,this.context=t}function eo(e,t){function n(o){var l=this.props.ref,a=l==o.ref;return!a&&l&&(l.call?l(null):l.current=null),t?!t(this.props,o)||!a:rn(this.props,o)}function r(o){return this.shouldComponentUpdate=n,G(e,o)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}($t.prototype=new Q).isPureReactComponent=!0,$t.prototype.shouldComponentUpdate=function(e,t){return rn(this.props,e)||rn(this.state,t)};var ir=N.__b;N.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),ir&&ir(e)};var ql=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function An(e){function t(n){var r=Qr({},n);return delete r.ref,e(r,n.ref||null)}return t.$$typeof=ql,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var ar=function(e,t){return e==null?null:ee(ee(e).map(t))},to={map:ar,forEach:ar,count:function(e){return e?ee(e).length:0},only:function(e){var t=ee(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:ee},Yl=N.__e;N.__e=function(e,t,n,r){if(e.then){for(var o,l=t;l=l.__;)if((o=l.__c)&&o.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t)}Yl(e,t,n,r)};var sr=N.unmount;function no(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=Qr({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return no(r,t,n)})),e}function ro(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return ro(r,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function et(){this.__u=0,this.o=null,this.__b=null}function oo(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function lo(e){var t,n,r;function o(l){if(t||(t=e()).then(function(a){n=a.default||a},function(a){r=a}),r)throw r;if(!n)throw t;return G(n,l)}return o.displayName="Lazy",o.__f=!0,o}function Ue(){this.i=null,this.l=null}N.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),sr&&sr(e)},(et.prototype=new Q).__c=function(e,t){var n=t.__c,r=this;r.o==null&&(r.o=[]),r.o.push(n);var o=oo(r.__v),l=!1,a=function(){l||(l=!0,n.__R=null,o?o(i):i())};n.__R=a;var i=function(){if(!--r.__u){if(r.state.__a){var s=r.state.__a;r.__v.__k[0]=ro(s,s.__c.__P,s.__c.__O)}var u;for(r.setState({__a:r.__b=null});u=r.o.pop();)u.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(a,a)},et.prototype.componentWillUnmount=function(){this.o=[]},et.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=no(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__a&&G(C,null,e.fallback);return o&&(o.__u&=-33),[G(C,null,t.__a?null:e.children),o]};var ur=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function Xl(e){return this.getChildContext=function(){return e.context},e.children}function Zl(e){var t=this,n=e.h;if(t.componentWillUnmount=function(){Ke(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),!t.v){for(var r=t.__v;r!==null&&!r.__m&&r.__!==null;)r=r.__;t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],__k:{__m:r.__m},contains:function(){return!0},insertBefore:function(o,l){this.childNodes.push(o),t.h.insertBefore(o,l)},removeChild:function(o){this.childNodes.splice(this.childNodes.indexOf(o)>>>1,1),t.h.removeChild(o)}}}Ke(G(Xl,{context:t.context},e.__v),t.v)}function Ln(e,t){var n=G(Zl,{__v:e,h:t});return n.containerInfo=t,n}(Ue.prototype=new Q).__a=function(e){var t=this,n=oo(t.__v),r=t.l.get(e);return r[0]++,function(o){var l=function(){t.props.revealOrder?(r.push(o),ur(t,e,r)):o()};n?n(l):l()}},Ue.prototype.render=function(e){this.i=null,this.l=new Map;var t=ee(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},Ue.prototype.componentDidUpdate=Ue.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){ur(e,n,t)})};var io=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Jl=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Ql=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,ei=/[A-Z0-9]/g,ti=typeof document<"u",ni=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function ao(e,t,n){return t.__k==null&&(t.textContent=""),Ke(e,t),typeof n=="function"&&n(),e?e.__c:null}function so(e,t,n){return Gr(e,t),typeof n=="function"&&n(),e?e.__c:null}Q.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(Q.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var cr=N.event;function ri(){}function oi(){return this.cancelBubble}function li(){return this.defaultPrevented}N.event=function(e){return cr&&(e=cr(e)),e.persist=ri,e.isPropagationStopped=oi,e.isDefaultPrevented=li,e.nativeEvent=e};var Dn,ii={enumerable:!1,configurable:!0,get:function(){return this.class}},dr=N.vnode;N.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,r=t.type,o={},l=r.indexOf("-")===-1;for(var a in n){var i=n[a];if(!(a==="value"&&"defaultValue"in n&&i==null||ti&&a==="children"&&r==="noscript"||a==="class"||a==="className")){var s=a.toLowerCase();a==="defaultValue"&&"value"in n&&n.value==null?a="value":a==="download"&&i===!0?i="":s==="translate"&&i==="no"?i=!1:s[0]==="o"&&s[1]==="n"?s==="ondoubleclick"?a="ondblclick":s!=="onchange"||r!=="input"&&r!=="textarea"||ni(n.type)?s==="onfocus"?a="onfocusin":s==="onblur"?a="onfocusout":Ql.test(a)&&(a=s):s=a="oninput":l&&Jl.test(a)?a=a.replace(ei,"-$&").toLowerCase():i===null&&(i=void 0),s==="oninput"&&o[a=s]&&(a="oninputCapture"),o[a]=i}}r=="select"&&o.multiple&&Array.isArray(o.value)&&(o.value=ee(n.children).forEach(function(u){u.props.selected=o.value.indexOf(u.props.value)!=-1})),r=="select"&&o.defaultValue!=null&&(o.value=ee(n.children).forEach(function(u){u.props.selected=o.multiple?o.defaultValue.indexOf(u.props.value)!=-1:o.defaultValue==u.props.value})),n.class&&!n.className?(o.class=n.class,Object.defineProperty(o,"className",ii)):(n.className&&!n.class||n.class&&n.className)&&(o.class=o.className=n.className),t.props=o}(e),e.$$typeof=io,dr&&dr(e)};var fr=N.__r;N.__r=function(e){fr&&fr(e),Dn=e.__c};var pr=N.diffed;N.diffed=function(e){pr&&pr(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value),Dn=null};var uo={ReactCurrentDispatcher:{current:{readContext:function(e){return Dn.__n[e.__c].props.value},useCallback:L,useContext:M,useDebugValue:xn,useDeferredValue:Tn,useEffect:P,useId:ue,useImperativeHandle:Sn,useInsertionEffect:On,useLayoutEffect:Re,useMemo:I,useReducer:at,useRef:k,useState:x,useSyncExternalStore:Nt,useTransition:Fn}}},ai="18.3.1";function co(e){return G.bind(null,e)}function Ge(e){return!!e&&e.$$typeof===io}function fo(e){return Ge(e)&&e.type===C}function po(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function Rn(e){return Ge(e)?zr.apply(null,arguments):e}function ho(e){return!!e.__k&&(Ke(null,e),!0)}function _o(e){return e&&(e.base||e.nodeType===1&&e)||null}var mo=function(e,t){return e(t)},vo=function(e,t){return e(t)},bo=C,go=Ge,E={useState:x,useId:ue,useReducer:at,useEffect:P,useLayoutEffect:Re,useInsertionEffect:On,useTransition:Fn,useDeferredValue:Tn,useSyncExternalStore:Nt,startTransition:Cn,useRef:k,useImperativeHandle:Sn,useMemo:I,useCallback:L,useContext:M,useDebugValue:xn,version:"18.3.1",Children:to,render:ao,hydrate:so,unmountComponentAtNode:ho,createPortal:Ln,createElement:G,createContext:W,createFactory:co,cloneElement:Rn,createRef:wn,Fragment:C,isValidElement:Ge,isElement:go,isFragment:fo,isMemo:po,findDOMNode:_o,Component:Q,PureComponent:$t,memo:eo,forwardRef:An,flushSync:vo,unstable_batchedUpdates:mo,StrictMode:bo,Suspense:et,SuspenseList:Ue,lazy:lo,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:uo};const on=Object.freeze(Object.defineProperty({__proto__:null,Children:to,Component:Q,Fragment:C,PureComponent:$t,StrictMode:bo,Suspense:et,SuspenseList:Ue,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:uo,cloneElement:Rn,createContext:W,createElement:G,createFactory:co,createPortal:Ln,createRef:wn,default:E,findDOMNode:_o,flushSync:vo,forwardRef:An,hydrate:so,isElement:go,isFragment:fo,isMemo:po,isValidElement:Ge,lazy:lo,memo:eo,render:ao,startTransition:Cn,unmountComponentAtNode:ho,unstable_batchedUpdates:mo,useCallback:L,useContext:M,useDebugValue:xn,useDeferredValue:Tn,useEffect:P,useErrorBoundary:Tl,useId:ue,useImperativeHandle:Sn,useInsertionEffect:On,useLayoutEffect:Re,useMemo:I,useReducer:at,useRef:k,useState:x,useSyncExternalStore:Nt,useTransition:Fn,version:ai},Symbol.toStringTag,{value:"Module"})),yo=typeof document<"u"?E.useLayoutEffect:()=>{};function si(e){const t=k(null);return yo(()=>{t.current=e},[e]),L((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const ke=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},Te=e=>e&&"window"in e&&e.window===e?e:ke(e).defaultView||window;function ui(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function ci(e){return ui(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let di=!1;function In(){return di}function $o(e,t){if(!In())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:ci(n)?n=n.host:n=n.parentNode}return!1}const ln=(e=document)=>{var t;if(!In())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function wo(e){return In()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function fi(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function pi(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Eo(e){let t=null;return()=>(t==null&&(t=e()),t)}const hi=Eo(function(){return pi(/^Mac/i)}),_i=Eo(function(){return fi(/Android/i)});function ko(){let e=k(new Map),t=L((o,l,a,i)=>{let s=i!=null&&i.once?(...u)=>{e.current.delete(a),a(...u)}:a;e.current.set(a,{type:l,eventTarget:o,fn:s,options:i}),o.addEventListener(l,s,i)},[]),n=L((o,l,a,i)=>{var s;let u=((s=e.current.get(a))===null||s===void 0?void 0:s.fn)||a;o.removeEventListener(l,u,i),e.current.delete(a)},[]),r=L(()=>{e.current.forEach((o,l)=>{n(o.eventTarget,o.type,l,o.options)})},[n]);return P(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function mi(e){return e.mozInputSource===0&&e.isTrusted?!0:_i()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function So(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function vi(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function xo(e){let t=k({isFocused:!1,observer:null});yo(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=si(r=>{e==null||e(r)});return L(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let o=r.target,l=a=>{if(t.current.isFocused=!1,o.disabled){let i=So(a);n(i)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",l,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&o.disabled){var a;(a=t.current.observer)===null||a===void 0||a.disconnect();let i=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:i})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:i}))}}),t.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let bi=!1,st=null,an=new Set,tt=new Map,Le=!1,sn=!1;const gi={Tab:!0,Escape:!0};function Mn(e,t){for(let n of an)n(e,t)}function yi(e){return!(e.metaKey||!hi()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function wt(e){Le=!0,yi(e)&&(st="keyboard",Mn("keyboard",e))}function We(e){st="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Le=!0,Mn("pointer",e))}function No(e){mi(e)&&(Le=!0,st="virtual")}function Po(e){e.target===window||e.target===document||bi||!e.isTrusted||(!Le&&!sn&&(st="virtual",Mn("virtual",e)),Le=!1,sn=!1)}function Co(){Le=!1,sn=!0}function un(e){if(typeof window>"u"||typeof document>"u"||tt.get(Te(e)))return;const t=Te(e),n=ke(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Le=!0,r.apply(this,arguments)},n.addEventListener("keydown",wt,!0),n.addEventListener("keyup",wt,!0),n.addEventListener("click",No,!0),t.addEventListener("focus",Po,!0),t.addEventListener("blur",Co,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",We,!0),n.addEventListener("pointermove",We,!0),n.addEventListener("pointerup",We,!0)),t.addEventListener("beforeunload",()=>{To(e)},{once:!0}),tt.set(t,{focus:r})}const To=(e,t)=>{const n=Te(e),r=ke(e);t&&r.removeEventListener("DOMContentLoaded",t),tt.has(n)&&(n.HTMLElement.prototype.focus=tt.get(n).focus,r.removeEventListener("keydown",wt,!0),r.removeEventListener("keyup",wt,!0),r.removeEventListener("click",No,!0),n.removeEventListener("focus",Po,!0),n.removeEventListener("blur",Co,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",We,!0),r.removeEventListener("pointermove",We,!0),r.removeEventListener("pointerup",We,!0)),tt.delete(n))};function $i(e){const t=ke(e);let n;return t.readyState!=="loading"?un(e):(n=()=>{un(e)},t.addEventListener("DOMContentLoaded",n)),()=>To(e,n)}typeof document<"u"&&$i();function Fo(){return st!=="pointer"}const wi=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Ei(e,t,n){let r=ke(n==null?void 0:n.target);const o=typeof window<"u"?Te(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,l=typeof window<"u"?Te(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,a=typeof window<"u"?Te(n==null?void 0:n.target).HTMLElement:HTMLElement,i=typeof window<"u"?Te(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof o&&!wi.has(r.activeElement.type)||r.activeElement instanceof l||r.activeElement instanceof a&&r.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof i&&!gi[n.key])}function ki(e,t,n){un(),P(()=>{let r=(o,l)=>{Ei(!!(n!=null&&n.isTextInput),o,l)&&e(Fo())};return an.add(r),()=>{an.delete(r)}},t)}function Si(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:o}=e;const l=L(s=>{if(s.target===s.currentTarget)return r&&r(s),o&&o(!1),!0},[r,o]),a=xo(l),i=L(s=>{const u=ke(s.target),f=u?ln(u):ln();s.target===s.currentTarget&&f===wo(s.nativeEvent)&&(n&&n(s),o&&o(!0),a(s))},[o,n,a]);return{focusProps:{onFocus:!t&&(n||o||r)?i:void 0,onBlur:!t&&(r||o)?l:void 0}}}function xi(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:o}=e,l=k({isFocusWithin:!1}),{addGlobalListener:a,removeAllGlobalListeners:i}=ko(),s=L(c=>{c.currentTarget.contains(c.target)&&l.current.isFocusWithin&&!c.currentTarget.contains(c.relatedTarget)&&(l.current.isFocusWithin=!1,i(),n&&n(c),o&&o(!1))},[n,o,l,i]),u=xo(s),f=L(c=>{if(!c.currentTarget.contains(c.target))return;const h=ke(c.target),p=ln(h);if(!l.current.isFocusWithin&&p===wo(c.nativeEvent)){r&&r(c),o&&o(!0),l.current.isFocusWithin=!0,u(c);let _=c.currentTarget;a(h,"focus",g=>{if(l.current.isFocusWithin&&!$o(_,g.target)){let m=new h.defaultView.FocusEvent("blur",{relatedTarget:g.target});vi(m,_);let v=So(m);s(v)}},{capture:!0})}},[r,o,u,a,s]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:f,onBlur:s}}}let cn=!1,Wt=0;function Ni(){cn=!0,setTimeout(()=>{cn=!1},50)}function hr(e){e.pointerType==="touch"&&Ni()}function Pi(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",hr),Wt++,()=>{Wt--,!(Wt>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",hr)}}function Oo(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:o}=e,[l,a]=x(!1),i=k({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;P(Pi,[]);let{addGlobalListener:s,removeAllGlobalListeners:u}=ko(),{hoverProps:f,triggerHoverEnd:c}=I(()=>{let h=(g,m)=>{if(i.pointerType=m,o||m==="touch"||i.isHovered||!g.currentTarget.contains(g.target))return;i.isHovered=!0;let v=g.currentTarget;i.target=v,s(ke(g.target),"pointerover",b=>{i.isHovered&&i.target&&!$o(i.target,b.target)&&p(b,b.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:v,pointerType:m}),n&&n(!0),a(!0)},p=(g,m)=>{let v=i.target;i.pointerType="",i.target=null,!(m==="touch"||!i.isHovered||!v)&&(i.isHovered=!1,u(),r&&r({type:"hoverend",target:v,pointerType:m}),n&&n(!1),a(!1))},_={};return typeof PointerEvent<"u"&&(_.onPointerEnter=g=>{cn&&g.pointerType==="mouse"||h(g,g.pointerType)},_.onPointerLeave=g=>{!o&&g.currentTarget.contains(g.target)&&p(g,g.pointerType)}),{hoverProps:_,triggerHoverEnd:p}},[t,n,r,o,i,s,u]);return P(()=>{o&&c({currentTarget:i.target},i.pointerType)},[o]),{hoverProps:f,isHovered:l}}function Ao(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,o=k({isFocused:!1,isFocusVisible:t||Fo()}),[l,a]=x(!1),[i,s]=x(()=>o.current.isFocused&&o.current.isFocusVisible),u=L(()=>s(o.current.isFocused&&o.current.isFocusVisible),[]),f=L(p=>{o.current.isFocused=p,a(p),u()},[u]);ki(p=>{o.current.isFocusVisible=p,u()},[],{isTextInput:n});let{focusProps:c}=Si({isDisabled:r,onFocusChange:f}),{focusWithinProps:h}=xi({isDisabled:!r,onFocusWithinChange:f});return{isFocused:l,isFocusVisible:i,focusProps:r?h:c}}var Ci=Object.defineProperty,Ti=(e,t,n)=>t in e?Ci(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Bt=(e,t,n)=>(Ti(e,typeof t!="symbol"?t+"":t,n),n);let Fi=class{constructor(){Bt(this,"current",this.detect()),Bt(this,"handoffState","pending"),Bt(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Oe=new Fi;function ut(e){var t,n;return Oe.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(n=(t=e.current)==null?void 0:t.ownerDocument)!=null?n:document:null:document}function Pt(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function ve(){let e=[],t={addEventListener(n,r,o,l){return n.addEventListener(r,o,l),t.add(()=>n.removeEventListener(r,o,l))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Pt(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,o){let l=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:o}),this.add(()=>{Object.assign(n.style,{[r]:l})})},group(n){let r=ve();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let o of e.splice(r,1))o()}},dispose(){for(let n of e.splice(0))n()}};return t}function Ct(){let[e]=x(ve);return P(()=>()=>e.dispose(),[e]),e}let B=(e,t)=>{Oe.isServer?P(e,t):Re(e,t)};function Me(e){let t=k(e);return B(()=>{t.current=e},[e]),t}let T=function(e){let t=Me(e);return E.useCallback((...n)=>t.current(...n),[t])};function Oi(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function Ai(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function Li({disabled:e=!1}={}){let t=k(null),[n,r]=x(!1),o=Ct(),l=T(()=>{t.current=null,r(!1),o.dispose()}),a=T(i=>{if(o.dispose(),t.current===null){t.current=i.currentTarget,r(!0);{let s=ut(i.currentTarget);o.addEventListener(s,"pointerup",l,!1),o.addEventListener(s,"pointermove",u=>{if(t.current){let f=Oi(u);r(Ai(f,t.current.getBoundingClientRect()))}},!1),o.addEventListener(s,"pointercancel",l,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:a,onPointerUp:l,onClick:l}}}let Di=W(void 0);function Tt(){return M(Di)}function dn(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function me(e,t,...n){if(e in t){let o=t[e];return typeof o=="function"?o(...n):o}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,me),r}var Et=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Et||{}),$e=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))($e||{});function z(){let e=Ii();return L(t=>Ri({mergeRefs:e,...t}),[e])}function Ri({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:o,visible:l=!0,name:a,mergeRefs:i}){i=i??Mi;let s=Lo(t,e);if(l)return ht(s,n,r,a,i);let u=o??0;if(u&2){let{static:f=!1,...c}=s;if(f)return ht(c,n,r,a,i)}if(u&1){let{unmount:f=!0,...c}=s;return me(f?0:1,{0(){return null},1(){return ht({...c,hidden:!0,style:{display:"none"}},n,r,a,i)}})}return ht(s,n,r,a,i)}function ht(e,t={},n,r,o){let{as:l=n,children:a,refName:i="ref",...s}=Kt(e,["unmount","static"]),u=e.ref!==void 0?{[i]:e.ref}:{},f=typeof a=="function"?a(t):a;"className"in s&&s.className&&typeof s.className=="function"&&(s.className=s.className(t)),s["aria-labelledby"]&&s["aria-labelledby"]===s.id&&(s["aria-labelledby"]=void 0);let c={};if(t){let h=!1,p=[];for(let[_,g]of Object.entries(t))typeof g=="boolean"&&(h=!0),g===!0&&p.push(_.replace(/([A-Z])/g,m=>`-${m.toLowerCase()}`));if(h){c["data-headlessui-state"]=p.join(" ");for(let _ of p)c[`data-${_}`]=""}}if(l===C&&(Object.keys(Ne(s)).length>0||Object.keys(Ne(c)).length>0))if(!Ge(f)||Array.isArray(f)&&f.length>1){if(Object.keys(Ne(s)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ne(s)).concat(Object.keys(Ne(c))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=f.props,p=h==null?void 0:h.className,_=typeof p=="function"?(...v)=>dn(p(...v),s.className):dn(p,s.className),g=_?{className:_}:{},m=Lo(f.props,Ne(Kt(s,["ref"])));for(let v in c)v in m&&delete c[v];return Rn(f,Object.assign({},m,c,u,{ref:o(Hi(f),u.ref)},g))}return G(l,Object.assign({},Kt(s,["ref"]),l!==C&&u,l!==C&&c),f)}function Ii(){let e=k([]),t=L(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function Mi(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function Lo(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[o=>{var l;return(l=o==null?void 0:o.preventDefault)==null?void 0:l.call(o)}]);for(let r in n)Object.assign(t,{[r](o,...l){let a=n[r];for(let i of a){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;i(o,...l)}}});return t}function Do(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];for(let r in n)Object.assign(t,{[r](...o){let l=n[r];for(let a of l)a==null||a(...o)}});return t}function K(e){var t;return Object.assign(An(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ne(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Kt(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function Hi(e){return E.version.split(".")[0]>="19"?e.props.ref:e.ref}let ji="button";function Ui(e,t){var n;let r=Tt(),{disabled:o=r||!1,autoFocus:l=!1,...a}=e,{isFocusVisible:i,focusProps:s}=Ao({autoFocus:l}),{isHovered:u,hoverProps:f}=Oo({isDisabled:o}),{pressed:c,pressProps:h}=Li({disabled:o}),p=Do({ref:t,type:(n=a.type)!=null?n:"button",disabled:o||void 0,autoFocus:l},s,f,h),_=I(()=>({disabled:o,hover:u,focus:i,active:c,autofocus:l}),[o,u,i,c,l]);return z()({ourProps:p,theirProps:a,slot:_,defaultTag:ji,name:"Button"})}let Vt=K(Ui),Wi="span";var kt=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(kt||{});function Bi(e,t){var n;let{features:r=1,...o}=e,l={ref:t,"aria-hidden":(r&2)===2?!0:(n=o["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return z()({ourProps:l,theirProps:o,slot:{},defaultTag:Wi,name:"Hidden"})}let fn=K(Bi),Ki=W(void 0);function Ro(){return M(Ki)}function Io(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function pe(e){return Io(e)&&"tagName"in e}function Ee(e){return pe(e)&&"accessKey"in e}function we(e){return pe(e)&&"tabIndex"in e}function Vi(e){return pe(e)&&"style"in e}function Gi(e){return Ee(e)&&e.nodeName==="IFRAME"}function Mo(e){return Ee(e)&&e.nodeName==="INPUT"}function _r(e){return Ee(e)&&e.nodeName==="LABEL"}function zi(e){return pe(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}let Ho=Symbol();function qi(e,t=!0){return Object.assign(e,{[Ho]:t})}function oe(...e){let t=k(e);P(()=>{t.current=e},[e]);let n=T(r=>{for(let o of t.current)o!=null&&(typeof o=="function"?o(r):o.current=r)});return e.every(r=>r==null||(r==null?void 0:r[Ho]))?void 0:n}let Ft=W(null);Ft.displayName="DescriptionContext";function jo(){let e=M(Ft);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,jo),t}return e}function Yi(){var e,t;return(t=(e=M(Ft))==null?void 0:e.value)!=null?t:void 0}function Xi(){let[e,t]=x([]);return[e.length>0?e.join(" "):void 0,I(()=>function(n){let r=T(l=>(t(a=>[...a,l]),()=>t(a=>{let i=a.slice(),s=i.indexOf(l);return s!==-1&&i.splice(s,1),i}))),o=I(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return E.createElement(Ft.Provider,{value:o},n.children)},[t])]}let Zi="p";function Ji(e,t){let n=ue(),r=Tt(),{id:o=`headlessui-description-${n}`,...l}=e,a=jo(),i=oe(t);B(()=>a.register(o),[o,a.register]);let s=r||!1,u=I(()=>({...a.slot,disabled:s}),[a.slot,s]),f={ref:i,...a.props,id:o};return z()({ourProps:f,theirProps:l,slot:u,defaultTag:Zi,name:a.name||"Description"})}let Qi=K(Ji),ea=Object.assign(Qi,{});var Uo=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Uo||{});let Hn=W(null);Hn.displayName="LabelContext";function Wo(){let e=M(Hn);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Wo),t}return e}function ta(e){var t,n,r;let o=(n=(t=M(Hn))==null?void 0:t.value)!=null?n:void 0;return((r=void 0)!=null?r:0)>0?[o,...e].filter(Boolean).join(" "):o}let na="label";function ra(e,t){var n;let r=ue(),o=Wo(),l=Ro(),a=Tt(),{id:i=`headlessui-label-${r}`,htmlFor:s=l??((n=o.props)==null?void 0:n.htmlFor),passive:u=!1,...f}=e,c=oe(t);B(()=>o.register(i),[i,o.register]);let h=T(m=>{let v=m.currentTarget;if(!(m.target!==m.currentTarget&&zi(m.target))&&(_r(v)&&m.preventDefault(),o.props&&"onClick"in o.props&&typeof o.props.onClick=="function"&&o.props.onClick(m),_r(v))){let b=document.getElementById(v.htmlFor);if(b){let w=b.getAttribute("disabled");if(w==="true"||w==="")return;let $=b.getAttribute("aria-disabled");if($==="true"||$==="")return;(Mo(b)&&(b.type==="file"||b.type==="radio"||b.type==="checkbox")||b.role==="radio"||b.role==="checkbox"||b.role==="switch")&&b.click(),b.focus({preventScroll:!0})}}}),p=a||!1,_=I(()=>({...o.slot,disabled:p}),[o.slot,p]),g={ref:c,...o.props,id:i,htmlFor:s,onClick:h};return u&&("onClick"in g&&(delete g.htmlFor,delete g.onClick),"onClick"in f&&delete f.onClick),z()({ourProps:g,theirProps:f,slot:_,defaultTag:s?na:"div",name:o.name||"Label"})}let oa=K(ra);Object.assign(oa,{});let la=W(()=>{});function ia({value:e,children:t}){return E.createElement(la.Provider,{value:e},t)}let Bo=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var aa=Object.defineProperty,sa=(e,t,n)=>t in e?aa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ua=(e,t,n)=>(sa(e,t+"",n),n),Ko=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},J=(e,t,n)=>(Ko(e,t,"read from private field"),n?n.call(e):t.get(e)),Gt=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},mr=(e,t,n,r)=>(Ko(e,t,"write to private field"),t.set(e,n),n),ae,Xe,Ze;let ca=class{constructor(t){Gt(this,ae,{}),Gt(this,Xe,new Bo(()=>new Set)),Gt(this,Ze,new Set),ua(this,"disposables",ve()),mr(this,ae,t)}dispose(){this.disposables.dispose()}get state(){return J(this,ae)}subscribe(t,n){let r={selector:t,callback:n,current:t(J(this,ae))};return J(this,Ze).add(r),this.disposables.add(()=>{J(this,Ze).delete(r)})}on(t,n){return J(this,Xe).get(t).add(n),this.disposables.add(()=>{J(this,Xe).get(t).delete(n)})}send(t){let n=this.reduce(J(this,ae),t);if(n!==J(this,ae)){mr(this,ae,n);for(let r of J(this,Ze)){let o=r.selector(J(this,ae));Vo(r.current,o)||(r.current=o,r.callback(o))}for(let r of J(this,Xe).get(t.type))r(J(this,ae),t)}}};ae=new WeakMap,Xe=new WeakMap,Ze=new WeakMap;function Vo(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:zt(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:zt(e.entries(),t.entries()):vr(e)&&vr(t)?zt(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function zt(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function vr(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var da=Object.defineProperty,fa=(e,t,n)=>t in e?da(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,br=(e,t,n)=>(fa(e,typeof t!="symbol"?t+"":t,n),n),pa=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(pa||{});let ha={0(e,t){let n=t.id,r=e.stack,o=e.stack.indexOf(n);if(o!==-1){let l=e.stack.slice();return l.splice(o,1),l.push(n),r=l,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let o=e.stack.slice();return o.splice(r,1),{...e,stack:o}}},_a=class Go extends ca{constructor(){super(...arguments),br(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),br(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new Go({stack:[]})}reduce(t,n){return me(n.type,ha,t,n)}};const zo=new Bo(()=>_a.new());function ma(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var qt={exports:{}},Yt={};const va=ma(on);/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gr;function ba(){if(gr)return Yt;gr=1;var e=va;function t(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,o=e.useRef,l=e.useEffect,a=e.useMemo,i=e.useDebugValue;return Yt.useSyncExternalStoreWithSelector=function(s,u,f,c,h){var p=o(null);if(p.current===null){var _={hasValue:!1,value:null};p.current=_}else _=p.current;p=a(function(){function m(F){if(!v){if(v=!0,b=F,F=c(F),h!==void 0&&_.hasValue){var O=_.value;if(h(O,F))return w=O}return w=F}if(O=w,n(b,F))return O;var H=c(F);return h!==void 0&&h(O,H)?(b=F,O):(b=F,w=H)}var v=!1,b,w,$=f===void 0?null:f;return[function(){return m(u())},$===null?void 0:function(){return m($())}]},[u,f,c,h]);var g=r(s,p[0],p[1]);return l(function(){_.hasValue=!0,_.value=g},[g]),i(g),g},Yt}var yr;function ga(){return yr||(yr=1,qt.exports=ba()),qt.exports}var ya=ga();function qo(e,t,n=Vo){return ya.useSyncExternalStoreWithSelector(T(r=>e.subscribe($a,r)),T(()=>e.state),T(()=>e.state),T(t),n)}function $a(e){return e}function ct(e,t){let n=ue(),r=zo.get(t),[o,l]=qo(r,L(a=>[r.selectors.isTop(a,n),r.selectors.inStack(a,n)],[r,n]));return B(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?l?o:!0:!1}let pn=new Map,nt=new Map;function $r(e){var t;let n=(t=nt.get(e))!=null?t:0;return nt.set(e,n+1),n!==0?()=>wr(e):(pn.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>wr(e))}function wr(e){var t;let n=(t=nt.get(e))!=null?t:1;if(n===1?nt.delete(e):nt.set(e,n-1),n!==1)return;let r=pn.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,pn.delete(e))}function wa(e,{allowed:t,disallowed:n}={}){let r=ct(e,"inert-others");B(()=>{var o,l;if(!r)return;let a=ve();for(let s of(o=n==null?void 0:n())!=null?o:[])s&&a.add($r(s));let i=(l=t==null?void 0:t())!=null?l:[];for(let s of i){if(!s)continue;let u=ut(s);if(!u)continue;let f=s.parentElement;for(;f&&f!==u.body;){for(let c of f.children)i.some(h=>c.contains(h))||a.add($r(c));f=f.parentElement}}return a.dispose},[r,t,n])}function Ea(e,t,n){let r=Me(o=>{let l=o.getBoundingClientRect();l.x===0&&l.y===0&&l.width===0&&l.height===0&&n()});P(()=>{if(!e)return;let o=t===null?null:Ee(t)?t:t.current;if(!o)return;let l=ve();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>r.current(o));a.observe(o),l.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>r.current(o));a.observe(o),l.add(()=>a.disconnect())}return()=>l.dispose()},[t,r,e])}let St=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),ka=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var fe=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(fe||{}),hn=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(hn||{}),Sa=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Sa||{});function xa(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(St)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function Na(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(ka)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Yo=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Yo||{});function Pa(e,t=0){var n;return e===((n=ut(e))==null?void 0:n.body)?!1:me(t,{0(){return e.matches(St)},1(){let r=e;for(;r!==null;){if(r.matches(St))return!0;r=r.parentElement}return!1}})}var Ca=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Ca||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function he(e){e==null||e.focus({preventScroll:!0})}let Ta=["textarea","input"].join(",");function Fa(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Ta))!=null?n:!1}function Oa(e,t=n=>n){return e.slice().sort((n,r)=>{let o=t(n),l=t(r);if(o===null||l===null)return 0;let a=o.compareDocumentPosition(l);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function rt(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:o=[]}={}){let l=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?n?Oa(e):e:t&64?Na(e):xa(e);o.length>0&&a.length>1&&(a=a.filter(p=>!o.some(_=>_!=null&&"current"in _?(_==null?void 0:_.current)===p:_===p))),r=r??l.activeElement;let i=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),s=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(r))-1;if(t&4)return Math.max(0,a.indexOf(r))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},f=0,c=a.length,h;do{if(f>=c||f+c<=0)return 0;let p=s+f;if(t&16)p=(p+c)%c;else{if(p<0)return 3;if(p>=c)return 1}h=a[p],h==null||h.focus(u),f+=i}while(h!==l.activeElement);return t&6&&Fa(h)&&h.select(),2}function Xo(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Aa(){return/Android/gi.test(window.navigator.userAgent)}function Er(){return Xo()||Aa()}function _t(e,t,n,r){let o=Me(n);P(()=>{if(!e)return;function l(a){o.current(a)}return document.addEventListener(t,l,r),()=>document.removeEventListener(t,l,r)},[e,t,r])}function Zo(e,t,n,r){let o=Me(n);P(()=>{if(!e)return;function l(a){o.current(a)}return window.addEventListener(t,l,r),()=>window.removeEventListener(t,l,r)},[e,t,r])}const kr=30;function La(e,t,n){let r=Me(n),o=L(function(i,s){if(i.defaultPrevented)return;let u=s(i);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let f=function c(h){return typeof h=="function"?c(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let c of f)if(c!==null&&(c.contains(u)||i.composed&&i.composedPath().includes(c)))return;return!Pa(u,Yo.Loose)&&u.tabIndex!==-1&&i.preventDefault(),r.current(i,u)},[r,t]),l=k(null);_t(e,"pointerdown",i=>{var s,u;Er()||(l.current=((u=(s=i.composedPath)==null?void 0:s.call(i))==null?void 0:u[0])||i.target)},!0),_t(e,"pointerup",i=>{if(Er()||!l.current)return;let s=l.current;return l.current=null,o(i,()=>s)},!0);let a=k({x:0,y:0});_t(e,"touchstart",i=>{a.current.x=i.touches[0].clientX,a.current.y=i.touches[0].clientY},!0),_t(e,"touchend",i=>{let s={x:i.changedTouches[0].clientX,y:i.changedTouches[0].clientY};if(!(Math.abs(s.x-a.current.x)>=kr||Math.abs(s.y-a.current.y)>=kr))return o(i,()=>we(i.target)?i.target:null)},!0),Zo(e,"blur",i=>o(i,()=>Gi(window.document.activeElement)?window.document.activeElement:null),!0)}function Ot(...e){return I(()=>ut(...e),[...e])}function Jo(e,t,n,r){let o=Me(n);P(()=>{e=e??window;function l(a){o.current(a)}return e.addEventListener(t,l,r),()=>e.removeEventListener(t,l,r)},[e,t,r])}function Da(e){return Nt(e.subscribe,e.getSnapshot,e.getSnapshot)}function Ra(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(o){return r.add(o),()=>r.delete(o)},dispatch(o,...l){let a=t[o].call(n,...l);a&&(n=a,r.forEach(i=>i()))}}}function Ia(){let e;return{before({doc:t}){var n;let r=t.documentElement,o=(n=t.defaultView)!=null?n:window;e=Math.max(0,o.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,o=Math.max(0,r.clientWidth-r.offsetWidth),l=Math.max(0,e-o);n.style(r,"paddingRight",`${l}px`)}}}function Ma(){return Xo()?{before({doc:e,d:t,meta:n}){function r(o){return n.containers.flatMap(l=>l()).some(l=>l.contains(o))}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let i=ve();i.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>i.dispose()))}let l=(o=window.scrollY)!=null?o:window.pageYOffset,a=null;t.addEventListener(e,"click",i=>{if(we(i.target))try{let s=i.target.closest("a");if(!s)return;let{hash:u}=new URL(s.href),f=e.querySelector(u);we(f)&&!r(f)&&(a=f)}catch{}},!0),t.addEventListener(e,"touchstart",i=>{if(we(i.target)&&Vi(i.target))if(r(i.target)){let s=i.target;for(;s.parentElement&&r(s.parentElement);)s=s.parentElement;t.style(s,"overscrollBehavior","contain")}else t.style(i.target,"touchAction","none")}),t.addEventListener(e,"touchmove",i=>{if(we(i.target)){if(Mo(i.target))return;if(r(i.target)){let s=i.target;for(;s.parentElement&&s.dataset.headlessuiPortal!==""&&!(s.scrollHeight>s.clientHeight||s.scrollWidth>s.clientWidth);)s=s.parentElement;s.dataset.headlessuiPortal===""&&i.preventDefault()}else i.preventDefault()}},{passive:!1}),t.add(()=>{var i;let s=(i=window.scrollY)!=null?i:window.pageYOffset;l!==s&&window.scrollTo(0,l),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function Ha(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function ja(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Fe=Ra(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:ve(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:ja(n)},o=[Ma(),Ia(),Ha()];o.forEach(({before:l})=>l==null?void 0:l(r)),o.forEach(({after:l})=>l==null?void 0:l(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Fe.subscribe(()=>{let e=Fe.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",o=n.count!==0;(o&&!r||!o&&r)&&Fe.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Fe.dispatch("TEARDOWN",n)}});function Ua(e,t,n=()=>({containers:[]})){let r=Da(Fe),o=t?r.get(t):void 0,l=o?o.count>0:!1;return B(()=>{if(!(!t||!e))return Fe.dispatch("PUSH",t,n),()=>Fe.dispatch("POP",t,n)},[e,t]),l}function Wa(e,t,n=()=>[document.body]){let r=ct(e,"scroll-lock");Ua(r,t,o=>{var l;return{containers:[...(l=o.containers)!=null?l:[],n]}})}function Ba(e=0){let[t,n]=x(e),r=L(s=>n(s),[t]),o=L(s=>n(u=>u|s),[t]),l=L(s=>(t&s)===s,[t]),a=L(s=>n(u=>u&~s),[n]),i=L(s=>n(u=>u^s),[n]);return{flags:t,setFlag:r,addFlag:o,hasFlag:l,removeFlag:a,toggleFlag:i}}var Ka={},Sr,xr;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((Sr=process==null?void 0:Ka)==null?void 0:Sr.NODE_ENV)==="test"&&typeof((xr=Element==null?void 0:Element.prototype)==null?void 0:xr.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Va=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(Va||{});function Ga(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function za(e,t,n,r){let[o,l]=x(n),{hasFlag:a,addFlag:i,removeFlag:s}=Ba(e&&o?3:0),u=k(!1),f=k(!1),c=Ct();return B(()=>{var h;if(e){if(n&&l(!0),!t){n&&i(3);return}return(h=r==null?void 0:r.start)==null||h.call(r,n),qa(t,{inFlight:u,prepare(){f.current?f.current=!1:f.current=u.current,u.current=!0,!f.current&&(n?(i(3),s(4)):(i(4),s(2)))},run(){f.current?n?(s(3),i(4)):(s(4),i(3)):n?s(1):i(1)},done(){var p;f.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(u.current=!1,s(7),n||l(!1),(p=r==null?void 0:r.end)==null||p.call(r,n))}})}},[e,n,t,c]),e?[o,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function qa(e,{prepare:t,run:n,done:r,inFlight:o}){let l=ve();return Xa(e,{prepare:t,inFlight:o}),l.nextFrame(()=>{n(),l.requestAnimationFrame(()=>{l.add(Ya(e,r))})}),l.dispose}function Ya(e,t){var n,r;let o=ve();if(!e)return o.dispose;let l=!1;o.add(()=>{l=!0});let a=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(i=>i instanceof CSSTransition))!=null?r:[];return a.length===0?(t(),o.dispose):(Promise.allSettled(a.map(i=>i.finished)).then(()=>{l||t()}),o.dispose)}function Xa(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function jn(e,t){let n=k([]),r=T(e);P(()=>{let o=[...n.current];for(let[l,a]of t.entries())if(n.current[l]!==a){let i=r(t,o);return n.current=t,i}},[r,...t])}let At=W(null);At.displayName="OpenClosedContext";var re=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(re||{});function Lt(){return M(At)}function Za({value:e,children:t}){return E.createElement(At.Provider,{value:e},t)}function Ja({children:e}){return E.createElement(At.Provider,{value:null},e)}function Qa(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let ye=[];Qa(()=>{function e(t){if(!we(t.target)||t.target===document.body||ye[0]===t.target)return;let n=t.target;n=n.closest(St),ye.unshift(n??t.target),ye=ye.filter(r=>r!=null&&r.isConnected),ye.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Qo(e){let t=T(e),n=k(!1);P(()=>(n.current=!1,()=>{n.current=!0,Pt(()=>{n.current&&t()})}),[t])}function es(){let e=typeof document>"u";return"useSyncExternalStore"in on?(t=>t.useSyncExternalStore)(on)(()=>()=>{},()=>!1,()=>!e):!1}function dt(){let e=es(),[t,n]=x(Oe.isHandoffComplete);return t&&Oe.isHandoffComplete===!1&&n(!1),P(()=>{t!==!0&&n(!0)},[t]),P(()=>Oe.handoff(),[]),e?!1:t}let el=W(!1);function ts(){return M(el)}function Nr(e){return E.createElement(el.Provider,{value:e.force},e.children)}function ns(e){let t=ts(),n=M(nl),[r,o]=x(()=>{var l;if(!t&&n!==null)return(l=n.current)!=null?l:null;if(Oe.isServer)return null;let a=e==null?void 0:e.getElementById("headlessui-portal-root");if(a)return a;if(e===null)return null;let i=e.createElement("div");return i.setAttribute("id","headlessui-portal-root"),e.body.appendChild(i)});return P(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),P(()=>{t||n!==null&&o(n.current)},[n,o,t]),r}let tl=C,rs=K(function(e,t){let{ownerDocument:n=null,...r}=e,o=k(null),l=oe(qi(p=>{o.current=p}),t),a=Ot(o),i=n??a,s=ns(i),[u]=x(()=>{var p;return Oe.isServer?null:(p=i==null?void 0:i.createElement("div"))!=null?p:null}),f=M(_n),c=dt();B(()=>{!s||!u||s.contains(u)||(u.setAttribute("data-headlessui-portal",""),s.appendChild(u))},[s,u]),B(()=>{if(u&&f)return f.register(u)},[f,u]),Qo(()=>{var p;!s||!u||(Io(u)&&s.contains(u)&&s.removeChild(u),s.childNodes.length<=0&&((p=s.parentElement)==null||p.removeChild(s)))});let h=z();return c?!s||!u?null:Ln(h({ourProps:{ref:l},theirProps:r,slot:{},defaultTag:tl,name:"Portal"}),u):null});function os(e,t){let n=oe(t),{enabled:r=!0,ownerDocument:o,...l}=e,a=z();return r?E.createElement(rs,{...l,ownerDocument:o,ref:n}):a({ourProps:{ref:n},theirProps:l,slot:{},defaultTag:tl,name:"Portal"})}let ls=C,nl=W(null);function is(e,t){let{target:n,...r}=e,o={ref:oe(t)},l=z();return E.createElement(nl.Provider,{value:n},l({ourProps:o,theirProps:r,defaultTag:ls,name:"Popover.Group"}))}let _n=W(null);function as(){let e=M(_n),t=k([]),n=T(l=>(t.current.push(l),e&&e.register(l),()=>r(l))),r=T(l=>{let a=t.current.indexOf(l);a!==-1&&t.current.splice(a,1),e&&e.unregister(l)}),o=I(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,I(()=>function({children:l}){return E.createElement(_n.Provider,{value:o},l)},[o])]}let ss=K(os),rl=K(is),us=Object.assign(ss,{Group:rl});function cs(e,t=typeof document<"u"?document.defaultView:null,n){let r=ct(e,"escape");Jo(t,"keydown",o=>{r&&(o.defaultPrevented||o.key===Uo.Escape&&n(o))})}function ds(){var e;let[t]=x(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=x((e=t==null?void 0:t.matches)!=null?e:!1);return B(()=>{if(!t)return;function o(l){r(l.matches)}return t.addEventListener("change",o),()=>t.removeEventListener("change",o)},[t]),n}function fs({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=Ot(n),o=T(()=>{var l,a;let i=[];for(let s of e)s!==null&&(pe(s)?i.push(s):"current"in s&&pe(s.current)&&i.push(s.current));if(t!=null&&t.current)for(let s of t.current)i.push(s);for(let s of(l=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?l:[])s!==document.body&&s!==document.head&&pe(s)&&s.id!=="headlessui-portal-root"&&(n&&(s.contains(n)||s.contains((a=n==null?void 0:n.getRootNode())==null?void 0:a.host))||i.some(u=>s.contains(u))||i.push(s));return i});return{resolveContainers:o,contains:T(l=>o().some(a=>a.contains(l)))}}let ol=W(null);function Pr({children:e,node:t}){let[n,r]=x(null),o=ll(t??n);return E.createElement(ol.Provider,{value:o},e,o===null&&E.createElement(fn,{features:kt.Hidden,ref:l=>{var a,i;if(l){for(let s of(i=(a=ut(l))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?i:[])if(s!==document.body&&s!==document.head&&pe(s)&&s!=null&&s.contains(l)){r(s);break}}}}))}function ll(e=null){var t;return(t=M(ol))!=null?t:e}function Un(){let e=k(!1);return B(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Je=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Je||{});function ps(){let e=k(0);return Zo(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function il(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)pe(n.current)&&t.add(n.current);return t}let hs="div";var Ce=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Ce||{});function _s(e,t){let n=k(null),r=oe(n,t),{initialFocus:o,initialFocusFallback:l,containers:a,features:i=15,...s}=e;dt()||(i=0);let u=Ot(n);gs(i,{ownerDocument:u});let f=ys(i,{ownerDocument:u,container:n,initialFocus:o,initialFocusFallback:l});$s(i,{ownerDocument:u,container:n,containers:a,previousActiveElement:f});let c=ps(),h=T(b=>{if(!Ee(n.current))return;let w=n.current;($=>$())(()=>{me(c.current,{[Je.Forwards]:()=>{rt(w,fe.First,{skipElements:[b.relatedTarget,l]})},[Je.Backwards]:()=>{rt(w,fe.Last,{skipElements:[b.relatedTarget,l]})}})})}),p=ct(!!(i&2),"focus-trap#tab-lock"),_=Ct(),g=k(!1),m={ref:r,onKeyDown(b){b.key=="Tab"&&(g.current=!0,_.requestAnimationFrame(()=>{g.current=!1}))},onBlur(b){if(!(i&4))return;let w=il(a);Ee(n.current)&&w.add(n.current);let $=b.relatedTarget;we($)&&$.dataset.headlessuiFocusGuard!=="true"&&(al(w,$)||(g.current?rt(n.current,me(c.current,{[Je.Forwards]:()=>fe.Next,[Je.Backwards]:()=>fe.Previous})|fe.WrapAround,{relativeTo:b.target}):we(b.target)&&he(b.target)))}},v=z();return E.createElement(E.Fragment,null,p&&E.createElement(fn,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:kt.Focusable}),v({ourProps:m,theirProps:s,defaultTag:hs,name:"FocusTrap"}),p&&E.createElement(fn,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:kt.Focusable}))}let ms=K(_s),vs=Object.assign(ms,{features:Ce});function bs(e=!0){let t=k(ye.slice());return jn(([n],[r])=>{r===!0&&n===!1&&Pt(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=ye.slice())},[e,ye,t]),T(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function gs(e,{ownerDocument:t}){let n=!!(e&8),r=bs(n);jn(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&he(r())},[n]),Qo(()=>{n&&he(r())})}function ys(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:o}){let l=k(null),a=ct(!!(e&1),"focus-trap#initial-focus"),i=Un();return jn(()=>{if(e===0)return;if(!a){o!=null&&o.current&&he(o.current);return}let s=n.current;s&&Pt(()=>{if(!i.current)return;let u=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){l.current=u;return}}else if(s.contains(u)){l.current=u;return}if(r!=null&&r.current)he(r.current);else{if(e&16){if(rt(s,fe.First|fe.AutoFocus)!==hn.Error)return}else if(rt(s,fe.First)!==hn.Error)return;if(o!=null&&o.current&&(he(o.current),(t==null?void 0:t.activeElement)===o.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}l.current=t==null?void 0:t.activeElement})},[o,a,e]),l}function $s(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:o}){let l=Un(),a=!!(e&4);Jo(t==null?void 0:t.defaultView,"focus",i=>{if(!a||!l.current)return;let s=il(r);Ee(n.current)&&s.add(n.current);let u=o.current;if(!u)return;let f=i.target;Ee(f)?al(s,f)?(o.current=f,he(f)):(i.preventDefault(),i.stopPropagation(),he(u)):he(o.current)},!0)}function al(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function sl(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:cl)!==C||E.Children.count(e.children)===1}let Dt=W(null);Dt.displayName="TransitionContext";var ws=(e=>(e.Visible="visible",e.Hidden="hidden",e))(ws||{});function Es(){let e=M(Dt);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function ks(){let e=M(Rt);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Rt=W(null);Rt.displayName="NestingContext";function It(e){return"children"in e?It(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function ul(e,t){let n=Me(e),r=k([]),o=Un(),l=Ct(),a=T((p,_=$e.Hidden)=>{let g=r.current.findIndex(({el:m})=>m===p);g!==-1&&(me(_,{[$e.Unmount](){r.current.splice(g,1)},[$e.Hidden](){r.current[g].state="hidden"}}),l.microTask(()=>{var m;!It(r)&&o.current&&((m=n.current)==null||m.call(n))}))}),i=T(p=>{let _=r.current.find(({el:g})=>g===p);return _?_.state!=="visible"&&(_.state="visible"):r.current.push({el:p,state:"visible"}),()=>a(p,$e.Unmount)}),s=k([]),u=k(Promise.resolve()),f=k({enter:[],leave:[]}),c=T((p,_,g)=>{s.current.splice(0),t&&(t.chains.current[_]=t.chains.current[_].filter(([m])=>m!==p)),t==null||t.chains.current[_].push([p,new Promise(m=>{s.current.push(m)})]),t==null||t.chains.current[_].push([p,new Promise(m=>{Promise.all(f.current[_].map(([v,b])=>b)).then(()=>m())})]),_==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>g(_)):g(_)}),h=T((p,_,g)=>{Promise.all(f.current[_].splice(0).map(([m,v])=>v)).then(()=>{var m;(m=s.current.shift())==null||m()}).then(()=>g(_))});return I(()=>({children:r,register:i,unregister:a,onStart:c,onStop:h,wait:u,chains:f}),[i,a,r,c,h,f,u])}let cl=C,dl=Et.RenderStrategy;function Ss(e,t){var n,r;let{transition:o=!0,beforeEnter:l,afterEnter:a,beforeLeave:i,afterLeave:s,enter:u,enterFrom:f,enterTo:c,entered:h,leave:p,leaveFrom:_,leaveTo:g,...m}=e,[v,b]=x(null),w=k(null),$=sl(e),F=oe(...$?[w,t,b]:t===null?[]:[t]),O=(n=m.unmount)==null||n?$e.Unmount:$e.Hidden,{show:H,appear:te,initial:V}=Es(),[j,U]=x(H?"visible":"hidden"),q=ks(),{register:Y,unregister:le}=q;B(()=>Y(w),[Y,w]),B(()=>{if(O===$e.Hidden&&w.current){if(H&&j!=="visible"){U("visible");return}return me(j,{hidden:()=>le(w),visible:()=>Y(w)})}},[j,w,Y,le,H,O]);let Se=dt();B(()=>{if($&&Se&&j==="visible"&&w.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[w,j,Se,$]);let He=V&&!te,ie=te&&H&&V,ce=k(!1),ne=ul(()=>{ce.current||(U("hidden"),le(w))},q),de=T(xe=>{ce.current=!0;let ft=xe?"enter":"leave";ne.onStart(w,ft,ze=>{ze==="enter"?l==null||l():ze==="leave"&&(i==null||i())})}),y=T(xe=>{let ft=xe?"enter":"leave";ce.current=!1,ne.onStop(w,ft,ze=>{ze==="enter"?a==null||a():ze==="leave"&&(s==null||s())}),ft==="leave"&&!It(ne)&&(U("hidden"),le(w))});P(()=>{$&&o||(de(H),y(H))},[H,$,o]);let D=!(!o||!$||!Se||He),[,S]=za(D,v,H,{start:de,end:y}),be=Ne({ref:F,className:((r=dn(m.className,ie&&u,ie&&f,S.enter&&u,S.enter&&S.closed&&f,S.enter&&!S.closed&&c,S.leave&&p,S.leave&&!S.closed&&_,S.leave&&S.closed&&g,!S.transition&&H&&h))==null?void 0:r.trim())||void 0,...Ga(S)}),ge=0;j==="visible"&&(ge|=re.Open),j==="hidden"&&(ge|=re.Closed),H&&j==="hidden"&&(ge|=re.Opening),!H&&j==="visible"&&(ge|=re.Closing);let X=z();return E.createElement(Rt.Provider,{value:ne},E.createElement(Za,{value:ge},X({ourProps:be,theirProps:m,defaultTag:cl,features:dl,visible:j==="visible",name:"Transition.Child"})))}function xs(e,t){let{show:n,appear:r=!1,unmount:o=!0,...l}=e,a=k(null),i=sl(e),s=oe(...i?[a,t]:t===null?[]:[t]);dt();let u=Lt();if(n===void 0&&u!==null&&(n=(u&re.Open)===re.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[f,c]=x(n?"visible":"hidden"),h=ul(()=>{n||c("hidden")}),[p,_]=x(!0),g=k([n]);B(()=>{p!==!1&&g.current[g.current.length-1]!==n&&(g.current.push(n),_(!1))},[g,n]);let m=I(()=>({show:n,appear:r,initial:p}),[n,r,p]);B(()=>{n?c("visible"):!It(h)&&a.current!==null&&c("hidden")},[n,h]);let v={unmount:o},b=T(()=>{var F;p&&_(!1),(F=e.beforeEnter)==null||F.call(e)}),w=T(()=>{var F;p&&_(!1),(F=e.beforeLeave)==null||F.call(e)}),$=z();return E.createElement(Rt.Provider,{value:h},E.createElement(Dt.Provider,{value:m},$({ourProps:{...v,as:C,children:E.createElement(fl,{ref:s,...v,...l,beforeEnter:b,beforeLeave:w})},theirProps:{},defaultTag:C,features:dl,visible:f==="visible",name:"Transition"})))}function Ns(e,t){let n=M(Dt)!==null,r=Lt()!==null;return E.createElement(E.Fragment,null,!n&&r?E.createElement(mn,{ref:t,...e}):E.createElement(fl,{ref:t,...e}))}let mn=K(xs),fl=K(Ss),Wn=K(Ns),Ps=Object.assign(mn,{Child:Wn,Root:mn});var Cs=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Cs||{}),Ts=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Ts||{});let Fs={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Bn=W(null);Bn.displayName="DialogContext";function Mt(e){let t=M(Bn);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Mt),n}return t}function Os(e,t){return me(t.type,Fs,e,t)}let Cr=K(function(e,t){let n=ue(),{id:r=`headlessui-dialog-${n}`,open:o,onClose:l,initialFocus:a,role:i="dialog",autoFocus:s=!0,__demoMode:u=!1,unmount:f=!1,...c}=e,h=k(!1);i=function(){return i==="dialog"||i==="alertdialog"?i:(h.current||(h.current=!0,console.warn(`Invalid role [${i}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let p=Lt();o===void 0&&p!==null&&(o=(p&re.Open)===re.Open);let _=k(null),g=oe(_,t),m=Ot(_),v=o?0:1,[b,w]=at(Os,{titleId:null,descriptionId:null,panelRef:wn()}),$=T(()=>l(!1)),F=T(S=>w({type:0,id:S})),O=dt()?v===0:!1,[H,te]=as(),V={get current(){var S;return(S=b.panelRef.current)!=null?S:_.current}},j=ll(),{resolveContainers:U}=fs({mainTreeNode:j,portals:H,defaultContainers:[V]}),q=p!==null?(p&re.Closing)===re.Closing:!1;wa(u||q?!1:O,{allowed:T(()=>{var S,be;return[(be=(S=_.current)==null?void 0:S.closest("[data-headlessui-portal]"))!=null?be:null]}),disallowed:T(()=>{var S;return[(S=j==null?void 0:j.closest("body > *:not(#headlessui-portal-root)"))!=null?S:null]})});let Y=zo.get(null);B(()=>{if(O)return Y.actions.push(r),()=>Y.actions.pop(r)},[Y,r,O]);let le=qo(Y,L(S=>Y.selectors.isTop(S,r),[Y,r]));La(le,U,S=>{S.preventDefault(),$()}),cs(le,m==null?void 0:m.defaultView,S=>{S.preventDefault(),S.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),$()}),Wa(u||q?!1:O,m,U),Ea(O,_,$);let[Se,He]=Xi(),ie=I(()=>[{dialogState:v,close:$,setTitleId:F,unmount:f},b],[v,b,$,F,f]),ce=I(()=>({open:v===0}),[v]),ne={ref:g,id:r,role:i,tabIndex:-1,"aria-modal":u?void 0:v===0?!0:void 0,"aria-labelledby":b.titleId,"aria-describedby":Se,unmount:f},de=!ds(),y=Ce.None;O&&!u&&(y|=Ce.RestoreFocus,y|=Ce.TabLock,s&&(y|=Ce.AutoFocus),de&&(y|=Ce.InitialFocus));let D=z();return E.createElement(Ja,null,E.createElement(Nr,{force:!0},E.createElement(us,null,E.createElement(Bn.Provider,{value:ie},E.createElement(rl,{target:_},E.createElement(Nr,{force:!1},E.createElement(He,{slot:ce},E.createElement(te,null,E.createElement(vs,{initialFocus:a,initialFocusFallback:_,containers:U,features:y},E.createElement(ia,{value:$},D({ourProps:ne,theirProps:c,slot:ce,defaultTag:As,features:Ls,visible:v===0,name:"Dialog"})))))))))))}),As="div",Ls=Et.RenderStrategy|Et.Static;function Ds(e,t){let{transition:n=!1,open:r,...o}=e,l=Lt(),a=e.hasOwnProperty("open")||l!==null,i=e.hasOwnProperty("onClose");if(!a&&!i)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!i)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!l&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!o.static?E.createElement(Pr,null,E.createElement(Ps,{show:r,transition:n,unmount:o.unmount},E.createElement(Cr,{ref:t,...o}))):E.createElement(Pr,null,E.createElement(Cr,{ref:t,open:r,...o}))}let Rs="div";function Is(e,t){let n=ue(),{id:r=`headlessui-dialog-panel-${n}`,transition:o=!1,...l}=e,[{dialogState:a,unmount:i},s]=Mt("Dialog.Panel"),u=oe(t,s.panelRef),f=I(()=>({open:a===0}),[a]),c=T(m=>{m.stopPropagation()}),h={ref:u,id:r,onClick:c},p=o?Wn:C,_=o?{unmount:i}:{},g=z();return E.createElement(p,{..._},g({ourProps:h,theirProps:l,slot:f,defaultTag:Rs,name:"Dialog.Panel"}))}let Ms="div";function Hs(e,t){let{transition:n=!1,...r}=e,[{dialogState:o,unmount:l}]=Mt("Dialog.Backdrop"),a=I(()=>({open:o===0}),[o]),i={ref:t,"aria-hidden":!0},s=n?Wn:C,u=n?{unmount:l}:{},f=z();return E.createElement(s,{...u},f({ourProps:i,theirProps:r,slot:a,defaultTag:Ms,name:"Dialog.Backdrop"}))}let js="h2";function Us(e,t){let n=ue(),{id:r=`headlessui-dialog-title-${n}`,...o}=e,[{dialogState:l,setTitleId:a}]=Mt("Dialog.Title"),i=oe(t);P(()=>(a(r),()=>a(null)),[r,a]);let s=I(()=>({open:l===0}),[l]),u={ref:i,id:r};return z()({ourProps:u,theirProps:o,slot:s,defaultTag:js,name:"Dialog.Title"})}let Ws=K(Ds),Bs=K(Is),Ks=K(Hs),Vs=K(Us),Gs=Object.assign(Ws,{Panel:Bs,Title:Vs,Description:ea}),zs="input";function qs(e,t){let n=ue(),r=Ro(),o=Tt(),{id:l=r||`headlessui-input-${n}`,disabled:a=o||!1,autoFocus:i=!1,invalid:s=!1,...u}=e,f=ta(),c=Yi(),{isFocused:h,focusProps:p}=Ao({autoFocus:i}),{isHovered:_,hoverProps:g}=Oo({isDisabled:a}),m=Do({ref:t,id:l,"aria-labelledby":f,"aria-describedby":c,"aria-invalid":s?"true":void 0,disabled:a||void 0,autoFocus:i},p,g),v=I(()=>({disabled:a,invalid:s,hover:_,focus:h,autofocus:i}),[a,s,_,h,i]);return z()({ourProps:m,theirProps:u,slot:v,defaultTag:zs,name:"Input"})}let Ys=K(qs);function pl({storageConfig:e,onCancel:t,onSelect:n,onClear:r,initialLocation:o,closeOnPressOutside:l=!0}){if(!e)return d(C,{});const a=k(null);P(()=>{if(!l||!t)return;function y(D){a.current&&!a.current.contains(D.target)&&t()}return document.addEventListener("mousedown",y),()=>document.removeEventListener("click",y)},[t]);const[i,s]=x((o==null?void 0:o.rack)||null),[u,f]=x((o==null?void 0:o.bay)||null),[c,h]=x((o==null?void 0:o.shelf)||null),[p,_]=x((o==null?void 0:o.position)||null),[g,m]=x((o==null?void 0:o.container)||null),[v,b]=x(null);P(()=>{s(o==null?void 0:o.rack),f(o==null?void 0:o.bay),h(o==null?void 0:o.shelf),_(o==null?void 0:o.position),m(o==null?void 0:o.container),o&&(o.container?b("6complete"):o.position?b("5container"):o.shelf?b("4position"):o.bay?b("3shelf"):o.rack?b("2bay"):b("1rack"))},[o]);const[w,$]=x(""),[F,O]=x(""),H=e?Object.entries(e.rack_config).map(([y,D])=>({rackId:Number(y),name:D.name})):[];P(()=>{o&&(s(o.rack),f(o.bay),h(o.shelf),_(o.position),m(o.container||null))},[o]);const te=(y,D)=>y.num_shelves,V=(y,D,S)=>y.num_positions,j=(y,D,S,be)=>y.num_containers;P(()=>{if(!i||!e)return;const y=e.rack_config[i].num_bays;v=="2bay"&&y<=1&&q(y)},[v]),P(()=>{if(!i)return;const y=te(e.rack_config[i]);v=="3shelf"&&y<=1&&Y(y)},[v]),P(()=>{if(!i)return;const y=V(e.rack_config[i]);v=="4position"&&y<=1&&le(y)},[v]),P(()=>{if(!i)return;const y=j(e.rack_config[i]);v=="5container"&&y<=1&&He(y)},[v]);const U=y=>{s(y),h(null),_(null),m(null),$(""),b("2bay")},q=y=>{f(y),h(null),_(null),m(null),$(""),b("3shelf")},Y=y=>{h(y),_(null),m(null),$(""),O(""),b("4position")},le=y=>{_(y),m(null),$(""),O(""),b("5container")},Se=y=>{const D=parseInt(w);if(D>y){O(`Must be between 1 and ${y}`);return}ce(D,y),O("")},He=y=>{m(y),b("6complete")},ie=y=>{switch(y){case"1rack":s(null),f(null),h(null),_(null),m(null),$(""),b("1rack");break;case"2bay":f(null),h(null),_(null),m(null),$(""),b("2bay");break;case"3shelf":h(null),_(null),m(null),$(""),b("3shelf");break;case"4position":_(null),m(null),$(""),b("4position");break;case"5container":m(null),b("5container");break}},ce=(y,D)=>{y<=D&&(v==="2bay"&&i?q(y):v==="3shelf"&&i?Y(y):v==="4position"&&i?le(y):v==="5container"&&i&&He(y))},ne=(y,D)=>{y==="backspace"?$(S=>S.slice(0,-1)):y==="confirm"?Se(D):$(S=>S+y)},de=y=>{const D=X=>S?X>y:!w&&X===0||parseInt(w+X)>y,S=y<10,be=[];for(let X=1;X<=9;X++){const xe=D(X);be.push(d("button",{onClick:()=>S?ce(X,y):ne(X.toString(),y),disabled:xe,className:`px-2 py-4 text-xl font-semibold rounded-lg border border-gray-300 dark:border-gray-600 
            ${xe?"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed":"bg-base-100 hover:bg-base-200 active:bg-base-300"} transition-colors`,children:X},X))}const ge=D(0);return d(C,{children:[!S&&d("div",{className:"mb-4",children:[d("div",{className:"flex items-center gap-2 mb-2",children:[d("span",{className:"text-sm text-base-content/70",children:"Enter:"}),d("div",{className:"px-4 py-2 bg-base-100 border border-gray-300 dark:border-gray-600 rounded-lg font-mono text-lg min-w-[100px]",children:w||"_"}),w&&d("button",{onClick:()=>$(""),className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-base-200",children:"Clear"})]}),F&&d("p",{className:"text-sm text-error",children:F})]}),d("div",{className:"grid grid-cols-3 gap-3 max-w-xs mx-auto",children:[be,S?d("button",{disabled:!0,className:"col-span-3 px-2 py-4 text-lg font-semibold rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed",children:"0"}):d(C,{children:[d("button",{onClick:()=>ne("backspace",y),className:"px-2 py-4 text-lg font-semibold rounded-lg border border-gray-300 dark:border-gray-600 bg-base-100 hover:bg-base-200 active:bg-base-300 transition-colors flex items-center justify-center",children:d(Vl,{size:24})}),d("button",{disabled:ge,onClick:()=>ne("0",y),className:`px-2 py-4 text-xl font-semibold rounded-lg border border-gray-300 dark:border-gray-600 
            ${ge?"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed":"bg-base-100 hover:bg-base-200 active:bg-base-300"} transition-colors`,children:"0"}),d("button",{onClick:()=>ne("confirm",y),className:"px-2 py-4 text-lg font-semibold rounded-lg border border-gray-300 dark:border-gray-600 bg-base-100 hover:bg-base-200 active:bg-base-300 transition-colors flex items-center justify-center",children:d(Kl,{size:24})})]})]})]})};return H.length===0?d("div",{className:"text-center py-12 text-base-content/60",children:[d("p",{className:"text-lg font-medium mb-2",children:"No storage configured"}),d("p",{className:"text-sm",children:"Please configure storage racks first"})]}):d("div",{ref:a,className:"space-y-2",children:[d("div",{children:i?d("div",{className:"flex items-center gap-2 mb-2",children:[d("span",{className:"text-sm font-medium text-base-content/70",children:"Rack:"}),d("span",{className:"font-medium",children:e.rack_config[i].name}),d("button",{onClick:()=>ie("1rack"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:d(qe,{size:16})})]}):d(C,{children:[d("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:"Select Rack:"}),d("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:H.map(y=>d("button",{onClick:()=>U(y.rackId),className:"px-4 py-3 bg-base-100 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-base-200 hover:border-gray-400 dark:hover:border-gray-500 transition-colors text-left font-medium",children:y.name},y.rackId))})]})}),i&&v>="2bay"&&d("div",{children:u?d("div",{className:"flex items-center gap-2 mb-2",children:[d("span",{className:"text-sm font-medium text-base-content/70",children:"Bay:"}),d("span",{className:"font-medium",children:u}),d("button",{onClick:()=>ie("2bay"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:d(qe,{size:16})})]}):v==="2bay"&&d(C,{children:[d("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:["Which bay? (1-",e.rack_config[i].num_bays,")"]}),de(e.rack_config[i].num_bays)]})}),i&&v>="3shelf"&&d("div",{children:c?d("div",{className:"flex items-center gap-2 mb-2",children:[d("span",{className:"text-sm font-medium text-base-content/70",children:"Shelf:"}),d("span",{className:"font-medium",children:c}),d("button",{onClick:()=>ie("3shelf"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:d(qe,{size:16})})]}):v==="3shelf"&&d(C,{children:[d("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:["Which shelf? (1-",e.rack_config[i].num_shelves,")"]}),de(e.rack_config[i].num_shelves)]})}),i&&v>="4position"&&d("div",{children:p?d("div",{className:"flex items-center gap-2 mb-2",children:[d("span",{className:"text-sm font-medium text-base-content/70",children:"Position:"}),d("span",{className:"font-medium",children:p}),d("button",{onClick:()=>ie("4position"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:d(qe,{size:16})})]}):v==="4position"&&d(C,{children:[d("div",{className:"text-sm font-medium text-base-content/70 mb-2 flex items-center gap-2",children:["Which position? (1-",V(e.rack_config[i]),")",(()=>{const y=e.rack_config[i].num_positions,D=V(e.rack_config[i]);return y!==D?d("span",{className:"text-xs text-primary flex items-center gap-1",children:[d(Gl,{size:14}),"This shelf has ",D," positions"]}):null})()]}),de(V(e.rack_config[i]))]})}),i&&v>="5container"&&d("div",{children:g?d("div",{className:"flex items-center gap-2 mb-2",children:[d("span",{className:"text-sm font-medium text-base-content/70",children:"Container:"}),d("span",{className:"font-medium",children:g}),d("button",{onClick:()=>ie("5container"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:d(qe,{size:16})})]}):v==="5container"&&d(C,{children:[d("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:["Which container? (1-",j(e.rack_config[i]),")"]}),de(j(e.rack_config[i]))]})}),i&&d("div",{className:"bg-primary/10 border border-primary rounded-lg p-4",children:d("div",{className:"flex items-start gap-2",children:[d("span",{className:`${v!="6complete"&&"invisible"} text-primary font-bold text-4xl`,children:""}),d("div",{children:[d("p",{className:"font-medium text-base-content",children:"Selected Location:"}),d("p",{className:"text-sm text-base-content/80",children:[e.rack_config[i].name,!!u&&` / Bay ${u}`,!!c&&` / Shelf ${c}`,!!p&&` / Position ${p}`,!!g&&` / Container ${g}`]})]})]})}),d("div",{className:"dialog-actions",children:[r&&d(Vt,{className:"btn btn-outline",onClick:()=>r&&r(),children:"Clear"}),d(Vt,{className:"btn btn-outline",onClick:()=>t&&t(),children:"Cancel"}),d(Vt,{className:"btn btn-outline",onClick:()=>n&&n({rack:i,bay:u,shelf:c,position:p,container:g}),disabled:i==null||F!="",children:"Ok"})]})]})}const hl=W({urlParams:{}});function Xs({children:e}){const[t,n]=x({});return P(()=>{n(Xr())},[]),d(hl.Provider,{value:{urlParams:t},children:e})}const _l=()=>M(hl),bt=({location:e,storageConfig:t})=>d("div",{className:"space-y-2 mb-0 flex-1",children:e?d(C,{children:[d("div",{className:"badge badge-lg badge-info w-full",children:`Rack: ${(t==null?void 0:t.rack_config[e==null?void 0:e.rack].name)??""}`}),d("div",{className:"flex flex-row space-x-2",children:[!!(e!=null&&e.bay)&&d("div",{className:"px-0 badge badge-lg badge-outline badge-info flex-1 border-l-8 border-r-8 rounded-none",children:`Bay: ${e==null?void 0:e.bay}`}),!!(e!=null&&e.shelf)&&d("div",{className:"px-0 badge badge-lg badge-outline badge-info flex-1 border-t-4 border-b-4 rounded-none",children:`Shelf: ${e==null?void 0:e.shelf}`}),!!(e!=null&&e.position)&&d("div",{className:"px-0 badge badge-lg badge-outline badge-info flex-1 rounded-none",children:`Position: ${e==null?void 0:e.position}`}),!!(e!=null&&e.container)&&d("div",{className:"px-0 badge badge-lg badge-dash badge-info flex-1",children:`Container: ${e==null?void 0:e.container}`})]})]}):d("div",{className:"badge badge-lg badge-outline w-full",children:"Empty Location"})});function Zs({serverTagLocation:e}){const{urlParams:t}=_l(),[n,r]=x(e),[o,l]=x(null),[a,i]=x(!1),s=k(null),{storageConfig:u}=Pn();P(()=>{(async()=>await c())()},[]),P(()=>{r(e)},[e]);const f=async()=>{try{return(await yt("/api/spool-staging","GET")).csv_record||null}catch{return null}},c=async()=>{const p=await f(),_=!!p&&Hl(p);l(_)},h=async(p,_)=>{if(e&&o){const g={location:Jr(_),location_type:p,spool_id:o.id};try{const m=await yt("/api/spool-location","POST",g);await c(),m.error&&console.log(`Error setting spool location : ${m.error}`)}catch{}}};return d("div",{className:"hero bg-base-300",children:d("div",{className:"hero-content flex-col",children:[d("div",{className:"text-center",children:d("h1",{className:"text-3xl font-bold",children:["Location Tag"," ",d("a",{className:"btn btn-outline btn-primary font-mono text-3xl",href:"/L1/edit/#"+new URLSearchParams(t).toString(),children:[t.TG,d(nn,{size:30})]}),"Scanned"]})}),d("div",{className:"card bg-base-100 w-full shadow-sm rounded-lg overflow-hidden",children:[d("div",{class:"bg-primary text-primary-content text-center p-2",children:d("h2",{className:"card-title flex",children:["Selected Location",d("span",{className:"text-warning",children:n!=e&&" (Changed from Tag Location)"}),d("button",{className:"btn btn-outline ml-auto",onClick:()=>r(e),children:"Refresh"})]})}),d("div",{className:"card-body space-y-4",children:[d("div",{className:"flex flex-row items-center space-x-2",children:[d(bt,{location:n,storageConfig:u}),d("button",{className:"btn px-0",onClick:()=>i(!0),children:d(nn,{size:60})})]}),a&&d("div",{ref:s,id:"location-picker-popup",className:"bg-gray-700 rounded-md p-2 mt-2",children:d(pl,{initialLocation:n,storageConfig:u,onCancel:()=>i(!1),onSelect:p=>{r(p),i(!1)},onClear:()=>{r(null)}})})]})]}),d("div",{className:"card bg-base-100 w-full shadow-sm rounded-lg overflow-hidden",children:[d("div",{class:"bg-primary text-primary-content text-center p-2",children:d("h2",{className:"card-title",children:[d(jt,{className:"rotate-90 scale-y-[0.8]"}),"Spool Staging",d("button",{onClick:c,className:"btn btn-outline ml-auto",children:"Refresh"})]})}),d("div",{className:"card-body space-y-3",children:o?d(C,{children:[d("div",{className:"flex flex-col badge badge-outline badge-xl w-full py-5 "+(o!=null&&o.color_code?`bg-[#${o.color_code.slice(0,6)}] text-${Dl(o.color_code.slice(0,6))}`:""),children:d("div",{children:[d("span",{className:"font-mono",children:[o.id,". "]}),o.brand," ",o.material_type," ",o.material_subtype," ",o.color_name]})}),d("div",{className:"border p-2 rounded-lg space-y-2",children:[d("p",{className:"text-lg text-center",children:"Assigned Location"}),d(bt,{location:tn(o.assigned_location),storageConfig:u}),d("div",{className:"flex flex-row space-x-2 pt-4",children:[d("button",{className:"btn btn-outline text-lg flex-2",onClick:()=>h(Ye.Assigned,null),children:"Clear"}),d("button",{className:"btn btn-success flex-3 text-lg",onClick:()=>h(Ye.Assigned,n),children:"Set to Selected Location"})]})]}),d("div",{className:"border p-2 rounded-lg space-y-2",children:[d("p",{className:"text-lg text-center",children:"Actual Location"}),d(bt,{location:tn(o.actual_location),storageConfig:u}),d("div",{className:"flex flex-row space-x-2 pt-4",children:[d("button",{className:"btn btn-outline text-lg flex-2",onClick:()=>h(Ye.Actual,null),children:"Clear"}),d("button",{className:"btn btn-success flex-3 text-lg",onClick:()=>h(Ye.Actual,n),children:"Set to Selected Location"})]})]})]}):d("div",{className:"flex flex-col badge badge-outline badge-xl w-full py-5 ",children:"Spool Staging is Empty"})})]}),d("div",{className:"card bg-base-100 w-full shadow-sm rounded-lg overflow-hidden",children:[d("div",{class:"bg-primary text-primary-content text-center p-2",children:d("h2",{className:"card-title",children:[d(jt,{className:"rotate-90 scale-y-[0.8]"}),"Spools in Location",d("button",{className:"btn btn-outline ml-auto",children:"Refresh"})]})}),d("div",{className:"card-body",children:d("div",{children:d("p",{children:"Placeholder for spools currently in location and allow removing them"})})})]}),d("div",{className:"card bg-base-100 w-full shadow-sm rounded-lg overflow-hidden",children:[d("div",{class:"bg-primary text-primary-content text-center p-2",children:d("h2",{className:"card-title",children:[d(jt,{className:"rotate-90 scale-y-[0.8]"}),"Spools Assigned to This Location",d("button",{className:"btn btn-outline ml-auto",children:"Refresh"})]})}),d("div",{className:"card-body",children:d("div",{children:d("p",{children:"Display Spools assigned to location and allow removing them"})})})]})]})})}var Js={};function mt(e,t){for(var n in t)e[n]=t[n];return e}function Qs(e,t,n){var r,o=/(?:\?([^#]*))?(#.*)?$/,l=e.match(o),a={};if(l&&l[1])for(var i=l[1].split("&"),s=0;s<i.length;s++){var u=i[s].split("=");a[decodeURIComponent(u[0])]=decodeURIComponent(u.slice(1).join("="))}e=vn(e.replace(o,"")),t=vn(t||"");for(var f=Math.max(e.length,t.length),c=0;c<f;c++)if(t[c]&&t[c].charAt(0)===":"){var h=t[c].replace(/(^:|[+*?]+$)/g,""),p=(t[c].match(/[+*?]+$/)||Js)[0]||"",_=~p.indexOf("+"),g=~p.indexOf("*"),m=e[c]||"";if(!m&&!g&&(p.indexOf("?")<0||_)){r=!1;break}if(a[h]=decodeURIComponent(m),_||g){a[h]=e.slice(c).map(decodeURIComponent).join("/");break}}else if(t[c]!==e[c]){r=!1;break}return(n.default===!0||r!==!1)&&a}function eu(e,t){return e.rank<t.rank?1:e.rank>t.rank?-1:e.index-t.index}function tu(e,t){return e.index=t,e.rank=function(n){return n.props.default?0:vn(n.props.path).map(nu).join("")}(e),e.props}function vn(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function nu(e){return e.charAt(0)==":"?1+"*+?".indexOf(e.charAt(e.length-1))||4:5}var ru={},Ae=[],Tr=[],Z=null,ml={url:Kn()},ou=W(ml);function Kn(){var e;return""+((e=Z&&Z.location?Z.location:Z&&Z.getCurrentLocation?Z.getCurrentLocation():typeof location<"u"?location:ru).pathname||"")+(e.search||"")}function bn(e,t){return t===void 0&&(t=!1),typeof e!="string"&&e.url&&(t=e.replace,e=e.url),function(n){for(var r=Ae.length;r--;)if(Ae[r].canRoute(n))return!0;return!1}(e)&&function(n,r){r===void 0&&(r="push"),Z&&Z[r]?Z[r](n):typeof history<"u"&&history[r+"State"]&&history[r+"State"](null,null,n)}(e,t?"replace":"push"),vl(e)}function vl(e){for(var t=!1,n=0;n<Ae.length;n++)Ae[n].routeTo(e)&&(t=!0);return t}function lu(e){if(e&&e.getAttribute){var t=e.getAttribute("href"),n=e.getAttribute("target");if(t&&t.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return bn(t)}}function iu(e){return e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),e.preventDefault(),!1}function au(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||e.button)){var t=e.target;do if(t.localName==="a"&&t.getAttribute("href")){if(t.hasAttribute("data-native")||t.hasAttribute("native"))return;if(lu(t))return iu(e)}while(t=t.parentNode)}}var Fr=!1;function bl(e){e.history&&(Z=e.history),this.state={url:e.url||Kn()}}mt(bl.prototype=new Q,{shouldComponentUpdate:function(e){return e.static!==!0||e.url!==this.props.url||e.onChange!==this.props.onChange},canRoute:function(e){var t=ee(this.props.children);return this.g(t,e)!==void 0},routeTo:function(e){this.setState({url:e});var t=this.canRoute(e);return this.p||this.forceUpdate(),t},componentWillMount:function(){this.p=!0},componentDidMount:function(){var e=this;Fr||(Fr=!0,Z||addEventListener("popstate",function(){vl(Kn())}),addEventListener("click",au)),Ae.push(this),Z&&(this.u=Z.listen(function(t){var n=t.location||t;e.routeTo(""+(n.pathname||"")+(n.search||""))})),this.p=!1},componentWillUnmount:function(){typeof this.u=="function"&&this.u(),Ae.splice(Ae.indexOf(this),1)},componentWillUpdate:function(){this.p=!0},componentDidUpdate:function(){this.p=!1},g:function(e,t){e=e.filter(tu).sort(eu);for(var n=0;n<e.length;n++){var r=e[n],o=Qs(t,r.props.path,r.props);if(o)return[r,o]}},render:function(e,t){var n,r,o=e.onChange,l=t.url,a=this.c,i=this.g(ee(e.children),l);if(i&&(r=zr(i[0],mt(mt({url:l,matches:n=i[1]},n),{key:void 0,ref:void 0}))),l!==(a&&a.url)){mt(ml,a=this.c={url:l,previous:a&&a.url,current:r,path:r?r.props.path:null,matches:n}),a.router=this,a.active=r?[r]:[];for(var s=Tr.length;s--;)Tr[s]({});typeof o=="function"&&o(a)}return G(ou.Provider,{value:a},r)}});const su=({serverTagLocation:e,onChangeServerTagLocation:t,onRefreshServerTagLocation:n})=>{const{urlParams:r}=_l(),{storageConfig:o}=Pn(),[l,a]=x(!0),i=k(null);return k(null),d(C,{children:d("div",{className:"hero bg-base-300",children:d("div",{className:"hero-content flex-col",children:[d("div",{className:"text-center",children:d("h1",{className:"text-3xl font-bold",children:["Edit Location Tag ",d("div",{className:"badge badge-outline badge-xl font-mono text-3xl",children:r.TG})," Information"]})}),d("div",{className:"card bg-base-100 w-full shadow-sm rounded-lg overflow-hidden",children:[d("div",{class:"bg-primary text-primary-content text-center p-2",children:d("h2",{className:"card-title",children:[d(zl,{className:"rotate-90 scale-y-[0.8]"}),"Tag Information",d("button",{onClick:n,className:"btn btn-outline ml-auto",children:"Refresh"})]})}),d("div",{className:"card-body space-y-4",children:[d("div",{className:"flex flex-row items-center space-x-2",children:[d(bt,{location:e,storageConfig:o}),d("button",{className:"btn px-0",onMouseDown:s=>{s.stopPropagation()},onClick:s=>{a(u=>!u)},children:d(nn,{size:60})})]}),l&&d("div",{ref:i,id:"location-picker-popup",className:"bg-gray-700 rounded-md p-2 mt-2",children:d(pl,{closeOnPressOutside:!1,initialLocation:e,storageConfig:o,onCancel:()=>a(!1),onSelect:async s=>{await t(s),a(!1)},onClear:async()=>{await t(null),a(!1)}})})]})]})]})})})};function uu(){const e=I(()=>Xr(),[]),[t,n]=x(null),{storageConfig:r}=Pn(),o=async s=>{try{const u=await yt("api/tag-scanned","POST",{tag_id_hex:s});switch(!0){case"Unknown"in u.tag_info:return null;case"Location"in u.tag_info:return u.tag_info.Location.location}}catch{return null}};P(()=>{(async()=>await i()=="TagNotFound"&&bn("/L1/edit/#"+new URLSearchParams(e).toString()))()},[r]);const l=async(s,u)=>{try{return await yt("/api/set-tag-location","POST",{tag_id_hex:s,location:u})}catch{return null}},a=async s=>{try{const u=s?Jr(s):"";if(e&&e.TG){const f=await l(e.TG,u);f.error&&console.log(f.error),await i()}}catch{}},i=async()=>{const s=e.TG;if(s){const u=await o(s);if(u){const f=tn(u);return n(f),f}else return n(null),"TagNotFound"}else return n(null),"NoTagInUrl"};return P(()=>{(async()=>await i()=="TagNotFound"&&bn("/L1/edit/#"+new URLSearchParams(e).toString()))()},[]),P(()=>{},[t,r]),d("div",{class:"w-screen h-screen flex flex-col",children:d(bl,{children:[d(Zs,{path:"/L1",serverTagLocation:t}),d(su,{path:"/L1/edit",serverTagLocation:t,onChangeServerTagLocation:a,onRefreshServerTagLocation:async()=>{await i()}})]})})}const cu={securityKey:"",setSecurityKey:()=>{},securityOk:!1,setSecurityOk:()=>{}},Vn=W(cu),du=({children:e})=>{const t=new URLSearchParams(window.location.hash.slice(1)).get("sk")||""||new URLSearchParams(window.location.hash.slice(1)).get("_sk")||"",[n,r]=x(t),[o,l]=x(!1);return window.securityKey=n,P(()=>{fu(l)},[]),d(Vn.Provider,{value:{securityKey:n,setSecurityKey:r,securityOk:o,setSecurityOk:l},children:e})};let gn=null;function fu(e){gn=e}function pu(e){gn&&gn(e)}let Xt=null,gl=!1;function yl(){return Xt||(Xt=$l().then(()=>{console.log("Wasm initialized"),window.securityKeyOnDerive="",window.encryptionKey=Ar("","example_salt"),gl=!0})),Xt}async function hu(e,t={},n={}){const{retries:r=3,retryOnNetworkError:o=!0,retryOn400:l=!1,retryOn500:a=!0}=n;let i=null;for(let s=0;s<r;s++)try{const u=await fetch(e,t);if(i=u,!u.ok){const f=u.status;if(f>=500&&a||f>=400&&f<500&&l)continue}return u}catch(u){if(!o)throw u}return i}window.encryptedFetch=async(...e)=>{if(window.securityKey==="")throw new Error("No Security Key Set");gl||await yl();const[t,n={}]=e;n.body&&typeof n.body=="string"&&(n.body=wl(Or(),n.body));const r=await hu(t,n,{retries:!n.method||n.method==="GET"?3:1,retryOnNetworkError:!0,retryOn500:!0}),o=await r.text();let l;if(o==="")l="";else{let a=Or();l=o.split("|").filter(f=>f.length>0).map(f=>El(a,f)).join(""),pu(!0);const i=new URL(window.location.href),s=new URLSearchParams(i.hash.slice(1));s.delete("sk");const u=s.toString();history.replaceState(null,"",u?`#${u}`:window.location.pathname+window.location.search)}return new Response(l,{status:r.status,statusText:r.statusText,headers:r.headers})};function Or(){const e=window.securityKey;return e!=window.securityKeyOnDerive&&(console.log("generating security key"),window.encryptionKey=Ar(e,"example_salt"),window.securityKeyOnDerive=e),window.encryptionKey}function _u({onSecurityKeyChanged:e}){const{securityKey:t,setSecurityKey:n}=M(Vn),r=k(null),o=k(null);return d(Gs,{open:!0,onClose:()=>{},initialFocus:o,children:[d(Ks,{className:"dialog-backdrop"}),d("div",{className:"dialog-container",children:d("div",{className:"security-key-section",children:[d("h3",{children:"Security Key:"}),d(Ys,{ref:o,placeholder:"Enter Security Key",className:"security-key-input",type:"text",value:t,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellcheck:!1,onChange:a=>{n(a.currentTarget.value),clearTimeout(r.current),r.current=setTimeout(()=>{e()},500)}})]})})]})}function mu({children:e}){const{securityOk:t}=M(Vn);P(()=>{(async()=>await n())()},[t]);const n=async()=>{try{const r=xt("/api/test-key");return await(await encryptedFetch(r,{method:"POST",headers:{"Content-Type":"application/text"},body:JSON.stringify({test:"Hello"})})).text(),console.log("Authentication Succeeded"),"Ok"}catch{return console.log("Authentication Failed"),"Err"}};return t?d(C,{children:e}):d(_u,{onSecurityKeyChanged:n})}(async()=>(console.log("Initialize Wasm"),yl(),Ke(d(Xs,{children:d(du,{children:d(mu,{children:d(Ml,{children:d(uu,{})})})})}),document.getElementById("app"))))();
