import tm,{encrypt as nm,decrypt as rm,derive_key as qf}from"/pkg/device_wasm.js";var Sr,se,zf,cn,Su,Uf,Wf,Kf,rs,ma,va,Yf,mr={},Xf=[],om=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,xr=Array.isArray;function Ct(e,t){for(var n in t)e[n]=t[n];return e}function os(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Le(e,t,n){var r,o,i,l={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:l[i]=t[i];if(arguments.length>2&&(l.children=arguments.length>3?Sr.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)l[i]==null&&(l[i]=e.defaultProps[i]);return ur(e,l,r,o,null)}function ur(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++zf,__i:-1,__u:0};return o==null&&se.vnode!=null&&se.vnode(i),i}function is(){return{current:null}}function ee(e){return e.children}function at(e,t){this.props=e,this.context=t}function Dn(e,t){if(t==null)return e.__?Dn(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Dn(e):null}function Jf(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Jf(e)}}function ba(e){(!e.__d&&(e.__d=!0)&&cn.push(e)&&!no.__r++||Su!=se.debounceRendering)&&((Su=se.debounceRendering)||Uf)(no)}function no(){for(var e,t,n,r,o,i,l,a=1;cn.length;)cn.length>a&&cn.sort(Wf),e=cn.shift(),a=cn.length,e.__d&&(n=void 0,o=(r=(t=e).__v).__e,i=[],l=[],t.__P&&((n=Ct({},r)).__v=r.__v+1,se.vnode&&se.vnode(n),ls(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[o]:null,i,o??Dn(r),!!(32&r.__u),l),n.__v=r.__v,n.__.__k[n.__i]=n,ep(i,n,l),n.__e!=o&&Jf(n)));no.__r=0}function Qf(e,t,n,r,o,i,l,a,s,c,f){var p,g,d,h,m,v,b=r&&r.__k||Xf,_=t.length;for(s=im(n,t,b,s,_),p=0;p<_;p++)(d=n.__k[p])!=null&&(g=d.__i==-1?mr:b[d.__i]||mr,d.__i=p,v=ls(e,d,g,o,i,l,a,s,c,f),h=d.__e,d.ref&&g.ref!=d.ref&&(g.ref&&as(g.ref,null,d),f.push(d.ref,d.__c||h,d)),m==null&&h!=null&&(m=h),4&d.__u||g.__k===d.__k?s=Zf(d,s,e):typeof d.type=="function"&&v!==void 0?s=v:h&&(s=h.nextSibling),d.__u&=-7);return n.__e=m,s}function im(e,t,n,r,o){var i,l,a,s,c,f=n.length,p=f,g=0;for(e.__k=new Array(o),i=0;i<o;i++)(l=t[i])!=null&&typeof l!="boolean"&&typeof l!="function"?(s=i+g,(l=e.__k[i]=typeof l=="string"||typeof l=="number"||typeof l=="bigint"||l.constructor==String?ur(null,l,null,null,null):xr(l)?ur(ee,{children:l},null,null,null):l.constructor==null&&l.__b>0?ur(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):l).__=e,l.__b=e.__b+1,a=null,(c=l.__i=lm(l,n,s,p))!=-1&&(p--,(a=n[c])&&(a.__u|=2)),a==null||a.__v==null?(c==-1&&(o>f?g--:o<f&&g++),typeof l.type!="function"&&(l.__u|=4)):c!=s&&(c==s-1?g--:c==s+1?g++:(c>s?g--:g++,l.__u|=4))):e.__k[i]=null;if(p)for(i=0;i<f;i++)(a=n[i])!=null&&(2&a.__u)==0&&(a.__e==r&&(r=Dn(a)),np(a,a));return r}function Zf(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=Zf(r[o],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=Dn(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function st(e,t){return t=t||[],e==null||typeof e=="boolean"||(xr(e)?e.some(function(n){st(n,t)}):t.push(e)),t}function lm(e,t,n,r){var o,i,l=e.key,a=e.type,s=t[n];if(s===null&&e.key==null||s&&l==s.key&&a==s.type&&(2&s.__u)==0)return n;if(r>(s!=null&&(2&s.__u)==0?1:0))for(o=n-1,i=n+1;o>=0||i<t.length;){if(o>=0){if((s=t[o])&&(2&s.__u)==0&&l==s.key&&a==s.type)return o;o--}if(i<t.length){if((s=t[i])&&(2&s.__u)==0&&l==s.key&&a==s.type)return i;i++}}return-1}function xu(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||om.test(t)?n:n+"px"}function jr(e,t,n,r,o){var i,l;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||xu(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||xu(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")i=t!=(t=t.replace(Kf,"$1")),l=t.toLowerCase(),t=l in e||t=="onFocusOut"||t=="onFocusIn"?l.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=rs,e.addEventListener(t,i?va:ma,i)):e.removeEventListener(t,i?va:ma,i);else{if(o=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function Cu(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=rs++;else if(t.t<n.u)return;return n(se.event?se.event(t):t)}}}function ls(e,t,n,r,o,i,l,a,s,c){var f,p,g,d,h,m,v,b,_,y,S,w,C,O,L,M,P,$=t.type;if(t.constructor!=null)return null;128&n.__u&&(s=!!(32&n.__u),i=[a=t.__e=n.__e]),(f=se.__b)&&f(t);e:if(typeof $=="function")try{if(b=t.props,_="prototype"in $&&$.prototype.render,y=(f=$.contextType)&&r[f.__c],S=f?y?y.props.value:f.__:r,n.__c?v=(p=t.__c=n.__c).__=p.__E:(_?t.__c=p=new $(b,S):(t.__c=p=new at(b,S),p.constructor=$,p.render=sm),y&&y.sub(p),p.props=b,p.state||(p.state={}),p.context=S,p.__n=r,g=p.__d=!0,p.__h=[],p._sb=[]),_&&p.__s==null&&(p.__s=p.state),_&&$.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=Ct({},p.__s)),Ct(p.__s,$.getDerivedStateFromProps(b,p.__s))),d=p.props,h=p.state,p.__v=t,g)_&&$.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),_&&p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(_&&$.getDerivedStateFromProps==null&&b!==d&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(b,S),!p.__e&&p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(b,p.__s,S)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(p.props=b,p.state=p.__s,p.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(I){I&&(I.__=t)}),w=0;w<p._sb.length;w++)p.__h.push(p._sb[w]);p._sb=[],p.__h.length&&l.push(p);break e}p.componentWillUpdate!=null&&p.componentWillUpdate(b,p.__s,S),_&&p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(d,h,m)})}if(p.context=S,p.props=b,p.__P=e,p.__e=!1,C=se.__r,O=0,_){for(p.state=p.__s,p.__d=!1,C&&C(t),f=p.render(p.props,p.state,p.context),L=0;L<p._sb.length;L++)p.__h.push(p._sb[L]);p._sb=[]}else do p.__d=!1,C&&C(t),f=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++O<25);p.state=p.__s,p.getChildContext!=null&&(r=Ct(Ct({},r),p.getChildContext())),_&&!g&&p.getSnapshotBeforeUpdate!=null&&(m=p.getSnapshotBeforeUpdate(d,h)),M=f,f!=null&&f.type===ee&&f.key==null&&(M=tp(f.props.children)),a=Qf(e,xr(M)?M:[M],t,n,r,o,i,l,a,s,c),p.base=t.__e,t.__u&=-161,p.__h.length&&l.push(p),v&&(p.__E=p.__=null)}catch(I){if(t.__v=null,s||i!=null)if(I.then){for(t.__u|=s?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;i[i.indexOf(a)]=null,t.__e=a}else for(P=i.length;P--;)os(i[P]);else t.__e=n.__e,t.__k=n.__k;se.__e(I,t,n)}else i==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):a=t.__e=am(n.__e,t,n,r,o,i,l,s,c);return(f=se.diffed)&&f(t),128&t.__u?void 0:a}function ep(e,t,n){for(var r=0;r<n.length;r++)as(n[r],n[++r],n[++r]);se.__c&&se.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){se.__e(i,o.__v)}})}function tp(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:xr(e)?e.map(tp):Ct({},e)}function am(e,t,n,r,o,i,l,a,s){var c,f,p,g,d,h,m,v=n.props,b=t.props,_=t.type;if(_=="svg"?o="http://www.w3.org/2000/svg":_=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),i!=null){for(c=0;c<i.length;c++)if((d=i[c])&&"setAttribute"in d==!!_&&(_?d.localName==_:d.nodeType==3)){e=d,i[c]=null;break}}if(e==null){if(_==null)return document.createTextNode(b);e=document.createElementNS(o,_,b.is&&b),a&&(se.__m&&se.__m(t,i),a=!1),i=null}if(_==null)v===b||a&&e.data==b||(e.data=b);else{if(i=i&&Sr.call(e.childNodes),v=n.props||mr,!a&&i!=null)for(v={},c=0;c<e.attributes.length;c++)v[(d=e.attributes[c]).name]=d.value;for(c in v)if(d=v[c],c!="children"){if(c=="dangerouslySetInnerHTML")p=d;else if(!(c in b)){if(c=="value"&&"defaultValue"in b||c=="checked"&&"defaultChecked"in b)continue;jr(e,c,null,d,o)}}for(c in b)d=b[c],c=="children"?g=d:c=="dangerouslySetInnerHTML"?f=d:c=="value"?h=d:c=="checked"?m=d:a&&typeof d!="function"||v[c]===d||jr(e,c,d,v[c],o);if(f)a||p&&(f.__html==p.__html||f.__html==e.innerHTML)||(e.innerHTML=f.__html),t.__k=[];else if(p&&(e.innerHTML=""),Qf(t.type=="template"?e.content:e,xr(g)?g:[g],t,n,r,_=="foreignObject"?"http://www.w3.org/1999/xhtml":o,i,l,i?i[0]:n.__k&&Dn(n,0),a,s),i!=null)for(c=i.length;c--;)os(i[c]);a||(c="value",_=="progress"&&h==null?e.removeAttribute("value"):h!=null&&(h!==e[c]||_=="progress"&&!h||_=="option"&&h!=v[c])&&jr(e,c,h,v[c],o),c="checked",m!=null&&m!=e[c]&&jr(e,c,m,v[c],o))}return e}function as(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(o){se.__e(o,n)}}function np(e,t,n){var r,o;if(se.unmount&&se.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||as(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){se.__e(i,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&np(r[o],t,n||typeof e.type!="function");n||os(e.__e),e.__c=e.__=e.__e=void 0}function sm(e,t,n){return this.constructor(e,n)}function Gn(e,t,n){var r,o,i,l;t==document&&(t=document.documentElement),se.__&&se.__(e,t),o=(r=typeof n=="function")?null:n&&n.__k||t.__k,i=[],l=[],ls(t,e=(!r&&n||t).__k=Le(ee,null,[e]),o||mr,mr,t.namespaceURI,!r&&n?[n]:o?null:t.firstChild?Sr.call(t.childNodes):null,i,!r&&n?n:o?o.__e:t.firstChild,r,l),ep(i,e,l)}function rp(e,t){Gn(e,t,rp)}function op(e,t,n){var r,o,i,l,a=Ct({},e.props);for(i in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)i=="key"?r=t[i]:i=="ref"?o=t[i]:a[i]=t[i]==null&&l!=null?l[i]:t[i];return arguments.length>2&&(a.children=arguments.length>3?Sr.call(arguments,2):n),ur(e.type,a,r||e.key,o||e.ref,null)}function he(e){function t(n){var r,o;return this.getChildContext||(r=new Set,(o={})[t.__c]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(i){this.props.value!=i.value&&r.forEach(function(l){l.__e=!0,ba(l)})},this.sub=function(i){r.add(i);var l=i.componentWillUnmount;i.componentWillUnmount=function(){r&&r.delete(i),l&&l.call(i)}}),n.children}return t.__c="__cC"+Yf++,t.__=e,t.Provider=t.__l=(t.Consumer=function(n,r){return n.children(r)}).contextType=t,t}Sr=Xf.slice,se={__e:function(e,t,n,r){for(var o,i,l;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),l=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),l=o.__d),l)return o.__E=o}catch(a){e=a}throw e}},zf=0,at.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Ct({},this.state),typeof e=="function"&&(e=e(Ct({},n),this.props)),e&&Ct(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),ba(this))},at.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ba(this))},at.prototype.render=ee,cn=[],Uf=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Wf=function(e,t){return e.__v.__b-t.__v.__b},no.__r=0,Kf=/(PointerCapture)$|Capture$/i,rs=0,ma=Cu(!1),va=Cu(!0),Yf=0;var um=0;function u(e,t,n,r,o,i){t||(t={});var l,a,s=t;if("ref"in s)for(a in s={},t)a=="ref"?l=t[a]:s[a]=t[a];var c={type:e,props:s,key:n,ref:l,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--um,__i:-1,__u:0,__source:o,__self:i};if(typeof e=="function"&&(l=e.defaultProps))for(a in l)s[a]===void 0&&(s[a]=l[a]);return se.vnode&&se.vnode(c),c}var Mt,Pe,Wo,Fu,Vn=0,ip=[],Ae=se,Eu=Ae.__b,Pu=Ae.__r,$u=Ae.diffed,Ru=Ae.__c,Nu=Ae.unmount,Au=Ae.__;function wn(e,t){Ae.__h&&Ae.__h(Pe,e,Vn||t),Vn=0;var n=Pe.__H||(Pe.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function A(e){return Vn=1,Dt(lp,e)}function Dt(e,t,n){var r=wn(Mt++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):lp(void 0,t),function(a){var s=r.__N?r.__N[0]:r.__[0],c=r.t(s,a);s!==c&&(r.__N=[c,r.__[1]],r.__c.setState({}))}],r.__c=Pe,!Pe.__f)){var o=function(a,s,c){if(!r.__c.__H)return!0;var f=r.__c.__H.__.filter(function(g){return!!g.__c});if(f.every(function(g){return!g.__N}))return!i||i.call(this,a,s,c);var p=r.__c.props!==a;return f.forEach(function(g){if(g.__N){var d=g.__[0];g.__=g.__N,g.__N=void 0,d!==g.__[0]&&(p=!0)}}),i&&i.call(this,a,s,c)||p};Pe.__f=!0;var i=Pe.shouldComponentUpdate,l=Pe.componentWillUpdate;Pe.componentWillUpdate=function(a,s,c){if(this.__e){var f=i;i=void 0,o(a,s,c),i=f}l&&l.call(this,a,s,c)},Pe.shouldComponentUpdate=o}return r.__N||r.__}function z(e,t){var n=wn(Mt++,3);!Ae.__s&&cs(n.__H,t)&&(n.__=e,n.u=t,Pe.__H.__h.push(n))}function mt(e,t){var n=wn(Mt++,4);!Ae.__s&&cs(n.__H,t)&&(n.__=e,n.u=t,Pe.__h.push(n))}function D(e){return Vn=5,G(function(){return{current:e}},[])}function ss(e,t,n){Vn=6,mt(function(){if(typeof e=="function"){var r=e(t());return function(){e(null),r&&typeof r=="function"&&r()}}if(e)return e.current=t(),function(){return e.current=null}},n==null?n:n.concat(e))}function G(e,t){var n=wn(Mt++,7);return cs(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function te(e,t){return Vn=8,G(function(){return e},t)}function oe(e){var t=Pe.context[e.__c],n=wn(Mt++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(Pe)),t.props.value):e.__}function us(e,t){Ae.useDebugValue&&Ae.useDebugValue(t?t(e):e)}function cm(e){var t=wn(Mt++,10),n=A();return t.__=e,Pe.componentDidCatch||(Pe.componentDidCatch=function(r,o){t.__&&t.__(r,o),n[1](r)}),[n[0],function(){n[1](void 0)}]}function $e(){var e=wn(Mt++,11);if(!e.__){for(var t=Pe.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function dm(){for(var e;e=ip.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Qr),e.__H.__h.forEach(_a),e.__H.__h=[]}catch(t){e.__H.__h=[],Ae.__e(t,e.__v)}}Ae.__b=function(e){Pe=null,Eu&&Eu(e)},Ae.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Au&&Au(e,t)},Ae.__r=function(e){Pu&&Pu(e),Mt=0;var t=(Pe=e.__c).__H;t&&(Wo===Pe?(t.__h=[],Pe.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(Qr),t.__h.forEach(_a),t.__h=[],Mt=0)),Wo=Pe},Ae.diffed=function(e){$u&&$u(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(ip.push(t)!==1&&Fu===Ae.requestAnimationFrame||((Fu=Ae.requestAnimationFrame)||fm)(dm)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),Wo=Pe=null},Ae.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Qr),n.__h=n.__h.filter(function(r){return!r.__||_a(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],Ae.__e(r,n.__v)}}),Ru&&Ru(e,t)},Ae.unmount=function(e){Nu&&Nu(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Qr(r)}catch(o){t=o}}),n.__H=void 0,t&&Ae.__e(t,n.__v))};var Tu=typeof requestAnimationFrame=="function";function fm(e){var t,n=function(){clearTimeout(r),Tu&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,35);Tu&&(t=requestAnimationFrame(n))}function Qr(e){var t=Pe,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),Pe=t}function _a(e){var t=Pe;e.__c=e.__(),Pe=t}function cs(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function lp(e,t){return typeof t=="function"?t(e):t}var pm={};function Hr(e,t){for(var n in t)e[n]=t[n];return e}function gm(e,t,n){var r,o=/(?:\?([^#]*))?(#.*)?$/,i=e.match(o),l={};if(i&&i[1])for(var a=i[1].split("&"),s=0;s<a.length;s++){var c=a[s].split("=");l[decodeURIComponent(c[0])]=decodeURIComponent(c.slice(1).join("="))}e=ya(e.replace(o,"")),t=ya(t||"");for(var f=Math.max(e.length,t.length),p=0;p<f;p++)if(t[p]&&t[p].charAt(0)===":"){var g=t[p].replace(/(^:|[+*?]+$)/g,""),d=(t[p].match(/[+*?]+$/)||pm)[0]||"",h=~d.indexOf("+"),m=~d.indexOf("*"),v=e[p]||"";if(!v&&!m&&(d.indexOf("?")<0||h)){r=!1;break}if(l[g]=decodeURIComponent(v),h||m){l[g]=e.slice(p).map(decodeURIComponent).join("/");break}}else if(t[p]!==e[p]){r=!1;break}return(n.default===!0||r!==!1)&&l}function hm(e,t){return e.rank<t.rank?1:e.rank>t.rank?-1:e.index-t.index}function mm(e,t){return e.index=t,e.rank=function(n){return n.props.default?0:ya(n.props.path).map(vm).join("")}(e),e.props}function ya(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function vm(e){return e.charAt(0)==":"?1+"*+?".indexOf(e.charAt(e.length-1))||4:5}var bm={},mn=[],cr=[],Ze=null,ds={url:fs()},ap=he(ds);function _m(){var e=oe(ap);if(e===ds){var t=A()[1];z(function(){return cr.push(t),function(){return cr.splice(cr.indexOf(t),1)}},[])}return[e,sp]}function fs(){var e;return""+((e=Ze&&Ze.location?Ze.location:Ze&&Ze.getCurrentLocation?Ze.getCurrentLocation():typeof location<"u"?location:bm).pathname||"")+(e.search||"")}function sp(e,t){return t===void 0&&(t=!1),typeof e!="string"&&e.url&&(t=e.replace,e=e.url),function(n){for(var r=mn.length;r--;)if(mn[r].canRoute(n))return!0;return!1}(e)&&function(n,r){r===void 0&&(r="push"),Ze&&Ze[r]?Ze[r](n):typeof history<"u"&&history[r+"State"]&&history[r+"State"](null,null,n)}(e,t?"replace":"push"),up(e)}function up(e){for(var t=!1,n=0;n<mn.length;n++)mn[n].routeTo(e)&&(t=!0);return t}function ym(e){if(e&&e.getAttribute){var t=e.getAttribute("href"),n=e.getAttribute("target");if(t&&t.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return sp(t)}}function wm(e){return e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),e.preventDefault(),!1}function Sm(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||e.button)){var t=e.target;do if(t.localName==="a"&&t.getAttribute("href")){if(t.hasAttribute("data-native")||t.hasAttribute("native"))return;if(ym(t))return wm(e)}while(t=t.parentNode)}}var ku=!1;function cp(e){e.history&&(Ze=e.history),this.state={url:e.url||fs()}}Hr(cp.prototype=new at,{shouldComponentUpdate:function(e){return e.static!==!0||e.url!==this.props.url||e.onChange!==this.props.onChange},canRoute:function(e){var t=st(this.props.children);return this.g(t,e)!==void 0},routeTo:function(e){this.setState({url:e});var t=this.canRoute(e);return this.p||this.forceUpdate(),t},componentWillMount:function(){this.p=!0},componentDidMount:function(){var e=this;ku||(ku=!0,Ze||addEventListener("popstate",function(){up(fs())}),addEventListener("click",Sm)),mn.push(this),Ze&&(this.u=Ze.listen(function(t){var n=t.location||t;e.routeTo(""+(n.pathname||"")+(n.search||""))})),this.p=!1},componentWillUnmount:function(){typeof this.u=="function"&&this.u(),mn.splice(mn.indexOf(this),1)},componentWillUpdate:function(){this.p=!0},componentDidUpdate:function(){this.p=!1},g:function(e,t){e=e.filter(mm).sort(hm);for(var n=0;n<e.length;n++){var r=e[n],o=gm(t,r.props.path,r.props);if(o)return[r,o]}},render:function(e,t){var n,r,o=e.onChange,i=t.url,l=this.c,a=this.g(st(e.children),i);if(a&&(r=op(a[0],Hr(Hr({url:i,matches:n=a[1]},n),{key:void 0,ref:void 0}))),i!==(l&&l.url)){Hr(ds,l=this.c={url:i,previous:l&&l.url,current:r,path:r?r.props.path:null,matches:n}),l.router=this,l.active=r?[r]:[];for(var s=cr.length;s--;)cr[s]({});typeof o=="function"&&o(l)}return Le(ap.Provider,{value:l},r)}});/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xm=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Iu=e=>{const t=xm(e);return t.charAt(0).toUpperCase()+t.slice(1)},Cm=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,children:o,iconNode:i,class:l="",...a})=>Le("svg",{...Fm,width:String(t),height:t,stroke:e,"stroke-width":r?Number(n)*24/Number(t):n,class:["lucide",l].join(" "),...a},[...i.map(([s,c])=>Le(s,c)),...st(o)]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(e,t)=>{const n=({class:r="",children:o,...i})=>Le(Em,{...i,iconNode:t,class:Cm(`lucide-${Ou(Iu(e))}`,`lucide-${Ou(e)}`,r)},o);return n.displayName=Iu(e),n};/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=Ce("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=Ce("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=Ce("case-lower",[["circle",{cx:"7",cy:"12",r:"3",key:"12clwm"}],["path",{d:"M10 9v6",key:"17i7lo"}],["circle",{cx:"17",cy:"12",r:"3",key:"gl7c2s"}],["path",{d:"M14 7v8",key:"dl84cr"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=Ce("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=Ce("container",[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=Ce("corner-down-left",[["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}],["path",{d:"m9 10-5 5 5 5",key:"1kshq7"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=Ce("delete",[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=Ce("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=Ce("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=Ce("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=Ce("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=Ce("link-2-off",[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=Ce("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=Ce("monitor-cog",[["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"m14.305 7.53.923-.382",key:"1mlnsw"}],["path",{d:"m15.228 4.852-.923-.383",key:"82mpwg"}],["path",{d:"m16.852 3.228-.383-.924",key:"ln4sir"}],["path",{d:"m16.852 8.772-.383.923",key:"1dejw0"}],["path",{d:"m19.148 3.228.383-.924",key:"192kgf"}],["path",{d:"m19.53 9.696-.382-.924",key:"fiavlr"}],["path",{d:"m20.772 4.852.924-.383",key:"1j8mgp"}],["path",{d:"m20.772 7.148.924.383",key:"zix9be"}],["path",{d:"M22 13v2a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"1tnzv8"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=Ce("nfc",[["path",{d:"M6 8.32a7.43 7.43 0 0 1 0 7.36",key:"9iaqei"}],["path",{d:"M9.46 6.21a11.76 11.76 0 0 1 0 11.58",key:"1yha7l"}],["path",{d:"M12.91 4.1a15.91 15.91 0 0 1 .01 15.8",key:"4iu2gk"}],["path",{d:"M16.37 2a20.16 20.16 0 0 1 0 20",key:"sap9u2"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=Ce("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=Ce("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=Ce("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=Ce("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=Ce("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=Ce("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=Ce("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=Ce("slash",[["path",{d:"M22 2 2 22",key:"y4kqgn"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=Ce("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=Ce("square-library",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 7v10",key:"d5nglc"}],["path",{d:"M11 7v10",key:"pptsnr"}],["path",{d:"m15 7 2 10",key:"1m7qm5"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=Ce("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=Ce("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=Ce("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function hp(e,t){for(var n in t)e[n]=t[n];return e}function Sa(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function ho(e,t){var n=t(),r=A({t:{__:n,u:t}}),o=r[0].t,i=r[1];return mt(function(){o.__=n,o.u=t,Ko(o)&&i({t:o})},[e,n,t]),z(function(){return Ko(o)&&i({t:o}),e(function(){Ko(o)&&i({t:o})})},[e]),n}function Ko(e){var t,n,r=e.u,o=e.__;try{var i=r();return!((t=o)===(n=i)&&(t!==0||1/t==1/n)||t!=t&&n!=n)}catch{return!0}}function ps(e){e()}function gs(e){return e}function hs(){return[!1,ps]}var ms=mt;function oo(e,t){this.props=e,this.context=t}function mp(e,t){function n(o){var i=this.props.ref,l=i==o.ref;return!l&&i&&(i.call?i(null):i.current=null),t?!t(this.props,o)||!l:Sa(this.props,o)}function r(o){return this.shouldComponentUpdate=n,Le(e,o)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(oo.prototype=new at).isPureReactComponent=!0,oo.prototype.shouldComponentUpdate=function(e,t){return Sa(this.props,e)||Sa(this.state,t)};var Mu=se.__b;se.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Mu&&Mu(e)};var Wm=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function mo(e){function t(n){var r=hp({},n);return delete r.ref,e(r,n.ref||null)}return t.$$typeof=Wm,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var Lu=function(e,t){return e==null?null:st(st(e).map(t))},vp={map:Lu,forEach:Lu,count:function(e){return e?st(e).length:0},only:function(e){var t=st(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:st},Km=se.__e;se.__e=function(e,t,n,r){if(e.then){for(var o,i=t;i=i.__;)if((o=i.__c)&&o.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t)}Km(e,t,n,r)};var Du=se.unmount;function bp(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=hp({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return bp(r,t,n)})),e}function _p(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return _p(r,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function dr(){this.__u=0,this.o=null,this.__b=null}function yp(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function wp(e){var t,n,r;function o(i){if(t||(t=e()).then(function(l){n=l.default||l},function(l){r=l}),r)throw r;if(!n)throw t;return Le(n,i)}return o.displayName="Lazy",o.__f=!0,o}function Tn(){this.i=null,this.l=null}se.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),Du&&Du(e)},(dr.prototype=new at).__c=function(e,t){var n=t.__c,r=this;r.o==null&&(r.o=[]),r.o.push(n);var o=yp(r.__v),i=!1,l=function(){i||(i=!0,n.__R=null,o?o(a):a())};n.__R=l;var a=function(){if(!--r.__u){if(r.state.__a){var s=r.state.__a;r.__v.__k[0]=_p(s,s.__c.__P,s.__c.__O)}var c;for(r.setState({__a:r.__b=null});c=r.o.pop();)c.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(l,l)},dr.prototype.componentWillUnmount=function(){this.o=[]},dr.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=bp(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__a&&Le(ee,null,e.fallback);return o&&(o.__u&=-33),[Le(ee,null,t.__a?null:e.children),o]};var Gu=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function Ym(e){return this.getChildContext=function(){return e.context},e.children}function Xm(e){var t=this,n=e.h;if(t.componentWillUnmount=function(){Gn(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),!t.v){for(var r=t.__v;r!==null&&!r.__m&&r.__!==null;)r=r.__;t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],__k:{__m:r.__m},contains:function(){return!0},insertBefore:function(o,i){this.childNodes.push(o),t.h.insertBefore(o,i)},removeChild:function(o){this.childNodes.splice(this.childNodes.indexOf(o)>>>1,1),t.h.removeChild(o)}}}Gn(Le(Ym,{context:t.context},e.__v),t.v)}function vo(e,t){var n=Le(Xm,{__v:e,h:t});return n.containerInfo=t,n}(Tn.prototype=new at).__a=function(e){var t=this,n=yp(t.__v),r=t.l.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),Gu(t,e,r)):o()};n?n(i):i()}},Tn.prototype.render=function(e){this.i=null,this.l=new Map;var t=st(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},Tn.prototype.componentDidUpdate=Tn.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){Gu(e,n,t)})};var Sp=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Jm=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Qm=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Zm=/[A-Z0-9]/g,ev=typeof document<"u",tv=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function xp(e,t,n){return t.__k==null&&(t.textContent=""),Gn(e,t),typeof n=="function"&&n(),e?e.__c:null}function Cp(e,t,n){return rp(e,t),typeof n=="function"&&n(),e?e.__c:null}at.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(at.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var Vu=se.event;function nv(){}function rv(){return this.cancelBubble}function ov(){return this.defaultPrevented}se.event=function(e){return Vu&&(e=Vu(e)),e.persist=nv,e.isPropagationStopped=rv,e.isDefaultPrevented=ov,e.nativeEvent=e};var vs,iv={enumerable:!1,configurable:!0,get:function(){return this.class}},Bu=se.vnode;se.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,r=t.type,o={},i=r.indexOf("-")===-1;for(var l in n){var a=n[l];if(!(l==="value"&&"defaultValue"in n&&a==null||ev&&l==="children"&&r==="noscript"||l==="class"||l==="className")){var s=l.toLowerCase();l==="defaultValue"&&"value"in n&&n.value==null?l="value":l==="download"&&a===!0?a="":s==="translate"&&a==="no"?a=!1:s[0]==="o"&&s[1]==="n"?s==="ondoubleclick"?l="ondblclick":s!=="onchange"||r!=="input"&&r!=="textarea"||tv(n.type)?s==="onfocus"?l="onfocusin":s==="onblur"?l="onfocusout":Qm.test(l)&&(l=s):s=l="oninput":i&&Jm.test(l)?l=l.replace(Zm,"-$&").toLowerCase():a===null&&(a=void 0),s==="oninput"&&o[l=s]&&(l="oninputCapture"),o[l]=a}}r=="select"&&o.multiple&&Array.isArray(o.value)&&(o.value=st(n.children).forEach(function(c){c.props.selected=o.value.indexOf(c.props.value)!=-1})),r=="select"&&o.defaultValue!=null&&(o.value=st(n.children).forEach(function(c){c.props.selected=o.multiple?o.defaultValue.indexOf(c.props.value)!=-1:o.defaultValue==c.props.value})),n.class&&!n.className?(o.class=n.class,Object.defineProperty(o,"className",iv)):(n.className&&!n.class||n.class&&n.className)&&(o.class=o.className=n.className),t.props=o}(e),e.$$typeof=Sp,Bu&&Bu(e)};var ju=se.__r;se.__r=function(e){ju&&ju(e),vs=e.__c};var Hu=se.diffed;se.diffed=function(e){Hu&&Hu(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value),vs=null};var Fp={ReactCurrentDispatcher:{current:{readContext:function(e){return vs.__n[e.__c].props.value},useCallback:te,useContext:oe,useDebugValue:us,useDeferredValue:gs,useEffect:z,useId:$e,useImperativeHandle:ss,useInsertionEffect:ms,useLayoutEffect:mt,useMemo:G,useReducer:Dt,useRef:D,useState:A,useSyncExternalStore:ho,useTransition:hs}}},lv="18.3.1";function Ep(e){return Le.bind(null,e)}function qn(e){return!!e&&e.$$typeof===Sp}function Pp(e){return qn(e)&&e.type===ee}function $p(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function bs(e){return qn(e)?op.apply(null,arguments):e}function Rp(e){return!!e.__k&&(Gn(null,e),!0)}function Np(e){return e&&(e.base||e.nodeType===1&&e)||null}var Ap=function(e,t){return e(t)},Ve=function(e,t){return e(t)},Tp=ee,kp=qn,E={useState:A,useId:$e,useReducer:Dt,useEffect:z,useLayoutEffect:mt,useInsertionEffect:ms,useTransition:hs,useDeferredValue:gs,useSyncExternalStore:ho,startTransition:ps,useRef:D,useImperativeHandle:ss,useMemo:G,useCallback:te,useContext:oe,useDebugValue:us,version:"18.3.1",Children:vp,render:xp,hydrate:Cp,unmountComponentAtNode:Rp,createPortal:vo,createElement:Le,createContext:he,createFactory:Ep,cloneElement:bs,createRef:is,Fragment:ee,isValidElement:qn,isElement:kp,isFragment:Pp,isMemo:$p,findDOMNode:Np,Component:at,PureComponent:oo,memo:mp,forwardRef:mo,flushSync:Ve,unstable_batchedUpdates:Ap,StrictMode:Tp,Suspense:dr,SuspenseList:Tn,lazy:wp,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Fp};const io=Object.freeze(Object.defineProperty({__proto__:null,Children:vp,Component:at,Fragment:ee,PureComponent:oo,StrictMode:Tp,Suspense:dr,SuspenseList:Tn,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Fp,cloneElement:bs,createContext:he,createElement:Le,createFactory:Ep,createPortal:vo,createRef:is,default:E,findDOMNode:Np,flushSync:Ve,forwardRef:mo,hydrate:Cp,isElement:kp,isFragment:Pp,isMemo:$p,isValidElement:qn,lazy:wp,memo:mp,render:xp,startTransition:ps,unmountComponentAtNode:Rp,unstable_batchedUpdates:Ap,useCallback:te,useContext:oe,useDebugValue:us,useDeferredValue:gs,useEffect:z,useErrorBoundary:cm,useId:$e,useImperativeHandle:ss,useInsertionEffect:ms,useLayoutEffect:mt,useMemo:G,useReducer:Dt,useRef:D,useState:A,useSyncExternalStore:ho,useTransition:hs,version:lv},Symbol.toStringTag,{value:"Module"}));/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function av(){return{accessor:(e,t)=>typeof e=="function"?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e}}function Ht(e,t){return typeof e=="function"?e(t):e}function rt(e,t){return n=>{t.setState(r=>({...r,[e]:Ht(n,r[e])}))}}function bo(e){return e instanceof Function}function sv(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function uv(e,t){const n=[],r=o=>{o.forEach(i=>{n.push(i);const l=t(i);l!=null&&l.length&&r(l)})};return r(e),n}function Q(e,t,n){let r=[],o;return i=>{let l;n.key&&n.debug&&(l=Date.now());const a=e(i);if(!(a.length!==r.length||a.some((f,p)=>r[p]!==f)))return o;r=a;let c;if(n.key&&n.debug&&(c=Date.now()),o=t(...a),n==null||n.onChange==null||n.onChange(o),n.key&&n.debug&&n!=null&&n.debug()){const f=Math.round((Date.now()-l)*100)/100,p=Math.round((Date.now()-c)*100)/100,g=p/16,d=(h,m)=>{for(h=String(h);h.length<m;)h=" "+h;return h};console.info(`%câ± ${d(p,5)} /${d(f,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,n==null?void 0:n.key)}return o}}function Z(e,t,n,r){return{debug:()=>{var o;return(o=e==null?void 0:e.debugAll)!=null?o:e[t]},key:!1,onChange:r}}function cv(e,t,n,r){const o=()=>{var l;return(l=i.getValue())!=null?l:e.options.renderFallbackValue},i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:o,getContext:Q(()=>[e,n,t,i],(l,a,s,c)=>({table:l,column:a,row:s,cell:c,getValue:c.getValue,renderValue:c.renderValue}),Z(e.options,"debugCells"))};return e._features.forEach(l=>{l.createCell==null||l.createCell(i,n,t,e)},{}),i}function dv(e,t,n,r){var o,i;const a={...e._getDefaultColumnDef(),...t},s=a.accessorKey;let c=(o=(i=a.id)!=null?i:s?typeof String.prototype.replaceAll=="function"?s.replaceAll(".","_"):s.replace(/\./g,"_"):void 0)!=null?o:typeof a.header=="string"?a.header:void 0,f;if(a.accessorFn?f=a.accessorFn:s&&(s.includes(".")?f=g=>{let d=g;for(const m of s.split(".")){var h;d=(h=d)==null?void 0:h[m]}return d}:f=g=>g[a.accessorKey]),!c)throw new Error;let p={id:`${String(c)}`,accessorFn:f,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:Q(()=>[!0],()=>{var g;return[p,...(g=p.columns)==null?void 0:g.flatMap(d=>d.getFlatColumns())]},Z(e.options,"debugColumns")),getLeafColumns:Q(()=>[e._getOrderColumnsFn()],g=>{var d;if((d=p.columns)!=null&&d.length){let h=p.columns.flatMap(m=>m.getLeafColumns());return g(h)}return[p]},Z(e.options,"debugColumns"))};for(const g of e._features)g.createColumn==null||g.createColumn(p,e);return p}const He="debugHeaders";function qu(e,t,n){var r;let i={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const l=[],a=s=>{s.subHeaders&&s.subHeaders.length&&s.subHeaders.map(a),l.push(s)};return a(i),l},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(l=>{l.createHeader==null||l.createHeader(i,e)}),i}const fv={createTable:e=>{e.getHeaderGroups=Q(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>{var i,l;const a=(i=r==null?void 0:r.map(p=>n.find(g=>g.id===p)).filter(Boolean))!=null?i:[],s=(l=o==null?void 0:o.map(p=>n.find(g=>g.id===p)).filter(Boolean))!=null?l:[],c=n.filter(p=>!(r!=null&&r.includes(p.id))&&!(o!=null&&o.includes(p.id)));return qr(t,[...a,...c,...s],e)},Z(e.options,He)),e.getCenterHeaderGroups=Q(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(o!=null&&o.includes(i.id))),qr(t,n,e,"center")),Z(e.options,He)),e.getLeftHeaderGroups=Q(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var o;const i=(o=r==null?void 0:r.map(l=>n.find(a=>a.id===l)).filter(Boolean))!=null?o:[];return qr(t,i,e,"left")},Z(e.options,He)),e.getRightHeaderGroups=Q(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var o;const i=(o=r==null?void 0:r.map(l=>n.find(a=>a.id===l)).filter(Boolean))!=null?o:[];return qr(t,i,e,"right")},Z(e.options,He)),e.getFooterGroups=Q(()=>[e.getHeaderGroups()],t=>[...t].reverse(),Z(e.options,He)),e.getLeftFooterGroups=Q(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),Z(e.options,He)),e.getCenterFooterGroups=Q(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),Z(e.options,He)),e.getRightFooterGroups=Q(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),Z(e.options,He)),e.getFlatHeaders=Q(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),Z(e.options,He)),e.getLeftFlatHeaders=Q(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),Z(e.options,He)),e.getCenterFlatHeaders=Q(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),Z(e.options,He)),e.getRightFlatHeaders=Q(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),Z(e.options,He)),e.getCenterLeafHeaders=Q(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Z(e.options,He)),e.getLeftLeafHeaders=Q(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Z(e.options,He)),e.getRightLeafHeaders=Q(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Z(e.options,He)),e.getLeafHeaders=Q(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var o,i,l,a,s,c;return[...(o=(i=t[0])==null?void 0:i.headers)!=null?o:[],...(l=(a=n[0])==null?void 0:a.headers)!=null?l:[],...(s=(c=r[0])==null?void 0:c.headers)!=null?s:[]].map(f=>f.getLeafHeaders()).flat()},Z(e.options,He))}};function qr(e,t,n,r){var o,i;let l=0;const a=function(g,d){d===void 0&&(d=1),l=Math.max(l,d),g.filter(h=>h.getIsVisible()).forEach(h=>{var m;(m=h.columns)!=null&&m.length&&a(h.columns,d+1)},0)};a(e);let s=[];const c=(g,d)=>{const h={depth:d,id:[r,`${d}`].filter(Boolean).join("_"),headers:[]},m=[];g.forEach(v=>{const b=[...m].reverse()[0],_=v.column.depth===h.depth;let y,S=!1;if(_&&v.column.parent?y=v.column.parent:(y=v.column,S=!0),b&&(b==null?void 0:b.column)===y)b.subHeaders.push(v);else{const w=qu(n,y,{id:[r,d,y.id,v==null?void 0:v.id].filter(Boolean).join("_"),isPlaceholder:S,placeholderId:S?`${m.filter(C=>C.column===y).length}`:void 0,depth:d,index:m.length});w.subHeaders.push(v),m.push(w)}h.headers.push(v),v.headerGroup=h}),s.push(h),d>0&&c(m,d-1)},f=t.map((g,d)=>qu(n,g,{depth:l,index:d}));c(f,l-1),s.reverse();const p=g=>g.filter(h=>h.column.getIsVisible()).map(h=>{let m=0,v=0,b=[0];h.subHeaders&&h.subHeaders.length?(b=[],p(h.subHeaders).forEach(y=>{let{colSpan:S,rowSpan:w}=y;m+=S,b.push(w)})):m=1;const _=Math.min(...b);return v=v+_,h.colSpan=m,h.rowSpan=v,{colSpan:m,rowSpan:v}});return p((o=(i=s[0])==null?void 0:i.headers)!=null?o:[]),s}const _s=(e,t,n,r,o,i,l)=>{let a={id:t,index:r,original:n,depth:o,parentId:l,_valuesCache:{},_uniqueValuesCache:{},getValue:s=>{if(a._valuesCache.hasOwnProperty(s))return a._valuesCache[s];const c=e.getColumn(s);if(c!=null&&c.accessorFn)return a._valuesCache[s]=c.accessorFn(a.original,r),a._valuesCache[s]},getUniqueValues:s=>{if(a._uniqueValuesCache.hasOwnProperty(s))return a._uniqueValuesCache[s];const c=e.getColumn(s);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(a._uniqueValuesCache[s]=c.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[s]):(a._uniqueValuesCache[s]=[a.getValue(s)],a._uniqueValuesCache[s])},renderValue:s=>{var c;return(c=a.getValue(s))!=null?c:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>uv(a.subRows,s=>s.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let s=[],c=a;for(;;){const f=c.getParentRow();if(!f)break;s.push(f),c=f}return s.reverse()},getAllCells:Q(()=>[e.getAllLeafColumns()],s=>s.map(c=>cv(e,a,c,c.id)),Z(e.options,"debugRows")),_getAllCellsByColumnId:Q(()=>[a.getAllCells()],s=>s.reduce((c,f)=>(c[f.column.id]=f,c),{}),Z(e.options,"debugRows"))};for(let s=0;s<e._features.length;s++){const c=e._features[s];c==null||c.createRow==null||c.createRow(a,e)}return a},pv={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Op=(e,t,n)=>{var r,o;const i=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((o=e.getValue(t))==null||(o=o.toString())==null||(o=o.toLowerCase())==null)&&o.includes(i))};Op.autoRemove=e=>gt(e);const Ip=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};Ip.autoRemove=e=>gt(e);const Mp=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};Mp.autoRemove=e=>gt(e);const Lp=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};Lp.autoRemove=e=>gt(e);const Dp=(e,t,n)=>!n.some(r=>{var o;return!((o=e.getValue(t))!=null&&o.includes(r))});Dp.autoRemove=e=>gt(e)||!(e!=null&&e.length);const Gp=(e,t,n)=>n.some(r=>{var o;return(o=e.getValue(t))==null?void 0:o.includes(r)});Gp.autoRemove=e=>gt(e)||!(e!=null&&e.length);const Vp=(e,t,n)=>e.getValue(t)===n;Vp.autoRemove=e=>gt(e);const Bp=(e,t,n)=>e.getValue(t)==n;Bp.autoRemove=e=>gt(e);const ys=(e,t,n)=>{let[r,o]=n;const i=e.getValue(t);return i>=r&&i<=o};ys.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,o=typeof n!="number"?parseFloat(n):n,i=t===null||Number.isNaN(r)?-1/0:r,l=n===null||Number.isNaN(o)?1/0:o;if(i>l){const a=i;i=l,l=a}return[i,l]};ys.autoRemove=e=>gt(e)||gt(e[0])&&gt(e[1]);const Nt={includesString:Op,includesStringSensitive:Ip,equalsString:Mp,arrIncludes:Lp,arrIncludesAll:Dp,arrIncludesSome:Gp,equals:Vp,weakEquals:Bp,inNumberRange:ys};function gt(e){return e==null||e===""}const gv={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:rt("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?Nt.includesString:typeof r=="number"?Nt.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Nt.equals:Array.isArray(r)?Nt.arrIncludes:Nt.weakEquals},e.getFilterFn=()=>{var n,r;return bo(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Nt[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,o;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const o=e.getFilterFn(),i=r==null?void 0:r.find(f=>f.id===e.id),l=Ht(n,i?i.value:void 0);if(zu(o,l,e)){var a;return(a=r==null?void 0:r.filter(f=>f.id!==e.id))!=null?a:[]}const s={id:e.id,value:l};if(i){var c;return(c=r==null?void 0:r.map(f=>f.id===e.id?s:f))!=null?c:[]}return r!=null&&r.length?[...r,s]:[s]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=o=>{var i;return(i=Ht(t,o))==null?void 0:i.filter(l=>{const a=n.find(s=>s.id===l.id);if(a){const s=a.getFilterFn();if(zu(s,l.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function zu(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const hv=(e,t,n)=>n.reduce((r,o)=>{const i=o.getValue(e);return r+(typeof i=="number"?i:0)},0),mv=(e,t,n)=>{let r;return n.forEach(o=>{const i=o.getValue(e);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},vv=(e,t,n)=>{let r;return n.forEach(o=>{const i=o.getValue(e);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},bv=(e,t,n)=>{let r,o;return n.forEach(i=>{const l=i.getValue(e);l!=null&&(r===void 0?l>=l&&(r=o=l):(r>l&&(r=l),o<l&&(o=l)))}),[r,o]},_v=(e,t)=>{let n=0,r=0;if(t.forEach(o=>{let i=o.getValue(e);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},yv=(e,t)=>{if(!t.length)return;const n=t.map(i=>i.getValue(e));if(!sv(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),o=n.sort((i,l)=>i-l);return n.length%2!==0?o[r]:(o[r-1]+o[r])/2},wv=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),Sv=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,xv=(e,t)=>t.length,Yo={sum:hv,min:mv,max:vv,extent:bv,mean:_v,median:yv,unique:wv,uniqueCount:Sv,count:xv},Cv={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:rt("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return Yo.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Yo.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return bo(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:Yo[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var o;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((o=n.subRows)!=null&&o.length)}}};function Fv(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(i=>!t.includes(i.id));return n==="remove"?r:[...t.map(i=>e.find(l=>l.id===i)).filter(Boolean),...r]}const Ev={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:rt("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Q(n=>[fr(t,n)],n=>n.findIndex(r=>r.id===e.id),Z(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=fr(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const o=fr(t,n);return((r=o[o.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Q(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>o=>{let i=[];if(!(t!=null&&t.length))i=o;else{const l=[...t],a=[...o];for(;a.length&&l.length;){const s=l.shift(),c=a.findIndex(f=>f.id===s);c>-1&&i.push(a.splice(c,1)[0])}i=[...i,...a]}return Fv(i,n,r)},Z(e.options,"debugTable"))}},Xo=()=>({left:[],right:[]}),Pv={getInitialState:e=>({columnPinning:Xo(),...e}),getDefaultOptions:e=>({onColumnPinningChange:rt("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(o=>o.id).filter(Boolean);t.setColumnPinning(o=>{var i,l;if(n==="right"){var a,s;return{left:((a=o==null?void 0:o.left)!=null?a:[]).filter(p=>!(r!=null&&r.includes(p))),right:[...((s=o==null?void 0:o.right)!=null?s:[]).filter(p=>!(r!=null&&r.includes(p))),...r]}}if(n==="left"){var c,f;return{left:[...((c=o==null?void 0:o.left)!=null?c:[]).filter(p=>!(r!=null&&r.includes(p))),...r],right:((f=o==null?void 0:o.right)!=null?f:[]).filter(p=>!(r!=null&&r.includes(p)))}}return{left:((i=o==null?void 0:o.left)!=null?i:[]).filter(p=>!(r!=null&&r.includes(p))),right:((l=o==null?void 0:o.right)!=null?l:[]).filter(p=>!(r!=null&&r.includes(p)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var o,i,l;return((o=r.columnDef.enablePinning)!=null?o:!0)&&((i=(l=t.options.enableColumnPinning)!=null?l:t.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:o}=t.getState().columnPinning,i=n.some(a=>r==null?void 0:r.includes(a)),l=n.some(a=>o==null?void 0:o.includes(a));return i?"left":l?"right":!1},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();return o?(n=(r=t.getState().columnPinning)==null||(r=r[o])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=Q(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,o)=>{const i=[...r??[],...o??[]];return n.filter(l=>!i.includes(l.column.id))},Z(t.options,"debugRows")),e.getLeftVisibleCells=Q(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(l=>l.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),Z(t.options,"debugRows")),e.getRightVisibleCells=Q(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(l=>l.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),Z(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?Xo():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:Xo())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var o,i;return!!((o=r.left)!=null&&o.length||(i=r.right)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=Q(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),Z(e.options,"debugColumns")),e.getRightLeafColumns=Q(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),Z(e.options,"debugColumns")),e.getCenterLeafColumns=Q(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const o=[...n??[],...r??[]];return t.filter(i=>!o.includes(i.id))},Z(e.options,"debugColumns"))}};function $v(e){return e||(typeof document<"u"?document:null)}const zr={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Jo=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Rv={getDefaultColumnDef:()=>zr,getInitialState:e=>({columnSizing:{},columnSizingInfo:Jo(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:rt("columnSizing",e),onColumnSizingInfoChange:rt("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,o;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:zr.minSize,(r=i??e.columnDef.size)!=null?r:zr.size),(o=e.columnDef.maxSize)!=null?o:zr.maxSize)},e.getStart=Q(n=>[n,fr(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((o,i)=>o+i.getSize(),0),Z(t.options,"debugColumns")),e.getAfter=Q(n=>[n,fr(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((o,i)=>o+i.getSize(),0),Z(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...o}=n;return o})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=o=>{if(o.subHeaders.length)o.subHeaders.forEach(r);else{var i;n+=(i=o.column.getSize())!=null?i:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),o=r==null?void 0:r.getCanResize();return i=>{if(!r||!o||(i.persist==null||i.persist(),Qo(i)&&i.touches&&i.touches.length>1))return;const l=e.getSize(),a=e?e.getLeafHeaders().map(b=>[b.column.id,b.column.getSize()]):[[r.id,r.getSize()]],s=Qo(i)?Math.round(i.touches[0].clientX):i.clientX,c={},f=(b,_)=>{typeof _=="number"&&(t.setColumnSizingInfo(y=>{var S,w;const C=t.options.columnResizeDirection==="rtl"?-1:1,O=(_-((S=y==null?void 0:y.startOffset)!=null?S:0))*C,L=Math.max(O/((w=y==null?void 0:y.startSize)!=null?w:0),-.999999);return y.columnSizingStart.forEach(M=>{let[P,$]=M;c[P]=Math.round(Math.max($+$*L,0)*100)/100}),{...y,deltaOffset:O,deltaPercentage:L}}),(t.options.columnResizeMode==="onChange"||b==="end")&&t.setColumnSizing(y=>({...y,...c})))},p=b=>f("move",b),g=b=>{f("end",b),t.setColumnSizingInfo(_=>({..._,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},d=$v(n),h={moveHandler:b=>p(b.clientX),upHandler:b=>{d==null||d.removeEventListener("mousemove",h.moveHandler),d==null||d.removeEventListener("mouseup",h.upHandler),g(b.clientX)}},m={moveHandler:b=>(b.cancelable&&(b.preventDefault(),b.stopPropagation()),p(b.touches[0].clientX),!1),upHandler:b=>{var _;d==null||d.removeEventListener("touchmove",m.moveHandler),d==null||d.removeEventListener("touchend",m.upHandler),b.cancelable&&(b.preventDefault(),b.stopPropagation()),g((_=b.touches[0])==null?void 0:_.clientX)}},v=Nv()?{passive:!1}:!1;Qo(i)?(d==null||d.addEventListener("touchmove",m.moveHandler,v),d==null||d.addEventListener("touchend",m.upHandler,v)):(d==null||d.addEventListener("mousemove",h.moveHandler,v),d==null||d.addEventListener("mouseup",h.upHandler,v)),t.setColumnSizingInfo(b=>({...b,startOffset:s,startSize:l,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?Jo():(n=e.initialState.columnSizingInfo)!=null?n:Jo())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0}}};let Ur=null;function Nv(){if(typeof Ur=="boolean")return Ur;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return Ur=e,Ur}function Qo(e){return e.type==="touchstart"}const Av={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:rt("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const o=e.columns;return(n=o.length?o.some(i=>i.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Q(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),Z(t.options,"debugRows")),e.getVisibleCells=Q(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,o)=>[...n,...r,...o],Z(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>Q(()=>[r(),r().filter(o=>o.getIsVisible()).map(o=>o.id).join("_")],o=>o.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),Z(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((o,i)=>({...o,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function fr(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Tv={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},kv={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:rt("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,o,i;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Nt.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return bo(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Nt[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},Ov={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:rt("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var o,i;e.setExpanded(r?{}:(o=(i=e.initialState)==null?void 0:i.expanded)!=null?o:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(o=>!o.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const l=i.split(".");r=Math.max(r,l.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var o;const i=r===!0?!0:!!(r!=null&&r[e.id]);let l={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{l[a]=!0}):l=r,n=(o=n)!=null?o:!i,!i&&n)return{...l,[e.id]:!0};if(i&&!n){const{[e.id]:a,...s}=l;return s}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,o;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((o=e.subRows)!=null&&o.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},xa=0,Ca=10,Zo=()=>({pageIndex:xa,pageSize:Ca}),Iv={getInitialState:e=>({...e,pagination:{...Zo(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:rt("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const o=i=>Ht(r,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(o)},e.resetPagination=r=>{var o;e.setPagination(r?Zo():(o=e.initialState.pagination)!=null?o:Zo())},e.setPageIndex=r=>{e.setPagination(o=>{let i=Ht(r,o.pageIndex);const l=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,l)),{...o,pageIndex:i}})},e.resetPageIndex=r=>{var o,i;e.setPageIndex(r?xa:(o=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?o:xa)},e.resetPageSize=r=>{var o,i;e.setPageSize(r?Ca:(o=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?o:Ca)},e.setPageSize=r=>{e.setPagination(o=>{const i=Math.max(1,Ht(r,o.pageSize)),l=o.pageSize*o.pageIndex,a=Math.floor(l/i);return{...o,pageIndex:a,pageSize:i}})},e.setPageCount=r=>e.setPagination(o=>{var i;let l=Ht(r,(i=e.options.pageCount)!=null?i:-1);return typeof l=="number"&&(l=Math.max(-1,l)),{...o,pageCount:l}}),e.getPageOptions=Q(()=>[e.getPageCount()],r=>{let o=[];return r&&r>0&&(o=[...new Array(r)].fill(null).map((i,l)=>l)),o},Z(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,o=e.getPageCount();return o===-1?!0:o===0?!1:r<o-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},ei=()=>({top:[],bottom:[]}),Mv={getInitialState:e=>({rowPinning:ei(),...e}),getDefaultOptions:e=>({onRowPinningChange:rt("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,o)=>{const i=r?e.getLeafRows().map(s=>{let{id:c}=s;return c}):[],l=o?e.getParentRows().map(s=>{let{id:c}=s;return c}):[],a=new Set([...l,e.id,...i]);t.setRowPinning(s=>{var c,f;if(n==="bottom"){var p,g;return{top:((p=s==null?void 0:s.top)!=null?p:[]).filter(m=>!(a!=null&&a.has(m))),bottom:[...((g=s==null?void 0:s.bottom)!=null?g:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)]}}if(n==="top"){var d,h;return{top:[...((d=s==null?void 0:s.top)!=null?d:[]).filter(m=>!(a!=null&&a.has(m))),...Array.from(a)],bottom:((h=s==null?void 0:s.bottom)!=null?h:[]).filter(m=>!(a!=null&&a.has(m)))}}return{top:((c=s==null?void 0:s.top)!=null?c:[]).filter(m=>!(a!=null&&a.has(m))),bottom:((f=s==null?void 0:s.bottom)!=null?f:[]).filter(m=>!(a!=null&&a.has(m)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:o}=t.options;return typeof r=="function"?r(e):(n=r??o)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:o}=t.getState().rowPinning,i=n.some(a=>r==null?void 0:r.includes(a)),l=n.some(a=>o==null?void 0:o.includes(a));return i?"top":l?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();if(!o)return-1;const i=(n=o==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(l=>{let{id:a}=l;return a});return(r=i==null?void 0:i.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?ei():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:ei())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var o,i;return!!((o=r.top)!=null&&o.length||(i=r.bottom)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var o;return((o=e.options.keepPinnedRows)==null||o?(n??[]).map(l=>{const a=e.getRow(l,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(l=>t.find(a=>a.id===l))).filter(Boolean).map(l=>({...l,position:r}))},e.getTopRows=Q(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),Z(e.options,"debugRows")),e.getBottomRows=Q(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),Z(e.options,"debugRows")),e.getCenterRows=Q(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const o=new Set([...n??[],...r??[]]);return t.filter(i=>!o.has(i.id))},Z(e.options,"debugRows"))}},Lv={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:rt("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},o=e.getPreGroupedRowModel().flatRows;return t?o.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):o.forEach(i=>{delete r[i.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),o={...n};return e.getRowModel().rows.forEach(i=>{Fa(o,i.id,r,!0,e)}),o}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Q(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?ti(e,n):{rows:[],flatRows:[],rowsById:{}},Z(e.options,"debugTable")),e.getFilteredSelectedRowModel=Q(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?ti(e,n):{rows:[],flatRows:[],rowsById:{}},Z(e.options,"debugTable")),e.getGroupedSelectedRowModel=Q(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?ti(e,n):{rows:[],flatRows:[],rowsById:{}},Z(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(o=>o.getCanSelect()&&!n[o.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(o=>o.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(o=>!n[o.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const o=e.getIsSelected();t.setRowSelection(i=>{var l;if(n=typeof n<"u"?n:!o,e.getCanSelect()&&o===n)return i;const a={...i};return Fa(a,e.id,n,(l=r==null?void 0:r.selectChildren)!=null?l:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return ws(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return Ea(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return Ea(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var o;n&&e.toggleSelected((o=r.target)==null?void 0:o.checked)}}}},Fa=(e,t,n,r,o)=>{var i;const l=o.getRow(t,!0);n?(l.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),l.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(i=l.subRows)!=null&&i.length&&l.getCanSelectSubRows()&&l.subRows.forEach(a=>Fa(e,a.id,n,r,o))};function ti(e,t){const n=e.getState().rowSelection,r=[],o={},i=function(l,a){return l.map(s=>{var c;const f=ws(s,n);if(f&&(r.push(s),o[s.id]=s),(c=s.subRows)!=null&&c.length&&(s={...s,subRows:i(s.subRows)}),f)return s}).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:o}}function ws(e,t){var n;return(n=t[e.id])!=null?n:!1}function Ea(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let o=!0,i=!1;return e.subRows.forEach(l=>{if(!(i&&!o)&&(l.getCanSelect()&&(ws(l,t)?i=!0:o=!1),l.subRows&&l.subRows.length)){const a=Ea(l,t);a==="all"?i=!0:(a==="some"&&(i=!0),o=!1)}}),o?"all":i?"some":!1}const Pa=/([0-9]+)/gm,Dv=(e,t,n)=>jp(Kt(e.getValue(n)).toLowerCase(),Kt(t.getValue(n)).toLowerCase()),Gv=(e,t,n)=>jp(Kt(e.getValue(n)),Kt(t.getValue(n))),Vv=(e,t,n)=>Ss(Kt(e.getValue(n)).toLowerCase(),Kt(t.getValue(n)).toLowerCase()),Bv=(e,t,n)=>Ss(Kt(e.getValue(n)),Kt(t.getValue(n))),jv=(e,t,n)=>{const r=e.getValue(n),o=t.getValue(n);return r>o?1:r<o?-1:0},Hv=(e,t,n)=>Ss(e.getValue(n),t.getValue(n));function Ss(e,t){return e===t?0:e>t?1:-1}function Kt(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function jp(e,t){const n=e.split(Pa).filter(Boolean),r=t.split(Pa).filter(Boolean);for(;n.length&&r.length;){const o=n.shift(),i=r.shift(),l=parseInt(o,10),a=parseInt(i,10),s=[l,a].sort();if(isNaN(s[0])){if(o>i)return 1;if(i>o)return-1;continue}if(isNaN(s[1]))return isNaN(l)?-1:1;if(l>a)return 1;if(a>l)return-1}return n.length-r.length}const Zn={alphanumeric:Dv,alphanumericCaseSensitive:Gv,text:Vv,textCaseSensitive:Bv,datetime:jv,basic:Hv},qv={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:rt("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const o of n){const i=o==null?void 0:o.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return Zn.datetime;if(typeof i=="string"&&(r=!0,i.split(Pa).length>1))return Zn.alphanumeric}return r?Zn.text:Zn.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return bo(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Zn[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const o=e.getNextSortingOrder(),i=typeof n<"u"&&n!==null;t.setSorting(l=>{const a=l==null?void 0:l.find(d=>d.id===e.id),s=l==null?void 0:l.findIndex(d=>d.id===e.id);let c=[],f,p=i?n:o==="desc";if(l!=null&&l.length&&e.getCanMultiSort()&&r?a?f="toggle":f="add":l!=null&&l.length&&s!==l.length-1?f="replace":a?f="toggle":f="replace",f==="toggle"&&(i||o||(f="remove")),f==="add"){var g;c=[...l,{id:e.id,desc:p}],c.splice(0,c.length-((g=t.options.maxMultiSortColCount)!=null?g:Number.MAX_SAFE_INTEGER))}else f==="toggle"?c=l.map(d=>d.id===e.id?{...d,desc:p}:d):f==="remove"?c=l.filter(d=>d.id!==e.id):c=[{id:e.id,desc:p}];return c})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,o;const i=e.getFirstSortDir(),l=e.getIsSorted();return l?l!==i&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(o=t.options.enableMultiRemove)!=null)||o)?!1:l==="desc"?"asc":"desc":i},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(o=>o.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},zv=[fv,Av,Ev,Pv,pv,gv,Tv,kv,qv,Cv,Ov,Iv,Mv,Lv,Rv];function Uv(e){var t,n;const r=[...zv,...(t=e._features)!=null?t:[]];let o={_features:r};const i=o._features.reduce((g,d)=>Object.assign(g,d.getDefaultOptions==null?void 0:d.getDefaultOptions(o)),{}),l=g=>o.options.mergeOptions?o.options.mergeOptions(i,g):{...i,...g};let s={...{},...(n=e.initialState)!=null?n:{}};o._features.forEach(g=>{var d;s=(d=g.getInitialState==null?void 0:g.getInitialState(s))!=null?d:s});const c=[];let f=!1;const p={_features:r,options:{...i,...e},initialState:s,_queue:g=>{c.push(g),f||(f=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();f=!1}).catch(d=>setTimeout(()=>{throw d})))},reset:()=>{o.setState(o.initialState)},setOptions:g=>{const d=Ht(g,o.options);o.options=l(d)},getState:()=>o.options.state,setState:g=>{o.options.onStateChange==null||o.options.onStateChange(g)},_getRowId:(g,d,h)=>{var m;return(m=o.options.getRowId==null?void 0:o.options.getRowId(g,d,h))!=null?m:`${h?[h.id,d].join("."):d}`},getCoreRowModel:()=>(o._getCoreRowModel||(o._getCoreRowModel=o.options.getCoreRowModel(o)),o._getCoreRowModel()),getRowModel:()=>o.getPaginationRowModel(),getRow:(g,d)=>{let h=(d?o.getPrePaginationRowModel():o.getRowModel()).rowsById[g];if(!h&&(h=o.getCoreRowModel().rowsById[g],!h))throw new Error;return h},_getDefaultColumnDef:Q(()=>[o.options.defaultColumn],g=>{var d;return g=(d=g)!=null?d:{},{header:h=>{const m=h.header.column.columnDef;return m.accessorKey?m.accessorKey:m.accessorFn?m.id:null},cell:h=>{var m,v;return(m=(v=h.renderValue())==null||v.toString==null?void 0:v.toString())!=null?m:null},...o._features.reduce((h,m)=>Object.assign(h,m.getDefaultColumnDef==null?void 0:m.getDefaultColumnDef()),{}),...g}},Z(e,"debugColumns")),_getColumnDefs:()=>o.options.columns,getAllColumns:Q(()=>[o._getColumnDefs()],g=>{const d=function(h,m,v){return v===void 0&&(v=0),h.map(b=>{const _=dv(o,b,v,m),y=b;return _.columns=y.columns?d(y.columns,_,v+1):[],_})};return d(g)},Z(e,"debugColumns")),getAllFlatColumns:Q(()=>[o.getAllColumns()],g=>g.flatMap(d=>d.getFlatColumns()),Z(e,"debugColumns")),_getAllFlatColumnsById:Q(()=>[o.getAllFlatColumns()],g=>g.reduce((d,h)=>(d[h.id]=h,d),{}),Z(e,"debugColumns")),getAllLeafColumns:Q(()=>[o.getAllColumns(),o._getOrderColumnsFn()],(g,d)=>{let h=g.flatMap(m=>m.getLeafColumns());return d(h)},Z(e,"debugColumns")),getColumn:g=>o._getAllFlatColumnsById()[g]};Object.assign(o,p);for(let g=0;g<o._features.length;g++){const d=o._features[g];d==null||d.createTable==null||d.createTable(o)}return o}function Wv(){return e=>Q(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(o,i,l){i===void 0&&(i=0);const a=[];for(let c=0;c<o.length;c++){const f=_s(e,e._getRowId(o[c],c,l),o[c],c,i,void 0,l==null?void 0:l.id);if(n.flatRows.push(f),n.rowsById[f.id]=f,a.push(f),e.options.getSubRows){var s;f.originalSubRows=e.options.getSubRows(o[c],c),(s=f.originalSubRows)!=null&&s.length&&(f.subRows=r(f.originalSubRows,i+1,f))}}return a};return n.rows=r(t),n},Z(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Kv(e){const t=[],n=r=>{var o;t.push(r),(o=r.subRows)!=null&&o.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function Yv(e,t,n){return n.options.filterFromLeafRows?Xv(e,t,n):Jv(e,t,n)}function Xv(e,t,n){var r;const o=[],i={},l=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(s,c){c===void 0&&(c=0);const f=[];for(let g=0;g<s.length;g++){var p;let d=s[g];const h=_s(n,d.id,d.original,d.index,d.depth,void 0,d.parentId);if(h.columnFilters=d.columnFilters,(p=d.subRows)!=null&&p.length&&c<l){if(h.subRows=a(d.subRows,c+1),d=h,t(d)&&!h.subRows.length){f.push(d),i[d.id]=d,o.push(d);continue}if(t(d)||h.subRows.length){f.push(d),i[d.id]=d,o.push(d);continue}}else d=h,t(d)&&(f.push(d),i[d.id]=d,o.push(d))}return f};return{rows:a(e),flatRows:o,rowsById:i}}function Jv(e,t,n){var r;const o=[],i={},l=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(s,c){c===void 0&&(c=0);const f=[];for(let g=0;g<s.length;g++){let d=s[g];if(t(d)){var p;if((p=d.subRows)!=null&&p.length&&c<l){const m=_s(n,d.id,d.original,d.index,d.depth,void 0,d.parentId);m.subRows=a(d.subRows,c+1),d=m}f.push(d),o.push(d),i[d.id]=d}}return f};return{rows:a(e),flatRows:o,rowsById:i}}function Qv(){return e=>Q(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let g=0;g<t.flatRows.length;g++)t.flatRows[g].columnFilters={},t.flatRows[g].columnFiltersMeta={};return t}const o=[],i=[];(n??[]).forEach(g=>{var d;const h=e.getColumn(g.id);if(!h)return;const m=h.getFilterFn();m&&o.push({id:g.id,filterFn:m,resolvedValue:(d=m.resolveFilterValue==null?void 0:m.resolveFilterValue(g.value))!=null?d:g.value})});const l=(n??[]).map(g=>g.id),a=e.getGlobalFilterFn(),s=e.getAllLeafColumns().filter(g=>g.getCanGlobalFilter());r&&a&&s.length&&(l.push("__global__"),s.forEach(g=>{var d;i.push({id:g.id,filterFn:a,resolvedValue:(d=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?d:r})}));let c,f;for(let g=0;g<t.flatRows.length;g++){const d=t.flatRows[g];if(d.columnFilters={},o.length)for(let h=0;h<o.length;h++){c=o[h];const m=c.id;d.columnFilters[m]=c.filterFn(d,m,c.resolvedValue,v=>{d.columnFiltersMeta[m]=v})}if(i.length){for(let h=0;h<i.length;h++){f=i[h];const m=f.id;if(f.filterFn(d,m,f.resolvedValue,v=>{d.columnFiltersMeta[m]=v})){d.columnFilters.__global__=!0;break}}d.columnFilters.__global__!==!0&&(d.columnFilters.__global__=!1)}}const p=g=>{for(let d=0;d<l.length;d++)if(g.columnFilters[l[d]]===!1)return!1;return!0};return Yv(t.rows,p,e)},Z(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function Zv(e){return t=>Q(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:o,pageIndex:i}=n;let{rows:l,flatRows:a,rowsById:s}=r;const c=o*i,f=c+o;l=l.slice(c,f);let p;t.options.paginateExpandedRows?p={rows:l,flatRows:a,rowsById:s}:p=Kv({rows:l,flatRows:a,rowsById:s}),p.flatRows=[];const g=d=>{p.flatRows.push(d),d.subRows.length&&d.subRows.forEach(g)};return p.rows.forEach(g),p},Z(t.options,"debugTable"))}function e0(){return e=>Q(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,o=[],i=r.filter(s=>{var c;return(c=e.getColumn(s.id))==null?void 0:c.getCanSort()}),l={};i.forEach(s=>{const c=e.getColumn(s.id);c&&(l[s.id]={sortUndefined:c.columnDef.sortUndefined,invertSorting:c.columnDef.invertSorting,sortingFn:c.getSortingFn()})});const a=s=>{const c=s.map(f=>({...f}));return c.sort((f,p)=>{for(let d=0;d<i.length;d+=1){var g;const h=i[d],m=l[h.id],v=m.sortUndefined,b=(g=h==null?void 0:h.desc)!=null?g:!1;let _=0;if(v){const y=f.getValue(h.id),S=p.getValue(h.id),w=y===void 0,C=S===void 0;if(w||C){if(v==="first")return w?-1:1;if(v==="last")return w?1:-1;_=w&&C?0:w?v:-v}}if(_===0&&(_=m.sortingFn(f,p,h.id)),_!==0)return b&&(_*=-1),m.invertSorting&&(_*=-1),_}return f.index-p.index}),c.forEach(f=>{var p;o.push(f),(p=f.subRows)!=null&&p.length&&(f.subRows=a(f.subRows))}),c};return{rows:a(n.rows),flatRows:o,rowsById:n.rowsById}},Z(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Uu(e,t){return e?t0(e)?Le(e,t):e:null}function t0(e){return n0(e)||typeof e=="function"||r0(e)}function n0(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function r0(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function o0(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=A(()=>({current:Uv(t)})),[r,o]=A(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...e,state:{...r,...e.state},onStateChange:l=>{o(l),e.onStateChange==null||e.onStateChange(l)}})),n.current}const i0=e=>{if(e==null)return"";const t=String(e);return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t};function $a(e,t="-"){return!e||e==0?t:e>500&&e%500===0?`${e/1e3}kg`:`${e}g`}function lo(e){if(!e)return"";const t=Ra(e),n=e.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"});return`${t} ${n}`}function Ra(e){if(!e)return"";const t=e.getFullYear().toString(),n=t.slice(-2);let r=e.toLocaleDateString();return r=r.replace(t,n),r}function kn(e,t){return parseFloat(e.toFixed(t)).toString()}const Pn=e=>(t,n)=>Hp(t.getValue(e),n.getValue(e)),Hp=(e,t)=>{const n=e||"",r=t||"";return!n&&r?1:n&&!r?-1:n.localeCompare(r)},l0=(e,t)=>{const n=e.original.printer_location,r=t.original.printer_location;if(n&&!r)return-1;if(!n&&r)return 1;if(n&&r){const l=n.localeCompare(r);return l===0?0:l}const o=e.original.actual_location??"",i=t.original.actual_location??"";return!o&&i?1:o&&!i?-1:!o&&!i?0:o.localeCompare(i)};function a0({isMobile:e,columnFilters:t,onSetColumnFilters:n}){var i,l;const r=a=>{const s=t.find(c=>c.id===a);return(s==null?void 0:s.value)||""},o=(a,s)=>{n(c=>{const f=c.filter(p=>p.id!==a);return s&&f.push({id:a,value:s}),f})};return u("div",{className:"filters-section",children:[u("h3",{children:["Filters"," ",u("span",{className:"filters-hint",children:e?"(Comma-seperated keywords)":"(Enter keywords (comma-separated, may include spaces)"}),u("button",{onClick:()=>n([]),className:"clear-filters-btn",children:`Clear${e?"":" Filters"}`})]}),u("div",{className:"filters-grid",children:[u("div",{className:"filter-group",children:[u("label",{children:"Material:"}),u("input",{type:"text",placeholder:"e.g. PLA, PETG",value:String(r("material_type")),onChange:a=>o("material_type",a.target.value),className:"filter-input"})]}),u("div",{className:"filter-group",children:[u("label",{children:"Subtype:"}),u("input",{type:"text",placeholder:"e.g. Plus, High Speed, Pro",value:String(r("material_subtype")),onChange:a=>o("material_subtype",a.target.value),className:"filter-input"})]}),u("div",{className:"filter-group",children:[u("label",{children:"Color:"}),u("input",{type:"text",placeholder:"e.g. Red Matte, Orange",value:String(r("color_name")),onChange:a=>o("color_name",a.target.value),className:"filter-input"})]}),u("div",{className:"filter-group",children:[u("label",{children:"Brand:"}),u("input",{type:"text",placeholder:"e.g. Bambu, Elegoo, Poly",value:String(r("brand")),onChange:a=>o("brand",a.target.value),className:"filter-input"})]}),u("div",{className:"filter-group",children:[u("label",{children:"Note:"}),u("input",{type:"text",placeholder:"e.g. good, art",value:String(r("note")),onChange:a=>o("note",a.target.value),className:"filter-input"})]}),u("div",{className:"filter-group weight-filter",children:[u("label",{children:"Net Weight (g):"}),u("div",{className:"weight-inputs",children:[u("input",{type:"number",placeholder:"Min",value:((i=r("weight_left"))==null?void 0:i.min)||"",onChange:a=>{const s=r("weight_left")||{};o("weight_left",{...s,min:a.target.value?Number(a.target.value):void 0})},className:"weight-input"}),u("span",{children:"-"}),u("input",{type:"number",placeholder:"Max",value:((l=r("weight_left"))==null?void 0:l.max)||"",onChange:a=>{const s=r("weight_left")||{};o("weight_left",{...s,max:a.target.value?Number(a.target.value):void 0})},className:"weight-input"})]})]})]})]})}const qp=typeof document<"u"?E.useLayoutEffect:()=>{};function s0(e){const t=D(null);return qp(()=>{t.current=e},[e]),te((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const Zt=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},fn=e=>e&&"window"in e&&e.window===e?e:Zt(e).defaultView||window;function u0(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function c0(e){return u0(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let d0=!1;function xs(){return d0}function zp(e,t){if(!xs())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:c0(n)?n=n.host:n=n.parentNode}return!1}const Na=(e=document)=>{var t;if(!xs())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function Up(e){return xs()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function f0(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function p0(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Wp(e){let t=null;return()=>(t==null&&(t=e()),t)}const g0=Wp(function(){return p0(/^Mac/i)}),h0=Wp(function(){return f0(/Android/i)});function Kp(){let e=D(new Map),t=te((o,i,l,a)=>{let s=a!=null&&a.once?(...c)=>{e.current.delete(l),l(...c)}:l;e.current.set(l,{type:i,eventTarget:o,fn:s,options:a}),o.addEventListener(i,s,a)},[]),n=te((o,i,l,a)=>{var s;let c=((s=e.current.get(l))===null||s===void 0?void 0:s.fn)||l;o.removeEventListener(i,c,a),e.current.delete(l)},[]),r=te(()=>{e.current.forEach((o,i)=>{n(o.eventTarget,o.type,i,o.options)})},[n]);return z(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function m0(e){return e.mozInputSource===0&&e.isTrusted?!0:h0()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Yp(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function v0(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function Xp(e){let t=D({isFocused:!1,observer:null});qp(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=s0(r=>{e==null||e(r)});return te(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let o=r.target,i=l=>{if(t.current.isFocused=!1,o.disabled){let a=Yp(l);n(a)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",i,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&o.disabled){var l;(l=t.current.observer)===null||l===void 0||l.disconnect();let a=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),t.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let b0=!1,Cr=null,Aa=new Set,pr=new Map,bn=!1,Ta=!1;const _0={Tab:!0,Escape:!0};function Cs(e,t){for(let n of Aa)n(e,t)}function y0(e){return!(e.metaKey||!g0()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function ao(e){bn=!0,y0(e)&&(Cr="keyboard",Cs("keyboard",e))}function Mn(e){Cr="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(bn=!0,Cs("pointer",e))}function Jp(e){m0(e)&&(bn=!0,Cr="virtual")}function Qp(e){e.target===window||e.target===document||b0||!e.isTrusted||(!bn&&!Ta&&(Cr="virtual",Cs("virtual",e)),bn=!1,Ta=!1)}function Zp(){bn=!1,Ta=!0}function ka(e){if(typeof window>"u"||typeof document>"u"||pr.get(fn(e)))return;const t=fn(e),n=Zt(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){bn=!0,r.apply(this,arguments)},n.addEventListener("keydown",ao,!0),n.addEventListener("keyup",ao,!0),n.addEventListener("click",Jp,!0),t.addEventListener("focus",Qp,!0),t.addEventListener("blur",Zp,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",Mn,!0),n.addEventListener("pointermove",Mn,!0),n.addEventListener("pointerup",Mn,!0)),t.addEventListener("beforeunload",()=>{eg(e)},{once:!0}),pr.set(t,{focus:r})}const eg=(e,t)=>{const n=fn(e),r=Zt(e);t&&r.removeEventListener("DOMContentLoaded",t),pr.has(n)&&(n.HTMLElement.prototype.focus=pr.get(n).focus,r.removeEventListener("keydown",ao,!0),r.removeEventListener("keyup",ao,!0),r.removeEventListener("click",Jp,!0),n.removeEventListener("focus",Qp,!0),n.removeEventListener("blur",Zp,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",Mn,!0),r.removeEventListener("pointermove",Mn,!0),r.removeEventListener("pointerup",Mn,!0)),pr.delete(n))};function w0(e){const t=Zt(e);let n;return t.readyState!=="loading"?ka(e):(n=()=>{ka(e)},t.addEventListener("DOMContentLoaded",n)),()=>eg(e,n)}typeof document<"u"&&w0();function tg(){return Cr!=="pointer"}const S0=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function x0(e,t,n){let r=Zt(n==null?void 0:n.target);const o=typeof window<"u"?fn(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,i=typeof window<"u"?fn(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?fn(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?fn(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof o&&!S0.has(r.activeElement.type)||r.activeElement instanceof i||r.activeElement instanceof l&&r.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof a&&!_0[n.key])}function C0(e,t,n){ka(),z(()=>{let r=(o,i)=>{x0(!!(n!=null&&n.isTextInput),o,i)&&e(tg())};return Aa.add(r),()=>{Aa.delete(r)}},t)}function F0(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:o}=e;const i=te(s=>{if(s.target===s.currentTarget)return r&&r(s),o&&o(!1),!0},[r,o]),l=Xp(i),a=te(s=>{const c=Zt(s.target),f=c?Na(c):Na();s.target===s.currentTarget&&f===Up(s.nativeEvent)&&(n&&n(s),o&&o(!0),l(s))},[o,n,l]);return{focusProps:{onFocus:!t&&(n||o||r)?a:void 0,onBlur:!t&&(r||o)?i:void 0}}}function E0(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:o}=e,i=D({isFocusWithin:!1}),{addGlobalListener:l,removeAllGlobalListeners:a}=Kp(),s=te(p=>{p.currentTarget.contains(p.target)&&i.current.isFocusWithin&&!p.currentTarget.contains(p.relatedTarget)&&(i.current.isFocusWithin=!1,a(),n&&n(p),o&&o(!1))},[n,o,i,a]),c=Xp(s),f=te(p=>{if(!p.currentTarget.contains(p.target))return;const g=Zt(p.target),d=Na(g);if(!i.current.isFocusWithin&&d===Up(p.nativeEvent)){r&&r(p),o&&o(!0),i.current.isFocusWithin=!0,c(p);let h=p.currentTarget;l(g,"focus",m=>{if(i.current.isFocusWithin&&!zp(h,m.target)){let v=new g.defaultView.FocusEvent("blur",{relatedTarget:m.target});v0(v,h);let b=Yp(v);s(b)}},{capture:!0})}},[r,o,c,l,s]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:f,onBlur:s}}}let Oa=!1,ni=0;function P0(){Oa=!0,setTimeout(()=>{Oa=!1},50)}function Wu(e){e.pointerType==="touch"&&P0()}function $0(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",Wu),ni++,()=>{ni--,!(ni>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Wu)}}function en(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:o}=e,[i,l]=A(!1),a=D({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;z($0,[]);let{addGlobalListener:s,removeAllGlobalListeners:c}=Kp(),{hoverProps:f,triggerHoverEnd:p}=G(()=>{let g=(m,v)=>{if(a.pointerType=v,o||v==="touch"||a.isHovered||!m.currentTarget.contains(m.target))return;a.isHovered=!0;let b=m.currentTarget;a.target=b,s(Zt(m.target),"pointerover",_=>{a.isHovered&&a.target&&!zp(a.target,_.target)&&d(_,_.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:b,pointerType:v}),n&&n(!0),l(!0)},d=(m,v)=>{let b=a.target;a.pointerType="",a.target=null,!(v==="touch"||!a.isHovered||!b)&&(a.isHovered=!1,c(),r&&r({type:"hoverend",target:b,pointerType:v}),n&&n(!1),l(!1))},h={};return typeof PointerEvent<"u"&&(h.onPointerEnter=m=>{Oa&&m.pointerType==="mouse"||g(m,m.pointerType)},h.onPointerLeave=m=>{!o&&m.currentTarget.contains(m.target)&&d(m,m.pointerType)}),{hoverProps:h,triggerHoverEnd:d}},[t,n,r,o,a,s,c]);return z(()=>{o&&p({currentTarget:a.target},a.pointerType)},[o]),{hoverProps:f,isHovered:i}}function Gt(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,o=D({isFocused:!1,isFocusVisible:t||tg()}),[i,l]=A(!1),[a,s]=A(()=>o.current.isFocused&&o.current.isFocusVisible),c=te(()=>s(o.current.isFocused&&o.current.isFocusVisible),[]),f=te(d=>{o.current.isFocused=d,l(d),c()},[c]);C0(d=>{o.current.isFocusVisible=d,c()},[],{isTextInput:n});let{focusProps:p}=F0({isDisabled:r,onFocusChange:f}),{focusWithinProps:g}=E0({isDisabled:!r,onFocusWithinChange:f});return{isFocused:i,isFocusVisible:a,focusProps:r?g:p}}var R0=Object.defineProperty,N0=(e,t,n)=>t in e?R0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ri=(e,t,n)=>(N0(e,typeof t!="symbol"?t+"":t,n),n);let A0=class{constructor(){ri(this,"current",this.detect()),ri(this,"handoffState","pending"),ri(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},vn=new A0;function Vt(e){var t,n;return vn.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(n=(t=e.current)==null?void 0:t.ownerDocument)!=null?n:document:null:document}function Fr(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function dt(){let e=[],t={addEventListener(n,r,o,i){return n.addEventListener(r,o,i),t.add(()=>n.removeEventListener(r,o,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Fr(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,o){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:o}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=dt();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let o of e.splice(r,1))o()}},dispose(){for(let n of e.splice(0))n()}};return t}function tn(){let[e]=A(dt);return z(()=>()=>e.dispose(),[e]),e}let fe=(e,t)=>{vn.isServer?z(e,t):mt(e,t)};function tt(e){let t=D(e);return fe(()=>{t.current=e},[e]),t}let V=function(e){let t=tt(e);return E.useCallback((...n)=>t.current(...n),[t])};function T0(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function k0(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function Er({disabled:e=!1}={}){let t=D(null),[n,r]=A(!1),o=tn(),i=V(()=>{t.current=null,r(!1),o.dispose()}),l=V(a=>{if(o.dispose(),t.current===null){t.current=a.currentTarget,r(!0);{let s=Vt(a.currentTarget);o.addEventListener(s,"pointerup",i,!1),o.addEventListener(s,"pointermove",c=>{if(t.current){let f=T0(c);r(k0(f,t.current.getBoundingClientRect()))}},!1),o.addEventListener(s,"pointercancel",i,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:l,onPointerUp:i,onClick:i}}}let ng=he(void 0);function nn(){return oe(ng)}function O0({value:e,children:t}){return E.createElement(ng.Provider,{value:e},t)}function Ia(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function xe(e,t,...n){if(e in t){let o=t[e];return typeof o=="function"?o(...n):o}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,xe),r}var ut=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ut||{}),qt=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(qt||{});function me(){let e=M0();return te(t=>I0({mergeRefs:e,...t}),[e])}function I0({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:o,visible:i=!0,name:l,mergeRefs:a}){a=a??L0;let s=rg(t,e);if(i)return Wr(s,n,r,l,a);let c=o??0;if(c&2){let{static:f=!1,...p}=s;if(f)return Wr(p,n,r,l,a)}if(c&1){let{unmount:f=!0,...p}=s;return xe(f?0:1,{0(){return null},1(){return Wr({...p,hidden:!0,style:{display:"none"}},n,r,l,a)}})}return Wr(s,n,r,l,a)}function Wr(e,t={},n,r,o){let{as:i=n,children:l,refName:a="ref",...s}=oi(e,["unmount","static"]),c=e.ref!==void 0?{[a]:e.ref}:{},f=typeof l=="function"?l(t):l;"className"in s&&s.className&&typeof s.className=="function"&&(s.className=s.className(t)),s["aria-labelledby"]&&s["aria-labelledby"]===s.id&&(s["aria-labelledby"]=void 0);let p={};if(t){let g=!1,d=[];for(let[h,m]of Object.entries(t))typeof m=="boolean"&&(g=!0),m===!0&&d.push(h.replace(/([A-Z])/g,v=>`-${v.toLowerCase()}`));if(g){p["data-headlessui-state"]=d.join(" ");for(let h of d)p[`data-${h}`]=""}}if(i===ee&&(Object.keys(jt(s)).length>0||Object.keys(jt(p)).length>0))if(!qn(f)||Array.isArray(f)&&f.length>1){if(Object.keys(jt(s)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(jt(s)).concat(Object.keys(jt(p))).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`))}else{let g=f.props,d=g==null?void 0:g.className,h=typeof d=="function"?(...b)=>Ia(d(...b),s.className):Ia(d,s.className),m=h?{className:h}:{},v=rg(f.props,jt(oi(s,["ref"])));for(let b in p)b in v&&delete p[b];return bs(f,Object.assign({},v,p,c,{ref:o(D0(f),c.ref)},m))}return Le(i,Object.assign({},oi(s,["ref"]),i!==ee&&c,i!==ee&&p),f)}function M0(){let e=D([]),t=te(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function L0(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function rg(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[o=>{var i;return(i=o==null?void 0:o.preventDefault)==null?void 0:i.call(o)}]);for(let r in n)Object.assign(t,{[r](o,...i){let l=n[r];for(let a of l){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;a(o,...i)}}});return t}function ct(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];for(let r in n)Object.assign(t,{[r](...o){let i=n[r];for(let l of i)l==null||l(...o)}});return t}function pe(e){var t;return Object.assign(mo(e),{displayName:(t=e.displayName)!=null?t:e.name})}function jt(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function oi(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function D0(e){return E.version.split(".")[0]>="19"?e.props.ref:e.ref}let G0="button";function V0(e,t){var n;let r=nn(),{disabled:o=r||!1,autoFocus:i=!1,...l}=e,{isFocusVisible:a,focusProps:s}=Gt({autoFocus:i}),{isHovered:c,hoverProps:f}=en({isDisabled:o}),{pressed:p,pressProps:g}=Er({disabled:o}),d=ct({ref:t,type:(n=l.type)!=null?n:"button",disabled:o||void 0,autoFocus:i},s,f,g),h=G(()=>({disabled:o,hover:c,focus:a,active:p,autofocus:i}),[o,c,a,p,i]);return me()({ourProps:d,theirProps:l,slot:h,defaultTag:G0,name:"Button"})}let Ee=pe(V0);function og(e,t,n){let[r,o]=A(n),i=e!==void 0,l=D(i),a=D(!1),s=D(!1);return i&&!l.current&&!a.current?(a.current=!0,l.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&l.current&&!s.current&&(s.current=!0,l.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?e:r,V(c=>(i||o(c),t==null?void 0:t(c)))]}function ig(e){let[t]=A(e);return t}function lg(e={},t=null,n=[]){for(let[r,o]of Object.entries(e))sg(n,ag(t,r),o);return n}function ag(e,t){return e?e+"["+t+"]":t}function sg(e,t,n){if(Array.isArray(n))for(let[r,o]of n.entries())sg(e,ag(t,r.toString()),o);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):lg(n,t,e)}function B0(e){var t,n;let r=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(r){for(let o of r.elements)if(o!==e&&(o.tagName==="INPUT"&&o.type==="submit"||o.tagName==="BUTTON"&&o.type==="submit"||o.nodeName==="INPUT"&&o.type==="image")){o.click();return}(n=r.requestSubmit)==null||n.call(r)}}let j0="span";var Yt=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Yt||{});function H0(e,t){var n;let{features:r=1,...o}=e,i={ref:t,"aria-hidden":(r&2)===2?!0:(n=o["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return me()({ourProps:i,theirProps:o,slot:{},defaultTag:j0,name:"Hidden"})}let Xt=pe(H0),ug=he(null);function q0(e){let[t,n]=A(null);return E.createElement(ug.Provider,{value:{target:t}},e.children,E.createElement(Xt,{features:Yt.Hidden,ref:n}))}function z0({children:e}){let t=oe(ug);if(!t)return E.createElement(E.Fragment,null,e);let{target:n}=t;return n?vo(E.createElement(E.Fragment,null,e),n):null}function cg({data:e,form:t,disabled:n,onReset:r,overrides:o}){let[i,l]=A(null),a=tn();return z(()=>{if(r&&i)return a.addEventListener(i,"reset",r)},[i,t,r]),E.createElement(z0,null,E.createElement(U0,{setForm:l,formId:t}),lg(e).map(([s,c])=>E.createElement(Xt,{features:Yt.Hidden,...jt({key:s,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:n,name:s,value:c,...o})})))}function U0({setForm:e,formId:t}){return z(()=>{if(t){let n=document.getElementById(t);n&&e(n)}},[e,t]),t?null:E.createElement(Xt,{features:Yt.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&e(r)}})}let dg=he(void 0);function Pr(){return oe(dg)}function W0({id:e,children:t}){return E.createElement(dg.Provider,{value:e},t)}function Fs(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function Ot(e){return Fs(e)&&"tagName"in e}function Xe(e){return Ot(e)&&"accessKey"in e}function pt(e){return Ot(e)&&"tabIndex"in e}function K0(e){return Ot(e)&&"style"in e}function Y0(e){return Xe(e)&&e.nodeName==="IFRAME"}function so(e){return Xe(e)&&e.nodeName==="INPUT"}function Ku(e){return Xe(e)&&e.nodeName==="LABEL"}function X0(e){return Xe(e)&&e.nodeName==="FIELDSET"}function fg(e){return Xe(e)&&e.nodeName==="LEGEND"}function J0(e){return Ot(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function Es(e){let t=e.parentElement,n=null;for(;t&&!X0(t);)fg(t)&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&Q0(n)?!1:r}function Q0(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(fg(t))return!1;t=t.previousElementSibling}return!0}let pg=Symbol();function gg(e,t=!0){return Object.assign(e,{[pg]:t})}function Fe(...e){let t=D(e);z(()=>{t.current=e},[e]);let n=V(r=>{for(let o of t.current)o!=null&&(typeof o=="function"?o(r):o.current=r)});return e.every(r=>r==null||(r==null?void 0:r[pg]))?void 0:n}let _o=he(null);_o.displayName="DescriptionContext";function hg(){let e=oe(_o);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,hg),t}return e}function yo(){var e,t;return(t=(e=oe(_o))==null?void 0:e.value)!=null?t:void 0}function mg(){let[e,t]=A([]);return[e.length>0?e.join(" "):void 0,G(()=>function(n){let r=V(i=>(t(l=>[...l,i]),()=>t(l=>{let a=l.slice(),s=a.indexOf(i);return s!==-1&&a.splice(s,1),a}))),o=G(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return E.createElement(_o.Provider,{value:o},n.children)},[t])]}let Z0="p";function eb(e,t){let n=$e(),r=nn(),{id:o=`headlessui-description-${n}`,...i}=e,l=hg(),a=Fe(t);fe(()=>l.register(o),[o,l.register]);let s=r||!1,c=G(()=>({...l.slot,disabled:s}),[l.slot,s]),f={ref:a,...l.props,id:o};return me()({ourProps:f,theirProps:i,slot:c,defaultTag:Z0,name:l.name||"Description"})}let tb=pe(eb),Ps=Object.assign(tb,{});var re=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(re||{});let wo=he(null);wo.displayName="LabelContext";function vg(){let e=oe(wo);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,vg),t}return e}function Sn(e){var t,n,r;let o=(n=(t=oe(wo))==null?void 0:t.value)!=null?n:void 0;return((r=e==null?void 0:e.length)!=null?r:0)>0?[o,...e].filter(Boolean).join(" "):o}function $s({inherit:e=!1}={}){let t=Sn(),[n,r]=A([]),o=e?[t,...n].filter(Boolean):n;return[o.length>0?o.join(" "):void 0,G(()=>function(i){let l=V(s=>(r(c=>[...c,s]),()=>r(c=>{let f=c.slice(),p=f.indexOf(s);return p!==-1&&f.splice(p,1),f}))),a=G(()=>({register:l,slot:i.slot,name:i.name,props:i.props,value:i.value}),[l,i.slot,i.name,i.props,i.value]);return E.createElement(wo.Provider,{value:a},i.children)},[r])]}let nb="label";function rb(e,t){var n;let r=$e(),o=vg(),i=Pr(),l=nn(),{id:a=`headlessui-label-${r}`,htmlFor:s=i??((n=o.props)==null?void 0:n.htmlFor),passive:c=!1,...f}=e,p=Fe(t);fe(()=>o.register(a),[a,o.register]);let g=V(v=>{let b=v.currentTarget;if(!(v.target!==v.currentTarget&&J0(v.target))&&(Ku(b)&&v.preventDefault(),o.props&&"onClick"in o.props&&typeof o.props.onClick=="function"&&o.props.onClick(v),Ku(b))){let _=document.getElementById(b.htmlFor);if(_){let y=_.getAttribute("disabled");if(y==="true"||y==="")return;let S=_.getAttribute("aria-disabled");if(S==="true"||S==="")return;(so(_)&&(_.type==="file"||_.type==="radio"||_.type==="checkbox")||_.role==="radio"||_.role==="checkbox"||_.role==="switch")&&_.click(),_.focus({preventScroll:!0})}}}),d=l||!1,h=G(()=>({...o.slot,disabled:d}),[o.slot,d]),m={ref:p,...o.props,id:a,htmlFor:s,onClick:g};return c&&("onClick"in m&&(delete m.htmlFor,delete m.onClick),"onClick"in f&&delete f.onClick),me()({ourProps:m,theirProps:f,slot:h,defaultTag:s?nb:"div",name:o.name||"Label"})}let ob=pe(rb),Ue=Object.assign(ob,{}),ib=he(()=>{});function bg({value:e,children:t}){return E.createElement(ib.Provider,{value:e},t)}function $n(e,t,n){let r=n.initialDeps??[],o;function i(){var l,a,s,c;let f;n.key&&((l=n.debug)!=null&&l.call(n))&&(f=Date.now());const p=e();if(!(p.length!==r.length||p.some((h,m)=>r[m]!==h)))return o;r=p;let d;if(n.key&&((a=n.debug)!=null&&a.call(n))&&(d=Date.now()),o=t(...p),n.key&&((s=n.debug)!=null&&s.call(n))){const h=Math.round((Date.now()-f)*100)/100,m=Math.round((Date.now()-d)*100)/100,v=m/16,b=(_,y)=>{for(_=String(_);_.length<y;)_=" "+_;return _};console.info(`%câ± ${b(m,5)} /${b(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*v,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(c=n==null?void 0:n.onChange)==null||c.call(n,o),o}return i.updateDeps=l=>{r=l},i}function Yu(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const lb=(e,t)=>Math.abs(e-t)<=1,ab=(e,t,n)=>{let r;return function(...o){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,o),n)}},Xu=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},sb=e=>e,ub=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let o=t;o<=n;o++)r.push(o);return r},cb=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const o=l=>{const{width:a,height:s}=l;t({width:Math.round(a),height:Math.round(s)})};if(o(Xu(n)),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver(l=>{const a=()=>{const s=l[0];if(s!=null&&s.borderBoxSize){const c=s.borderBoxSize[0];if(c){o({width:c.inlineSize,height:c.blockSize});return}}o(Xu(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()});return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},Ju={passive:!0},Qu=typeof window>"u"?!0:"onscrollend"in window,db=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let o=0;const i=e.options.useScrollendEvent&&Qu?()=>{}:ab(r,()=>{t(o,!1)},e.options.isScrollingResetDelay),l=f=>()=>{const{horizontal:p,isRtl:g}=e.options;o=p?n.scrollLeft*(g&&-1||1):n.scrollTop,i(),t(o,f)},a=l(!0),s=l(!1);s(),n.addEventListener("scroll",a,Ju);const c=e.options.useScrollendEvent&&Qu;return c&&n.addEventListener("scrollend",s,Ju),()=>{n.removeEventListener("scroll",a),c&&n.removeEventListener("scrollend",s)}},fb=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},pb=(e,{adjustments:t=0,behavior:n},r)=>{var o,i;const l=e+t;(i=(o=r.scrollElement)==null?void 0:o.scrollTo)==null||i.call(o,{[r.options.horizontal?"left":"top"]:l,behavior:n})};class gb{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(o=>{o.forEach(i=>{const l=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()})}));return{disconnect:()=>{var o;(o=r())==null||o.disconnect(),n=null},observe:o=>{var i;return(i=r())==null?void 0:i.observe(o,{box:"border-box"})},unobserve:o=>{var i;return(i=r())==null?void 0:i.unobserve(o)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,o])=>{typeof o>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:sb,rangeExtractor:ub,onChange:()=>{},measureElement:fb,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,o;(o=(r=this.options).onChange)==null||o.call(r,this,n)},this.maybeNotify=$n(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(o=>{this.observer.observe(o)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(o,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const o=new Map,i=new Map;for(let l=r-1;l>=0;l--){const a=n[l];if(o.has(a.lane))continue;const s=i.get(a.lane);if(s==null||a.end>s.end?i.set(a.lane,a):a.end<s.end&&o.set(a.lane,!0),o.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((l,a)=>l.end===a.end?l.index-a.index:l.end-a.end)[0]:void 0},this.getMeasurementOptions=$n(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,o,i,l)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:o,getItemKey:i,enabled:l}),{key:!1}),this.getMeasurements=$n(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:o,getItemKey:i,enabled:l},a)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const s=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,s);for(let f=s;f<n;f++){const p=i(f),g=this.options.lanes===1?c[f-1]:this.getFurthestMeasurement(c,f),d=g?g.end+this.options.gap:r+o,h=a.get(p),m=typeof h=="number"?h:this.options.estimateSize(f),v=d+m,b=g?g.lane:f%this.options.lanes;c[f]={index:f,start:d,size:m,end:v,key:p,lane:b}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=$n(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,o,i)=>this.range=n.length>0&&r>0?hb({measurements:n,outerSize:r,scrollOffset:o,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=$n(()=>{let n=null,r=null;const o=this.calculateRange();return o&&(n=o.startIndex,r=o.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,o,i,l)=>i===null||l===null?[]:n({startIndex:i,endIndex:l,overscan:r,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,o=n.getAttribute(r);return o?parseInt(o,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const o=this.indexFromElement(n),i=this.measurementsCache[o];if(!i)return;const l=i.key,a=this.elementsCache.get(l);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(l,n)),n.isConnected&&this.resizeItem(o,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const o=this.measurementsCache[n];if(!o)return;const i=this.itemSizeCache.get(o.key)??o.size,l=r-i;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,l,this):this.scrollDirection==="backward"&&o.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,o)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(o))});return}this._measureElement(n,void 0)},this.getVirtualItems=$n(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const o=[];for(let i=0,l=n.length;i<l;i++){const a=n[i],s=r[a];o.push(s)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return Yu(r[_g(0,r.length-1,o=>Yu(r[o]).start,n)])},this.getOffsetForAlignment=(n,r,o=0)=>{const i=this.getSize(),l=this.getScrollOffset();r==="auto"&&(r=n>=l+i?"end":"start"),r==="center"?n+=(o-i)/2:r==="end"&&(n-=i);const a=this.getTotalSize()-i;return Math.max(Math.min(a,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const o=this.measurementsCache[n];if(!o)return;const i=this.getSize(),l=this.getScrollOffset();if(r==="auto")if(o.end>=l+i-this.options.scrollPaddingEnd)r="end";else if(o.start<=l+this.options.scrollPaddingStart)r="start";else return[l,r];const a=r==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,r,o.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:o})},this.scrollToIndex=(n,{align:r="auto",behavior:o}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const i=this.getOffsetForIndex(n,r);if(!i)return;const[l,a]=i;this._scrollToOffset(l,{adjustments:void 0,behavior:o}),o!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const c=this.getOffsetForIndex(n,a);if(!c)return;const[f]=c,p=this.getScrollOffset();lb(f,p)||this.scrollToIndex(n,{align:a,behavior:o})}else this.scrollToIndex(n,{align:a,behavior:o})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let o;if(r.length===0)o=this.options.paddingStart;else if(this.options.lanes===1)o=((n=r[r.length-1])==null?void 0:n.end)??0;else{const i=Array(this.options.lanes).fill(null);let l=r.length-1;for(;l>=0&&i.some(a=>a===null);){const a=r[l];i[a.lane]===null&&(i[a.lane]=a.end),l--}o=Math.max(...i.filter(a=>a!==null))}return Math.max(o-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:o})=>{this.options.scrollToFn(n,{behavior:o,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const _g=(e,t,n,r)=>{for(;e<=t;){const o=(e+t)/2|0,i=n(o);if(i<r)e=o+1;else if(i>r)t=o-1;else return o}return e>0?e-1:0};function hb({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const o=e.length-1,i=s=>e[s].start;if(e.length<=r)return{startIndex:0,endIndex:o};let l=_g(0,o,i,n),a=l;if(r===1)for(;a<o&&e[a].end<n+t;)a++;else if(r>1){const s=Array(r).fill(0);for(;a<o&&s.some(f=>f<n+t);){const f=e[a];s[f.lane]=f.end,a++}const c=Array(r).fill(n+t);for(;l>=0&&c.some(f=>f>=n);){const f=e[l];c[f.lane]=f.start,l--}l=Math.max(0,l-l%r),a=Math.min(o,a+(r-1-a%r))}return{startIndex:l,endIndex:a}}const Zu=typeof document<"u"?mt:z;function mb(e){const t=Dt(()=>({}),{})[1],n={...e,onChange:(o,i)=>{var l;i?Ve(t):t(),(l=e.onChange)==null||l.call(e,o,i)}},[r]=A(()=>new gb(n));return r.setOptions(n),Zu(()=>r._didMount(),[]),Zu(()=>r._willUpdate()),r}function vb(e){return mb({observeElementRect:cb,observeElementOffset:db,scrollToFn:pb,...e})}function bb(e,t){return e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&"id"in e&&"id"in t?e.id===t.id:e===t}function yg(e=bb){return te((t,n)=>{if(typeof e=="string"){let r=e;return(t==null?void 0:t[r])===(n==null?void 0:n[r])}return e(t,n)},[e])}function _b(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function Ma(e,t=!1){let[n,r]=Dt(()=>({}),{}),o=G(()=>_b(e),[e,n]);return fe(()=>{if(!e)return;let i=new ResizeObserver(r);return i.observe(e),()=>{i.disconnect()}},[e]),t?{width:`${o.width}px`,height:`${o.height}px`}:o}let wg=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var yb=Object.defineProperty,wb=(e,t,n)=>t in e?yb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sb=(e,t,n)=>(wb(e,t+"",n),n),Sg=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},it=(e,t,n)=>(Sg(e,t,"read from private field"),n?n.call(e):t.get(e)),ii=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ec=(e,t,n,r)=>(Sg(e,t,"write to private field"),t.set(e,n),n),yt,rr,or;let Rs=class{constructor(t){ii(this,yt,{}),ii(this,rr,new wg(()=>new Set)),ii(this,or,new Set),Sb(this,"disposables",dt()),ec(this,yt,t)}dispose(){this.disposables.dispose()}get state(){return it(this,yt)}subscribe(t,n){let r={selector:t,callback:n,current:t(it(this,yt))};return it(this,or).add(r),this.disposables.add(()=>{it(this,or).delete(r)})}on(t,n){return it(this,rr).get(t).add(n),this.disposables.add(()=>{it(this,rr).get(t).delete(n)})}send(t){let n=this.reduce(it(this,yt),t);if(n!==it(this,yt)){ec(this,yt,n);for(let r of it(this,or)){let o=r.selector(it(this,yt));xg(r.current,o)||(r.current=o,r.callback(o))}for(let r of it(this,rr).get(t.type))r(it(this,yt),t)}}};yt=new WeakMap,rr=new WeakMap,or=new WeakMap;function xg(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:li(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:li(e.entries(),t.entries()):tc(e)&&tc(t)?li(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function li(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function tc(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}function ai(e){let[t,n]=e(),r=dt();return(...o)=>{t(...o),r.dispose(),r.microTask(n)}}var xb=Object.defineProperty,Cb=(e,t,n)=>t in e?xb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nc=(e,t,n)=>(Cb(e,typeof t!="symbol"?t+"":t,n),n),Ns=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(Ns||{});let Fb={0(e,t){let n=t.id,r=e.stack,o=e.stack.indexOf(n);if(o!==-1){let i=e.stack.slice();return i.splice(o,1),i.push(n),r=i,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let o=e.stack.slice();return o.splice(r,1),{...e,stack:o}}},Eb=class Cg extends Rs{constructor(){super(...arguments),nc(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),nc(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new Cg({stack:[]})}reduce(t,n){return xe(n.type,Fb,t,n)}};const zn=new wg(()=>Eb.new());var Kr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $b(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var si={exports:{}},ui={};const Rb=$b(io);/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rc;function Nb(){if(rc)return ui;rc=1;var e=Rb;function t(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,o=e.useRef,i=e.useEffect,l=e.useMemo,a=e.useDebugValue;return ui.useSyncExternalStoreWithSelector=function(s,c,f,p,g){var d=o(null);if(d.current===null){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=l(function(){function v(w){if(!b){if(b=!0,_=w,w=p(w),g!==void 0&&h.hasValue){var C=h.value;if(g(C,w))return y=C}return y=w}if(C=y,n(_,w))return C;var O=p(w);return g!==void 0&&g(C,O)?(_=w,C):(_=w,y=O)}var b=!1,_,y,S=f===void 0?null:f;return[function(){return v(c())},S===null?void 0:function(){return v(S())}]},[c,f,p,g]);var m=r(s,d[0],d[1]);return i(function(){h.hasValue=!0,h.value=m},[m]),a(m),m},ui}var oc;function Ab(){return oc||(oc=1,si.exports=Nb()),si.exports}var Tb=Ab();function ye(e,t,n=xg){return Tb.useSyncExternalStoreWithSelector(V(r=>e.subscribe(kb,r)),V(()=>e.state),V(()=>e.state),V(t),n)}function kb(e){return e}function $r(e,t){let n=$e(),r=zn.get(t),[o,i]=ye(r,te(l=>[r.selectors.isTop(l,n),r.selectors.inStack(l,n)],[r,n]));return fe(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?i?o:!0:!1}let La=new Map,gr=new Map;function ic(e){var t;let n=(t=gr.get(e))!=null?t:0;return gr.set(e,n+1),n!==0?()=>lc(e):(La.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>lc(e))}function lc(e){var t;let n=(t=gr.get(e))!=null?t:1;if(n===1?gr.delete(e):gr.set(e,n-1),n!==1)return;let r=La.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,La.delete(e))}function As(e,{allowed:t,disallowed:n}={}){let r=$r(e,"inert-others");fe(()=>{var o,i;if(!r)return;let l=dt();for(let s of(o=n==null?void 0:n())!=null?o:[])s&&l.add(ic(s));let a=(i=t==null?void 0:t())!=null?i:[];for(let s of a){if(!s)continue;let c=Vt(s);if(!c)continue;let f=s.parentElement;for(;f&&f!==c.body;){for(let p of f.children)a.some(g=>p.contains(g))||l.add(ic(p));f=f.parentElement}}return l.dispose},[r,t,n])}function Ts(e,t,n){let r=tt(o=>{let i=o.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&n()});z(()=>{if(!e)return;let o=t===null?null:Xe(t)?t:t.current;if(!o)return;let i=dt();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>r.current(o));l.observe(o),i.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>r.current(o));l.observe(o),i.add(()=>l.disconnect())}return()=>i.dispose()},[t,r,e])}let uo=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Ob=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Oe=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Oe||{}),pn=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(pn||{}),Ib=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Ib||{});function Fg(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(uo)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function Mb(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Ob)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var ks=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(ks||{});function Eg(e,t=0){var n;return e===((n=Vt(e))==null?void 0:n.body)?!1:xe(t,{0(){return e.matches(uo)},1(){let r=e;for(;r!==null;){if(r.matches(uo))return!0;r=r.parentElement}return!1}})}var Lb=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Lb||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function It(e){e==null||e.focus({preventScroll:!0})}let Db=["textarea","input"].join(",");function Gb(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Db))!=null?n:!1}function zt(e,t=n=>n){return e.slice().sort((n,r)=>{let o=t(n),i=t(r);if(o===null||i===null)return 0;let l=o.compareDocumentPosition(i);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Vb(e,t){return lt(Fg(),t,{relativeTo:e})}function lt(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:o=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,l=Array.isArray(e)?n?zt(e):e:t&64?Mb(e):Fg(e);o.length>0&&l.length>1&&(l=l.filter(d=>!o.some(h=>h!=null&&"current"in h?(h==null?void 0:h.current)===d:h===d))),r=r??i.activeElement;let a=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),s=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(r))-1;if(t&4)return Math.max(0,l.indexOf(r))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=t&32?{preventScroll:!0}:{},f=0,p=l.length,g;do{if(f>=p||f+p<=0)return 0;let d=s+f;if(t&16)d=(d+p)%p;else{if(d<0)return 3;if(d>=p)return 1}g=l[d],g==null||g.focus(c),f+=a}while(g!==i.activeElement);return t&6&&Gb(g)&&g.select(),2}function Pg(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Bb(){return/Android/gi.test(window.navigator.userAgent)}function Da(){return Pg()||Bb()}function On(e,t,n,r){let o=tt(n);z(()=>{if(!e)return;function i(l){o.current(l)}return document.addEventListener(t,i,r),()=>document.removeEventListener(t,i,r)},[e,t,r])}function $g(e,t,n,r){let o=tt(n);z(()=>{if(!e)return;function i(l){o.current(l)}return window.addEventListener(t,i,r),()=>window.removeEventListener(t,i,r)},[e,t,r])}const ac=30;function Os(e,t,n){let r=tt(n),o=te(function(a,s){if(a.defaultPrevented)return;let c=s(a);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let f=function p(g){return typeof g=="function"?p(g()):Array.isArray(g)||g instanceof Set?g:[g]}(t);for(let p of f)if(p!==null&&(p.contains(c)||a.composed&&a.composedPath().includes(p)))return;return!Eg(c,ks.Loose)&&c.tabIndex!==-1&&a.preventDefault(),r.current(a,c)},[r,t]),i=D(null);On(e,"pointerdown",a=>{var s,c;Da()||(i.current=((c=(s=a.composedPath)==null?void 0:s.call(a))==null?void 0:c[0])||a.target)},!0),On(e,"pointerup",a=>{if(Da()||!i.current)return;let s=i.current;return i.current=null,o(a,()=>s)},!0);let l=D({x:0,y:0});On(e,"touchstart",a=>{l.current.x=a.touches[0].clientX,l.current.y=a.touches[0].clientY},!0),On(e,"touchend",a=>{let s={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(s.x-l.current.x)>=ac||Math.abs(s.y-l.current.y)>=ac))return o(a,()=>pt(a.target)?a.target:null)},!0),$g(e,"blur",a=>o(a,()=>Y0(window.document.activeElement)?window.document.activeElement:null),!0)}function Lt(...e){return G(()=>Vt(...e),[...e])}var jb=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(jb||{});const Tt={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},Hb=200;function Rg(e,{trigger:t,action:n,close:r,select:o}){let i=D(null);On(e&&t!==null,"pointerdown",l=>{Fs(l==null?void 0:l.target)&&t!=null&&t.contains(l.target)&&(i.current=new Date)}),On(e&&t!==null,"pointerup",l=>{if(i.current===null||!pt(l.target))return;let a=n(l),s=new Date().getTime()-i.current.getTime();switch(i.current=null,a.kind){case 0:return;case 1:{s>Hb&&(o(a.target),r());break}case 2:{r();break}}},{capture:!0})}function Is(e,t,n,r){let o=tt(n);z(()=>{e=e??window;function i(l){o.current(l)}return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)},[e,t,r])}function Ng(e){let t=D({value:"",selectionStart:null,selectionEnd:null});return Is(e,"blur",n=>{let r=n.target;so(r)&&(t.current={value:r.value,selectionStart:r.selectionStart,selectionEnd:r.selectionEnd})}),V(()=>{if(document.activeElement!==e&&so(e)&&e.isConnected){if(e.focus({preventScroll:!0}),e.value!==t.current.value)e.setSelectionRange(e.value.length,e.value.length);else{let{selectionStart:n,selectionEnd:r}=t.current;n!==null&&r!==null&&e.setSelectionRange(n,r)}t.current={value:"",selectionStart:null,selectionEnd:null}}})}function So(e,t){return G(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function qb(e){return ho(e.subscribe,e.getSnapshot,e.getSnapshot)}function zb(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(o){return r.add(o),()=>r.delete(o)},dispatch(o,...i){let l=t[o].call(n,...i);l&&(n=l,r.forEach(a=>a()))}}}function Ub(){let e;return{before({doc:t}){var n;let r=t.documentElement,o=(n=t.defaultView)!=null?n:window;e=Math.max(0,o.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,o=Math.max(0,r.clientWidth-r.offsetWidth),i=Math.max(0,e-o);n.style(r,"paddingRight",`${i}px`)}}}function Wb(){return Pg()?{before({doc:e,d:t,meta:n}){function r(o){return n.containers.flatMap(i=>i()).some(i=>i.contains(o))}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let a=dt();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let i=(o=window.scrollY)!=null?o:window.pageYOffset,l=null;t.addEventListener(e,"click",a=>{if(pt(a.target))try{let s=a.target.closest("a");if(!s)return;let{hash:c}=new URL(s.href),f=e.querySelector(c);pt(f)&&!r(f)&&(l=f)}catch{}},!0),t.addEventListener(e,"touchstart",a=>{if(pt(a.target)&&K0(a.target))if(r(a.target)){let s=a.target;for(;s.parentElement&&r(s.parentElement);)s=s.parentElement;t.style(s,"overscrollBehavior","contain")}else t.style(a.target,"touchAction","none")}),t.addEventListener(e,"touchmove",a=>{if(pt(a.target)){if(so(a.target))return;if(r(a.target)){let s=a.target;for(;s.parentElement&&s.dataset.headlessuiPortal!==""&&!(s.scrollHeight>s.clientHeight||s.scrollWidth>s.clientWidth);)s=s.parentElement;s.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),t.add(()=>{var a;let s=(a=window.scrollY)!=null?a:window.pageYOffset;i!==s&&window.scrollTo(0,i),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function Kb(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Yb(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let gn=zb(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:dt(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:Yb(n)},o=[Wb(),Ub(),Kb()];o.forEach(({before:i})=>i==null?void 0:i(r)),o.forEach(({after:i})=>i==null?void 0:i(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});gn.subscribe(()=>{let e=gn.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",o=n.count!==0;(o&&!r||!o&&r)&&gn.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&gn.dispatch("TEARDOWN",n)}});function Xb(e,t,n=()=>({containers:[]})){let r=qb(gn),o=t?r.get(t):void 0,i=o?o.count>0:!1;return fe(()=>{if(!(!t||!e))return gn.dispatch("PUSH",t,n),()=>gn.dispatch("POP",t,n)},[e,t]),i}function Ms(e,t,n=()=>[document.body]){let r=$r(e,"scroll-lock");Xb(r,t,o=>{var i;return{containers:[...(i=o.containers)!=null?i:[],n]}})}function sc(e){return[e.screenX,e.screenY]}function Ag(){let e=D([-1,-1]);return{wasMoved(t){let n=sc(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=sc(t)}}}function Jb(e=0){let[t,n]=A(e),r=te(s=>n(s),[t]),o=te(s=>n(c=>c|s),[t]),i=te(s=>(t&s)===s,[t]),l=te(s=>n(c=>c&~s),[n]),a=te(s=>n(c=>c^s),[n]);return{flags:t,setFlag:r,addFlag:o,hasFlag:i,removeFlag:l,toggleFlag:a}}var Qb={},uc,cc;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((uc=process==null?void 0:Qb)==null?void 0:uc.NODE_ENV)==="test"&&typeof((cc=Element==null?void 0:Element.prototype)==null?void 0:cc.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Zb=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(Zb||{});function xo(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function Co(e,t,n,r){let[o,i]=A(n),{hasFlag:l,addFlag:a,removeFlag:s}=Jb(e&&o?3:0),c=D(!1),f=D(!1),p=tn();return fe(()=>{var g;if(e){if(n&&i(!0),!t){n&&a(3);return}return(g=r==null?void 0:r.start)==null||g.call(r,n),e_(t,{inFlight:c,prepare(){f.current?f.current=!1:f.current=c.current,c.current=!0,!f.current&&(n?(a(3),s(4)):(a(4),s(2)))},run(){f.current?n?(s(3),a(4)):(s(4),a(3)):n?s(1):a(1)},done(){var d;f.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(c.current=!1,s(7),n||i(!1),(d=r==null?void 0:r.end)==null||d.call(r,n))}})}},[e,n,t,p]),e?[o,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function e_(e,{prepare:t,run:n,done:r,inFlight:o}){let i=dt();return n_(e,{prepare:t,inFlight:o}),i.nextFrame(()=>{n(),i.requestAnimationFrame(()=>{i.add(t_(e,r))})}),i.dispose}function t_(e,t){var n,r;let o=dt();if(!e)return o.dispose;let i=!1;o.add(()=>{i=!0});let l=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(a=>a instanceof CSSTransition))!=null?r:[];return l.length===0?(t(),o.dispose):(Promise.allSettled(l.map(a=>a.finished)).then(()=>{i||t()}),o.dispose)}function n_(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function r_(e,{container:t,accept:n,walk:r}){let o=D(n),i=D(r);z(()=>{o.current=n,i.current=r},[n,r]),fe(()=>{if(!t||!e)return;let l=Vt(t);if(!l)return;let a=o.current,s=i.current,c=Object.assign(p=>a(p),{acceptNode:a}),f=l.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,c,!1);for(;f.nextNode();)s(f.currentNode)},[t,e,o,i])}function vr(e,t){let n=D([]),r=V(e);z(()=>{let o=[...n.current];for(let[i,l]of t.entries())if(n.current[i]!==l){let a=r(t,o);return n.current=t,a}},[r,...t])}function Fo(){return typeof window<"u"}function Un(e){return Tg(e)?(e.nodeName||"").toLowerCase():"#document"}function nt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function $t(e){var t;return(t=(Tg(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Tg(e){return Fo()?e instanceof Node||e instanceof nt(e).Node:!1}function We(e){return Fo()?e instanceof Element||e instanceof nt(e).Element:!1}function Pt(e){return Fo()?e instanceof HTMLElement||e instanceof nt(e).HTMLElement:!1}function dc(e){return!Fo()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof nt(e).ShadowRoot}function Rr(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=ht(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function o_(e){return["table","td","th"].includes(Un(e))}function Eo(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ls(e){const t=Ds(),n=We(e)?ht(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function i_(e){let t=Jt(e);for(;Pt(t)&&!Bn(t);){if(Ls(t))return t;if(Eo(t))return null;t=Jt(t)}return null}function Ds(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Bn(e){return["html","body","#document"].includes(Un(e))}function ht(e){return nt(e).getComputedStyle(e)}function Po(e){return We(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Jt(e){if(Un(e)==="html")return e;const t=e.assignedSlot||e.parentNode||dc(e)&&e.host||$t(e);return dc(t)?t.host:t}function kg(e){const t=Jt(e);return Bn(t)?e.ownerDocument?e.ownerDocument.body:e.body:Pt(t)&&Rr(t)?t:kg(t)}function br(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=kg(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),l=nt(o);if(i){const a=Ga(l);return t.concat(l,l.visualViewport||[],Rr(o)?o:[],a&&n?br(a):[])}return t.concat(o,br(o,[],n))}function Ga(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function l_(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}const _n=Math.min,qe=Math.max,_r=Math.round,Yr=Math.floor,Et=e=>({x:e,y:e}),a_={left:"right",right:"left",bottom:"top",top:"bottom"},s_={start:"end",end:"start"};function fc(e,t,n){return qe(e,_n(t,n))}function Wn(e,t){return typeof e=="function"?e(t):e}function Qt(e){return e.split("-")[0]}function Nr(e){return e.split("-")[1]}function Og(e){return e==="x"?"y":"x"}function Ig(e){return e==="y"?"height":"width"}function kt(e){return["top","bottom"].includes(Qt(e))?"y":"x"}function Mg(e){return Og(kt(e))}function u_(e,t,n){n===void 0&&(n=!1);const r=Nr(e),o=Mg(e),i=Ig(o);let l=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=co(l)),[l,co(l)]}function c_(e){const t=co(e);return[Va(e),t,Va(t)]}function Va(e){return e.replace(/start|end/g,t=>s_[t])}function d_(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:l;default:return[]}}function f_(e,t,n,r){const o=Nr(e);let i=d_(Qt(e),n==="start",r);return o&&(i=i.map(l=>l+"-"+o),t&&(i=i.concat(i.map(Va)))),i}function co(e){return e.replace(/left|right|bottom|top/g,t=>a_[t])}function p_(e){return{top:0,right:0,bottom:0,left:0,...e}}function g_(e){return typeof e!="number"?p_(e):{top:e,right:e,bottom:e,left:e}}function fo(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function pc(e,t,n){let{reference:r,floating:o}=e;const i=kt(t),l=Mg(t),a=Ig(l),s=Qt(t),c=i==="y",f=r.x+r.width/2-o.width/2,p=r.y+r.height/2-o.height/2,g=r[a]/2-o[a]/2;let d;switch(s){case"top":d={x:f,y:r.y-o.height};break;case"bottom":d={x:f,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:p};break;case"left":d={x:r.x-o.width,y:p};break;default:d={x:r.x,y:r.y}}switch(Nr(t)){case"start":d[l]-=g*(n&&c?-1:1);break;case"end":d[l]+=g*(n&&c?-1:1);break}return d}const h_=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:l}=n,a=i.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(t));let c=await l.getElementRects({reference:e,floating:t,strategy:o}),{x:f,y:p}=pc(c,r,s),g=r,d={},h=0;for(let m=0;m<a.length;m++){const{name:v,fn:b}=a[m],{x:_,y,data:S,reset:w}=await b({x:f,y:p,initialPlacement:r,placement:g,strategy:o,middlewareData:d,rects:c,platform:l,elements:{reference:e,floating:t}});f=_??f,p=y??p,d={...d,[v]:{...d[v],...S}},w&&h<=50&&(h++,typeof w=="object"&&(w.placement&&(g=w.placement),w.rects&&(c=w.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:o}):w.rects),{x:f,y:p}=pc(c,g,s)),m=-1)}return{x:f,y:p,placement:g,strategy:o,middlewareData:d}};async function $o(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:l,elements:a,strategy:s}=e,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:g=!1,padding:d=0}=Wn(t,e),h=g_(d),v=a[g?p==="floating"?"reference":"floating":p],b=fo(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:f,strategy:s})),_=p==="floating"?{x:r,y:o,width:l.floating.width,height:l.floating.height}:l.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),S=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},w=fo(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:y,strategy:s}):_);return{top:(b.top-w.top+h.top)/S.y,bottom:(w.bottom-b.bottom+h.bottom)/S.y,left:(b.left-w.left+h.left)/S.x,right:(w.right-b.right+h.right)/S.x}}const m_=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:l,initialPlacement:a,platform:s,elements:c}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...v}=Wn(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=Qt(o),_=kt(a),y=Qt(a)===a,S=await(s.isRTL==null?void 0:s.isRTL(c.floating)),w=g||(y||!m?[co(a)]:c_(a)),C=h!=="none";!g&&C&&w.push(...f_(a,m,h,S));const O=[a,...w],L=await $o(t,v),M=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&M.push(L[b]),p){const k=u_(o,l,S);M.push(L[k[0]],L[k[1]])}if(P=[...P,{placement:o,overflows:M}],!M.every(k=>k<=0)){var $,I;const k=((($=i.flip)==null?void 0:$.index)||0)+1,N=O[k];if(N&&(!(p==="alignment"?_!==kt(N):!1)||P.every(K=>K.overflows[0]>0&&kt(K.placement)===_)))return{data:{index:k,overflows:P},reset:{placement:N}};let T=(I=P.filter(Y=>Y.overflows[0]<=0).sort((Y,K)=>Y.overflows[1]-K.overflows[1])[0])==null?void 0:I.placement;if(!T)switch(d){case"bestFit":{var B;const Y=(B=P.filter(K=>{if(C){const ne=kt(K.placement);return ne===_||ne==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(ne=>ne>0).reduce((ne,U)=>ne+U,0)]).sort((K,ne)=>K[1]-ne[1])[0])==null?void 0:B[0];Y&&(T=Y);break}case"initialPlacement":T=a;break}if(o!==T)return{reset:{placement:T}}}return{}}}};async function v_(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),l=Qt(n),a=Nr(n),s=kt(n)==="y",c=["left","top"].includes(l)?-1:1,f=i&&s?-1:1,p=Wn(t,e);let{mainAxis:g,crossAxis:d,alignmentAxis:h}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof h=="number"&&(d=a==="end"?h*-1:h),s?{x:d*f,y:g*c}:{x:g*c,y:d*f}}const b_=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:l,middlewareData:a}=t,s=await v_(t,e);return l===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+s.x,y:i+s.y,data:{...s,placement:l}}}}},__=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:l=!1,limiter:a={fn:v=>{let{x:b,y:_}=v;return{x:b,y:_}}},...s}=Wn(e,t),c={x:n,y:r},f=await $o(t,s),p=kt(Qt(o)),g=Og(p);let d=c[g],h=c[p];if(i){const v=g==="y"?"top":"left",b=g==="y"?"bottom":"right",_=d+f[v],y=d-f[b];d=fc(_,d,y)}if(l){const v=p==="y"?"top":"left",b=p==="y"?"bottom":"right",_=h+f[v],y=h-f[b];h=fc(_,h,y)}const m=a.fn({...t,[g]:d,[p]:h});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[g]:i,[p]:l}}}}}},y_=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:l,elements:a}=t,{apply:s=()=>{},...c}=Wn(e,t),f=await $o(t,c),p=Qt(o),g=Nr(o),d=kt(o)==="y",{width:h,height:m}=i.floating;let v,b;p==="top"||p==="bottom"?(v=p,b=g===(await(l.isRTL==null?void 0:l.isRTL(a.floating))?"start":"end")?"left":"right"):(b=p,v=g==="end"?"top":"bottom");const _=m-f.top-f.bottom,y=h-f.left-f.right,S=_n(m-f[v],_),w=_n(h-f[b],y),C=!t.middlewareData.shift;let O=S,L=w;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(L=y),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(O=_),C&&!g){const P=qe(f.left,0),$=qe(f.right,0),I=qe(f.top,0),B=qe(f.bottom,0);d?L=h-2*(P!==0||$!==0?P+$:qe(f.left,f.right)):O=m-2*(I!==0||B!==0?I+B:qe(f.top,f.bottom))}await s({...t,availableWidth:L,availableHeight:O});const M=await l.getDimensions(a.floating);return h!==M.width||m!==M.height?{reset:{rects:!0}}:{}}}};function Lg(e){const t=ht(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Pt(e),i=o?e.offsetWidth:n,l=o?e.offsetHeight:r,a=_r(n)!==i||_r(r)!==l;return a&&(n=i,r=l),{width:n,height:r,$:a}}function Gs(e){return We(e)?e:e.contextElement}function Ln(e){const t=Gs(e);if(!Pt(t))return Et(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Lg(t);let l=(i?_r(n.width):n.width)/r,a=(i?_r(n.height):n.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const w_=Et(0);function Dg(e){const t=nt(e);return!Ds()||!t.visualViewport?w_:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function S_(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==nt(e)?!1:t}function yn(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=Gs(e);let l=Et(1);t&&(r?We(r)&&(l=Ln(r)):l=Ln(e));const a=S_(i,n,r)?Dg(i):Et(0);let s=(o.left+a.x)/l.x,c=(o.top+a.y)/l.y,f=o.width/l.x,p=o.height/l.y;if(i){const g=nt(i),d=r&&We(r)?nt(r):r;let h=g,m=Ga(h);for(;m&&r&&d!==h;){const v=Ln(m),b=m.getBoundingClientRect(),_=ht(m),y=b.left+(m.clientLeft+parseFloat(_.paddingLeft))*v.x,S=b.top+(m.clientTop+parseFloat(_.paddingTop))*v.y;s*=v.x,c*=v.y,f*=v.x,p*=v.y,s+=y,c+=S,h=nt(m),m=Ga(h)}}return fo({width:f,height:p,x:s,y:c})}function Vs(e,t){const n=Po(e).scrollLeft;return t?t.left+n:yn($t(e)).left+n}function Gg(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:Vs(e,r)),i=r.top+t.scrollTop;return{x:o,y:i}}function x_(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",l=$t(r),a=t?Eo(t.floating):!1;if(r===l||a&&i)return n;let s={scrollLeft:0,scrollTop:0},c=Et(1);const f=Et(0),p=Pt(r);if((p||!p&&!i)&&((Un(r)!=="body"||Rr(l))&&(s=Po(r)),Pt(r))){const d=yn(r);c=Ln(r),f.x=d.x+r.clientLeft,f.y=d.y+r.clientTop}const g=l&&!p&&!i?Gg(l,s,!0):Et(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-s.scrollLeft*c.x+f.x+g.x,y:n.y*c.y-s.scrollTop*c.y+f.y+g.y}}function C_(e){return Array.from(e.getClientRects())}function F_(e){const t=$t(e),n=Po(e),r=e.ownerDocument.body,o=qe(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=qe(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Vs(e);const a=-n.scrollTop;return ht(r).direction==="rtl"&&(l+=qe(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:l,y:a}}function E_(e,t){const n=nt(e),r=$t(e),o=n.visualViewport;let i=r.clientWidth,l=r.clientHeight,a=0,s=0;if(o){i=o.width,l=o.height;const c=Ds();(!c||c&&t==="fixed")&&(a=o.offsetLeft,s=o.offsetTop)}return{width:i,height:l,x:a,y:s}}function P_(e,t){const n=yn(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Pt(e)?Ln(e):Et(1),l=e.clientWidth*i.x,a=e.clientHeight*i.y,s=o*i.x,c=r*i.y;return{width:l,height:a,x:s,y:c}}function gc(e,t,n){let r;if(t==="viewport")r=E_(e,n);else if(t==="document")r=F_($t(e));else if(We(t))r=P_(t,n);else{const o=Dg(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return fo(r)}function Vg(e,t){const n=Jt(e);return n===t||!We(n)||Bn(n)?!1:ht(n).position==="fixed"||Vg(n,t)}function $_(e,t){const n=t.get(e);if(n)return n;let r=br(e,[],!1).filter(a=>We(a)&&Un(a)!=="body"),o=null;const i=ht(e).position==="fixed";let l=i?Jt(e):e;for(;We(l)&&!Bn(l);){const a=ht(l),s=Ls(l);!s&&a.position==="fixed"&&(o=null),(i?!s&&!o:!s&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Rr(l)&&!s&&Vg(e,l))?r=r.filter(f=>f!==l):o=a,l=Jt(l)}return t.set(e,r),r}function R_(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const l=[...n==="clippingAncestors"?Eo(t)?[]:$_(t,this._c):[].concat(n),r],a=l[0],s=l.reduce((c,f)=>{const p=gc(t,f,o);return c.top=qe(p.top,c.top),c.right=_n(p.right,c.right),c.bottom=_n(p.bottom,c.bottom),c.left=qe(p.left,c.left),c},gc(t,a,o));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function N_(e){const{width:t,height:n}=Lg(e);return{width:t,height:n}}function A_(e,t,n){const r=Pt(t),o=$t(t),i=n==="fixed",l=yn(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const s=Et(0);function c(){s.x=Vs(o)}if(r||!r&&!i)if((Un(t)!=="body"||Rr(o))&&(a=Po(t)),r){const d=yn(t,!0,i,t);s.x=d.x+t.clientLeft,s.y=d.y+t.clientTop}else o&&c();i&&!r&&o&&c();const f=o&&!r&&!i?Gg(o,a):Et(0),p=l.left+a.scrollLeft-s.x-f.x,g=l.top+a.scrollTop-s.y-f.y;return{x:p,y:g,width:l.width,height:l.height}}function ci(e){return ht(e).position==="static"}function hc(e,t){if(!Pt(e)||ht(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return $t(e)===n&&(n=n.ownerDocument.body),n}function Bg(e,t){const n=nt(e);if(Eo(e))return n;if(!Pt(e)){let o=Jt(e);for(;o&&!Bn(o);){if(We(o)&&!ci(o))return o;o=Jt(o)}return n}let r=hc(e,t);for(;r&&o_(r)&&ci(r);)r=hc(r,t);return r&&Bn(r)&&ci(r)&&!Ls(r)?n:r||i_(e)||n}const T_=async function(e){const t=this.getOffsetParent||Bg,n=this.getDimensions,r=await n(e.floating);return{reference:A_(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function k_(e){return ht(e).direction==="rtl"}const O_={convertOffsetParentRelativeRectToViewportRelativeRect:x_,getDocumentElement:$t,getClippingRect:R_,getOffsetParent:Bg,getElementRects:T_,getClientRects:C_,getDimensions:N_,getScale:Ln,isElement:We,isRTL:k_};function jg(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function I_(e,t){let n=null,r;const o=$t(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function l(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),i();const c=e.getBoundingClientRect(),{left:f,top:p,width:g,height:d}=c;if(a||t(),!g||!d)return;const h=Yr(p),m=Yr(o.clientWidth-(f+g)),v=Yr(o.clientHeight-(p+d)),b=Yr(f),y={rootMargin:-h+"px "+-m+"px "+-v+"px "+-b+"px",threshold:qe(0,_n(1,s))||1};let S=!0;function w(C){const O=C[0].intersectionRatio;if(O!==s){if(!S)return l();O?l(!1,O):r=setTimeout(()=>{l(!1,1e-7)},1e3)}O===1&&!jg(c,e.getBoundingClientRect())&&l(),S=!1}try{n=new IntersectionObserver(w,{...y,root:o.ownerDocument})}catch{n=new IntersectionObserver(w,y)}n.observe(e)}return l(!0),i}function M_(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=r,c=Gs(e),f=o||i?[...c?br(c):[],...br(t)]:[];f.forEach(b=>{o&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const p=c&&a?I_(c,n):null;let g=-1,d=null;l&&(d=new ResizeObserver(b=>{let[_]=b;_&&_.target===c&&d&&(d.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var y;(y=d)==null||y.observe(t)})),n()}),c&&!s&&d.observe(c),d.observe(t));let h,m=s?yn(e):null;s&&v();function v(){const b=yn(e);m&&!jg(m,b)&&n(),m=b,h=requestAnimationFrame(v)}return n(),()=>{var b;f.forEach(_=>{o&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),p==null||p(),(b=d)==null||b.disconnect(),d=null,s&&cancelAnimationFrame(h)}}const di=$o,L_=b_,D_=__,G_=m_,V_=y_,B_=(e,t,n)=>{const r=new Map,o={platform:O_,...n},i={...o.platform,_c:r};return h_(e,t,{...o,platform:i})};var j_=typeof document<"u",H_=function(){},Zr=j_?mt:H_;function po(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!po(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!po(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Hg(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function mc(e,t){const n=Hg(e);return Math.round(t*n)/n}function fi(e){const t=D(e);return Zr(()=>{t.current=e}),t}function q_(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:l}={},transform:a=!0,whileElementsMounted:s,open:c}=e,[f,p]=A({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,d]=A(r);po(g,r)||d(r);const[h,m]=A(null),[v,b]=A(null),_=te(K=>{K!==C.current&&(C.current=K,m(K))},[]),y=te(K=>{K!==O.current&&(O.current=K,b(K))},[]),S=i||h,w=l||v,C=D(null),O=D(null),L=D(f),M=s!=null,P=fi(s),$=fi(o),I=fi(c),B=te(()=>{if(!C.current||!O.current)return;const K={placement:t,strategy:n,middleware:g};$.current&&(K.platform=$.current),B_(C.current,O.current,K).then(ne=>{const U={...ne,isPositioned:I.current!==!1};k.current&&!po(L.current,U)&&(L.current=U,Ve(()=>{p(U)}))})},[g,t,n,$,I]);Zr(()=>{c===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,p(K=>({...K,isPositioned:!1})))},[c]);const k=D(!1);Zr(()=>(k.current=!0,()=>{k.current=!1}),[]),Zr(()=>{if(S&&(C.current=S),w&&(O.current=w),S&&w){if(P.current)return P.current(S,w,B);B()}},[S,w,B,P,M]);const N=G(()=>({reference:C,floating:O,setReference:_,setFloating:y}),[_,y]),T=G(()=>({reference:S,floating:w}),[S,w]),Y=G(()=>{const K={position:n,left:0,top:0};if(!T.floating)return K;const ne=mc(T.floating,f.x),U=mc(T.floating,f.y);return a?{...K,transform:"translate("+ne+"px, "+U+"px)",...Hg(T.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:U}},[n,a,T.floating,f.x,f.y]);return G(()=>({...f,update:B,refs:N,elements:T,floatingStyles:Y}),[f,B,N,T,Y])}const qg=(e,t)=>({...L_(e),options:[e,t]}),z_=(e,t)=>({...D_(e),options:[e,t]}),U_=(e,t)=>({...G_(e),options:[e,t]}),W_=(e,t)=>({...V_(e),options:[e,t]}),zg={...io},K_=zg.useInsertionEffect,Y_=K_||(e=>e());function Ug(e){const t=D(()=>{});return Y_(()=>{t.current=e}),te(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}var Ba=typeof document<"u"?mt:z;let vc=!1,X_=0;const bc=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+X_++;function J_(){const[e,t]=A(()=>vc?bc():void 0);return Ba(()=>{e==null&&t(bc())},[]),z(()=>{vc=!0},[]),e}const Q_=zg.useId,Z_=Q_||J_;function ey(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const ty=he(null),ny=he(null),ry=()=>{var e;return((e=oe(ty))==null?void 0:e.id)||null},oy=()=>oe(ny),iy="data-floating-ui-focusable";function ly(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=Z_(),i=D({}),[l]=A(()=>ey()),a=ry()!=null,[s,c]=A(r.reference),f=Ug((d,h,m)=>{i.current.openEvent=d?h:void 0,l.emit("openchange",{open:d,event:h,reason:m,nested:a}),n==null||n(d,h,m)}),p=G(()=>({setPositionReference:c}),[]),g=G(()=>({reference:s||r.reference||null,floating:r.floating||null,domReference:r.reference}),[s,r.reference,r.floating]);return G(()=>({dataRef:i,open:t,onOpenChange:f,elements:g,events:l,floatingId:o,refs:p}),[t,f,g,l,o,p])}function ay(e){e===void 0&&(e={});const{nodeId:t}=e,n=ly({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[i,l]=A(null),[a,s]=A(null),f=(o==null?void 0:o.domReference)||i,p=D(null),g=oy();Ba(()=>{f&&(p.current=f)},[f]);const d=q_({...e,elements:{...o,...a&&{reference:a}}}),h=te(y=>{const S=We(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),contextElement:y}:y;s(S),d.refs.setReference(S)},[d.refs]),m=te(y=>{(We(y)||y===null)&&(p.current=y,l(y)),(We(d.refs.reference.current)||d.refs.reference.current===null||y!==null&&!We(y))&&d.refs.setReference(y)},[d.refs]),v=G(()=>({...d.refs,setReference:m,setPositionReference:h,domReference:p}),[d.refs,m,h]),b=G(()=>({...d.elements,domReference:f}),[d.elements,f]),_=G(()=>({...d,...r,refs:v,elements:b,nodeId:t}),[d,v,b,t,r]);return Ba(()=>{r.dataRef.current.floatingContext=_;const y=g==null?void 0:g.nodesRef.current.find(S=>S.id===t);y&&(y.context=_)}),G(()=>({...d,context:_,refs:v,elements:b}),[d,v,b,_])}const _c="active",yc="selected";function pi(e,t,n){const r=new Map,o=n==="item";let i=e;if(o&&e){const{[_c]:l,[yc]:a,...s}=e;i=s}return{...n==="floating"&&{tabIndex:-1,[iy]:""},...i,...t.map(l=>{const a=l?l[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((l,a)=>(a&&Object.entries(a).forEach(s=>{let[c,f]=s;if(!(o&&[_c,yc].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof f=="function"){var p;(p=r.get(c))==null||p.push(f),l[c]=function(){for(var g,d=arguments.length,h=new Array(d),m=0;m<d;m++)h[m]=arguments[m];return(g=r.get(c))==null?void 0:g.map(v=>v(...h)).find(v=>v!==void 0)}}}else l[c]=f}),l),{})}}function sy(e){e===void 0&&(e=[]);const t=e.map(a=>a==null?void 0:a.reference),n=e.map(a=>a==null?void 0:a.floating),r=e.map(a=>a==null?void 0:a.item),o=te(a=>pi(a,e,"reference"),t),i=te(a=>pi(a,e,"floating"),n),l=te(a=>pi(a,e,"item"),r);return G(()=>({getReferenceProps:o,getFloatingProps:i,getItemProps:l}),[o,i,l])}function wc(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const uy=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:o,offset:i=0,index:l=0,minItemsVisible:a=4,referenceOverflowThreshold:s=0,scrollRef:c,...f}=Wn(e,t),{rects:p,elements:{floating:g}}=t,d=n.current[l],h=(c==null?void 0:c.current)||g,m=g.clientTop||h.clientTop,v=g.clientTop!==0,b=h.clientTop!==0,_=g===h;if(!d)return{};const y={...t,...await qg(-d.offsetTop-g.clientTop-p.reference.height/2-d.offsetHeight/2-i).fn(t)},S=await di(wc(y,h.scrollHeight+m+g.clientTop),f),w=await di(y,{...f,elementContext:"reference"}),C=qe(0,S.top),O=y.y+C,P=(h.scrollHeight>h.clientHeight?$=>$:_r)(qe(0,h.scrollHeight+(v&&_||b?m*2:0)-C-qe(0,S.bottom)));if(h.style.maxHeight=P+"px",h.scrollTop=C,o){const $=h.offsetHeight<d.offsetHeight*_n(a,n.current.length)-1||w.top>=-s||w.bottom>=-s;Ve(()=>o($))}return r&&(r.current=await di(wc({...y,y:O},h.offsetHeight+m+g.clientTop),f)),{y:O}}});function cy(e,t){const{open:n,elements:r}=e,{enabled:o=!0,overflowRef:i,scrollRef:l,onChange:a}=t,s=Ug(a),c=D(!1),f=D(null),p=D(null);z(()=>{if(!o)return;function d(m){if(m.ctrlKey||!h||i.current==null)return;const v=m.deltaY,b=i.current.top>=-.5,_=i.current.bottom>=-.5,y=h.scrollHeight-h.clientHeight,S=v<0?-1:1,w=v<0?"max":"min";h.scrollHeight<=h.clientHeight||(!b&&v>0||!_&&v<0?(m.preventDefault(),Ve(()=>{s(C=>C+Math[w](v,y*S))})):/firefox/i.test(l_())&&(h.scrollTop+=v))}const h=(l==null?void 0:l.current)||r.floating;if(n&&h)return h.addEventListener("wheel",d),requestAnimationFrame(()=>{f.current=h.scrollTop,i.current!=null&&(p.current={...i.current})}),()=>{f.current=null,p.current=null,h.removeEventListener("wheel",d)}},[o,n,r.floating,i,l,s]);const g=G(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){const d=(l==null?void 0:l.current)||r.floating;if(!(!i.current||!d||!c.current)){if(f.current!==null){const h=d.scrollTop-f.current;(i.current.bottom<-.5&&h<-1||i.current.top<-.5&&h>1)&&Ve(()=>s(m=>m+h))}requestAnimationFrame(()=>{f.current=d.scrollTop})}}}),[r.floating,s,i,l]);return G(()=>o?{floating:g}:{},[o,g])}let Kn=he({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Kn.displayName="FloatingContext";let Bs=he(null);Bs.displayName="PlacementContext";function Wg(e){return G(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function Kg(){return oe(Kn).setReference}function dy(){return oe(Kn).getReferenceProps}function Yg(){let{getFloatingProps:e,slot:t}=oe(Kn);return te((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function Xg(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=oe(Bs),n=G(()=>e,[JSON.stringify(e,(o,i)=>{var l;return(l=i==null?void 0:i.outerHTML)!=null?l:i})]);fe(()=>{t==null||t(n??null)},[t,n]);let r=oe(Kn);return G(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let Sc=4;function Jg({children:e,enabled:t=!0}){let[n,r]=A(null),[o,i]=A(0),l=D(null),[a,s]=A(null);fy(a);let c=t&&n!==null&&a!==null,{to:f="bottom",gap:p=0,offset:g=0,padding:d=0,inner:h}=py(n,a),[m,v="center"]=f.split(" ");fe(()=>{c&&i(0)},[c]);let{refs:b,floatingStyles:_,context:y}=ay({open:c,placement:m==="selection"?v==="center"?"bottom":`bottom-${v}`:v==="center"?`${m}`:`${m}-${v}`,strategy:"absolute",transform:!1,middleware:[qg({mainAxis:m==="selection"?0:p,crossAxis:g}),z_({padding:d}),m!=="selection"&&U_({padding:d}),m==="selection"&&h?uy({...h,padding:d,overflowRef:l,offset:o,minItemsVisible:Sc,referenceOverflowThreshold:d,onFallbackChange($){var I,B;if(!$)return;let k=y.elements.floating;if(!k)return;let N=parseFloat(getComputedStyle(k).scrollPaddingBottom)||0,T=Math.min(Sc,k.childElementCount),Y=0,K=0;for(let ne of(B=(I=y.elements.floating)==null?void 0:I.childNodes)!=null?B:[])if(Xe(ne)){let U=ne.offsetTop,le=U+ne.clientHeight+N,ue=k.scrollTop,X=ue+k.clientHeight;if(U>=ue&&le<=X)T--;else{K=Math.max(0,Math.min(le,X)-Math.max(U,ue)),Y=ne.clientHeight;break}}T>=1&&i(ne=>{let U=Y*T-K+N;return ne>=U?ne:U})}}):null,W_({padding:d,apply({availableWidth:$,availableHeight:I,elements:B}){Object.assign(B.floating.style,{overflow:"auto",maxWidth:`${$}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${I}px)`})}})].filter(Boolean),whileElementsMounted:M_}),[S=m,w=v]=y.placement.split("-");m==="selection"&&(S="selection");let C=G(()=>({anchor:[S,w].filter(Boolean).join(" ")}),[S,w]),O=cy(y,{overflowRef:l,onChange:i}),{getReferenceProps:L,getFloatingProps:M}=sy([O]),P=V($=>{s($),b.setFloating($)});return Le(Bs.Provider,{value:r},Le(Kn.Provider,{value:{setFloating:P,setReference:b.setReference,styles:_,getReferenceProps:L,getFloatingProps:M,slot:C}},e))}function fy(e){fe(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,r=parseFloat(n);if(isNaN(r))return;let o=parseInt(n);isNaN(o)||r!==o&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function py(e,t){var n,r,o;let i=gi((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),l=gi((r=e==null?void 0:e.offset)!=null?r:"var(--anchor-offset, 0)",t),a=gi((o=e==null?void 0:e.padding)!=null?o:"var(--anchor-padding, 0)",t);return{...e,gap:i,offset:l,padding:a}}function gi(e,t,n=void 0){let r=tn(),o=V((s,c)=>{if(s==null)return[n,null];if(typeof s=="number")return[s,null];if(typeof s=="string"){if(!c)return[n,null];let f=xc(s,c);return[f,p=>{let g=Qg(s);{let d=g.map(h=>window.getComputedStyle(c).getPropertyValue(h));r.requestAnimationFrame(function h(){r.nextFrame(h);let m=!1;for(let[b,_]of g.entries()){let y=window.getComputedStyle(c).getPropertyValue(_);if(d[b]!==y){d[b]=y,m=!0;break}}if(!m)return;let v=xc(s,c);f!==v&&(p(v),f=v)})}return r.dispose}]}return[n,null]}),i=G(()=>o(e,t)[0],[e,t]),[l=i,a]=A();return fe(()=>{let[s,c]=o(e,t);if(a(s),!!c)return c(a)},[e,t]),l}function Qg(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),o=t[1].slice(n+1).trim();return o?[r,...Qg(o)]:[r]}return[]}function xc(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}function gy({children:e,freeze:t}){let n=go(t,e);return E.createElement(E.Fragment,null,n)}function go(e,t){let[n,r]=A(t);return!e&&n!==t&&r(t),e?n:t}let Ro=he(null);Ro.displayName="OpenClosedContext";var Te=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Te||{});function xn(){return oe(Ro)}function No({value:e,children:t}){return E.createElement(Ro.Provider,{value:e},t)}function Zg({children:e}){return E.createElement(Ro.Provider,{value:null},e)}function hy(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let xt=[];hy(()=>{function e(t){if(!pt(t.target)||t.target===document.body||xt[0]===t.target)return;let n=t.target;n=n.closest(uo),xt.unshift(n??t.target),xt=xt.filter(r=>r!=null&&r.isConnected),xt.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function my(e){throw new Error("Unexpected object: "+e)}var ae=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(ae||{});function In(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),o=r??-1;switch(e.focus){case 0:{for(let i=0;i<n.length;++i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 1:{o===-1&&(o=n.length);for(let i=o-1;i>=0;--i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 2:{for(let i=o+1;i<n.length;++i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 3:{for(let i=n.length-1;i>=0;--i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 4:{for(let i=0;i<n.length;++i)if(t.resolveId(n[i],i,n)===e.id)return i;return r}case 5:return null;default:my(e)}}var js=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(js||{});function Ao(e){let t=V(e),n=D(!1);z(()=>(n.current=!1,()=>{n.current=!0,Fr(()=>{n.current&&t()})}),[t])}function vy(){let e=typeof document>"u";return"useSyncExternalStore"in io?(t=>t.useSyncExternalStore)(io)(()=>()=>{},()=>!1,()=>!e):!1}function Ar(){let e=vy(),[t,n]=A(vn.isHandoffComplete);return t&&vn.isHandoffComplete===!1&&n(!1),z(()=>{t!==!0&&n(!0)},[t]),z(()=>vn.handoff(),[]),e?!1:t}let eh=he(!1);function by(){return oe(eh)}function Cc(e){return E.createElement(eh.Provider,{value:e.force},e.children)}function _y(e){let t=by(),n=oe(nh),[r,o]=A(()=>{var i;if(!t&&n!==null)return(i=n.current)!=null?i:null;if(vn.isServer)return null;let l=e==null?void 0:e.getElementById("headlessui-portal-root");if(l)return l;if(e===null)return null;let a=e.createElement("div");return a.setAttribute("id","headlessui-portal-root"),e.body.appendChild(a)});return z(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),z(()=>{t||n!==null&&o(n.current)},[n,o,t]),r}let th=ee,yy=pe(function(e,t){let{ownerDocument:n=null,...r}=e,o=D(null),i=Fe(gg(d=>{o.current=d}),t),l=Lt(o),a=n??l,s=_y(a),[c]=A(()=>{var d;return vn.isServer?null:(d=a==null?void 0:a.createElement("div"))!=null?d:null}),f=oe(ja),p=Ar();fe(()=>{!s||!c||s.contains(c)||(c.setAttribute("data-headlessui-portal",""),s.appendChild(c))},[s,c]),fe(()=>{if(c&&f)return f.register(c)},[f,c]),Ao(()=>{var d;!s||!c||(Fs(c)&&s.contains(c)&&s.removeChild(c),s.childNodes.length<=0&&((d=s.parentElement)==null||d.removeChild(s)))});let g=me();return p?!s||!c?null:vo(g({ourProps:{ref:i},theirProps:r,slot:{},defaultTag:th,name:"Portal"}),c):null});function wy(e,t){let n=Fe(t),{enabled:r=!0,ownerDocument:o,...i}=e,l=me();return r?E.createElement(yy,{...i,ownerDocument:o,ref:n}):l({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:th,name:"Portal"})}let Sy=ee,nh=he(null);function xy(e,t){let{target:n,...r}=e,o={ref:Fe(t)},i=me();return E.createElement(nh.Provider,{value:n},i({ourProps:o,theirProps:r,defaultTag:Sy,name:"Popover.Group"}))}let ja=he(null);function Cy(){let e=oe(ja),t=D([]),n=V(i=>(t.current.push(i),e&&e.register(i),()=>r(i))),r=V(i=>{let l=t.current.indexOf(i);l!==-1&&t.current.splice(l,1),e&&e.unregister(i)}),o=G(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,G(()=>function({children:i}){return E.createElement(ja.Provider,{value:o},i)},[o])]}let Fy=pe(wy),rh=pe(xy),Hs=Object.assign(Fy,{Group:rh});var Ey=Object.defineProperty,Py=(e,t,n)=>t in e?Ey(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fc=(e,t,n)=>(Py(e,typeof t!="symbol"?t+"":t,n),n),ge=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ge||{}),et=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(et||{}),Wt=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(Wt||{}),oh=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.SetTyping=3]="SetTyping",e[e.RegisterOption=4]="RegisterOption",e[e.UnregisterOption=5]="UnregisterOption",e[e.DefaultToFirstOption=6]="DefaultToFirstOption",e[e.SetActivationTrigger=7]="SetActivationTrigger",e[e.UpdateVirtualConfiguration=8]="UpdateVirtualConfiguration",e[e.SetInputElement=9]="SetInputElement",e[e.SetButtonElement=10]="SetButtonElement",e[e.SetOptionsElement=11]="SetOptionsElement",e))(oh||{});function hi(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=t(e.options.slice()),o=r.length>0&&r[0].dataRef.current.order!==null?r.sort((l,a)=>l.dataRef.current.order-a.dataRef.current.order):zt(r,l=>l.dataRef.current.domRef.current),i=n?o.indexOf(n):null;return i===-1&&(i=null),{options:o,activeOptionIndex:i}}let $y={1(e){var t;return(t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,__demoMode:!1}},0(e){var t,n;if((t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===0)return e;if((n=e.dataRef.current)!=null&&n.value){let r=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(r!==-1)return{...e,activeOptionIndex:r,comboboxState:0,__demoMode:!1}}return{...e,comboboxState:0,__demoMode:!1}},3(e,t){return e.isTyping===t.isTyping?e:{...e,isTyping:t.isTyping}},2(e,t){var n,r,o,i;if((n=e.dataRef.current)!=null&&n.disabled||e.optionsElement&&!((r=e.dataRef.current)!=null&&r.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let{options:c,disabled:f}=e.virtual,p=t.focus===ae.Specific?t.idx:In(t,{resolveItems:()=>c,resolveActiveIndex:()=>{var d,h;return(h=(d=e.activeOptionIndex)!=null?d:c.findIndex(m=>!f(m)))!=null?h:null},resolveDisabled:f,resolveId(){throw new Error("Function not implemented.")}}),g=(o=t.trigger)!=null?o:2;return e.activeOptionIndex===p&&e.activationTrigger===g?e:{...e,activeOptionIndex:p,activationTrigger:g,isTyping:!1,__demoMode:!1}}let l=hi(e);if(l.activeOptionIndex===null){let c=l.options.findIndex(f=>!f.dataRef.current.disabled);c!==-1&&(l.activeOptionIndex=c)}let a=t.focus===ae.Specific?t.idx:In(t,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled}),s=(i=t.trigger)!=null?i:2;return e.activeOptionIndex===a&&e.activationTrigger===s?e:{...e,...l,isTyping:!1,activeOptionIndex:a,activationTrigger:s,__demoMode:!1}},4:(e,t)=>{var n,r,o,i;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:[...e.options,t.payload]};let l=t.payload,a=hi(e,c=>(c.push(l),c));e.activeOptionIndex===null&&(o=(r=e.dataRef.current).isSelected)!=null&&o.call(r,t.payload.dataRef.current.value)&&(a.activeOptionIndex=a.options.indexOf(l));let s={...e,...a,activationTrigger:2};return(i=e.dataRef.current)!=null&&i.__demoMode&&e.dataRef.current.value===void 0&&(s.activeOptionIndex=0),s},5:(e,t)=>{var n;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:e.options.filter(o=>o.id!==t.id)};let r=hi(e,o=>{let i=o.findIndex(l=>l.id===t.id);return i!==-1&&o.splice(i,1),o});return{...e,...r,activationTrigger:2}},6:(e,t)=>e.defaultToFirstOption===t.value?e:{...e,defaultToFirstOption:t.value},7:(e,t)=>e.activationTrigger===t.trigger?e:{...e,activationTrigger:t.trigger},8:(e,t)=>{var n,r;if(e.virtual===null)return{...e,virtual:{options:t.options,disabled:(n=t.disabled)!=null?n:()=>!1}};if(e.virtual.options===t.options&&e.virtual.disabled===t.disabled)return e;let o=e.activeOptionIndex;if(e.activeOptionIndex!==null){let i=t.options.indexOf(e.virtual.options[e.activeOptionIndex]);i!==-1?o=i:o=null}return{...e,activeOptionIndex:o,virtual:{options:t.options,disabled:(r=t.disabled)!=null?r:()=>!1}}},9:(e,t)=>e.inputElement===t.element?e:{...e,inputElement:t.element},10:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},11:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element}},Ry=class ih extends Rs{constructor(t){super(t),Fc(this,"actions",{onChange:n=>{let{onChange:r,compare:o,mode:i,value:l}=this.state.dataRef.current;return xe(i,{0:()=>r==null?void 0:r(n),1:()=>{let a=l.slice(),s=a.findIndex(c=>o(c,n));return s===-1?a.push(n):a.splice(s,1),r==null?void 0:r(a)}})},registerOption:(n,r)=>(this.send({type:4,payload:{id:n,dataRef:r}}),()=>{this.state.activeOptionIndex===this.state.dataRef.current.calculateIndex(r.current.value)&&this.send({type:6,value:!0}),this.send({type:5,id:n})}),goToOption:(n,r)=>(this.send({type:6,value:!1}),this.send({type:2,...n,trigger:r})),setIsTyping:n=>{this.send({type:3,isTyping:n})},closeCombobox:()=>{var n,r;this.send({type:1}),this.send({type:6,value:!1}),(r=(n=this.state.dataRef.current).onClose)==null||r.call(n)},openCombobox:()=>{this.send({type:0}),this.send({type:6,value:!0})},setActivationTrigger:n=>{this.send({type:7,trigger:n})},selectActiveOption:()=>{let n=this.selectors.activeOptionIndex(this.state);if(n!==null){if(this.actions.setIsTyping(!1),this.state.virtual)this.actions.onChange(this.state.virtual.options[n]);else{let{dataRef:r}=this.state.options[n];this.actions.onChange(r.current.value)}this.actions.goToOption({focus:ae.Specific,idx:n})}},setInputElement:n=>{this.send({type:9,element:n})},setButtonElement:n=>{this.send({type:10,element:n})},setOptionsElement:n=>{this.send({type:11,element:n})}}),Fc(this,"selectors",{activeDescendantId:n=>{var r,o;let i=this.selectors.activeOptionIndex(n);if(i!==null)return n.virtual?(o=n.options.find(l=>!l.dataRef.current.disabled&&n.dataRef.current.compare(l.dataRef.current.value,n.virtual.options[i])))==null?void 0:o.id:(r=n.options[i])==null?void 0:r.id},activeOptionIndex:n=>{if(n.defaultToFirstOption&&n.activeOptionIndex===null&&(n.virtual?n.virtual.options.length>0:n.options.length>0)){if(n.virtual){let{options:o,disabled:i}=n.virtual,l=o.findIndex(a=>{var s;return!((s=i==null?void 0:i(a))!=null&&s)});if(l!==-1)return l}let r=n.options.findIndex(o=>!o.dataRef.current.disabled);if(r!==-1)return r}return n.activeOptionIndex},activeOption:n=>{var r,o;let i=this.selectors.activeOptionIndex(n);return i===null?null:n.virtual?n.virtual.options[i??0]:(o=(r=n.options[i])==null?void 0:r.dataRef.current.value)!=null?o:null},isActive:(n,r,o)=>{var i;let l=this.selectors.activeOptionIndex(n);return l===null?!1:n.virtual?l===n.dataRef.current.calculateIndex(r):((i=n.options[l])==null?void 0:i.id)===o},shouldScrollIntoView:(n,r,o)=>!(n.virtual||n.__demoMode||n.comboboxState!==0||n.activationTrigger===0||!this.selectors.isActive(n,r,o))});{let n=this.state.id,r=zn.get(null);this.disposables.add(r.on(Ns.Push,o=>{!r.selectors.isTop(o,n)&&this.state.comboboxState===0&&this.actions.closeCombobox()})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}}static new({id:t,virtual:n=null,__demoMode:r=!1}){var o;return new ih({id:t,dataRef:{current:{}},comboboxState:r?0:1,isTyping:!1,options:[],virtual:n?{options:n.options,disabled:(o=n.disabled)!=null?o:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:r})}reduce(t,n){return xe(n.type,$y,t,n)}};const lh=he(null);function Tr(e){let t=oe(lh);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ah),n}return t}function ah({id:e,virtual:t=null,__demoMode:n=!1}){let r=G(()=>Ry.new({id:e,virtual:t,__demoMode:n}),[]);return Ao(()=>r.dispose()),r}let yr=he(null);yr.displayName="ComboboxDataContext";function Yn(e){let t=oe(yr);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Yn),n}return t}let sh=he(null);function Ny(e){let t=Tr("VirtualProvider"),n=Yn("VirtualProvider"),{options:r}=n.virtual,o=ye(t,d=>d.optionsElement),[i,l]=G(()=>{let d=o;if(!d)return[0,0];let h=window.getComputedStyle(d);return[parseFloat(h.paddingBlockStart||h.paddingTop),parseFloat(h.paddingBlockEnd||h.paddingBottom)]},[o]),a=vb({enabled:r.length!==0,scrollPaddingStart:i,scrollPaddingEnd:l,count:r.length,estimateSize(){return 40},getScrollElement(){return t.state.optionsElement},overscan:12}),[s,c]=A(0);fe(()=>{c(d=>d+1)},[r]);let f=a.getVirtualItems(),p=ye(t,d=>d.activationTrigger===Wt.Pointer),g=ye(t,t.selectors.activeOptionIndex);return f.length===0?null:E.createElement(sh.Provider,{value:a},E.createElement("div",{style:{position:"relative",width:"100%",height:`${a.getTotalSize()}px`},ref:d=>{d&&(p||g!==null&&r.length>g&&a.scrollToIndex(g))}},f.map(d=>{var h;return E.createElement(ee,{key:d.key},E.cloneElement((h=e.children)==null?void 0:h.call(e,{...e.slot,option:r[d.index]}),{key:`${s}-${d.key}`,"data-index":d.index,"aria-setsize":r.length,"aria-posinset":d.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${d.start}px)`,overflowAnchor:"none"}}))})))}let Ay=ee;function Ty(e,t){let n=$e(),r=nn(),{value:o,defaultValue:i,onChange:l,form:a,name:s,by:c,invalid:f=!1,disabled:p=r||!1,onClose:g,__demoMode:d=!1,multiple:h=!1,immediate:m=!1,virtual:v=null,nullable:b,..._}=e,y=ig(i),[S=h?[]:void 0,w]=og(o,l,y),C=ah({id:n,virtual:v,__demoMode:d}),O=D({static:!1,hold:!1}),L=yg(c),M=V(q=>v?c===null?v.options.indexOf(q):v.options.findIndex(ce=>L(ce,q)):C.state.options.findIndex(ce=>L(ce.dataRef.current.value,q))),P=te(q=>xe(B.mode,{[et.Multi]:()=>S.some(ce=>L(ce,q)),[et.Single]:()=>L(S,q)}),[S]),$=ye(C,q=>q.virtual),I=V(()=>g==null?void 0:g()),B=G(()=>({__demoMode:d,immediate:m,optionsPropsRef:O,value:S,defaultValue:y,disabled:p,invalid:f,mode:h?et.Multi:et.Single,virtual:v?$:null,onChange:w,isSelected:P,calculateIndex:M,compare:L,onClose:I}),[S,y,p,f,h,w,P,d,C,v,$,I]);fe(()=>{var q;v&&C.send({type:oh.UpdateVirtualConfiguration,options:v.options,disabled:(q=v.disabled)!=null?q:null})},[v,v==null?void 0:v.options,v==null?void 0:v.disabled]),fe(()=>{C.state.dataRef.current=B},[B]);let[k,N,T,Y]=ye(C,q=>[q.comboboxState,q.buttonElement,q.inputElement,q.optionsElement]),K=zn.get(null),ne=ye(K,te(q=>K.selectors.isTop(q,n),[K,n]));Os(ne,[N,T,Y],()=>C.actions.closeCombobox());let U=ye(C,C.selectors.activeOptionIndex),le=ye(C,C.selectors.activeOption),ue=G(()=>({open:k===ge.Open,disabled:p,invalid:f,activeIndex:U,activeOption:le,value:S}),[B,p,S,f,le,k]),[X,H]=$s(),we=t===null?{}:{ref:t},_e=te(()=>{if(y!==void 0)return w==null?void 0:w(y)},[w,y]),W=me();return E.createElement(H,{value:X,props:{htmlFor:T==null?void 0:T.id},slot:{open:k===ge.Open,disabled:p}},E.createElement(Jg,null,E.createElement(yr.Provider,{value:B},E.createElement(lh.Provider,{value:C},E.createElement(No,{value:xe(k,{[ge.Open]:Te.Open,[ge.Closed]:Te.Closed})},s!=null&&E.createElement(cg,{disabled:p,data:S!=null?{[s]:S}:{},form:a,onReset:_e}),W({ourProps:we,theirProps:_,slot:ue,defaultTag:Ay,name:"Combobox"}))))))}let ky="input";function Oy(e,t){var n,r;let o=Tr("Combobox.Input"),i=Yn("Combobox.Input"),l=$e(),a=Pr(),{id:s=a||`headlessui-combobox-input-${l}`,onChange:c,displayValue:f,disabled:p=i.disabled||!1,autoFocus:g=!1,type:d="text",...h}=e,[m]=ye(o,H=>[H.inputElement]),v=D(null),b=Fe(v,t,Kg(),o.actions.setInputElement),_=Lt(m),[y,S]=ye(o,H=>[H.comboboxState,H.isTyping]),w=tn(),C=V(()=>{o.actions.onChange(null),o.state.optionsElement&&(o.state.optionsElement.scrollTop=0),o.actions.goToOption({focus:ae.Nothing})}),O=G(()=>{var H;return typeof f=="function"&&i.value!==void 0?(H=f(i.value))!=null?H:"":typeof i.value=="string"?i.value:""},[i.value,f]);vr(([H,we],[_e,W])=>{if(o.state.isTyping)return;let q=v.current;q&&((W===ge.Open&&we===ge.Closed||H!==_e)&&(q.value=H),requestAnimationFrame(()=>{if(o.state.isTyping||!q||(_==null?void 0:_.activeElement)!==q)return;let{selectionStart:ce,selectionEnd:ve}=q;Math.abs((ve??0)-(ce??0))===0&&ce===0&&q.setSelectionRange(q.value.length,q.value.length)}))},[O,y,_,S]),vr(([H],[we])=>{if(H===ge.Open&&we===ge.Closed){if(o.state.isTyping)return;let _e=v.current;if(!_e)return;let W=_e.value,{selectionStart:q,selectionEnd:ce,selectionDirection:ve}=_e;_e.value="",_e.value=W,ve!==null?_e.setSelectionRange(q,ce,ve):_e.setSelectionRange(q,ce)}},[y]);let L=D(!1),M=V(()=>{L.current=!0}),P=V(()=>{w.nextFrame(()=>{L.current=!1})}),$=V(H=>{switch(o.actions.setIsTyping(!0),H.key){case re.Enter:if(o.state.comboboxState!==ge.Open||L.current)return;if(H.preventDefault(),H.stopPropagation(),o.selectors.activeOptionIndex(o.state)===null){o.actions.closeCombobox();return}o.actions.selectActiveOption(),i.mode===et.Single&&o.actions.closeCombobox();break;case re.ArrowDown:return H.preventDefault(),H.stopPropagation(),xe(o.state.comboboxState,{[ge.Open]:()=>o.actions.goToOption({focus:ae.Next}),[ge.Closed]:()=>o.actions.openCombobox()});case re.ArrowUp:return H.preventDefault(),H.stopPropagation(),xe(o.state.comboboxState,{[ge.Open]:()=>o.actions.goToOption({focus:ae.Previous}),[ge.Closed]:()=>{Ve(()=>o.actions.openCombobox()),i.value||o.actions.goToOption({focus:ae.Last})}});case re.Home:if(H.shiftKey)break;return H.preventDefault(),H.stopPropagation(),o.actions.goToOption({focus:ae.First});case re.PageUp:return H.preventDefault(),H.stopPropagation(),o.actions.goToOption({focus:ae.First});case re.End:if(H.shiftKey)break;return H.preventDefault(),H.stopPropagation(),o.actions.goToOption({focus:ae.Last});case re.PageDown:return H.preventDefault(),H.stopPropagation(),o.actions.goToOption({focus:ae.Last});case re.Escape:return o.state.comboboxState!==ge.Open?void 0:(H.preventDefault(),o.state.optionsElement&&!i.optionsPropsRef.current.static&&H.stopPropagation(),i.mode===et.Single&&i.value===null&&C(),o.actions.closeCombobox());case re.Tab:if(o.state.comboboxState!==ge.Open)return;i.mode===et.Single&&o.state.activationTrigger!==Wt.Focus&&o.actions.selectActiveOption(),o.actions.closeCombobox();break}}),I=V(H=>{c==null||c(H),i.mode===et.Single&&H.target.value===""&&C(),o.actions.openCombobox()}),B=V(H=>{var we,_e,W;let q=(we=H.relatedTarget)!=null?we:xt.find(ce=>ce!==H.currentTarget);if(!((_e=o.state.optionsElement)!=null&&_e.contains(q))&&!((W=o.state.buttonElement)!=null&&W.contains(q))&&o.state.comboboxState===ge.Open)return H.preventDefault(),i.mode===et.Single&&i.value===null&&C(),o.actions.closeCombobox()}),k=V(H=>{var we,_e,W;let q=(we=H.relatedTarget)!=null?we:xt.find(ce=>ce!==H.currentTarget);(_e=o.state.buttonElement)!=null&&_e.contains(q)||(W=o.state.optionsElement)!=null&&W.contains(q)||i.disabled||i.immediate&&o.state.comboboxState!==ge.Open&&w.microTask(()=>{Ve(()=>o.actions.openCombobox()),o.actions.setActivationTrigger(Wt.Focus)})}),N=Sn(),T=yo(),{isFocused:Y,focusProps:K}=Gt({autoFocus:g}),{isHovered:ne,hoverProps:U}=en({isDisabled:p}),le=ye(o,H=>H.optionsElement),ue=G(()=>({open:y===ge.Open,disabled:p,invalid:i.invalid,hover:ne,focus:Y,autofocus:g}),[i,ne,Y,g,p,i.invalid]),X=ct({ref:b,id:s,role:"combobox",type:d,"aria-controls":le==null?void 0:le.id,"aria-expanded":y===ge.Open,"aria-activedescendant":ye(o,o.selectors.activeDescendantId),"aria-labelledby":N,"aria-describedby":T,"aria-autocomplete":"list",defaultValue:(r=(n=e.defaultValue)!=null?n:i.defaultValue!==void 0?f==null?void 0:f(i.defaultValue):null)!=null?r:i.defaultValue,disabled:p||void 0,autoFocus:g,onCompositionStart:M,onCompositionEnd:P,onKeyDown:$,onChange:I,onFocus:k,onBlur:B},K,U);return me()({ourProps:X,theirProps:h,slot:ue,defaultTag:ky,name:"Combobox.Input"})}let Iy="button";function My(e,t){let n=Tr("Combobox.Button"),r=Yn("Combobox.Button"),[o,i]=A(null),l=Fe(t,i,n.actions.setButtonElement),a=$e(),{id:s=`headlessui-combobox-button-${a}`,disabled:c=r.disabled||!1,autoFocus:f=!1,...p}=e,[g,d,h]=ye(n,I=>[I.comboboxState,I.inputElement,I.optionsElement]),m=Ng(d),v=g===ge.Open;Rg(v,{trigger:o,action:te(I=>{if(o!=null&&o.contains(I.target)||d!=null&&d.contains(I.target))return Tt.Ignore;let B=I.target.closest('[role="option"]:not([data-disabled])');return Xe(B)?Tt.Select(B):h!=null&&h.contains(I.target)?Tt.Ignore:Tt.Close},[o,d,h]),close:n.actions.closeCombobox,select:n.actions.selectActiveOption});let b=V(I=>{switch(I.key){case re.Space:case re.Enter:I.preventDefault(),I.stopPropagation(),n.state.comboboxState===ge.Closed&&Ve(()=>n.actions.openCombobox()),m();return;case re.ArrowDown:I.preventDefault(),I.stopPropagation(),n.state.comboboxState===ge.Closed&&(Ve(()=>n.actions.openCombobox()),n.state.dataRef.current.value||n.actions.goToOption({focus:ae.First})),m();return;case re.ArrowUp:I.preventDefault(),I.stopPropagation(),n.state.comboboxState===ge.Closed&&(Ve(()=>n.actions.openCombobox()),n.state.dataRef.current.value||n.actions.goToOption({focus:ae.Last})),m();return;case re.Escape:if(n.state.comboboxState!==ge.Open)return;I.preventDefault(),n.state.optionsElement&&!r.optionsPropsRef.current.static&&I.stopPropagation(),Ve(()=>n.actions.closeCombobox()),m();return;default:return}}),_=V(I=>{I.preventDefault(),!Es(I.currentTarget)&&(I.button===js.Left&&(n.state.comboboxState===ge.Open?n.actions.closeCombobox():n.actions.openCombobox()),m())}),y=Sn([s]),{isFocusVisible:S,focusProps:w}=Gt({autoFocus:f}),{isHovered:C,hoverProps:O}=en({isDisabled:c}),{pressed:L,pressProps:M}=Er({disabled:c}),P=G(()=>({open:g===ge.Open,active:L||g===ge.Open,disabled:c,invalid:r.invalid,value:r.value,hover:C,focus:S}),[r,C,S,L,c,g]),$=ct({ref:l,id:s,type:So(e,o),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":h==null?void 0:h.id,"aria-expanded":g===ge.Open,"aria-labelledby":y,disabled:c||void 0,autoFocus:f,onPointerDown:_,onKeyDown:b},w,O,M);return me()({ourProps:$,theirProps:p,slot:P,defaultTag:Iy,name:"Combobox.Button"})}let Ly="div",Dy=ut.RenderStrategy|ut.Static;function Gy(e,t){var n,r,o;let i=$e(),{id:l=`headlessui-combobox-options-${i}`,hold:a=!1,anchor:s,portal:c=!1,modal:f=!0,transition:p=!1,...g}=e,d=Tr("Combobox.Options"),h=Yn("Combobox.Options"),m=Wg(s);m&&(c=!0);let[v,b]=Xg(m),[_,y]=A(null),S=Yg(),w=Fe(t,m?v:null,d.actions.setOptionsElement,y),[C,O,L,M,P]=ye(d,ve=>[ve.comboboxState,ve.inputElement,ve.buttonElement,ve.optionsElement,ve.activationTrigger]),$=Lt(O||L),I=Lt(M),B=xn(),[k,N]=Co(p,_,B!==null?(B&Te.Open)===Te.Open:C===ge.Open);Ts(k,O,d.actions.closeCombobox);let T=h.__demoMode?!1:f&&C===ge.Open;Ms(T,I);let Y=h.__demoMode?!1:f&&C===ge.Open;As(Y,{allowed:te(()=>[O,L,M],[O,L,M])}),fe(()=>{var ve;h.optionsPropsRef.current.static=(ve=e.static)!=null?ve:!1},[h.optionsPropsRef,e.static]),fe(()=>{h.optionsPropsRef.current.hold=a},[h.optionsPropsRef,a]),r_(C===ge.Open,{container:M,accept(ve){return ve.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:ve.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(ve){ve.setAttribute("role","none")}});let K=Sn([L==null?void 0:L.id]),ne=G(()=>({open:C===ge.Open,option:void 0}),[C]),U=V(()=>{d.actions.setActivationTrigger(Wt.Pointer)}),le=V(ve=>{ve.preventDefault(),d.actions.setActivationTrigger(Wt.Pointer)}),ue=ct(m?S():{},{"aria-labelledby":K,role:"listbox","aria-multiselectable":h.mode===et.Multi?!0:void 0,id:l,ref:w,style:{...g.style,...b,"--input-width":Ma(O,!0).width,"--button-width":Ma(L,!0).width},onWheel:P===Wt.Pointer?void 0:U,onMouseDown:le,...xo(N)}),X=k&&C===ge.Closed,H=go(X,(n=h.virtual)==null?void 0:n.options),we=go(X,h.value),_e=V(ve=>h.compare(we,ve)),W=G(()=>{if(!h.virtual)return h;if(H===void 0)throw new Error("Missing `options` in virtual mode");return H!==h.virtual.options?{...h,virtual:{...h.virtual,options:H}}:h},[h,H,(r=h.virtual)==null?void 0:r.options]);h.virtual&&Object.assign(g,{children:E.createElement(yr.Provider,{value:W},E.createElement(Ny,{slot:ne},g.children))});let q=me(),ce=G(()=>h.mode===et.Multi?h:{...h,isSelected:_e},[h,_e]);return E.createElement(Hs,{enabled:c?e.static||k:!1,ownerDocument:$},E.createElement(yr.Provider,{value:ce},q({ourProps:ue,theirProps:{...g,children:E.createElement(gy,{freeze:X},typeof g.children=="function"?(o=g.children)==null?void 0:o.call(g,ne):g.children)},slot:ne,defaultTag:Ly,features:Dy,visible:k,name:"Combobox.Options"})))}let Vy="div";function By(e,t){var n,r,o;let i=Yn("Combobox.Option"),l=Tr("Combobox.Option"),a=$e(),{id:s=`headlessui-combobox-option-${a}`,value:c,disabled:f=(o=(r=(n=i.virtual)==null?void 0:n.disabled)==null?void 0:r.call(n,c))!=null?o:!1,order:p=null,...g}=e,[d]=ye(l,N=>[N.inputElement]),h=Ng(d),m=ye(l,te(N=>l.selectors.isActive(N,c,s),[c,s])),v=i.isSelected(c),b=D(null),_=tt({disabled:f,value:c,domRef:b,order:p}),y=oe(sh),S=Fe(t,b,y?y.measureElement:null),w=V(()=>{l.actions.setIsTyping(!1),l.actions.onChange(c)});fe(()=>l.actions.registerOption(s,_),[_,s]);let C=ye(l,te(N=>l.selectors.shouldScrollIntoView(N,c,s),[c,s]));fe(()=>{if(C)return dt().requestAnimationFrame(()=>{var N,T;(T=(N=b.current)==null?void 0:N.scrollIntoView)==null||T.call(N,{block:"nearest"})})},[C,b]);let O=V(N=>{N.preventDefault(),N.button===js.Left&&(f||(w(),Da()||requestAnimationFrame(()=>h()),i.mode===et.Single&&l.actions.closeCombobox()))}),L=V(()=>{if(f)return l.actions.goToOption({focus:ae.Nothing});let N=i.calculateIndex(c);l.actions.goToOption({focus:ae.Specific,idx:N})}),M=Ag(),P=V(N=>M.update(N)),$=V(N=>{if(!M.wasMoved(N)||f||m)return;let T=i.calculateIndex(c);l.actions.goToOption({focus:ae.Specific,idx:T},Wt.Pointer)}),I=V(N=>{M.wasMoved(N)&&(f||m&&(i.optionsPropsRef.current.hold||l.actions.goToOption({focus:ae.Nothing})))}),B=G(()=>({active:m,focus:m,selected:v,disabled:f}),[m,v,f]),k={id:s,ref:S,role:"option",tabIndex:f===!0?void 0:-1,"aria-disabled":f===!0?!0:void 0,"aria-selected":v,disabled:void 0,onMouseDown:O,onFocus:L,onPointerEnter:P,onMouseEnter:P,onPointerMove:$,onMouseMove:$,onPointerLeave:I,onMouseLeave:I};return me()({ourProps:k,theirProps:g,slot:B,defaultTag:Vy,name:"Combobox.Option"})}let jy=pe(Ty),Ha=pe(My),qa=pe(Oy),Hy=Ue,za=pe(Gy),Ua=pe(By),Ec=Object.assign(jy,{Input:qa,Button:Ha,Label:Hy,Options:za,Option:Ua});function qy(e,t=typeof document<"u"?document.defaultView:null,n){let r=$r(e,"escape");Is(t,"keydown",o=>{r&&(o.defaultPrevented||o.key===re.Escape&&n(o))})}function zy(){var e;let[t]=A(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=A((e=t==null?void 0:t.matches)!=null?e:!1);return fe(()=>{if(!t)return;function o(i){r(i.matches)}return t.addEventListener("change",o),()=>t.removeEventListener("change",o)},[t]),n}function Uy({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=Lt(n),o=V(()=>{var i,l;let a=[];for(let s of e)s!==null&&(Ot(s)?a.push(s):"current"in s&&Ot(s.current)&&a.push(s.current));if(t!=null&&t.current)for(let s of t.current)a.push(s);for(let s of(i=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?i:[])s!==document.body&&s!==document.head&&Ot(s)&&s.id!=="headlessui-portal-root"&&(n&&(s.contains(n)||s.contains((l=n==null?void 0:n.getRootNode())==null?void 0:l.host))||a.some(c=>s.contains(c))||a.push(s));return a});return{resolveContainers:o,contains:V(i=>o().some(l=>l.contains(i)))}}let uh=he(null);function Pc({children:e,node:t}){let[n,r]=A(null),o=ch(t??n);return E.createElement(uh.Provider,{value:o},e,o===null&&E.createElement(Xt,{features:Yt.Hidden,ref:i=>{var l,a;if(i){for(let s of(a=(l=Vt(i))==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?a:[])if(s!==document.body&&s!==document.head&&Ot(s)&&s!=null&&s.contains(i)){r(s);break}}}}))}function ch(e=null){var t;return(t=oe(uh))!=null?t:e}function To(){let e=D(!1);return fe(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var ir=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(ir||{});function Wy(){let e=D(0);return $g(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function dh(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)Ot(n.current)&&t.add(n.current);return t}let Ky="div";var dn=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(dn||{});function Yy(e,t){let n=D(null),r=Fe(n,t),{initialFocus:o,initialFocusFallback:i,containers:l,features:a=15,...s}=e;Ar()||(a=0);let c=Lt(n);Zy(a,{ownerDocument:c});let f=ew(a,{ownerDocument:c,container:n,initialFocus:o,initialFocusFallback:i});tw(a,{ownerDocument:c,container:n,containers:l,previousActiveElement:f});let p=Wy(),g=V(_=>{if(!Xe(n.current))return;let y=n.current;(S=>S())(()=>{xe(p.current,{[ir.Forwards]:()=>{lt(y,Oe.First,{skipElements:[_.relatedTarget,i]})},[ir.Backwards]:()=>{lt(y,Oe.Last,{skipElements:[_.relatedTarget,i]})}})})}),d=$r(!!(a&2),"focus-trap#tab-lock"),h=tn(),m=D(!1),v={ref:r,onKeyDown(_){_.key=="Tab"&&(m.current=!0,h.requestAnimationFrame(()=>{m.current=!1}))},onBlur(_){if(!(a&4))return;let y=dh(l);Xe(n.current)&&y.add(n.current);let S=_.relatedTarget;pt(S)&&S.dataset.headlessuiFocusGuard!=="true"&&(fh(y,S)||(m.current?lt(n.current,xe(p.current,{[ir.Forwards]:()=>Oe.Next,[ir.Backwards]:()=>Oe.Previous})|Oe.WrapAround,{relativeTo:_.target}):pt(_.target)&&It(_.target)))}},b=me();return E.createElement(E.Fragment,null,d&&E.createElement(Xt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:Yt.Focusable}),b({ourProps:v,theirProps:s,defaultTag:Ky,name:"FocusTrap"}),d&&E.createElement(Xt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:Yt.Focusable}))}let Xy=pe(Yy),Jy=Object.assign(Xy,{features:dn});function Qy(e=!0){let t=D(xt.slice());return vr(([n],[r])=>{r===!0&&n===!1&&Fr(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=xt.slice())},[e,xt,t]),V(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function Zy(e,{ownerDocument:t}){let n=!!(e&8),r=Qy(n);vr(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&It(r())},[n]),Ao(()=>{n&&It(r())})}function ew(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:o}){let i=D(null),l=$r(!!(e&1),"focus-trap#initial-focus"),a=To();return vr(()=>{if(e===0)return;if(!l){o!=null&&o.current&&It(o.current);return}let s=n.current;s&&Fr(()=>{if(!a.current)return;let c=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===c){i.current=c;return}}else if(s.contains(c)){i.current=c;return}if(r!=null&&r.current)It(r.current);else{if(e&16){if(lt(s,Oe.First|Oe.AutoFocus)!==pn.Error)return}else if(lt(s,Oe.First)!==pn.Error)return;if(o!=null&&o.current&&(It(o.current),(t==null?void 0:t.activeElement)===o.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}i.current=t==null?void 0:t.activeElement})},[o,l,e]),i}function tw(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:o}){let i=To(),l=!!(e&4);Is(t==null?void 0:t.defaultView,"focus",a=>{if(!l||!i.current)return;let s=dh(r);Xe(n.current)&&s.add(n.current);let c=o.current;if(!c)return;let f=a.target;Xe(f)?fh(s,f)?(o.current=f,It(f)):(a.preventDefault(),a.stopPropagation(),It(c)):It(o.current)},!0)}function fh(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function ph(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:hh)!==ee||E.Children.count(e.children)===1}let ko=he(null);ko.displayName="TransitionContext";var nw=(e=>(e.Visible="visible",e.Hidden="hidden",e))(nw||{});function rw(){let e=oe(ko);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function ow(){let e=oe(Oo);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Oo=he(null);Oo.displayName="NestingContext";function Io(e){return"children"in e?Io(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function gh(e,t){let n=tt(e),r=D([]),o=To(),i=tn(),l=V((d,h=qt.Hidden)=>{let m=r.current.findIndex(({el:v})=>v===d);m!==-1&&(xe(h,{[qt.Unmount](){r.current.splice(m,1)},[qt.Hidden](){r.current[m].state="hidden"}}),i.microTask(()=>{var v;!Io(r)&&o.current&&((v=n.current)==null||v.call(n))}))}),a=V(d=>{let h=r.current.find(({el:m})=>m===d);return h?h.state!=="visible"&&(h.state="visible"):r.current.push({el:d,state:"visible"}),()=>l(d,qt.Unmount)}),s=D([]),c=D(Promise.resolve()),f=D({enter:[],leave:[]}),p=V((d,h,m)=>{s.current.splice(0),t&&(t.chains.current[h]=t.chains.current[h].filter(([v])=>v!==d)),t==null||t.chains.current[h].push([d,new Promise(v=>{s.current.push(v)})]),t==null||t.chains.current[h].push([d,new Promise(v=>{Promise.all(f.current[h].map(([b,_])=>_)).then(()=>v())})]),h==="enter"?c.current=c.current.then(()=>t==null?void 0:t.wait.current).then(()=>m(h)):m(h)}),g=V((d,h,m)=>{Promise.all(f.current[h].splice(0).map(([v,b])=>b)).then(()=>{var v;(v=s.current.shift())==null||v()}).then(()=>m(h))});return G(()=>({children:r,register:a,unregister:l,onStart:p,onStop:g,wait:c,chains:f}),[a,l,r,p,g,f,c])}let hh=ee,mh=ut.RenderStrategy;function iw(e,t){var n,r;let{transition:o=!0,beforeEnter:i,afterEnter:l,beforeLeave:a,afterLeave:s,enter:c,enterFrom:f,enterTo:p,entered:g,leave:d,leaveFrom:h,leaveTo:m,...v}=e,[b,_]=A(null),y=D(null),S=ph(e),w=Fe(...S?[y,t,_]:t===null?[]:[t]),C=(n=v.unmount)==null||n?qt.Unmount:qt.Hidden,{show:O,appear:L,initial:M}=rw(),[P,$]=A(O?"visible":"hidden"),I=ow(),{register:B,unregister:k}=I;fe(()=>B(y),[B,y]),fe(()=>{if(C===qt.Hidden&&y.current){if(O&&P!=="visible"){$("visible");return}return xe(P,{hidden:()=>k(y),visible:()=>B(y)})}},[P,y,B,k,O,C]);let N=Ar();fe(()=>{if(S&&N&&P==="visible"&&y.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[y,P,N,S]);let T=M&&!L,Y=L&&O&&M,K=D(!1),ne=gh(()=>{K.current||($("hidden"),k(y))},I),U=V(W=>{K.current=!0;let q=W?"enter":"leave";ne.onStart(y,q,ce=>{ce==="enter"?i==null||i():ce==="leave"&&(a==null||a())})}),le=V(W=>{let q=W?"enter":"leave";K.current=!1,ne.onStop(y,q,ce=>{ce==="enter"?l==null||l():ce==="leave"&&(s==null||s())}),q==="leave"&&!Io(ne)&&($("hidden"),k(y))});z(()=>{S&&o||(U(O),le(O))},[O,S,o]);let ue=!(!o||!S||!N||T),[,X]=Co(ue,b,O,{start:U,end:le}),H=jt({ref:w,className:((r=Ia(v.className,Y&&c,Y&&f,X.enter&&c,X.enter&&X.closed&&f,X.enter&&!X.closed&&p,X.leave&&d,X.leave&&!X.closed&&h,X.leave&&X.closed&&m,!X.transition&&O&&g))==null?void 0:r.trim())||void 0,...xo(X)}),we=0;P==="visible"&&(we|=Te.Open),P==="hidden"&&(we|=Te.Closed),O&&P==="hidden"&&(we|=Te.Opening),!O&&P==="visible"&&(we|=Te.Closing);let _e=me();return E.createElement(Oo.Provider,{value:ne},E.createElement(No,{value:we},_e({ourProps:H,theirProps:v,defaultTag:hh,features:mh,visible:P==="visible",name:"Transition.Child"})))}function lw(e,t){let{show:n,appear:r=!1,unmount:o=!0,...i}=e,l=D(null),a=ph(e),s=Fe(...a?[l,t]:t===null?[]:[t]);Ar();let c=xn();if(n===void 0&&c!==null&&(n=(c&Te.Open)===Te.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[f,p]=A(n?"visible":"hidden"),g=gh(()=>{n||p("hidden")}),[d,h]=A(!0),m=D([n]);fe(()=>{d!==!1&&m.current[m.current.length-1]!==n&&(m.current.push(n),h(!1))},[m,n]);let v=G(()=>({show:n,appear:r,initial:d}),[n,r,d]);fe(()=>{n?p("visible"):!Io(g)&&l.current!==null&&p("hidden")},[n,g]);let b={unmount:o},_=V(()=>{var w;d&&h(!1),(w=e.beforeEnter)==null||w.call(e)}),y=V(()=>{var w;d&&h(!1),(w=e.beforeLeave)==null||w.call(e)}),S=me();return E.createElement(Oo.Provider,{value:g},E.createElement(ko.Provider,{value:v},S({ourProps:{...b,as:ee,children:E.createElement(vh,{ref:s,...b,...i,beforeEnter:_,beforeLeave:y})},theirProps:{},defaultTag:ee,features:mh,visible:f==="visible",name:"Transition"})))}function aw(e,t){let n=oe(ko)!==null,r=xn()!==null;return E.createElement(E.Fragment,null,!n&&r?E.createElement(Wa,{ref:t,...e}):E.createElement(vh,{ref:t,...e}))}let Wa=pe(lw),vh=pe(iw),qs=pe(aw),sw=Object.assign(Wa,{Child:qs,Root:Wa});var uw=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(uw||{}),cw=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(cw||{});let dw={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},zs=he(null);zs.displayName="DialogContext";function Mo(e){let t=oe(zs);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Mo),n}return t}function fw(e,t){return xe(t.type,dw,e,t)}let $c=pe(function(e,t){let n=$e(),{id:r=`headlessui-dialog-${n}`,open:o,onClose:i,initialFocus:l,role:a="dialog",autoFocus:s=!0,__demoMode:c=!1,unmount:f=!1,...p}=e,g=D(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(g.current||(g.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let d=xn();o===void 0&&d!==null&&(o=(d&Te.Open)===Te.Open);let h=D(null),m=Fe(h,t),v=Lt(h),b=o?0:1,[_,y]=Dt(fw,{titleId:null,descriptionId:null,panelRef:is()}),S=V(()=>i(!1)),w=V(X=>y({type:0,id:X})),C=Ar()?b===0:!1,[O,L]=Cy(),M={get current(){var X;return(X=_.panelRef.current)!=null?X:h.current}},P=ch(),{resolveContainers:$}=Uy({mainTreeNode:P,portals:O,defaultContainers:[M]}),I=d!==null?(d&Te.Closing)===Te.Closing:!1;As(c||I?!1:C,{allowed:V(()=>{var X,H;return[(H=(X=h.current)==null?void 0:X.closest("[data-headlessui-portal]"))!=null?H:null]}),disallowed:V(()=>{var X;return[(X=P==null?void 0:P.closest("body > *:not(#headlessui-portal-root)"))!=null?X:null]})});let B=zn.get(null);fe(()=>{if(C)return B.actions.push(r),()=>B.actions.pop(r)},[B,r,C]);let k=ye(B,te(X=>B.selectors.isTop(X,r),[B,r]));Os(k,$,X=>{X.preventDefault(),S()}),qy(k,v==null?void 0:v.defaultView,X=>{X.preventDefault(),X.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),S()}),Ms(c||I?!1:C,v,$),Ts(C,h,S);let[N,T]=mg(),Y=G(()=>[{dialogState:b,close:S,setTitleId:w,unmount:f},_],[b,_,S,w,f]),K=G(()=>({open:b===0}),[b]),ne={ref:m,id:r,role:a,tabIndex:-1,"aria-modal":c?void 0:b===0?!0:void 0,"aria-labelledby":_.titleId,"aria-describedby":N,unmount:f},U=!zy(),le=dn.None;C&&!c&&(le|=dn.RestoreFocus,le|=dn.TabLock,s&&(le|=dn.AutoFocus),U&&(le|=dn.InitialFocus));let ue=me();return E.createElement(Zg,null,E.createElement(Cc,{force:!0},E.createElement(Hs,null,E.createElement(zs.Provider,{value:Y},E.createElement(rh,{target:h},E.createElement(Cc,{force:!1},E.createElement(T,{slot:K},E.createElement(L,null,E.createElement(Jy,{initialFocus:l,initialFocusFallback:h,containers:$,features:le},E.createElement(bg,{value:S},ue({ourProps:ne,theirProps:p,slot:K,defaultTag:pw,features:gw,visible:b===0,name:"Dialog"})))))))))))}),pw="div",gw=ut.RenderStrategy|ut.Static;function hw(e,t){let{transition:n=!1,open:r,...o}=e,i=xn(),l=e.hasOwnProperty("open")||i!==null,a=e.hasOwnProperty("onClose");if(!l&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!l)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!o.static?E.createElement(Pc,null,E.createElement(sw,{show:r,transition:n,unmount:o.unmount},E.createElement($c,{ref:t,...o}))):E.createElement(Pc,null,E.createElement($c,{ref:t,open:r,...o}))}let mw="div";function vw(e,t){let n=$e(),{id:r=`headlessui-dialog-panel-${n}`,transition:o=!1,...i}=e,[{dialogState:l,unmount:a},s]=Mo("Dialog.Panel"),c=Fe(t,s.panelRef),f=G(()=>({open:l===0}),[l]),p=V(v=>{v.stopPropagation()}),g={ref:c,id:r,onClick:p},d=o?qs:ee,h=o?{unmount:a}:{},m=me();return E.createElement(d,{...h},m({ourProps:g,theirProps:i,slot:f,defaultTag:mw,name:"Dialog.Panel"}))}let bw="div";function _w(e,t){let{transition:n=!1,...r}=e,[{dialogState:o,unmount:i}]=Mo("Dialog.Backdrop"),l=G(()=>({open:o===0}),[o]),a={ref:t,"aria-hidden":!0},s=n?qs:ee,c=n?{unmount:i}:{},f=me();return E.createElement(s,{...c},f({ourProps:a,theirProps:r,slot:l,defaultTag:bw,name:"Dialog.Backdrop"}))}let yw="h2";function ww(e,t){let n=$e(),{id:r=`headlessui-dialog-title-${n}`,...o}=e,[{dialogState:i,setTitleId:l}]=Mo("Dialog.Title"),a=Fe(t);z(()=>(l(r),()=>l(null)),[r,l]);let s=G(()=>({open:i===0}),[i]),c={ref:a,id:r};return me()({ourProps:c,theirProps:o,slot:s,defaultTag:yw,name:"Dialog.Title"})}let Sw=pe(hw),kr=pe(vw),Or=pe(_w),Ir=pe(ww),Mr=Object.assign(Sw,{Panel:kr,Title:Ir,Description:Ps});var Rc;let xw=(Rc=E.startTransition)!=null?Rc:function(e){e()};var Cw=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Cw||{}),Fw=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.SetButtonElement=4]="SetButtonElement",e[e.SetPanelElement=5]="SetPanelElement",e))(Fw||{});let Ew={0:e=>({...e,disclosureState:xe(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}},4(e,t){return e.buttonElement===t.element?e:{...e,buttonElement:t.element}},5(e,t){return e.panelElement===t.element?e:{...e,panelElement:t.element}}},Us=he(null);Us.displayName="DisclosureContext";function Ws(e){let t=oe(Us);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ws),n}return t}let Ks=he(null);Ks.displayName="DisclosureAPIContext";function bh(e){let t=oe(Ks);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,bh),n}return t}let Ys=he(null);Ys.displayName="DisclosurePanelContext";function Pw(){return oe(Ys)}function $w(e,t){return xe(t.type,Ew,e,t)}let Rw=ee;function Nw(e,t){let{defaultOpen:n=!1,...r}=e,o=D(null),i=Fe(t,gg(m=>{o.current=m},e.as===void 0||e.as===ee)),l=Dt($w,{disclosureState:n?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:a,buttonId:s},c]=l,f=V(m=>{c({type:1});let v=Vt(o);if(!v||!s)return;let b=m?pt(m)?m:"current"in m&&pt(m.current)?m.current:v.getElementById(s):v.getElementById(s);b==null||b.focus()}),p=G(()=>({close:f}),[f]),g=G(()=>({open:a===0,close:f}),[a,f]),d={ref:i},h=me();return E.createElement(Us.Provider,{value:l},E.createElement(Ks.Provider,{value:p},E.createElement(bg,{value:f},E.createElement(No,{value:xe(a,{0:Te.Open,1:Te.Closed})},h({ourProps:d,theirProps:r,slot:g,defaultTag:Rw,name:"Disclosure"})))))}let Aw="button";function Tw(e,t){let n=$e(),{id:r=`headlessui-disclosure-button-${n}`,disabled:o=!1,autoFocus:i=!1,...l}=e,[a,s]=Ws("Disclosure.Button"),c=Pw(),f=c===null?!1:c===a.panelId,p=D(null),g=Fe(p,t,V(M=>{if(!f)return s({type:4,element:M})}));z(()=>{if(!f)return s({type:2,buttonId:r}),()=>{s({type:2,buttonId:null})}},[r,s,f]);let d=V(M=>{var P;if(f){if(a.disclosureState===1)return;switch(M.key){case re.Space:case re.Enter:M.preventDefault(),M.stopPropagation(),s({type:0}),(P=a.buttonElement)==null||P.focus();break}}else switch(M.key){case re.Space:case re.Enter:M.preventDefault(),M.stopPropagation(),s({type:0});break}}),h=V(M=>{switch(M.key){case re.Space:M.preventDefault();break}}),m=V(M=>{var P;Es(M.currentTarget)||o||(f?(s({type:0}),(P=a.buttonElement)==null||P.focus()):s({type:0}))}),{isFocusVisible:v,focusProps:b}=Gt({autoFocus:i}),{isHovered:_,hoverProps:y}=en({isDisabled:o}),{pressed:S,pressProps:w}=Er({disabled:o}),C=G(()=>({open:a.disclosureState===0,hover:_,active:S,disabled:o,focus:v,autofocus:i}),[a,_,S,v,o,i]),O=So(e,a.buttonElement),L=ct(f?{ref:g,type:O,disabled:o||void 0,autoFocus:i,onKeyDown:d,onClick:m}:{ref:g,id:r,type:O,"aria-expanded":a.disclosureState===0,"aria-controls":a.panelElement?a.panelId:void 0,disabled:o||void 0,autoFocus:i,onKeyDown:d,onKeyUp:h,onClick:m},b,y,w);return me()({ourProps:L,theirProps:l,slot:C,defaultTag:Aw,name:"Disclosure.Button"})}let kw="div",Ow=ut.RenderStrategy|ut.Static;function Iw(e,t){let n=$e(),{id:r=`headlessui-disclosure-panel-${n}`,transition:o=!1,...i}=e,[l,a]=Ws("Disclosure.Panel"),{close:s}=bh("Disclosure.Panel"),[c,f]=A(null),p=Fe(t,V(_=>{xw(()=>a({type:5,element:_}))}),f);z(()=>(a({type:3,panelId:r}),()=>{a({type:3,panelId:null})}),[r,a]);let g=xn(),[d,h]=Co(o,c,g!==null?(g&Te.Open)===Te.Open:l.disclosureState===0),m=G(()=>({open:l.disclosureState===0,close:s}),[l.disclosureState,s]),v={ref:p,id:r,...xo(h)},b=me();return E.createElement(Zg,null,E.createElement(Ys.Provider,{value:l.panelId},b({ourProps:v,theirProps:i,slot:m,defaultTag:kw,features:Ow,visible:d,name:"Disclosure.Panel"})))}let Mw=pe(Nw),eo=pe(Tw),to=pe(Iw),mi=Object.assign(Mw,{Button:eo,Panel:to}),Lw="div";function Dw(e,t){let n=`headlessui-control-${$e()}`,[r,o]=$s(),[i,l]=mg(),a=nn(),{disabled:s=a||!1,...c}=e,f=G(()=>({disabled:s}),[s]),p={ref:t,disabled:s||void 0,"aria-disabled":s||void 0},g=me();return E.createElement(O0,{value:s},E.createElement(o,{value:r},E.createElement(l,{value:i},E.createElement(W0,{id:n},g({ourProps:p,theirProps:{...c,children:E.createElement(q0,null,typeof c.children=="function"?c.children(f):c.children)},slot:f,defaultTag:Lw,name:"Field"})))))}let Qe=pe(Dw),Gw="input";function Vw(e,t){let n=$e(),r=Pr(),o=nn(),{id:i=r||`headlessui-input-${n}`,disabled:l=o||!1,autoFocus:a=!1,invalid:s=!1,...c}=e,f=Sn(),p=yo(),{isFocused:g,focusProps:d}=Gt({autoFocus:a}),{isHovered:h,hoverProps:m}=en({isDisabled:l}),v=ct({ref:t,id:i,"aria-labelledby":f,"aria-describedby":p,"aria-invalid":s?"true":void 0,disabled:l||void 0,autoFocus:a},d,m),b=G(()=>({disabled:l,invalid:s,hover:h,focus:g,autofocus:a}),[l,s,h,g,a]);return me()({ourProps:v,theirProps:c,slot:b,defaultTag:Gw,name:"Input"})}let wt=pe(Vw);function Bw(e,t){let n=D({left:0,top:0});if(fe(()=>{if(!t)return;let o=t.getBoundingClientRect();o&&(n.current=o)},[e,t]),t==null||!e||t===document.activeElement)return!1;let r=t.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let Nc=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Ac(e){var t,n;let r=(t=e.innerText)!=null?t:"",o=e.cloneNode(!0);if(!Xe(o))return r;let i=!1;for(let a of o.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),i=!0;let l=i?(n=o.innerText)!=null?n:"":r;return Nc.test(l)&&(l=l.replace(Nc,"")),l}function jw(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(o=>{let i=document.getElementById(o);if(i){let l=i.getAttribute("aria-label");return typeof l=="string"?l.trim():Ac(i).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return Ac(e).trim()}function Hw(e){let t=D(""),n=D("");return V(()=>{let r=e.current;if(!r)return"";let o=r.innerText;if(t.current===o)return n.current;let i=jw(r).trim().toLowerCase();return t.current=o,n.current=i,i})}var qw=Object.defineProperty,zw=(e,t,n)=>t in e?qw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tc=(e,t,n)=>(zw(e,typeof t!="symbol"?t+"":t,n),n),Ge=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ge||{}),Ft=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Ft||{}),Ka=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ka||{}),_h=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOptions=5]="RegisterOptions",e[e.UnregisterOptions=6]="UnregisterOptions",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetOptionsElement=8]="SetOptionsElement",e[e.SortOptions=9]="SortOptions",e))(_h||{});function kc(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=zt(t(e.options.slice()),i=>i.dataRef.current.domRef.current),o=n?r.indexOf(n):null;return o===-1&&(o=null),{options:r,activeOptionIndex:o}}let Uw={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,pendingFocus:{focus:ae.Nothing},listboxState:1,__demoMode:!1}},0(e,t){if(e.dataRef.current.disabled||e.listboxState===0)return e;let n=e.activeOptionIndex,{isSelected:r}=e.dataRef.current,o=e.options.findIndex(i=>r(i.dataRef.current.value));return o!==-1&&(n=o),{...e,pendingFocus:t.focus,listboxState:0,activeOptionIndex:n,__demoMode:!1}},2(e,t){var n,r,o,i,l;if(e.dataRef.current.disabled||e.listboxState===1)return e;let a={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===ae.Nothing)return{...a,activeOptionIndex:null};if(t.focus===ae.Specific)return{...a,activeOptionIndex:e.options.findIndex(f=>f.id===t.id)};if(t.focus===ae.Previous){let f=e.activeOptionIndex;if(f!==null){let p=e.options[f].dataRef.current.domRef,g=In(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});if(g!==null){let d=e.options[g].dataRef.current.domRef;if(((r=p.current)==null?void 0:r.previousElementSibling)===d.current||((o=d.current)==null?void 0:o.previousElementSibling)===null)return{...a,activeOptionIndex:g}}}}else if(t.focus===ae.Next){let f=e.activeOptionIndex;if(f!==null){let p=e.options[f].dataRef.current.domRef,g=In(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});if(g!==null){let d=e.options[g].dataRef.current.domRef;if(((i=p.current)==null?void 0:i.nextElementSibling)===d.current||((l=d.current)==null?void 0:l.nextElementSibling)===null)return{...a,activeOptionIndex:g}}}}let s=kc(e),c=In(t,{resolveItems:()=>s.options,resolveActiveIndex:()=>s.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});return{...a,...s,activeOptionIndex:c}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),o=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(l=>{var a;return!l.dataRef.current.disabled&&((a=l.dataRef.current.textValue)==null?void 0:a.startsWith(r))}),i=o?e.options.indexOf(o):-1;return i===-1||i===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:i,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let n=e.options.concat(t.options),r=e.activeOptionIndex;if(e.pendingFocus.focus!==ae.Nothing&&(r=In(e.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled})),e.activeOptionIndex===null){let{isSelected:o}=e.dataRef.current;if(o){let i=n.findIndex(l=>o==null?void 0:o(l.dataRef.current.value));i!==-1&&(r=i)}}return{...e,options:n,activeOptionIndex:r,pendingFocus:{focus:ae.Nothing},pendingShouldSort:!0}},6:(e,t)=>{let n=e.options,r=[],o=new Set(t.options);for(let[i,l]of n.entries())if(o.has(l.id)&&(r.push(i),o.delete(l.id),o.size===0))break;if(r.length>0){n=n.slice();for(let i of r.reverse())n.splice(i,1)}return{...e,options:n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element},9:e=>e.pendingShouldSort?{...e,...kc(e),pendingShouldSort:!1}:e},Ww=class yh extends Rs{constructor(t){super(t),Tc(this,"actions",{onChange:n=>{let{onChange:r,compare:o,mode:i,value:l}=this.state.dataRef.current;return xe(i,{0:()=>r==null?void 0:r(n),1:()=>{let a=l.slice(),s=a.findIndex(c=>o(c,n));return s===-1?a.push(n):a.splice(s,1),r==null?void 0:r(a)}})},registerOption:ai(()=>{let n=[],r=new Set;return[(o,i)=>{r.has(i)||(r.add(i),n.push({id:o,dataRef:i}))},()=>(r.clear(),this.send({type:5,options:n.splice(0)}))]}),unregisterOption:ai(()=>{let n=[];return[r=>n.push(r),()=>{this.send({type:6,options:n.splice(0)})}]}),goToOption:ai(()=>{let n=null;return[(r,o)=>{n={type:2,...r,trigger:o}},()=>n&&this.send(n)]}),closeListbox:()=>{this.send({type:1})},openListbox:n=>{this.send({type:0,focus:n})},selectActiveOption:()=>{if(this.state.activeOptionIndex!==null){let{dataRef:n,id:r}=this.state.options[this.state.activeOptionIndex];this.actions.onChange(n.current.value),this.send({type:2,focus:ae.Specific,id:r})}},selectOption:n=>{let r=this.state.options.find(o=>o.id===n);r&&this.actions.onChange(r.dataRef.current.value)},search:n=>{this.send({type:3,value:n})},clearSearch:()=>{this.send({type:4})},setButtonElement:n=>{this.send({type:7,element:n})},setOptionsElement:n=>{this.send({type:8,element:n})}}),Tc(this,"selectors",{activeDescendantId(n){var r;let o=n.activeOptionIndex,i=n.options;return o===null||(r=i[o])==null?void 0:r.id},isActive(n,r){var o;let i=n.activeOptionIndex,l=n.options;return i!==null?((o=l[i])==null?void 0:o.id)===r:!1},shouldScrollIntoView(n,r){return n.__demoMode||n.listboxState!==0||n.activationTrigger===0?!1:this.isActive(n,r)}}),this.on(5,()=>{requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,r=zn.get(null);this.disposables.add(r.on(Ns.Push,o=>{!r.selectors.isTop(o,n)&&this.state.listboxState===0&&this.actions.closeListbox()})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}}static new({id:t,__demoMode:n=!1}){return new yh({id:t,dataRef:{current:{}},listboxState:n?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,pendingShouldSort:!1,pendingFocus:{focus:ae.Nothing},__demoMode:n})}reduce(t,n){return xe(n.type,Uw,t,n)}};const wh=he(null);function Xs(e){let t=oe(wh);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Sh),n}return t}function Sh({id:e,__demoMode:t=!1}){let n=G(()=>Ww.new({id:e,__demoMode:t}),[]);return Ao(()=>n.dispose()),n}let Lo=he(null);Lo.displayName="ListboxDataContext";function Lr(e){let t=oe(Lo);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Lr),n}return t}let Kw=ee;function Yw(e,t){let n=$e(),r=nn(),{value:o,defaultValue:i,form:l,name:a,onChange:s,by:c,invalid:f=!1,disabled:p=r||!1,horizontal:g=!1,multiple:d=!1,__demoMode:h=!1,...m}=e;const v=g?"horizontal":"vertical";let b=Fe(t),_=ig(i),[y=d?[]:void 0,S]=og(o,s,_),w=Sh({id:n,__demoMode:h}),C=D({static:!1,hold:!1}),O=D(new Map),L=yg(c),M=te(ue=>xe(P.mode,{[Ft.Multi]:()=>y.some(X=>L(X,ue)),[Ft.Single]:()=>L(y,ue)}),[y]),P=G(()=>({value:y,disabled:p,invalid:f,mode:d?Ft.Multi:Ft.Single,orientation:v,onChange:S,compare:L,isSelected:M,optionsPropsRef:C,listRef:O}),[y,p,f,d,v,S,L,M,C,O]);fe(()=>{w.state.dataRef.current=P},[P]);let $=ye(w,ue=>ue.listboxState),I=zn.get(null),B=ye(I,te(ue=>I.selectors.isTop(ue,n),[I,n])),[k,N]=ye(w,ue=>[ue.buttonElement,ue.optionsElement]);Os(B,[k,N],(ue,X)=>{w.send({type:_h.CloseListbox}),Eg(X,ks.Loose)||(ue.preventDefault(),k==null||k.focus())});let T=G(()=>({open:$===Ge.Open,disabled:p,invalid:f,value:y}),[$,p,f,y]),[Y,K]=$s({inherit:!0}),ne={ref:b},U=te(()=>{if(_!==void 0)return S==null?void 0:S(_)},[S,_]),le=me();return E.createElement(K,{value:Y,props:{htmlFor:k==null?void 0:k.id},slot:{open:$===Ge.Open,disabled:p}},E.createElement(Jg,null,E.createElement(wh.Provider,{value:w},E.createElement(Lo.Provider,{value:P},E.createElement(No,{value:xe($,{[Ge.Open]:Te.Open,[Ge.Closed]:Te.Closed})},a!=null&&y!=null&&E.createElement(cg,{disabled:p,data:{[a]:y},form:l,onReset:U}),le({ourProps:ne,theirProps:m,slot:T,defaultTag:Kw,name:"Listbox"}))))))}let Xw="button";function Jw(e,t){let n=$e(),r=Pr(),o=Lr("Listbox.Button"),i=Xs("Listbox.Button"),{id:l=r||`headlessui-listbox-button-${n}`,disabled:a=o.disabled||!1,autoFocus:s=!1,...c}=e,f=Fe(t,Kg(),i.actions.setButtonElement),p=dy(),[g,d,h]=ye(i,N=>[N.listboxState,N.buttonElement,N.optionsElement]),m=g===Ge.Open;Rg(m,{trigger:d,action:te(N=>{if(d!=null&&d.contains(N.target))return Tt.Ignore;let T=N.target.closest('[role="option"]:not([data-disabled])');return Xe(T)?Tt.Select(T):h!=null&&h.contains(N.target)?Tt.Ignore:Tt.Close},[d,h]),close:i.actions.closeListbox,select:i.actions.selectActiveOption});let v=V(N=>{switch(N.key){case re.Enter:B0(N.currentTarget);break;case re.Space:case re.ArrowDown:N.preventDefault(),i.actions.openListbox({focus:o.value?ae.Nothing:ae.First});break;case re.ArrowUp:N.preventDefault(),i.actions.openListbox({focus:o.value?ae.Nothing:ae.Last});break}}),b=V(N=>{switch(N.key){case re.Space:N.preventDefault();break}}),_=V(N=>{var T;if(N.button===0){if(Es(N.currentTarget))return N.preventDefault();i.state.listboxState===Ge.Open?(Ve(()=>i.actions.closeListbox()),(T=i.state.buttonElement)==null||T.focus({preventScroll:!0})):(N.preventDefault(),i.actions.openListbox({focus:ae.Nothing}))}}),y=V(N=>N.preventDefault()),S=Sn([l]),w=yo(),{isFocusVisible:C,focusProps:O}=Gt({autoFocus:s}),{isHovered:L,hoverProps:M}=en({isDisabled:a}),{pressed:P,pressProps:$}=Er({disabled:a}),I=G(()=>({open:g===Ge.Open,active:P||g===Ge.Open,disabled:a,invalid:o.invalid,value:o.value,hover:L,focus:C,autofocus:s}),[g,o.value,a,L,C,P,o.invalid,s]),B=ye(i,N=>N.listboxState===Ge.Open),k=ct(p(),{ref:f,id:l,type:So(e,d),"aria-haspopup":"listbox","aria-controls":h==null?void 0:h.id,"aria-expanded":B,"aria-labelledby":S,"aria-describedby":w,disabled:a||void 0,autoFocus:s,onKeyDown:v,onKeyUp:b,onKeyPress:y,onPointerDown:_},O,M,$);return me()({ourProps:k,theirProps:c,slot:I,defaultTag:Xw,name:"Listbox.Button"})}let xh=he(!1),Qw="div",Zw=ut.RenderStrategy|ut.Static;function e1(e,t){let n=$e(),{id:r=`headlessui-listbox-options-${n}`,anchor:o,portal:i=!1,modal:l=!0,transition:a=!1,...s}=e,c=Wg(o),[f,p]=A(null);c&&(i=!0);let g=Lr("Listbox.Options"),d=Xs("Listbox.Options"),[h,m,v,b]=ye(d,W=>[W.listboxState,W.buttonElement,W.optionsElement,W.__demoMode]),_=Lt(m),y=Lt(v),S=xn(),[w,C]=Co(a,f,S!==null?(S&Te.Open)===Te.Open:h===Ge.Open);Ts(w,m,d.actions.closeListbox);let O=b?!1:l&&h===Ge.Open;Ms(O,y);let L=b?!1:l&&h===Ge.Open;As(L,{allowed:te(()=>[m,v],[m,v])});let M=h!==Ge.Open,P=Bw(M,m)?!1:w,$=w&&h===Ge.Closed,I=go($,g.value),B=V(W=>g.compare(I,W)),k=ye(d,W=>{var q;if(c==null||!((q=c==null?void 0:c.to)!=null&&q.includes("selection")))return null;let ce=W.options.findIndex(ve=>B(ve.dataRef.current.value));return ce===-1&&(ce=0),ce}),N=(()=>{if(c==null)return;if(k===null)return{...c,inner:void 0};let W=Array.from(g.listRef.current.values());return{...c,inner:{listRef:{current:W},index:k}}})(),[T,Y]=Xg(N),K=Yg(),ne=Fe(t,c?T:null,d.actions.setOptionsElement,p),U=tn();z(()=>{var W;let q=v;q&&h===Ge.Open&&q!==((W=Vt(q))==null?void 0:W.activeElement)&&(q==null||q.focus({preventScroll:!0}))},[h,v]);let le=V(W=>{var q,ce;switch(U.dispose(),W.key){case re.Space:if(d.state.searchQuery!=="")return W.preventDefault(),W.stopPropagation(),d.actions.search(W.key);case re.Enter:if(W.preventDefault(),W.stopPropagation(),d.state.activeOptionIndex!==null){let{dataRef:ve}=d.state.options[d.state.activeOptionIndex];d.actions.onChange(ve.current.value)}g.mode===Ft.Single&&(Ve(()=>d.actions.closeListbox()),(q=d.state.buttonElement)==null||q.focus({preventScroll:!0}));break;case xe(g.orientation,{vertical:re.ArrowDown,horizontal:re.ArrowRight}):return W.preventDefault(),W.stopPropagation(),d.actions.goToOption({focus:ae.Next});case xe(g.orientation,{vertical:re.ArrowUp,horizontal:re.ArrowLeft}):return W.preventDefault(),W.stopPropagation(),d.actions.goToOption({focus:ae.Previous});case re.Home:case re.PageUp:return W.preventDefault(),W.stopPropagation(),d.actions.goToOption({focus:ae.First});case re.End:case re.PageDown:return W.preventDefault(),W.stopPropagation(),d.actions.goToOption({focus:ae.Last});case re.Escape:W.preventDefault(),W.stopPropagation(),Ve(()=>d.actions.closeListbox()),(ce=d.state.buttonElement)==null||ce.focus({preventScroll:!0});return;case re.Tab:W.preventDefault(),W.stopPropagation(),Ve(()=>d.actions.closeListbox()),Vb(d.state.buttonElement,W.shiftKey?Oe.Previous:Oe.Next);break;default:W.key.length===1&&(d.actions.search(W.key),U.setTimeout(()=>d.actions.clearSearch(),350));break}}),ue=ye(d,W=>{var q;return(q=W.buttonElement)==null?void 0:q.id}),X=G(()=>({open:h===Ge.Open}),[h]),H=ct(c?K():{},{id:r,ref:ne,"aria-activedescendant":ye(d,d.selectors.activeDescendantId),"aria-multiselectable":g.mode===Ft.Multi?!0:void 0,"aria-labelledby":ue,"aria-orientation":g.orientation,onKeyDown:le,role:"listbox",tabIndex:h===Ge.Open?0:void 0,style:{...s.style,...Y,"--button-width":Ma(m,!0).width},...xo(C)}),we=me(),_e=G(()=>g.mode===Ft.Multi?g:{...g,isSelected:B},[g,B]);return E.createElement(Hs,{enabled:i?e.static||w:!1,ownerDocument:_},E.createElement(Lo.Provider,{value:_e},we({ourProps:H,theirProps:s,slot:X,defaultTag:Qw,features:Zw,visible:P,name:"Listbox.Options"})))}let t1="div";function n1(e,t){let n=$e(),{id:r=`headlessui-listbox-option-${n}`,disabled:o=!1,value:i,...l}=e,a=oe(xh)===!0,s=Lr("Listbox.Option"),c=Xs("Listbox.Option"),f=ye(c,P=>c.selectors.isActive(P,r)),p=s.isSelected(i),g=D(null),d=Hw(g),h=tt({disabled:o,value:i,domRef:g,get textValue(){return d()}}),m=Fe(t,g,P=>{P?s.listRef.current.set(r,P):s.listRef.current.delete(r)}),v=ye(c,P=>c.selectors.shouldScrollIntoView(P,r));fe(()=>{if(v)return dt().requestAnimationFrame(()=>{var P,$;($=(P=g.current)==null?void 0:P.scrollIntoView)==null||$.call(P,{block:"nearest"})})},[v,g]),fe(()=>{if(!a)return c.actions.registerOption(r,h),()=>c.actions.unregisterOption(r)},[h,r,a]);let b=V(P=>{var $;if(o)return P.preventDefault();c.actions.onChange(i),s.mode===Ft.Single&&(Ve(()=>c.actions.closeListbox()),($=c.state.buttonElement)==null||$.focus({preventScroll:!0}))}),_=V(()=>{if(o)return c.actions.goToOption({focus:ae.Nothing});c.actions.goToOption({focus:ae.Specific,id:r})}),y=Ag(),S=V(P=>{y.update(P),!o&&(f||c.actions.goToOption({focus:ae.Specific,id:r},Ka.Pointer))}),w=V(P=>{y.wasMoved(P)&&(o||f||c.actions.goToOption({focus:ae.Specific,id:r},Ka.Pointer))}),C=V(P=>{y.wasMoved(P)&&(o||f&&c.actions.goToOption({focus:ae.Nothing}))}),O=G(()=>({active:f,focus:f,selected:p,disabled:o,selectedOption:p&&a}),[f,p,o,a]),L=a?{}:{id:r,ref:m,role:"option",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-selected":p,disabled:void 0,onClick:b,onFocus:_,onPointerEnter:S,onMouseEnter:S,onPointerMove:w,onMouseMove:w,onPointerLeave:C,onMouseLeave:C},M=me();return!p&&a?null:M({ourProps:L,theirProps:l,slot:O,defaultTag:t1,name:"Listbox.Option"})}let r1=ee;function o1(e,t){let{options:n,placeholder:r,...o}=e,i={ref:Fe(t)},l=Lr("ListboxSelectedOption"),a=G(()=>({}),[]),s=l.value===void 0||l.value===null||l.mode===Ft.Multi&&Array.isArray(l.value)&&l.value.length===0,c=me();return E.createElement(xh.Provider,{value:!0},c({ourProps:i,theirProps:{...o,children:E.createElement(E.Fragment,null,r&&s?r:n)},slot:a,defaultTag:r1,name:"ListboxSelectedOption"}))}let i1=pe(Yw),Nn=pe(Jw),l1=Ue,An=pe(e1),un=pe(n1),a1=pe(o1),er=Object.assign(i1,{Button:Nn,Label:l1,Options:An,Option:un,SelectedOption:a1});function s1({onFocus:e}){let[t,n]=A(!0),r=To();return t?E.createElement(Xt,{as:"button",type:"button",features:Yt.Focusable,onFocus:o=>{o.preventDefault();let i,l=50;function a(){if(l--<=0){i&&cancelAnimationFrame(i);return}if(e()){if(cancelAnimationFrame(i),!r.current)return;n(!1);return}i=requestAnimationFrame(a)}i=requestAnimationFrame(a)}}):null}const Ch=he(null);function u1(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let o=(n=r.get(t))!=null?n:0;r.set(t,o+1);let i=Array.from(r.keys()).indexOf(t);function l(){let a=r.get(t);a>1?r.set(t,a-1):r.delete(t)}return[i,l]}}}function c1({children:e}){let t=D(u1());return Le(Ch.Provider,{value:t},e)}function Fh(e){let t=oe(Ch);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=$e(),[r,o]=t.current.get(e,n);return z(()=>o,[]),r}var d1=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(d1||{}),f1=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(f1||{}),p1=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(p1||{});let g1={0(e,t){var n;let r=zt(e.tabs,f=>f.current),o=zt(e.panels,f=>f.current),i=r.filter(f=>{var p;return!((p=f.current)!=null&&p.hasAttribute("disabled"))}),l={...e,tabs:r,panels:o};if(t.index<0||t.index>r.length-1){let f=xe(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>xe(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(i.length===0)return l;let p=xe(f,{0:()=>r.indexOf(i[0]),1:()=>r.indexOf(i[i.length-1])});return{...l,selectedIndex:p===-1?e.selectedIndex:p}}let a=r.slice(0,t.index),s=[...r.slice(t.index),...a].find(f=>i.includes(f));if(!s)return l;let c=(n=r.indexOf(s))!=null?n:e.selectedIndex;return c===-1&&(c=e.selectedIndex),{...l,selectedIndex:c}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=zt([...e.tabs,t.tab],i=>i.current),o=e.selectedIndex;return e.info.current.isControlled||(o=r.indexOf(n),o===-1&&(o=e.selectedIndex)),{...e,tabs:r,selectedIndex:o}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:zt([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},Js=he(null);Js.displayName="TabsDataContext";function jn(e){let t=oe(Js);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,jn),n}return t}let Qs=he(null);Qs.displayName="TabsActionsContext";function Zs(e){let t=oe(Qs);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Zs),n}return t}function h1(e,t){return xe(t.type,g1,e,t)}let m1="div";function v1(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:o=!1,onChange:i,selectedIndex:l=null,...a}=e;const s=r?"vertical":"horizontal",c=o?"manual":"auto";let f=l!==null,p=tt({isControlled:f}),g=Fe(t),[d,h]=Dt(h1,{info:p,selectedIndex:l??n,tabs:[],panels:[]}),m=G(()=>({selectedIndex:d.selectedIndex}),[d.selectedIndex]),v=tt(i||(()=>{})),b=tt(d.tabs),_=G(()=>({orientation:s,activation:c,...d}),[s,c,d]),y=V(P=>(h({type:1,tab:P}),()=>h({type:2,tab:P}))),S=V(P=>(h({type:3,panel:P}),()=>h({type:4,panel:P}))),w=V(P=>{C.current!==P&&v.current(P),f||h({type:0,index:P})}),C=tt(f?e.selectedIndex:d.selectedIndex),O=G(()=>({registerTab:y,registerPanel:S,change:w}),[]);fe(()=>{h({type:0,index:l??n})},[l]),fe(()=>{if(C.current===void 0||d.tabs.length<=0)return;let P=zt(d.tabs,$=>$.current);P.some(($,I)=>d.tabs[I]!==$)&&w(P.indexOf(d.tabs[C.current]))});let L={ref:g},M=me();return E.createElement(c1,null,E.createElement(Qs.Provider,{value:O},E.createElement(Js.Provider,{value:_},_.tabs.length<=0&&E.createElement(s1,{onFocus:()=>{var P,$;for(let I of b.current)if(((P=I.current)==null?void 0:P.tabIndex)===0)return($=I.current)==null||$.focus(),!0;return!1}}),M({ourProps:L,theirProps:a,slot:m,defaultTag:m1,name:"Tabs"}))))}let b1="div";function _1(e,t){let{orientation:n,selectedIndex:r}=jn("Tab.List"),o=Fe(t),i=G(()=>({selectedIndex:r}),[r]),l=e,a={ref:o,role:"tablist","aria-orientation":n};return me()({ourProps:a,theirProps:l,slot:i,defaultTag:b1,name:"Tabs.List"})}let y1="button";function w1(e,t){var n,r;let o=$e(),{id:i=`headlessui-tabs-tab-${o}`,disabled:l=!1,autoFocus:a=!1,...s}=e,{orientation:c,activation:f,selectedIndex:p,tabs:g,panels:d}=jn("Tab"),h=Zs("Tab"),m=jn("Tab"),[v,b]=A(null),_=D(null),y=Fe(_,t,b);fe(()=>h.registerTab(_),[h,_]);let S=Fh("tabs"),w=g.indexOf(_);w===-1&&(w=S);let C=w===p,O=V(U=>{var le;let ue=U();if(ue===pn.Success&&f==="auto"){let X=(le=Vt(_))==null?void 0:le.activeElement,H=m.tabs.findIndex(we=>we.current===X);H!==-1&&h.change(H)}return ue}),L=V(U=>{let le=g.map(ue=>ue.current).filter(Boolean);if(U.key===re.Space||U.key===re.Enter){U.preventDefault(),U.stopPropagation(),h.change(w);return}switch(U.key){case re.Home:case re.PageUp:return U.preventDefault(),U.stopPropagation(),O(()=>lt(le,Oe.First));case re.End:case re.PageDown:return U.preventDefault(),U.stopPropagation(),O(()=>lt(le,Oe.Last))}if(O(()=>xe(c,{vertical(){return U.key===re.ArrowUp?lt(le,Oe.Previous|Oe.WrapAround):U.key===re.ArrowDown?lt(le,Oe.Next|Oe.WrapAround):pn.Error},horizontal(){return U.key===re.ArrowLeft?lt(le,Oe.Previous|Oe.WrapAround):U.key===re.ArrowRight?lt(le,Oe.Next|Oe.WrapAround):pn.Error}}))===pn.Success)return U.preventDefault()}),M=D(!1),P=V(()=>{var U;M.current||(M.current=!0,(U=_.current)==null||U.focus({preventScroll:!0}),h.change(w),Fr(()=>{M.current=!1}))}),$=V(U=>{U.preventDefault()}),{isFocusVisible:I,focusProps:B}=Gt({autoFocus:a}),{isHovered:k,hoverProps:N}=en({isDisabled:l}),{pressed:T,pressProps:Y}=Er({disabled:l}),K=G(()=>({selected:C,hover:k,active:T,focus:I,autofocus:a,disabled:l}),[C,k,I,T,a,l]),ne=ct({ref:y,onKeyDown:L,onMouseDown:$,onClick:P,id:i,role:"tab",type:So(e,v),"aria-controls":(r=(n=d[w])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":C,tabIndex:C?0:-1,disabled:l||void 0,autoFocus:a},B,N,Y);return me()({ourProps:ne,theirProps:s,slot:K,defaultTag:y1,name:"Tabs.Tab"})}let S1="div";function x1(e,t){let{selectedIndex:n}=jn("Tab.Panels"),r=Fe(t),o=G(()=>({selectedIndex:n}),[n]),i=e,l={ref:r};return me()({ourProps:l,theirProps:i,slot:o,defaultTag:S1,name:"Tabs.Panels"})}let C1="div",F1=ut.RenderStrategy|ut.Static;function E1(e,t){var n,r,o,i;let l=$e(),{id:a=`headlessui-tabs-panel-${l}`,tabIndex:s=0,...c}=e,{selectedIndex:f,tabs:p,panels:g}=jn("Tab.Panel"),d=Zs("Tab.Panel"),h=D(null),m=Fe(h,t);fe(()=>d.registerPanel(h),[d,h]);let v=Fh("panels"),b=g.indexOf(h);b===-1&&(b=v);let _=b===f,{isFocusVisible:y,focusProps:S}=Gt(),w=G(()=>({selected:_,focus:y}),[_,y]),C=ct({ref:m,id:a,role:"tabpanel","aria-labelledby":(r=(n=p[b])==null?void 0:n.current)==null?void 0:r.id,tabIndex:_?s:-1},S),O=me();return!_&&((o=c.unmount)==null||o)&&!((i=c.static)!=null&&i)?E.createElement(Xt,{"aria-hidden":"true",...C}):O({ourProps:C,theirProps:c,slot:w,defaultTag:C1,features:F1,visible:_,name:"Tabs.Panel"})}let P1=pe(w1),eu=pe(v1),tu=pe(_1),nu=pe(x1),Ut=pe(E1),hn=Object.assign(P1,{Group:eu,List:tu,Panels:nu,Panel:Ut}),$1="textarea";function R1(e,t){let n=$e(),r=Pr(),o=nn(),{id:i=r||`headlessui-textarea-${n}`,disabled:l=o||!1,autoFocus:a=!1,invalid:s=!1,...c}=e,f=Sn(),p=yo(),{isFocused:g,focusProps:d}=Gt({autoFocus:a}),{isHovered:h,hoverProps:m}=en({isDisabled:l}),v=ct({ref:t,id:i,"aria-labelledby":f,"aria-describedby":p,"aria-invalid":s?"true":void 0,disabled:l||void 0,autoFocus:a},d,m),b=G(()=>({disabled:l,invalid:s,hover:h,focus:g,autofocus:a}),[l,s,h,g,a]);return me()({ourProps:v,theirProps:c,slot:b,defaultTag:$1,name:"Textarea"})}let N1=pe(R1);function Do(){return(Do=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Eh(e,t){if(e==null)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}function Ya(e){var t=D(e),n=D(function(r){t.current&&t.current(r)});return t.current=e,n.current}var Hn=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},hr=function(e){return"touches"in e},Xa=function(e){return e&&e.ownerDocument.defaultView||self},Oc=function(e,t,n){var r=e.getBoundingClientRect(),o=hr(t)?function(i,l){for(var a=0;a<i.length;a++)if(i[a].identifier===l)return i[a];return i[0]}(t.touches,n):t;return{left:Hn((o.pageX-(r.left+Xa(e).pageXOffset))/r.width),top:Hn((o.pageY-(r.top+Xa(e).pageYOffset))/r.height)}},Ic=function(e){!hr(e)&&e.preventDefault()},ru=E.memo(function(e){var t=e.onMove,n=e.onKey,r=Eh(e,["onMove","onKey"]),o=D(null),i=Ya(t),l=Ya(n),a=D(null),s=D(!1),c=G(function(){var d=function(v){Ic(v),(hr(v)?v.touches.length>0:v.buttons>0)&&o.current?i(Oc(o.current,v,a.current)):m(!1)},h=function(){return m(!1)};function m(v){var b=s.current,_=Xa(o.current),y=v?_.addEventListener:_.removeEventListener;y(b?"touchmove":"mousemove",d),y(b?"touchend":"mouseup",h)}return[function(v){var b=v.nativeEvent,_=o.current;if(_&&(Ic(b),!function(S,w){return w&&!hr(S)}(b,s.current)&&_)){if(hr(b)){s.current=!0;var y=b.changedTouches||[];y.length&&(a.current=y[0].identifier)}_.focus(),i(Oc(_,b,a.current)),m(!0)}},function(v){var b=v.which||v.keyCode;b<37||b>40||(v.preventDefault(),l({left:b===39?.05:b===37?-.05:0,top:b===40?.05:b===38?-.05:0}))},m]},[l,i]),f=c[0],p=c[1],g=c[2];return z(function(){return g},[g]),E.createElement("div",Do({},r,{onTouchStart:f,onMouseDown:f,className:"react-colorful__interactive",ref:o,onKeyDown:p,tabIndex:0,role:"slider"}))}),Go=function(e){return e.filter(Boolean).join(" ")},ou=function(e){var t=e.color,n=e.left,r=e.top,o=r===void 0?.5:r,i=Go(["react-colorful__pointer",e.className]);return E.createElement("div",{className:i,style:{top:100*o+"%",left:100*n+"%"}},E.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Be=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},A1=function(e){return I1(Ja(e))},Ja=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Be(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?Be(parseInt(e.substring(6,8),16)/255,2):1}},T1=function(e){return O1(k1(e))},Ph=function(e){var t=e.s,n=e.v,r=e.a,o=(200-t)*n/100;return{h:Be(e.h),s:Be(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:Be(o/2),a:Be(r,2)}},Qa=function(e){var t=Ph(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},vi=function(e){var t=Ph(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},k1=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var i=Math.floor(t),l=r*(1-n),a=r*(1-(t-i)*n),s=r*(1-(1-t+i)*n),c=i%6;return{r:Be(255*[r,a,l,l,s,r][c]),g:Be(255*[s,r,r,a,l,l][c]),b:Be(255*[l,l,s,r,r,a][c]),a:Be(o,2)}},Xr=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},O1=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=o<1?Xr(Be(255*o)):"";return"#"+Xr(t)+Xr(n)+Xr(r)+i},I1=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=Math.max(t,n,r),l=i-Math.min(t,n,r),a=l?i===t?(n-r)/l:i===n?2+(r-t)/l:4+(t-n)/l:0;return{h:Be(60*(a<0?a+6:a)),s:Be(i?l/i*100:0),v:Be(i/255*100),a:o}},M1=E.memo(function(e){var t=e.hue,n=e.onChange,r=Go(["react-colorful__hue",e.className]);return E.createElement("div",{className:r},E.createElement(ru,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:Hn(t+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":Be(t),"aria-valuemax":"360","aria-valuemin":"0"},E.createElement(ou,{className:"react-colorful__hue-pointer",left:t/360,color:Qa({h:t,s:100,v:100,a:1})})))}),L1=E.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:Qa({h:t.h,s:100,v:100,a:1})};return E.createElement("div",{className:"react-colorful__saturation",style:r},E.createElement(ru,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:Hn(t.s+100*o.left,0,100),v:Hn(t.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Be(t.s)+"%, Brightness "+Be(t.v)+"%"},E.createElement(ou,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:Qa(t)})))}),$h=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},D1=function(e,t){return e.toLowerCase()===t.toLowerCase()||$h(Ja(e),Ja(t))};function G1(e,t,n){var r=Ya(n),o=A(function(){return e.toHsva(t)}),i=o[0],l=o[1],a=D({color:t,hsva:i});z(function(){if(!e.equal(t,a.current.color)){var c=e.toHsva(t);a.current={hsva:c,color:t},l(c)}},[t,e]),z(function(){var c;$h(i,a.current.hsva)||e.equal(c=e.fromHsva(i),a.current.color)||(a.current={hsva:i,color:c},r(c))},[i,e,r]);var s=te(function(c){l(function(f){return Object.assign({},f,c)})},[]);return[i,s]}var V1=typeof window<"u"?mt:z,B1=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},Mc=new Map,j1=function(e){V1(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!Mc.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,Mc.set(t,n);var r=B1();r&&n.setAttribute("nonce",r),t.head.appendChild(n)}},[])},H1=function(e){var t=e.className,n=e.hsva,r=e.onChange,o={backgroundImage:"linear-gradient(90deg, "+vi(Object.assign({},n,{a:0}))+", "+vi(Object.assign({},n,{a:1}))+")"},i=Go(["react-colorful__alpha",t]),l=Be(100*n.a);return E.createElement("div",{className:i},E.createElement("div",{className:"react-colorful__alpha-gradient",style:o}),E.createElement(ru,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:Hn(n.a+a.left)})},"aria-label":"Alpha","aria-valuetext":l+"%","aria-valuenow":l,"aria-valuemin":"0","aria-valuemax":"100"},E.createElement(ou,{className:"react-colorful__alpha-pointer",left:n.a,color:vi(n)})))},q1=function(e){var t=e.className,n=e.colorModel,r=e.color,o=r===void 0?n.defaultColor:r,i=e.onChange,l=Eh(e,["className","colorModel","color","onChange"]),a=D(null);j1(a);var s=G1(n,o,i),c=s[0],f=s[1],p=Go(["react-colorful",t]);return E.createElement("div",Do({},l,{ref:a,className:p}),E.createElement(L1,{hsva:c,onChange:f}),E.createElement(M1,{hue:c.h,onChange:f}),E.createElement(H1,{hsva:c,onChange:f,className:"react-colorful__last-control"}))},z1={defaultColor:"0001",toHsva:A1,fromHsva:T1,equal:D1},U1=function(e){return E.createElement(q1,Do({},e,{colorModel:z1}))};function W1(e){return Object.keys(e.printers).length===0}var Rh=(e=>(e.Assigned="Assigned",e.Actual="Actual",e))(Rh||{}),Nh=(e=>(e.LeftToRight="LeftToRight",e.RightToLeft="RightToLeft",e))(Nh||{}),Ah=(e=>(e.TopDown="TopDown",e.BottomUp="BottomUp",e))(Ah||{}),Th=(e=>(e.LeftToRight="LeftToRight",e.RightToLeft="RightToLeft",e))(Th||{}),kh=(e=>(e.Unordered="Unordered",e.TopDown="TopDown",e.BottomUp="BottomUp",e.FrontToBack="FrontToBack",e.BackToFront="BackToFront",e.LeftToRight="LeftToRight",e.RightToLeft="RightToLeft",e))(kh||{});const K1=`material,filament_info,temp_min,temp_high
ABS,GFB99,240,280
ABS-GF,GFB50,240,280
ABS-S,GFS06,240,270
ASA,GFB98,240,280
ASA-AERO,GFB02,240,280
ASA-CF,GFB51,240,280
BVOH,GFS97,190,240
EVA,GFR99,190,240
HIPS,GFS98,220,270
PA,GFN99,260,300
PA-CF,GFN98,260,300
PA-GF,GFN08,260,300
PA-S,GFS01,260,300
PA6-CF,GFN05,260,300
PC,GFC99,260,290
PCTG,GFG97,220,260
PE,GFP99,190,240
PE-CF,GFP98,190,240
PET-CF,GFT01,220,260
PETG,GFG99,220,260
PETG-CF,GFG98,220,260
PHA,GFR98,190,240
PLA,GFL99,190,240
PLA-AERO,GFA11,190,240
PLA-CF,GFL98,190,240
PLA-S,GFS00,190,240
PP,GFP97,220,250
PP-CF,GFP96,220,250
PP-GF,GFP95,220,250
PPA-CF,GFN97,280,320
PPA-GF,GFN96,280,320
PPS,GFT97,300,340
PPS-CF,GFT98,300,340
PVA,GFS99,190,240
TPU,GFU99,200,250
TPU-AMS,GFU98,200,250
`,Y1=["PLA","PETG","ABS","TPU","ASA",...K1.split(`
`).slice(1).map(e=>e.split(",")[0].trim()).filter(e=>e.length>0)],X1=`Beige,F5F5DCFF
Black,000000FF
Blue,0000FFFF
Brown,8B4513FF
Cyan,00FFFFFF
Dark Blue,00008BFF
Dark Green,006400FF
Dark Red,8B0000FF
Gray,808080FF
Green,008000FF
Light Blue,ADD8E6FF
Light Green,90EE90FF
Light Red,FF7F7FFF
Magenta,FF00FFFF
Olive,808000FF
Orange,FFA500FF
Pink,EE79A8FF
Purple,800080FF
Red,FF0000FF
Teal,008080FF
Violet,EE82EEFF
White,FFFFFFFF
Yellow,FFFF00FF
Gold,FFD700FF
Silver,C0C0C0FF
Light Wood,A5886EFF,
Wood,705A4EFF,
Dark Wood,56413E,
Bronze,7B6245FF,
Copper,8F4D2EFF,
Transparent,FFFFFF00,
`,J1=location.hostname==="localhost"||location.hostname==="127.0.0.1"||location.hostname==="192.168.10.51",ze=e=>{const t=e.startsWith("/")?"":"/";return(J1?"http://consoledev.local":"")+t+e};function Rn(e){const t=e.trim();if(t==="")return null;const n=Number(t);return isNaN(n)?null:n}function Lc(e){const t=e.length===8?e.slice(0,6):e;let n=parseInt(t.slice(0,2),16)/255,r=parseInt(t.slice(2,4),16)/255,o=parseInt(t.slice(4,6),16)/255;const i=Math.max(n,r,o),l=Math.min(n,r,o);let a=0,s=0,c=(i+l)/2;if(i!==l){const f=i-l;switch(s=c>.5?f/(2-i-l):f/(i+l),i){case n:a=((r-o)/f+(r<o?6:0))/6;break;case r:a=((o-n)/f+2)/6;break;case o:a=((n-r)/f+4)/6;break}}return{h:a*360,s:s*100,l:c*100}}function Q1(e,t){if(e==="00000000")return 1;if(t==="00000000")return-1;const n=Lc(e),r=Lc(t),o=n.s<15,i=r.s<15;if(o&&!i)return 1;if(!o&&i)return-1;if(o&&i){if(n.l!==r.l)return n.l-r.l;const s=parseInt(e.slice(6,8),16),c=parseInt(t.slice(6,8),16);return s-c}if(n.h!==r.h)return n.h-r.h;if(n.s!==r.s)return n.s-r.s;if(n.l!==r.l)return n.l-r.l;const l=parseInt(e.slice(6,8),16),a=parseInt(t.slice(6,8),16);return l-a}function Z1(e){const t=[];let n="",r=!1;for(let o=0;o<e.length;o++){const i=e[o],l=e[o+1];i==='"'&&r&&l==='"'?(n+='"',o++):i==='"'?r=!r:i===","&&!r?(t.push(n),n=""):n+=i}return t.push(n),t}function Dc(e){if(e=="")return 0;if(e.length!=6)return null;const t=atob(e),n=new ArrayBuffer(4),r=new Uint8Array(n);for(let o=0;o<4;o++)r[o]=t.charCodeAt(o);return new DataView(n).getFloat32(0,!0)}function Oh(e){e=e.replace("#","");const t=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return(t*299+n*587+r*114)/1e3>=128?"black":"white"}function eS({children:e,title:t,message:n,onConfirm:r,confirmText:o="Confirm",cancelText:i="Cancel"}){const[l,a]=A(!1);return u(ee,{children:[u("span",{onClick:()=>a(!0),children:e}),u(Mr,{open:l,onClose:()=>a(!1),className:"fixed inset-0 z-50 flex items-center justify-center",children:[u(Or,{className:"dialog-backdrop"}),u("div",{className:"p-4 rounded shadow max-w-lg w-full",children:u(kr,{className:"spool-dialog-panel",children:[u(Ir,{className:"dialog-title",children:[t,u(Ee,{onClick:()=>a(!1),className:"p-1.5 hover:bg-base-200 rounded-md transition-colors",type:"button",children:u(At,{className:"w-4 h-4"})})]}),u(Ps,{className:"dialog-description text-warning ",children:n}),u("div",{className:"mt-4 flex justify-end gap-2",children:[u("button",{className:"btn btn-outline",onClick:()=>a(!1),children:i}),u("button",{className:"btn btn-primary",onClick:()=>{r(),a(!1)},children:o})]})]})})]})]})}const Jr=({maxValue:e,handleNumpadValue:t})=>{const[n,r]=A(""),[o,i]=A(""),l=d=>f?d>e:!n&&d===0||parseInt(n+d)>e,a=(d,h)=>{d<=h&&t(d,!0)},s=d=>{const h=parseInt(n);if(h>d){i(`Must be between 1 and ${d}`);return}a(h,d),r(""),i("")},c=(d,h)=>{d==="backspace"?r(m=>m.slice(0,-1)):d==="confirm"?s(h):(r(m=>m+d),t(Number(n+d),!1))},f=e<10,p=[];for(let d=1;d<=9;d++){const h=l(d);p.push(u("button",{onClick:()=>f?a(d,e):c(d.toString(),e),disabled:h,className:`px-2 py-4 text-xl font-semibold rounded-lg border border-gray-300 dark:border-gray-600 
            ${h?"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed":"bg-base-100 hover:bg-base-200 active:bg-base-300"} transition-colors`,children:d},d))}const g=l(0);return u(ee,{children:u("div",{className:"grid grid-cols-3 gap-3 max-w-xs mx-auto",children:[!f&&u(ee,{children:[u("div",{className:"text-right col-span-3 px-4 py-2 bg-base-100 border border-gray-300 dark:border-gray-600 rounded-lg font-mono text-lg min-w-[100px]",children:n||"_"})," "]}),p,f?u("button",{disabled:!0,className:"col-span-3 px-2 py-4 text-lg font-semibold rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed",children:"0"}):u(ee,{children:[u("button",{onClick:()=>c("backspace",e),className:"px-2 py-4 text-lg font-semibold rounded-lg border border-gray-300 dark:border-gray-600 bg-base-100 hover:bg-base-200 active:bg-base-300 transition-colors flex items-center justify-center",children:u(Am,{size:24})}),u("button",{disabled:g,onClick:()=>c("0",e),className:`px-2 py-4 text-xl font-semibold rounded-lg border border-gray-300 dark:border-gray-600 
            ${g?"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed":"bg-base-100 hover:bg-base-200 active:bg-base-300"} transition-colors`,children:"0"}),u("button",{onClick:()=>c("confirm",e),className:"px-2 py-4 text-lg font-semibold rounded-lg border border-gray-300 dark:border-gray-600 bg-base-100 hover:bg-base-200 active:bg-base-300 transition-colors flex items-center justify-center",children:u(Nm,{size:24})})]})]})})};function tS({storageConfig:e,onCancel:t,onSelect:n,onClear:r,initialLocation:o,closeOnPressOutside:i=!0}){if(!e)return u(ee,{});const l=D(null);z(()=>{if(!i||!t)return;function k(N){l.current&&!l.current.contains(N.target)&&t()}return document.addEventListener("mousedown",k),()=>document.removeEventListener("click",k)},[t]);const[a,s]=A((o==null?void 0:o.rack)||null),[c,f]=A((o==null?void 0:o.bay)||null),[p,g]=A((o==null?void 0:o.shelf)||null),[d,h]=A((o==null?void 0:o.position)||null),[m,v]=A((o==null?void 0:o.container)||null),[b,_]=A(null);z(()=>{s(o==null?void 0:o.rack),f(o==null?void 0:o.bay),g(o==null?void 0:o.shelf),h(o==null?void 0:o.position),v(o==null?void 0:o.container),o&&(o.container?_("6complete"):o.position?_("5container"):o.shelf?_("4position"):o.bay?_("3shelf"):o.rack?_("2bay"):_("1rack"))},[o]);const y=e?Object.entries(e.rack_config).map(([k,N])=>({rackId:Number(k),name:N.name})):[];z(()=>{o&&(s(o.rack),f(o.bay),g(o.shelf),h(o.position),v(o.container||null))},[o]);const S=(k,N)=>k.num_shelves,w=(k,N,T)=>k.num_positions,C=(k,N,T,Y)=>k.num_containers;z(()=>{if(!a||!e)return;const k=e.rack_config[a].num_bays;b=="2bay"&&k<=1&&L(k,!0)},[b]),z(()=>{if(!a)return;const k=S(e.rack_config[a]);b=="3shelf"&&k<=1&&M(k,!0)},[b]),z(()=>{if(!a)return;const k=w(e.rack_config[a]);b=="4position"&&k<=1&&P(k,!0)},[b]),z(()=>{if(!a)return;const k=C(e.rack_config[a]);b=="5container"&&k<=1&&$(k,!0)},[b]);const O=(k,N)=>{s(k),g(null),h(null),v(null),_("2bay")},L=(k,N)=>{f(k),g(null),h(null),v(null),N&&_("3shelf")},M=(k,N)=>{g(k),h(null),v(null),N&&_("4position")},P=(k,N)=>{h(k),v(null),N&&_("5container")},$=(k,N)=>{v(k),N&&_("6complete")},I=k=>{switch(k){case"1rack":s(null),f(null),g(null),h(null),v(null),_("1rack");break;case"2bay":f(null),g(null),h(null),v(null),_("2bay");break;case"3shelf":g(null),h(null),v(null),_("3shelf");break;case"4position":h(null),v(null),_("4position");break;case"5container":v(null),_("5container");break}},B=(k,N)=>{b==="2bay"&&a?L(k,N):b==="3shelf"&&a?M(k,N):b==="4position"&&a?P(k,N):b==="5container"&&a&&$(k,N)};return y.length===0?u("div",{className:"text-center py-12 text-base-content/60",children:[u("p",{className:"text-lg font-medium mb-2",children:"No storage configured"}),u("p",{className:"text-sm",children:"Please configure storage racks first"})]}):u("div",{ref:l,className:"space-y-2",children:[u("div",{children:a?u("div",{className:"flex items-center gap-2 mb-2",children:[u("span",{className:"text-sm font-medium text-base-content/70",children:"Rack:"}),u("span",{className:"font-medium",children:e.rack_config[a].name}),u("button",{onClick:()=>I("1rack"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:u(At,{size:16})})]}):u(ee,{children:[u("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:"Select Rack:"}),u("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:y.map(k=>u("button",{onClick:()=>O(k.rackId),className:"px-4 py-3 bg-base-100 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-base-200 hover:border-gray-400 dark:hover:border-gray-500 transition-colors text-left font-medium",children:k.name},k.rackId))})]})}),a&&b>="2bay"&&u("div",{children:c&&b>"2bay"?u("div",{className:"flex items-center gap-2 mb-2",children:[u("span",{className:"text-sm font-medium text-base-content/70",children:"Bay:"}),u("span",{className:"font-medium",children:c}),u("button",{onClick:()=>I("2bay"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:u(At,{size:16})})]}):b==="2bay"&&u(ee,{children:[u("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:["Which bay? (1-",e.rack_config[a].num_bays,")"]}),u(Jr,{maxValue:e.rack_config[a].num_bays,handleNumpadValue:B})]})}),a&&b>="3shelf"&&u("div",{children:p&&b>"3shelf"?u("div",{className:"flex items-center gap-2 mb-2",children:[u("span",{className:"text-sm font-medium text-base-content/70",children:"Shelf:"}),u("span",{className:"font-medium",children:p}),u("button",{onClick:()=>I("3shelf"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:u(At,{size:16})})]}):b==="3shelf"&&u(ee,{children:[u("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:["Which shelf? (1-",e.rack_config[a].num_shelves,")"]}),u(Jr,{maxValue:S(e.rack_config[a]),handleNumpadValue:B})]})}),a&&b>="4position"&&u("div",{children:d&&b>"4position"?u("div",{className:"flex items-center gap-2 mb-2",children:[u("span",{className:"text-sm font-medium text-base-content/70",children:"Position:"}),u("span",{className:"font-medium",children:d}),u("button",{onClick:()=>I("4position"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:u(At,{size:16})})]}):b==="4position"&&u(ee,{children:[u("div",{className:"text-sm font-medium text-base-content/70 mb-2 flex items-center gap-2",children:["Which position? (1-",w(e.rack_config[a]),")",(()=>{const k=e.rack_config[a].num_positions,N=w(e.rack_config[a]);return k!==N?u("span",{className:"text-xs text-primary flex items-center gap-1",children:[u(Im,{size:14}),"This shelf has ",N," positions"]}):null})()]}),u(Jr,{maxValue:w(e.rack_config[a]),handleNumpadValue:B})]})}),a&&b>="5container"&&u("div",{children:m&&b>"5container"?u("div",{className:"flex items-center gap-2 mb-2",children:[u("span",{className:"text-sm font-medium text-base-content/70",children:"Container:"}),u("span",{className:"font-medium",children:m}),u("button",{onClick:()=>I("5container"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:u(At,{size:16})})]}):b==="5container"&&u(ee,{children:[u("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:["Which container? (1-",C(e.rack_config[a]),")"]}),u(Jr,{maxValue:C(e.rack_config[a]),handleNumpadValue:B})]})}),a&&u("div",{className:"bg-primary/10 border border-primary rounded-lg p-4",children:u("div",{className:"flex items-start gap-2",children:[u("span",{className:`${b!="6complete"&&"invisible"} text-primary font-bold text-4xl`,children:"âœ“"}),u("div",{children:[u("p",{className:"font-medium text-base-content",children:"Selected Location:"}),u("p",{className:"text-sm text-base-content/80",children:[e.rack_config[a].name,!!c&&` / Bay ${c}`,!!p&&` / Shelf ${p}`,!!d&&` / Position ${d}`,!!m&&` / Container ${m}`]})]})]})}),u("div",{className:"dialog-actions",children:[r&&u(Ee,{className:"btn btn-outline w-20",onClick:()=>r&&r(),children:"Clear"}),u(Ee,{className:"btn btn-outline w-20",onClick:()=>t&&t(),children:"Cancel"}),u(Ee,{className:"btn btn-primary w-20",onClick:()=>n&&n({rack:a,bay:c,shelf:p,position:d,container:m}),disabled:a==null,children:"Ok"})]})]})}const Ih=he(null);async function nS(){try{const e=ze("api/storage-config");return await(await encryptedFetch(e,{method:"GET"})).json()}catch{return{rack_config:{}}}}async function rS(e){const t=ze("api/storage-config");return await(await encryptedFetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}function oS({children:e}){const[t,n]=A(null),[r,o]=A(!1),i=te(async()=>{o(!0),n(await nS()),o(!1)},[]),l=te(async a=>{o(!0);try{n(await rS(a))}catch(s){throw s}finally{o(!1)}},[]);return z(()=>{(async()=>await i())()},[]),u(Ih.Provider,{value:{storageConfig:t,setStorageConfig:n,loadingStorgeConfig:r,reloadStorageConfig:i,saveStorageConfig:l},children:e})}const iu=()=>oe(Ih),iS=(e,t,n)=>{var S;const r=Z1(e),o=Rn(r[8]),i=Rn(r[9]),l=Rn(r[10]),a=Rn(r[11]),s=Rn(r[13]),c=s?new Date(s*1e3):null,f=Rn(r[14]),p=f?new Date(f*1e3):null,g=r[15],d=Dc(r[16]),h=Dc(r[17]),m=r[18]==="y",v=r[19],b=r[20],_=r[21],y=r[22];return{id:r[0],tag_id:r[1],material_type:r[2],material_subtype:r[3],color_name:r[4],color_code:r[5],note:r[6],brand:r[7],weight_advertised:o,weight_core:i,weight_new:l,weight_current:a,weight_left:a&&i?a-i:a&&o&&l?a-(l-o):null,weight_used:l&&a?l-a:a&&o&&i?o+i-a:null,slicer_filament:r[12],slicer_filament_name:r[12]?((S=n==null?void 0:n.find(w=>w.code==r[12]))==null?void 0:S.name)??""??null:"",added_datetime:c,encoded_datetime:p,full_unused:g,consumed_since_add:d,consumed_since_weight:h,k_setting:m,data_origin:v,tag_type:b,printer_location:t!=null&&t.get(r[0])?"!"+(t==null?void 0:t.get(r[0])):null,assigned_location:_,actual_location:y}},wr=(e,t)=>{var n,r;if(t.startsWith("#")){const o=t.indexOf("/",3),i=t.slice(3,o);return"#"+(((r=(n=e==null?void 0:e.rack_config)==null?void 0:n[Number(i)])==null?void 0:r.name)??`R:${i}`)+t.slice(o)}return t},Gc=mo(({title:e,locationValue:t,onUpdateData:n,complete:r,onShowLocationPicker:o,storageConfig:i},l)=>u(Qe,{className:"form-field",children:[u(Ue,{className:"form-label",children:e}),u("div",{ref:l,className:"tag-id-group",children:[u("div",{className:"relative w-full",children:[(t==null?void 0:t.charAt(0))=="#"?u(ro,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400"}):u(wa,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400"}),u(wt,{disabled:r||(t==null?void 0:t.charAt(0))=="#",className:"!pl-9 form-note-textarea !rounded-r-none",value:wr(i,t).slice(1),onChange:a=>n((a.target.value?"@":"")+a.target.value),placeholder:"Enter free text or use storage configuration"})]}),u(Ee,{className:"location-button !rounded-r-none",onClick:()=>{o()},disabled:r,children:u(ro,{})}),u(Ee,{className:"location-button",onClick:()=>n(""),disabled:r,children:u(At,{})})]})]})),Vc=[{label:"Unspecified",value:""},{label:"Full Unused",value:"y"},{label:"Used",value:"n"}],Za=[{label:"Unspecified",grams:0},{label:"1kg",grams:1e3},{label:"200g",grams:200},{label:"250g",grams:250},{label:"500g",grams:500},{label:"750g",grams:750},{label:"800g",grams:800},{label:"900g/2lbs",grams:900},{label:"1.1kg",grams:1100},{label:"2kg",grams:2e3},{label:"5lbs",grams:2268},{label:"2.5kg",grams:2500},{label:"3kg",grams:3e3}],es=e=>{const t=e||0,n=Za.find(r=>r.grams===t);return n?n.label:"Unspecified"};function lS(e){return e.trim().split(`
`).map((t,n)=>{const[r,o]=t.split(",");return{id:n+1,rgba:o,name:r}}).sort((t,n)=>t.name.localeCompare(n.name))}const tr=lS(X1);function aS(e){const t={printers:{}};for(const[n,r]of Object.entries(e.printers))for(const[o,i]of Object.entries(r.extruders))for(const[l,a]of Object.entries(i.diameters))for(const[s,c]of Object.entries(a.nozzles))c!==null&&(t.printers[n]||(t.printers[n]={extruders:{}}),t.printers[n].extruders[o]||(t.printers[n].extruders[o]={diameters:{}}),t.printers[n].extruders[o].diameters[l]||(t.printers[n].extruders[o].diameters[l]={nozzles:{}}),t.printers[n].extruders[o].diameters[l].nozzles[s]=c);return t}function sS({isMobile:e,info:t,materials:n,cores:r,slicerFilaments:o,filamentBrands:i,unsortedFilamentBrands:l,onSave:a,onCancel:s,onAddSimilar:c,onAddNew:f,onRefresh:p}){var bu,_u;const[g,d]=A({id:"",tagId:"",rgba:"000000FF",colorName:"",material:"",subtype:"",brand:"",label:es(null),labelGrams:null,coreGrams:null,note:"",slicerFilamentCode:"",fullUnused:"",assignedLocation:"",actualLocation:""});z(()=>{ke()},[g]);const[h,m]=A(""),[v,b]=A(!1),[_,y]=A(""),[S,w]=A({}),C=D(null),[O,L]=A(""),[M,P]=A(""),$=D(null),I=D(null),B=D(null),{storageConfig:k}=iu(),[N,T]=A(null),[Y,K]=A(""),ne=tr.filter(R=>R.name.toLowerCase().includes(Y.toLowerCase())),[U,le]=A(0),[ue,X]=A(0),[H,we]=A(0),[_e,W]=A({}),[q,ce]=A({}),[ve,on]=A(!1),[Xn,Ie]=A({printers:{}}),[ln,be]=A({printers:{}}),x=async R=>{if(!g.slicerFilamentCode){ce({}),W({});return}try{const j=ze("api/printers-filament-pa"),de={slicer_filament_code:R},Je=await(await encryptedFetch(j,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(de)})).json();W(Je.printers),on(!0)}catch{console.log("Error fetching printers filaments pressure advancee")}};z(()=>{(async()=>await x(g.slicerFilamentCode))()},[g.slicerFilamentCode]);const F=async R=>{if(!g.id){be({printers:{}});return}try{const j=ze("api/spool-kinfo"),de={id:R},Je=await(await encryptedFetch(j,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(de)})).json();Je.k_info?(Ie(Je.k_info),be(structuredClone(Je.k_info)),on(!0)):be({printers:{}})}catch(j){be({printers:{}}),console.log("Error fetching kinfo for spool",j)}};z(()=>{(async()=>await F(g.id))()},[g.id]),z(()=>{if(ve){const R=cS(_e,Xn);ce(R),on(!1)}},[ve]);const J=D(null);z(()=>{t.open&&t.spool?d(t.spool):t.open&&t.mode==="add"&&d({id:"",tagId:"",rgba:"000000FF",colorName:"",material:"",subtype:"",brand:"",label:es(null),labelGrams:null,coreGrams:null,note:"",slicerFilamentCode:"",fullUnused:"",assignedLocation:"",actualLocation:""}),w({})},[t.open,t.spool,t.mode]),z(()=>{const R=j=>{C.current&&!C.current.contains(j.target)&&b(!1)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]);const ie=R=>/^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{8})$/.test(R),Se=R=>{const j=R.startsWith("#")?R.slice(1).toUpperCase():R.toUpperCase();return j.length===6?j+"FF":j},ke=()=>{},Me=R=>{d(j=>({...j,rgba:R}))},Re=R=>{const j=Se(R);d(de=>({...de,rgba:j}))},ot=R=>{const j=Za.find(de=>de.label===R);d(de=>({...de,label:R,labelGrams:(j==null?void 0:j.grams)||0}))},Bt=R=>{d(j=>({...j,fullUnused:R}))},Fn=()=>{const R=tr.find(j=>j.name===g.colorName);R&&d(j=>({...j,rgba:R.rgba}))},an=R=>{T(R)},vt=()=>N=="assigned"?I:N=="actual"?B:null,Jn=R=>{const j=R.rack?`R:${R.rack}`:null,de=R.bay?`B:${R.bay}`:null,_t=R.shelf?`S:${R.shelf}`:null,Je=R.position?`P:${R.position}`:null,sn=R.container?`C:${R.container}`:null,yu=[j,de,_t,Je,sn].filter(Qn=>Qn!=null).join("/"),wu=yu!=""?"#"+yu:"";switch(N){case"assigned":d(Qn=>({...Qn,assignedLocation:wu}));break;case"actual":d(Qn=>({...Qn,actualLocation:wu}));break}},Vr=r.filter(R=>R.name.toLowerCase().includes(h.toLowerCase())),Uo=o.filter(R=>R.name.toLowerCase().includes(O.toLowerCase())),Br=i.filter(R=>R.displayName.toLowerCase().startsWith(M.toLowerCase())),ft=n.filter(R=>R.toLowerCase().includes(_.toLowerCase())),bt=R=>{const de=o.find(sn=>sn.code===R).name.toLowerCase(),Je=l.find(sn=>de.toLowerCase().startsWith(sn.displayName.toLowerCase()))||l.find(sn=>de.toLowerCase().includes(sn.displayName.toLowerCase()));return(Je==null?void 0:Je.fillName)??null},em=()=>{const R={};{if(ie(g.rgba)?d(de=>({...de,rgba:Se(de.rgba).toUpperCase()})):R.rgba="Invalid hex color format",g.material.trim()||(R.material="Material is required"),g.labelGrams||(R.labelGrams="Label W. Required"),Object.keys(R).length>0){w(R);return}w({})}const j=W1(ln)?null:ln;a({...g,rgba:Se(g.rgba).toUpperCase()},j)},vu=ie(g.rgba)?g.rgba.substring(0,8):"000000FF",Ke=!1,En=t.tray_id?t.tray_id<998:!1,je=t.tray_id?t.tray_id===-1:!1,De=t.complete==="successDone";return u(Mr,{open:t.open,onClose:()=>{},initialFocus:J,children:[u(Or,{className:"dialog-backdrop z-20"}),u("div",{className:"dialog-container z-30",children:u(kr,{className:"spool-dialog-panel",children:[u(Ir,{className:"dialog-title",children:[t.mode==="add"?"Add a New Spool":t.mode==="edit"?"Edit Spool Information":"Edit Encode Information",t.mode=="encode"&&u(Ee,{className:"btn",onClick:()=>p(),children:"Refresh"}),t.mode!=="encode"&&u(Ee,{onClick:s,className:"p-1.5 hover:bg-base-200 rounded-md transition-colors",type:"button",children:u(At,{className:"w-4 h-4"})})]}),je&&u("div",{className:"form-error",children:"Encode flow not started â€” start in console, then refresh."}),u(eu,{selectedIndex:H,onChange:we,className:"flex flex-col flex-1 xxxoverflow-auto",children:[u(tu,{className:"tab-list",children:[u(hn,{className:"tab-button",children:"Filament Info"}),u(hn,{className:"tab-button",children:"PA Profile (K)"}),u(hn,{className:"tab-button",children:"Location"})]}),u(nu,{className:"tab-panels-container",children:[u(Ut,{className:"h-full",children:u("div",{className:"spool-form",children:[u("div",{className:"form-row grid-cols-2",children:[u(Qe,{className:"form-field",children:[u(Ue,{className:"form-label",children:"ID"}),u(wt,{className:"form-input",value:g.id,readOnly:!0,disabled:!0})]}),u(Qe,{className:"form-field",children:[u(Ue,{className:"form-label",children:"Tag ID"}),u("div",{className:"tag-id-group",children:[u(wt,{className:`form-input ${g.tagId?"!rounded-r-none":""} ${g.tagId.startsWith("-")?"!text-orange-400":""}`,value:g.tagId.startsWith("-")?"Unlink Tag On Save!!":g.tagId,readOnly:!0,disabled:!0}),g.tagId&&u(Ee,{className:"spool-tag-unlink",onClick:()=>d({...g,tagId:g.tagId.startsWith("-")?g.tagId.slice(1):"-"+g.tagId}),children:g.tagId.startsWith("-")?u(Lm,{}):u(Mm,{})})]})]})]}),u(Qe,{className:"form-field",children:[u(Ue,{className:"form-label",children:"Slicer Filament"}),u(er,{value:g.slicerFilamentCode||"",onChange:R=>{const j=bt(g.slicerFilamentCode),de=!g.brand||g.brand===j?bt(R):g.brand;d(_t=>({..._t,material:o.find(Je=>Je.code===R).material,slicerFilamentCode:R,brand:de}))},children:u("div",{className:"relative",children:[u(Nn,{tabindex:0,disabled:je||Ke||En||De,className:"listbox-button  w-full flex items-center justify-between",children:[u("span",{className:"flex-1 text-left",children:g.slicerFilamentCode?((bu=o.find(R=>R.code===g.slicerFilamentCode))==null?void 0:bu.name)||"Unknown":"Select slicer filament..."}),u(St,{className:"listbox-icon"})]}),u(An,{className:"listbox-options max-h-130",children:[u("div",{className:"listbox-search",children:u(wt,{className:"form-input",placeholder:"Type to filter filaments...",value:O,onKeyDown:R=>{R.key===" "&&R.stopPropagation()},onChange:R=>L(R.target.value)})}),Uo.map(R=>u(un,{value:R.code,className:"listbox-option",children:[R.name," "]},R.code))]})]})})]}),u("div",{className:"form-row grid-cols-[1fr_9rem]",children:[u(Qe,{className:"form-field",children:[u(Ue,{className:"form-label",children:"Filament Brand"}),u("div",{className:"flex",children:u(Ec,{value:g.brand,onChange:R=>{const j=i.find(de=>de.displayName===R);d(de=>({...de,brand:j.fillName}))},children:({open:R})=>u("div",{className:"listbox-container",children:[u(qa,{disabled:je||Ke||De,className:"form-input",value:g.brand,onKeyDown:j=>{j.key==="Backspace"&&le(U+tr.length)},onChange:j=>{const de=j.target.value;P(de),X(ue+i.length),d(_t=>({..._t,brand:de}))},placeholder:"Enter/select filament brand"}),u(Ha,{disabled:je||Ke||De,className:"combobox-button",children:u(St,{className:"listbox-icon"})}),u(za,{className:"listbox-options max-h-110",children:Br.map(j=>u(Ua,{value:j.displayName,className:"listbox-option",children:u("div",{className:"flex items-center gap-2",children:j.displayName})},j.displayName+U))})]})})})]}),u(Qe,{className:"form-field",children:[u(Ue,{className:"form-label",children:"Label Weight*"}),u(er,{value:g.label,onChange:ot,children:u("div",{className:"listbox-container",children:[u(Nn,{tabindex:0,disabled:je||Ke||De,className:`listbox-button ${S.labelGrams?"form-input-error":""}`,children:[u("span",{className:"listbox-selected",children:g.label}),u(St,{className:"listbox-icon"})]}),u(An,{className:"listbox-options max-h-60",children:Za.map(R=>u(un,{value:R.label,className:"listbox-option",children:R.label},R.label))})]})})]})]}),u("div",{className:"fields-section !mb-4",children:u("div",{className:"form-row grid-cols-[11rem_1fr]",children:[u(Qe,{className:"form-field",children:[u(Ue,{className:"form-label",children:"Material *"}),u(er,{value:g.material,onChange:R=>d(j=>({...j,material:R})),children:u("div",{className:"listbox-container",children:[u(Nn,{tabindex:0,disabled:je||Ke||En||De||g.slicerFilamentCode!==""&&![void 0,""].includes(g.material),className:`listbox-button ${S.material?"form-input-error":""}`,children:[u("span",{className:"listbox-selected",children:g.material||"Select material..."}),u(St,{className:"listbox-icon"})]}),u(An,{className:"listbox-options max-h-85",children:[u("div",{className:"listbox-search",children:u(wt,{className:"form-input",placeholder:"Type to filter...",value:_,onChange:R=>y(R.target.value)})}),ft.map(R=>u(un,{value:R,className:"listbox-option",children:R},R)),_&&!ft.includes(_)&&u(un,{value:_,className:"listbox-option listbox-option-new",children:['Add "',_,'"']})]})]})})]}),u(Qe,{className:"form-field",children:[u(Ue,{className:"form-label",children:"Subtype"}),u(wt,{disabled:je||Ke||De,className:"form-input",autocorrect:"false",spellcheck:!1,autoCapitalize:"none",value:g.subtype,onChange:R=>d(j=>({...j,subtype:R.target.value})),placeholder:"Enter subtype"})]})]})}),u("div",{className:"fields-section",children:[u("div",{className:"color-preview",children:[u("div",{className:"absolute inset-0",style:{backgroundColor:`#${vu}`}}),u("div",{className:"color-preview-text",children:"Color Preview"})]}),u("div",{className:"color-controls",children:[u(Qe,{className:"form-field",children:[u(Ue,{className:"form-label",children:"RGBA Color"}),u("div",{className:"color-input-group",children:[u(wt,{disabled:je||Ke||En||De,maxLength:8,className:`form-input z-1 !rounded-r-none !border-r-0  ${S.rgba?"form-input-error !border-r-2":""}`,value:g.rgba,onChange:R=>Me(R.target.value),placeholder:"FF0000FF"}),u(Ee,{disabled:je||Ke||En||De,className:"color-picker-button",onClick:()=>b(!v),children:u(Gm,{className:"color-picker-icon"})}),v&&u("div",{className:"color-picker-container",ref:C,children:u(U1,{color:vu,onChange:Re})})]})]}),u(Qe,{className:"form-field",children:[u(Ue,{className:"form-label",children:"Color Name"}),u("div",{className:"flex",children:[u(Ee,{disabled:je||Ke||De||En,className:"color-set-rgba-button",onClick:Fn,children:u("div",{class:"relative w-4 h-4",children:[u($m,{className:"color-set-rgba-icon absolute top-1/8 left-1/4 -translate-y-1/2"}),u(Pm,{className:"color-set-rgba-icon absolute top-1/4 left-1/8 -translate-x-1/2"})]})}),u(Ec,{value:g.colorName,onChange:R=>{d(j=>({...j,colorName:R}))},children:({open:R})=>u("div",{className:"listbox-container",children:[u(qa,{disabled:je||Ke||De,className:"form-input !rounded-l-none !border-l-0",value:g.colorName,onKeyDown:j=>{if(j.key==="Backspace"&&le(U+tr.length),j.key==="Enter"&&!R){const de=j.target.value;!En&&g.colorName&&de===g.colorName&&Fn()}},onChange:j=>{const de=j.target.value;K(de),de==""&&le(U+tr.length),d(_t=>({..._t,colorName:de}))},placeholder:"Enter/select color name"}),u(Ha,{disabled:je||Ke||De,className:"combobox-button",children:u(St,{className:"listbox-icon"})}),u(za,{className:"listbox-options max-h-48",children:ne.map(j=>u(Ua,{value:j.name,className:"listbox-option",children:u("div",{className:"flex items-center gap-2",children:[u("div",{className:"w-4 h-4 rounded border border-gray-300 dark:border-gray-600",style:{backgroundColor:`#${j.rgba.slice(0,6)}`}}),j.name]})},j.id+U))})]})})]})]})]})]}),u("div",{className:`form-row ${t.mode!=="encode"?"grid-cols-[9rem_1fr]":""}`,children:[t.mode!=="encode"&&u(Qe,{className:"form-field",children:[u(Ue,{className:"form-label",children:"Full When Added"}),u(er,{value:g.fullUnused,onChange:Bt,children:u("div",{className:"relative",children:[u(Nn,{tabindex:0,disabled:je||Ke||De,className:`listbox-button ${S.material?"form-input-error":""}`,children:[u("span",{className:"listbox-selected",children:(_u=Vc.find(R=>R.value===g.fullUnused))==null?void 0:_u.label}),u(St,{className:"listbox-icon"})]}),u(An,{className:"listbox-options max-h-60",children:Vc.map(R=>u(un,{value:R.value,className:"listbox-option",children:R.label},R.value))})]})})]}),u(Qe,{className:"form-field",children:[u(Ue,{className:"form-label",children:"Empty Weight(g)"}),u(er,{value:"",onChange:R=>{const j=r.find(de=>de.name===R);j&&d(de=>({...de,coreGrams:j.grams}))},children:u("div",{className:"relative",children:[u("div",{className:"listbox-button child-input-focus-ring  w-full flex items-center",children:[u(wt,{disabled:je||Ke||De,className:"w-full bg-transparent border-none p-0 m-0 outline-none focus:ring-0 focus:outline-none",value:g.coreGrams||"",onChange:R=>{const j=R.target.value;d(de=>({...de,coreGrams:j?parseInt(j):null}))},placeholder:"Enter weight in grams"}),u(Nn,{disabled:je||Ke||De,children:u(St,{className:"listbox-icon"})})]}),u(An,{className:"listbox-options max-h-45",children:[u("div",{className:"listbox-search",children:u(wt,{className:"form-input",placeholder:"Type to filter spool types...",value:h,onChange:R=>m(R.target.value)})}),Vr.map(R=>u(un,{value:R.name,className:"listbox-option",children:R.name},R.name))]})]})})]})]}),u(Qe,{className:"form-field",children:[u(Ue,{className:"form-label",children:"Note"}),u(N1,{disabled:je||De,className:"form-note-textarea",value:g.note,onChange:R=>d(j=>({...j,note:R.target.value})),placeholder:"Enter any additional notes...",rows:1})]})]})}),u(Ut,{as:"div",className:"h-full overflow-auto",children:u("div",{className:"pressure-advance-form max-h-[100px]",children:u(uS,{filamentId:g.slicerFilamentCode,printerData:q,selections:ln,onSelectionsChange:be})})}),u(Ut,{as:"div",className:"h-full",children:u("div",{className:"spool-form",children:[u(Gc,{ref:I,title:"Assigned Location",locationValue:g.assignedLocation,complete:De,onShowLocationPicker:()=>an("assigned"),onUpdateData:R=>d(j=>({...j,assignedLocation:R})),storageConfig:k}),u(Gc,{ref:B,title:"Actual Location",locationValue:g.actualLocation,complete:De,onShowLocationPicker:()=>an("actual"),onUpdateData:R=>d(j=>({...j,actualLocation:R})),storageConfig:k}),N!=null&&u("div",{ref:$,id:"location-picker-popup",className:"fixed bg-gray-700 rounded-md p-2 mt-2",style:{top:`${vt().current.getBoundingClientRect().bottom}px`,width:`${vt().current.getBoundingClientRect().width}px`},children:u(tS,{storageConfig:k,onCancel:()=>T(null),onSelect:R=>{Jn(R),T(null)}})})]})})]})]}),u("div",{className:"dialog-actions",children:t.complete==null||t.complete=="successContinue"?u(ee,{children:[u("div",{className:"self-center",children:Bc(t,S)}),t.mode!=="encode"&&u(ee,{children:[u(Ee,{className:"btn btn-outline",onClick:s,children:"Cancel"}),g.id!=""&&u(Ee,{className:"btn btn-outline",onClick:c,children:"Add Similar"})]}),u(Ee,{className:"btn btn-primary",onClick:em,disabled:je||De,children:t.mode==="add"?"Add Spool":"Save Changes"})]}):u(ee,{children:[u("div",{className:"self-center text-green-800",children:Bc(t,S)}),t.mode==="add"&&u(ee,{children:[u(Ee,{className:"btn btn-outline",onClick:c,children:"Add Similar"}),u(Ee,{className:"btn btn-outline",onClick:f,children:"Add New"})]}),u(Ee,{className:"btn btn-primary",onClick:s,children:"Close"})]})})]})})]})}function Bc(e,t){var n,r;if(t&&Object.keys(t).length>0)return"âŒ Form Validation Errors";switch(e.complete){case"successContinue":case"successDone":switch(e.mode){case"add":return`âœ… Spool ${(n=e.spool)==null?void 0:n.id} Added`;case"edit":return`âœ… Spool ${(r=e.spool)==null?void 0:r.id} Updated`;case"encode":return"Encode Information Updated"}case"fail":switch(e.mode){case"add":return"âŒ Failed to Add Spool";case"edit":return"âŒ Failed to Update Spool";case"encode":return"âŒ Failed to Update Encode Information"}}}function uS({filamentId:e,printerData:t,selections:n,onSelectionsChange:r}){const i=(()=>{const f={};return Object.entries(t).forEach(([p,g])=>{f[p]={name:g.name,extruders:g.extruders,extruderData:{}},g.pressure_advance.forEach(d=>{f[p].extruderData[d.extruder]||(f[p].extruderData[d.extruder]={}),f[p].extruderData[d.extruder][d.diameter]||(f[p].extruderData[d.extruder][d.diameter]={}),f[p].extruderData[d.extruder][d.diameter][d.nozzle_id]||(f[p].extruderData[d.extruder][d.diameter][d.nozzle_id]=[]),f[p].extruderData[d.extruder][d.diameter][d.nozzle_id].push(d)})}),f})(),l=(f,p,g,d,h)=>{const m={...n};m.printers[f]||(m.printers[f]={extruders:{}}),m.printers[f].extruders[p]||(m.printers[f].extruders[p]={diameters:{}}),m.printers[f].extruders[p].diameters[g]||(m.printers[f].extruders[p].diameters[g]={nozzles:{}});const v=h?{name:h.name,k_value:h.k_value,cali_idx:h.cali_idx,setting_id:h.setting_id}:null;m.printers[f].extruders[p].diameters[g].nozzles[d]=v;const b=aS(m);r(b)},a=(f,p,g,d)=>{var h,m,v,b,_,y,S;return((S=(y=(_=(b=(v=(m=(h=n.printers)==null?void 0:h[f])==null?void 0:m.extruders)==null?void 0:v[p])==null?void 0:b.diameters)==null?void 0:_[g])==null?void 0:y.nozzles)==null?void 0:S[d])||null},s=f=>Object.values(f).some(p=>Object.keys(p).some(g=>g!==""));return u("div",{className:"pressure-advance-container",children:Object.keys(t).length===0?u("div",{className:"empty-state",children:u("p",{className:"no-data-message",children:"No slicer filament selected or no printers available."})}):Object.entries(i).map(([f,p])=>u(mi,{defaultOpen:!0,children:[u(eo,{className:"printer-accordion-button",children:[u(St,{className:"printer-accordion-icon"}),u("span",{className:"printer-accordion-title",children:[p.name," (",f,")"]})]}),u(to,{className:"printer-accordion-content",children:Object.keys(p.extruderData).length===0?u("div",{className:"no-data-message",children:"No pressure advance profiles available in printer(s) for selected slicer filament."}):u("div",{className:`extruders-container ${p.extruders>1?"multiple-extruders":""}`,children:Object.entries(p.extruderData).map(([g,d])=>u("div",{className:`extruder-section ${p.extruders>1?"extruder-card":""}`,children:[p.extruders>1&&u("h4",{className:"extruder-title",children:[g==="0"?"Right":"Left"," Extruder (",g,")"]}),u("div",{className:"hierarchy-tree",children:Object.entries(d).map(([h,m])=>u(mi,{defaultOpen:!0,children:u("div",{className:`diameter-section ${p.extruders>1?"inside-extruder":"direct-under-printer"}`,children:[u(eo,{className:"diameter-disclosure-button",children:[u(St,{className:"disclosure-icon"}),u("span",{className:"diameter-title",children:["Nozzle Diameter: ",h,"mm"]})]}),u(to,{className:"diameter-disclosure-content",children:s(d)?Object.entries(m).map(([v,b])=>u(mi,{defaultOpen:!0,children:u("div",{className:"nozzle-section",children:[u(eo,{className:"nozzle-disclosure-button",children:[u(St,{className:"disclosure-icon"}),u("span",{className:"nozzle-title",children:["Nozzle Type:"," ",v[1]==="S"?"Standard ":"High Flow ","(",v||"Default",")"]})]}),u(to,{className:"nozzle-disclosure-content",children:u("div",{className:"settings-list",children:b.map((_,y)=>c(y,f,p.name,g,h,v,_,e,p))})})]})},v)):u("div",{className:"settings-list",children:m[""].map((v,b)=>c(b,f,p.name,g,h,"",v,e,p))})})]})},h))})]},g))})})]},f))});function c(f,p,g,d,h,m,v,b,_){const y=a(p,d,h,m),S=(y==null?void 0:y.name)===v.name;return u("label",{className:"setting-item",children:[u("input",{type:"checkbox",checked:S,onChange:w=>{const C=w.target.checked;l(p,d,h,m,C?{name:v.name,k_value:v.k_value,cali_idx:v.cali_idx,setting_id:v.setting_id}:null)},className:"setting-checkbox"}),u("span",{className:`setting-text ${v.spool_only?"setting-text-not-in-printer":""}`,children:[v.name," (K=",v.k_value,")",v.spool_only&&u(ee,{children:[" - (Not in printer ",u(eS,{title:"Add This Pressure Advance Setting?",message:u(ee,{children:["Printer: ",g," (",p,")",u("br",{}),_.extruders>1&&u(ee,{children:["Extruder ID: ",d," ",u("br",{})," "]}),"Nozzle: ",v.diameter," ",u("br",{}),m&&u(ee,{children:["Nozzle ID: ",m," ",u("br",{})," "]}),"Name: ",v.name,u("br",{}),"K: ",v.k_value,u("br",{}),"âš ï¸ Important: Check the Documentation for More Info on this!"]}),onConfirm:async()=>{try{const w=ze("api/add-printer-pa"),C={printer_serial:p,filament_id:b,pressure_advance_entry:{extruder:Number(d),diameter:h,nozzle_id:m,name:v.name,k_value:v.k_value,cali_idx:-1,setting_id:v.setting_id}},L=await(await encryptedFetch(w,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)})).json()}catch{console.log("Error fetching printers filaments pressure advancee")}},confirmText:"Yes, Add",cancelText:"NOOO !!!",children:u(Ee,{className:"btn btn-secondary relative -top-[2-px] h-[1.5em] p-1",children:"Add"})}),")"]})]})]},f)}}function cS(e,t){const n={};for(const[o,i]of Object.entries(e))n[o]={name:i.name,extruders:i.extruders,pressure_advance:i.pressure_advance.map(l=>({...l,spool_only:!1}))};function r(o,i,l,a,s){const c=e[o];return c?c.pressure_advance.some(f=>f.extruder===i&&f.diameter===l&&f.nozzle_id===a&&f.name===s):!1}for(const[o,i]of Object.entries(t.printers))for(const[l,a]of Object.entries(i.extruders)){const s=parseInt(l,10);for(const[c,f]of Object.entries(a.diameters))for(const[p,g]of Object.entries(f.nozzles))if(g!==null&&!r(o,s,c,p,g.name)){n[o]||(n[o]={name:`Printer ${o}`,extruders:1,pressure_advance:[]});const d={extruder:s,diameter:c,nozzle_id:p,name:g.name,k_value:g.k_value,spool_only:!0,setting_id:g.setting_id,cali_idx:g.cali_idx};n[o].pressure_advance.push(d)}}return n}const ts=({spool:e,storageConfig:t,compact:n=!1,onSetSpoolLocation:r})=>{const[o,i]=A(null);return u("div",{className:n?"spool-card-compact sticky left-0 w-[calc(100vw-18px)]":"spool-card",style:{backgroundColor:`#${e.color_code.substring(0,6)}`,color:Oh(e.color_code.substring(0,6))},children:[u("div",{className:"spool-card-header gap-1 text-left leading-tight",children:[u("div",{className:"flex-1 flex gap-1 min-w-0",children:[u("span",{children:[e.id,"."]}),u("span",{className:"flex-1 min-w-0",children:[e.brand," ",e.material_type," ",e.material_subtype," ",e.color_name," (",kn(e.weight_left-e.consumed_since_weight,1),"g)"]})]}),u("div",{className:"relative w-5 h-5 flex items-center ml-auto",children:[u(dp,{className:"w-5 h-5"}),!e.tag_id&&u(pp,{className:"absolute inset-0 w-5 h-5 text-current left-[1px]"})]})]}),u("div",{className:"spool-card-content",children:[(e.assigned_location||e.actual_location||e.printer_location)&&u(ee,{children:[u("div",{className:"p-0 py-0 pb-0.5",children:u("div",{class:"flex justify-center",children:u("div",{class:"inline-grid grid-cols-[auto_1fr_auto] gap-y-2 flex-1",children:[(e.printer_location||e.actual_location||o)&&u("div",{class:"border rounded-md pl-2 col-span-3 grid grid-cols-subgrid gap-x-0 items-center",children:[u("div",{className:"text-sm pr-2",children:"Actual:"}),u("div",{className:o?" line-through":"",children:wr(t,e.printer_location??(e.actual_location?e.actual_location:o)).slice(1)}),e.actual_location?u("button",{disabled:!!e.printer_location,onClick:async()=>{await r(e.id,"")&&i(e.actual_location)},className:"btn btn-primary w-16",children:"Pick"}):o?u("button",{onClick:async()=>{await r(e.id,o)&&i(null)},className:"btn btn-secondary w-16",children:"Unpick"}):u("div",{})]}),e.assigned_location&&u("div",{class:"border rounded-md px-2 col-span-3 grid grid-cols-subgrid gap-x-0 items-center",children:[u("div",{className:"text-sm pr-2",children:"Assigned:"}),u("div",{children:wr(t,e.assigned_location).slice(1)})]})]})})}),u("div",{className:"col-span-2 border-b border-gray-500"})]}),u("div",{className:"spool-card-row",children:[e.note&&u(ee,{children:[u("div",{className:"spool-field-inline col-span-2 !flex !flex-row items-center gap-x-2",children:[u("span",{className:"spool-label",children:"Note:"}),u("span",{children:e.note})]}),u("div",{className:"col-span-2 border-b border-gray-500"})]}),u("div",{className:"spool-field-inline",children:[u("span",{className:"spool-label",children:"Latest Scale Weight:"}),u("span",{children:e.weight_current?`${e.weight_current}g`:"-"})]}),u("div",{className:"spool-field-inline",children:[u("span",{className:"spool-label",children:"Label Weight:"}),u("span",{children:e.weight_advertised?$a(e.weight_advertised):"-"})]}),u("div",{className:"spool-field-inline",children:[u("span",{className:"spool-label",children:"Printed Since Weighted:"}),u("span",{children:e.consumed_since_weight?`${kn(e.consumed_since_weight,1)}g`:"-"})]}),u("div",{className:"spool-field-inline",children:[u("span",{className:"spool-label",children:"Printed Since Added:"}),u("span",{children:e.consumed_since_add?`${kn(e.consumed_since_add,1)}g`:"-"})]}),u("div",{className:"spool-field-inline",children:[u("span",{className:"spool-label",children:"Full Weight:"}),u("span",{children:e.weight_new?`${e.weight_new}g`:"-"})]}),u("div",{className:"spool-field-inline",children:[u("span",{className:"spool-label",children:"Used:"}),u("span",{children:e.weight_used?`${kn(e.weight_used+e.consumed_since_weight,1)}g`:"-"})]}),u("div",{className:"spool-field-inline",children:[u("span",{className:"spool-label",children:"Empty Weight:"}),u("span",{children:e.weight_core?`${e.weight_core}g`:"-"})]}),u("div",{className:"col-span-2 border-b border-gray-500"}),u("div",{className:"spool-field-inline",children:[u("span",{className:"spool-label",children:"RGB:"}),u("span",{children:e.color_code})]}),u("div",{className:"spool-field-inline",children:[u("span",{className:"spool-label",children:"Pressure Advance(K):"}),u("span",{children:`${e.k_setting?"Configured":"Not Configured"}`})]}),u("div",{className:"col-span-2 border-b border-gray-500"}),u("div",{className:"spool-field-inline",children:[u("span",{className:"spool-label",children:"Added:"}),u("span",{children:e.added_datetime?lo(e.added_datetime):"-"})]}),u("div",{className:"spool-field-inline",children:[u("span",{className:"spool-label",children:"Encoded:"}),u("span",{children:e.encoded_datetime?lo(e.encoded_datetime):"-"})]})]}),(e.data_origin||e.tag_type)&&u("div",{className:"spool-card-row",children:[u("div",{className:"spool-field-inline",children:[u("span",{className:"spool-label",children:"Data Origin:"}),u("span",{children:e.data_origin?e.data_origin:"-"})]}),u("div",{className:"spool-field-inline",children:[u("span",{className:"spool-label",children:"Linked Tag Type:"}),u("span",{children:e.tag_type?e.tag_type:"-"})]})]}),u("div",{className:"spool-field-inline",children:[u("span",{className:"spool-label",children:"Tag ID:"}),e.tag_id?e.tag_id.startsWith("-")?u("span",{className:"line-through",children:e.tag_id.slice(1)}):u("span",{children:e.tag_id}):u("span",{children:"-"})]})]})]})};function dS({isMobile:e,info:t,onOk:n,onCancel:r}){return u(Mr,{open:t.open,onClose:()=>{},children:[u(Or,{className:"dialog-backdrop"}),u("div",{className:"dialog-container",children:u(kr,{className:"dialog-panel",children:[u(Ir,{className:"dialog-title",children:"Delete Spool"}),u(Ps,{className:"dialog-description text-warning ",children:"Are you sure you want to delete spool"}),t.spool&&u(ts,{spool:t.spool},t.spool.id),u("div",{className:"flex justify-end gap-3 pt-4",children:[u(Ee,{className:"btn btn-outline",onClick:r,children:"NOOO !!!"}),u(Ee,{className:"btn btn-warning",onClick:n,children:"Yes, Delete"})]})]})})]})}function fS(){const[e,t]=A(!1);return z(()=>{const n=()=>{t(window.innerWidth<768)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}const pS={securityKey:"",setSecurityKey:()=>{},securityOk:!1,setSecurityOk:()=>{}},rn=he(pS),gS=({children:e})=>{const t=new URLSearchParams(window.location.hash.slice(1)).get("sk")||""||new URLSearchParams(window.location.hash.slice(1)).get("_sk")||"",[n,r]=A(t),[o,i]=A(!1);return window.securityKey=n,z(()=>{hS(i)},[]),u(rn.Provider,{value:{securityKey:n,setSecurityKey:r,securityOk:o,setSecurityOk:i},children:e})};let ns=null;function hS(e){ns=e}function mS(e){ns&&ns(e)}function vS(){const{securityOk:e}=oe(rn),[t,n]=A([]);return z(()=>{(async()=>{if(!e)return;const r=ze("/spools-catalog"),i=await(await fetch(r)).text(),l=ze("/api/spools-config"),c=(await(await encryptedFetch(l)).json()).spools,d=`Unspecified,0
`+`â•â•â•â• My Spools List â•â•â•â•,0
`+c+`
`+`â•â•â•â• Spools Catalog â•â•â•â•,0
`+i;n(bS(d))})()},[e]),t}function bS(e){var n,r;const t=[];for(const o of e.split(`
`)){const i=o.split(",");for(let l=0;l<i.length-1;l++){const a=(n=i[l])==null?void 0:n.trim(),s=(r=i[l+1])==null?void 0:r.trim(),c=parseInt(s,10);a&&!isNaN(c)&&(t.push({name:a,grams:c}),l++)}}return t}const _S=`GFA00,Bambu PLA Basic,190,240,PLA
GFA01,Bambu PLA Matte,190,240,PLA
GFA02,Bambu PLA Metal,190,240,PLA
GFA05,Bambu PLA Silk,190,240,PLA
GFA06,Bambu PLA Silk+,190,240,PLA
GFA07,Bambu PLA Marble,190,240,PLA
GFA08,Bambu PLA Sparkle,190,240,PLA
GFA09,Bambu PLA Tough,190,240,PLA
GFA10,Bambu PLA Tough+,220,250,PLA
GFA11,Bambu PLA Aero,210,260,PLA-AERO
GFA12,Bambu PLA Glow,190,240,PLA
GFA13,Bambu PLA Dynamic,190,240,PLA
GFA15,Bambu PLA Galaxy,190,240,PLA
GFA16,Bambu PLA Wood,190,240,PLA
GFA17,Bambu PLA Translucent,190,240,PLA
GFA18,Bambu PLA Lite,190,240,PLA
GFA50,Bambu PLA-CF,210,250,PLA-CF
GFB00,Bambu ABS,240,280,ABS
GFB01,Bambu ASA,240,280,ASA
GFB02,Bambu ASA-Aero,240,280,ASA-AERO
GFB50,Bambu ABS-GF,240,280,ABS-GF
GFB51,Bambu ASA-CF,250,280,ASA-CF
GFB60,PolyLite ABS,240,280,ABS
GFB61,PolyLite ASA,240,280,ASA
GFB98,Generic ASA,240,280,ASA
GFB99,Generic ABS,240,280,ABS
GFC00,Bambu PC,260,290,PC
GFC01,Bambu PC FR,260,290,PC
GFC99,Generic PC,260,290,PC
GFG00,Bambu PETG Basic,230,270,PETG
GFG01,Bambu PETG Translucent,230,270,PETG
GFG02,Bambu PETG HF,230,270,PETG
GFG50,Bambu PETG-CF,240,270,PETG-CF
GFG60,PolyLite PETG,220,260,PETG
GFG96,Generic PETG HF,220,270,PETG
GFG97,Generic PCTG,240,270,PCTG
GFG98,Generic PETG-CF,240,270,PETG-CF
GFG99,Generic PETG,220,270,PETG
GFL00,PolyLite PLA,190,240,PLA
GFL01,PolyTerra PLA,190,240,PLA
GFL03,eSUN PLA+,190,240,PLA
GFL04,Overture PLA,190,240,PLA
GFL05,Overture Matte PLA,190,240,PLA
GFL06,Fiberon PETG-ESD,250,290,PETG
GFL50,Fiberon PA6-CF,280,300,PA6-CF
GFL51,Fiberon PA6-GF,280,300,PA-GF
GFL52,Fiberon PA12-CF,260,300,PA-CF
GFL53,Fiberon PA612-CF,260,300,PA
GFL54,Fiberon PET-CF,270,300,PET-CF
GFL55,Fiberon PETG-rCF,240,270,PETG-CF
GFL95,Generic PLA High Speed,190,240,PLA
GFL96,Generic PLA Silk,190,240,PLA
GFL98,Generic PLA-CF,190,240,PLA-CF
GFL99,Generic PLA,190,240,PLA
GFN03,Bambu PA-CF,260,300,PA-CF
GFN04,Bambu PAHT-CF,260,300,PA-CF
GFN05,Bambu PA6-CF,260,300,PA6-CF
GFN06,Bambu PPA-CF,280,320,PPA-CF
GFN08,Bambu PA6-GF,260,300,PA-GF
GFN96,Generic PPA-GF,280,320,PPA-GF
GFN97,Generic PPA-CF,280,320,PPA-CF
GFN98,Generic PA-CF,260,300,PA-CF
GFN99,Generic PA,240,280,PA
GFP95,Generic PP-GF,220,250,PP-GF
GFP96,Generic PP-CF,220,250,PP-CF
GFP97,Generic PP,220,250,PP
GFP98,Generic PE-CF,175,220,PE-CF
GFP99,Generic PE,175,220,PE
GFR98,Generic PHA,190,240,PHA
GFR99,Generic EVA,175,220,EVA
GFS00,Bambu Support W,190,240,PLA-S
GFS01,Bambu Support G,260,300,PA-S
GFS02,Bambu Support For PLA,190,240,PLA-S
GFS03,Bambu Support For PA/PET,260,300,PA-S
GFS04,Bambu PVA,210,250,PVA
GFS05,Bambu Support For PLA/PETG,190,240,PLA-S
GFS06,Bambu Support for ABS,240,270,ABS-S
GFS97,Generic BVOH,190,240,BVOH
GFS98,Generic HIPS,220,270,HIPS
GFS99,Generic PVA,190,240,PVA
GFSNL02,SUNLU PLA Matte,205,245,PLA
GFSNL03,SUNLU PLA+,190,240,PLA
GFSNL04,SUNLU PLA+ 2.0,190,240,PLA
GFSNL05,SUNLU Silk PLA+,190,240,PLA
GFSNL06,SUNLU PLA Marble,190,260,PLA
GFSNL07,SUNLU Wood PLA,195,260,PLA
GFSNL08,SUNLU PETG,230,280,PETG
GFT01,Bambu PET-CF,260,290,PET-CF
GFT02,Bambu PPS-CF,310,340,PPS-CF
GFT97,Generic PPS,300,340,PPS
GFT98,Generic PPS-CF,310,340,PPS-CF
GFU00,Bambu TPU 95A HF,200,250,TPU
GFU01,Bambu TPU 95A,200,250,TPU
GFU02,Bambu TPU for AMS,220,240,TPU-AMS
GFU03,Bambu TPU 90A,200,240,TPU
GFU04,Bambu TPU 85A,200,240,TPU
GFU98,Generic TPU for AMS,200,250,TPU-AMS
GFU99,Generic TPU,200,250,TPU
`;function yS(){const{securityOk:e}=oe(rn),[t,n]=A([]);return z(()=>{(async()=>{const r=ze("/api/filaments-config"),l=(await(await encryptedFetch(r)).json()).custom_filaments,a=(f,p)=>f!=null&&f.trim()?f.trim().split(`
`).map(g=>{const[d,h,,,m]=g.trim().split(","),v=d.trim(),b=h.trim(),_=m.trim();return{code:v,name:`${b} ${p}`,material:_}}):[],s=[...a(l," (Custom)"),...a(_S,"")].sort((f,p)=>f.name.localeCompare(p.name)),c=[{name:"Unspecified / Clear Selection",code:"",material:""},...s];n(c)})()},[e]),t}function wS(e,t="table-column-config",n){const[r,o]=A(!1),[i,l]=A(null),[a,s]=A(null),[c,f]=A(null),p=G(()=>e.map((w,C)=>({id:w.accessorKey||w.id,header:typeof w.header=="string"?w.header:w.id,visible:!0,order:C,required:w.accessorKey==="id"||w.id==="actions",originalColumn:w})),[e]);z(()=>{try{const w=localStorage.getItem(t);if(w){const C=JSON.parse(w),O=p.map(L=>{const M=C.find(P=>P.id===L.id);return M?{...L,visible:M.visible,order:M.order}:L});O.sort((L,M)=>L.order-M.order),l(O)}else l(p.map(C=>n.find(L=>L===C.id)?{...C,visible:!1}:C))}catch{l(p)}},[p,t]);function g(w){return w.reduce((C,O)=>(C[O.id]=O.visible,C),{})}function d(w){return w.slice().sort((C,O)=>C.order-O.order).map(C=>C.id)}const h=G(()=>i?g(i):{},[i,e]),m=G(()=>i?d(i):[],[i,e]),v=()=>{f(i?[...i]:[...p]),s(i?[...i]:[...p]),o(!0)};return z(()=>{a&&r&&l([...a])},[a,r]),{columnVisibility:h,columnOrder:m,isConfigOpen:r,openConfig:v,saveAndApplyConfig:()=>{if(a)try{const w=a.map(({id:C,visible:O,order:L,required:M})=>({id:C,visible:O,order:L,required:M}));localStorage.setItem(t,JSON.stringify(w)),l([...a]),o(!1)}catch{}},applyTempConfig:()=>{a&&(l([...a]),o(!1))},resetToDefault:()=>{localStorage.removeItem(t);const w=p.map(C=>n.find(L=>L===C.id)?{...C,visible:!1}:C);s(w),l(w),f(w)},discardAndClose:()=>{c&&l([...c]),o(!1),s(null),f(null)},workingConfig:a,setWorkingConfig:s}}function SS({items:e,onReorder:t,renderItem:n}){const[r,o]=A(null),[i,l]=A(null),a=D(null),s=D(null),c=D(null),f=(p,g)=>{g.preventDefault(),o(p),s.current=p;const d=m=>{if(a.current){const v=Array.from(a.current.children);let b=p;for(let _=0;_<v.length;_++){const y=v[_].getBoundingClientRect(),S=y.top+y.height/2;if(m.clientY<S){b=_;break}b=_+1}b=Math.max(0,Math.min(b,v.length)),l(b),c.current=b}},h=()=>{if(s.current!==null&&c.current!==null&&s.current!==c.current){const m=c.current>s.current?c.current-1:c.current;t(s.current,m)}o(null),l(null),s.current=null,c.current=null,document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",h)};document.addEventListener("mousemove",d),document.addEventListener("mouseup",h)};return u("div",{ref:a,className:"space-y-2",children:[e.map((p,g)=>u("div",{className:`
            relative transition-all duration-200 ease-in-out
            ${r===g?"opacity-60 scale-[0.98] shadow-lg z-10 bg-primary/5 border-primary/20":"hover:shadow-md"}
            ${i===g?"mt-8":""}
            ${i===g+1?"mb-8":""}
          `,style:{transform:r===g?"rotate(2deg)":"none"},children:[i===g&&u("div",{className:"absolute -top-4 left-0 right-0 h-2 bg-primary/20 rounded-full animate-pulse"}),n(p,g,f)]},p.id)),i===e.length&&u("div",{className:"h-2 bg-primary/20 rounded-full animate-pulse"})]})}function xS({isOpen:e,workingConfig:t,setWorkingConfig:n,onSaveAndApply:r,onApplyTemp:o,onReset:i,onClose:l}){if(!t)return null;const a=f=>{n(p=>p?p.map(g=>g.id===f&&!g.required?{...g,visible:!g.visible}:g):[])};return u(Mr,{open:e,onClose:l,className:"relative z-50",children:[u(Or,{className:"fixed inset-0 bg-black/10"}),u("div",{className:"columns-dialog-container",children:u(kr,{className:"dialog-panel w-full max-w-md shadow-2xl",children:[u(Ir,{className:"dialog-title",children:[u("div",{className:"flex items-center gap-2",children:[u(fp,{className:"w-5 h-5 text-primary"}),"Column Configuration"]}),u("button",{onClick:l,className:"p-1.5 hover:bg-base-200 rounded-md transition-colors",type:"button",children:u(At,{className:"w-4 h-4"})})]}),u("div",{className:"space-y-4",children:[u("p",{className:"text-sm text-base-content/70 bg-info/10 p-3 rounded-lg border border-info/20",children:"ðŸ’¡ Toggle column visibility and drag to reorder"}),u("div",{className:"max-h-96 overflow-y-auto",children:u(SS,{items:t,onReorder:(f,p)=>{f!==p&&n(g=>{if(!g)return[];const d=[...g],[h]=d.splice(f,1);return d.splice(p,0,h),d.map((v,b)=>({...v,order:b}))})},renderItem:(f,p,g)=>u("div",{className:`
      flex items-center gap-3 p-4 pt-1 pb-1 bg-base-100 rounded-lg border border-gray-300 dark:border-gray-600 
      transition-all duration-200 select-none
      ${t&&t[p]&&p===t.findIndex(d=>d.id===f.id)?"hover:bg-base-200 hover:shadow-md cursor-default":"hover:bg-base-200"}
    `,children:[u("div",{onMouseDown:d=>g(p,d),className:"cursor-grab active:cursor-grabbing p-2 hover:bg-base-300 rounded-md transition-colors",style:{touchAction:"none"},children:u(Om,{className:"w-4 h-4 text-base-content/60 hover:text-base-content"})}),u("button",{onClick:()=>a(f.id),disabled:f.required,className:`
          p-2 rounded-md transition-all duration-200
          ${f.required?"opacity-50 cursor-not-allowed":"hover:bg-base-300 cursor-pointer hover:scale-105"}
        `,type:"button",children:f.visible?u(km,{className:"w-5 h-5 text-success hover:text-success/80"}):u(Tm,{className:"w-5 h-5 text-base-content/40 hover:text-base-content/60"})}),u("span",{className:`
        flex-1 text-sm font-medium transition-all duration-200
        ${f.visible?"text-base-content":"text-base-content/50"}
        ${f.required?"italic":""}
      `,children:[f.header,f.required&&u("span",{className:"text-xs ml-2 bg-base-300 px-2 py-0.5 rounded-full",children:"required"})]})]})})}),u("div",{className:"dialog-actions-multi-rows",children:[u("div",{className:"dialog-actions-row",children:u(Ee,{onClick:i,className:"btn btn-outline flex-1",children:[u(Hm,{className:"w-4 h-4"}),"Reset to Default (Irreversible)"]})}),u("div",{className:"dialog-actions-row",children:[u(Ee,{onClick:l,className:"btn btn-outline",children:"Close"}),u(Ee,{onClick:o,className:"btn btn-outline",children:"Apply for Now"}),u(Ee,{onClick:r,className:"btn btn-primary",children:"Apply & Keep"})]})]})]})]})})]})}function CS({onClick:e}){return u(Ee,{onClick:e,className:"flex items-center gap-2 px-4 py-2 bg-base-200 text-base-content rounded-lg border border-gray-300 dark:border-gray-600 font-medium transition-all duration-200 hover:bg-base-300 hover:border-gray-400 dark:hover:border-gray-500 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-1",children:"Columns"})}function FS(){const{securityOk:e}=oe(rn),[t,n]=A([]),[r,o]=A([]);return z(()=>{(async()=>{if(!e)return;const i=ze("/filament-brands"),a=await(await fetch(i)).text(),s=ES(a);n(s);const c=PS(a);o(c)})()},[e]),{filamentBrands:t,unsortedFilamentBrands:r}}function ES(e){const t=[];for(const n of e.split(/\r?\n/).filter(r=>r.trim()!==""&&!r.startsWith("#")).sort()){const r=n.split(","),o=r[0],i=r.length>1?r[1]:o;t.push({displayName:o,fillName:i})}return t}function PS(e){const t=[];for(const n of e.split(/\r?\n/).filter(r=>r.trim()!==""&&!r.startsWith("#"))){const r=n.split(","),o=r[0],i=r.length>1?r[1]:o;t.push({displayName:o,fillName:i})}return t}function $S(e){const{securityOk:t}=oe(rn),[n,r]=A([]),[o,i]=A(new Map),l=async()=>{let f,p=ze("/api/spools");if(f=await(await encryptedFetch(p)).text(),f!="")return f},a=async()=>{let f,p=ze("/api/spools-in-printers");if(f=await(await encryptedFetch(p)).text(),f!="")return f},s=(f,p)=>{let g=null,d=null;if(p){const v=JSON.parse(p);d=new Map(Object.entries(v.spools)),g=d}else g=o;const m=f.trim().split(`
`).map(v=>iS(v,g,e));return r(m),d&&i(d),m},c=async()=>{let f;try{f=await l()}catch(g){return console.error("Failed to fetch spools data:",g),null}let p=null;try{p=await a()}catch(g){console.error("Failed to fetch spools in printers:",g)}return s(f,p)};return z(()=>{c()},[e,t]),[n,c,s]}const RS=async(e,t,n)=>{const r=ze(e);try{return await(await encryptedFetch(r,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json()}catch(o){throw console.log(`Error calling ${r} : ${o}`),o}},Ne=av(),Ye=(e,t,n)=>{if(!n)return!0;const r=String(e.getValue(t)||"").toLowerCase();return n.toLowerCase().split(",").map(i=>i.trim()).filter(i=>i).some(i=>r.includes(i))},nr=(e,t,n)=>{if(!n||!n.min&&!n.max)return!0;const r=e.getValue(t);if(r==null)return!1;const o=Number(r);return!(isNaN(o)||n.min!==void 0&&o<n.min||n.max!==void 0&&o>n.max)};function NS({}){const e=["consumed_since_add","consumed_since_weight","weight_new","data_origin","tag_type","full_unused","encoded_datetime"],t=["id","color_code","material_type","color_name","weight_left","actions"],{storageConfig:n}=iu(),r=vS(),o=yS(),{filamentBrands:i,unsortedFilamentBrands:l}=FS(),[a,s,c]=$S(o),{securityOk:f}=oe(rn),[p,g]=A("full"),[d,h]=A({open:!1,spool:null}),[m,v]=A({open:!1,mode:"add",spool:null,complete:null}),[b,_]=A([{desc:!0,id:"id"}]),[y,S]=A([]),[w,C]=A({pageIndex:0,pageSize:15}),[O,L]=A(new Set),M=async()=>{const x=await Xn(),F=new Blob([x],{type:"text/plain;charset=utf-8;"}),J=URL.createObjectURL(F),ie=document.createElement("a");ie.href=J;const Se=new Date().toISOString().slice(0,19).replace(/[-:]/g,"").replace("T","-");ie.download=`SpoolEase-SpoolsBackup-${Se}.txt`,ie.click(),URL.revokeObjectURL(J)},P=()=>{const x=["id","material_type","material_subtype","color_name","color_code","brand","weight_advertised","weight_core","weight_new","weight_current","weight_left","weight_used","note","tag_id","added_datetime"],F=a.map(Me=>x.map(Re=>i0(Me[Re])).join(",")),J=[x.join(","),...F].join(`
`),ie=new Blob([J],{type:"text/csv;charset=utf-8;"}),Se=URL.createObjectURL(ie),ke=document.createElement("a");ke.href=Se,ke.download="spools.csv",ke.click(),URL.revokeObjectURL(Se)},$=async(x,F)=>{console.log("handlePickSpool");let J={location:F,location_type:Rh.Actual,spool_id:x};const ie=await RS("/api/spool-location","POST",J);let Se;return ie.error?(console.log(`Error setting spool location : ${ie.error}`),Se=!1):Se=!0,await s(),Se},I=fS();z(()=>{I&&p==="full"&&g("compact"),!I&&p==="compact"&&g("full")},[I]);const B=G(()=>[Ne.accessor("id",{header:"ID",cell:x=>u("div",{className:"flex flex-row items-center space-x-1",children:[u("span",{children:x.getValue()}),!x.row.getValue("tag_id")&&u("div",{className:"relative w-4 h-4 flex items-center ml-auto",children:[u(dp,{className:"w-4 h-4"}),u(pp,{className:"absolute inset-0 w-4 h-4 text-current left-[1px]"})]})]}),filterFn:Ye,sortingFn:(x,F)=>{const J=parseInt(x.getValue("id"),10),ie=parseInt(F.getValue("id"),10);return J-ie}}),Ne.accessor("added_datetime",{header:"Added",cell:x=>u("div",{className:"tooltip","data-tip":lo(x.getValue()),children:Ra(x.getValue())})}),Ne.accessor("encoded_datetime",{header:"Encoded",cell:x=>u("div",{className:"tooltip","data-tip":lo(x.getValue()),children:Ra(x.getValue())})}),Ne.accessor("color_code",{header:"RGBA",cell:x=>{const F=x.getValue();return u("span",{style:{backgroundColor:`#${F.slice(0,6)}`,padding:"0px 4px",borderRadius:"4px",display:"inline-block"},children:F})},sortingFn:(x,F,J)=>Q1(x.getValue(J),F.getValue(J)),meta:{getCellProps:x=>{const F=x.getValue();return{style:{background:`
    linear-gradient(to right, rgba(${parseInt(F.slice(0,2),16)}, ${parseInt(F.slice(2,4),16)}, ${parseInt(F.slice(4,6),16)}, ${parseInt(F.slice(6,8),16)/255}) 0%, rgba(${parseInt(F.slice(0,2),16)}, ${parseInt(F.slice(2,4),16)}, ${parseInt(F.slice(4,6),16)}, ${parseInt(F.slice(6,8),16)/255}) 100%),
    repeating-conic-gradient(#ccc 0% 25%, #fff 0% 50%) 50% / 10px 10px
  `,backgroundSize:"100% 100%, 20px 20px",backgroundPosition:"0 0, 0 0",color:Oh(F.slice(0,6)),fontFamily:"monospace"}}}}}),Ne.accessor("material_type",{header:"Material",cell:x=>x.getValue(),filterFn:Ye}),Ne.accessor("material_subtype",{header:"Subtype",cell:x=>x.getValue(),filterFn:Ye,sortingFn:Pn("material_subtype")}),Ne.accessor("color_name",{header:"Color",cell:x=>x.getValue(),filterFn:Ye,sortingFn:Pn("color_name")}),Ne.accessor("brand",{header:"Brand",cell:x=>x.getValue(),filterFn:Ye,sortingFn:Pn("brand")}),Ne.accessor("slicer_filament_name",{header:"Slicer Filament",cell:x=>x.getValue(),filterFn:Ye,sortingFn:Pn("slicer_filament_name")}),Ne.accessor(x=>x.printer_location??wr(n,x.actual_location),{id:"actual_location",header:"Actual Location",cell:x=>{var F,J,ie;return u("div",{class:"flex items-center gap-2",children:[((F=x.getValue())==null?void 0:F.charAt(0))=="#"&&u(ro,{class:"w-4 h-4 text-gray-400"}),((J=x.getValue())==null?void 0:J.charAt(0))=="@"&&u(wa,{class:"w-4 h-4 text-gray-400"}),((ie=x.getValue())==null?void 0:ie.charAt(0))=="!"&&u(Rm,{class:"w-4 h-4 text-blue-500"}),u("span",{children:x.getValue().slice(1)})]})},filterFn:Ye,sortingFn:l0}),Ne.accessor("assigned_location",{header:"Assigned Location",cell:x=>{var F,J;return u("div",{class:"flex items-center gap-2",children:[((F=x.getValue())==null?void 0:F.charAt(0))=="#"&&u(ro,{class:"w-4 h-4 text-gray-400"}),((J=x.getValue())==null?void 0:J.charAt(0))=="@"&&u(wa,{class:"w-4 h-4 text-gray-400"}),u("span",{children:wr(n,x.getValue()).slice(1)})]})},filterFn:Ye,sortingFn:Pn("assigned_location")}),Ne.accessor("weight_left",{header:"Net",cell:x=>{const F=x.getValue(),J=x.row.getValue("consumed_since_weight");if(F)return`${kn(F-J,1)}g`;const ie=x.row.getValue("tag_id"),Se=x.row.getValue("full_unused"),ke=x.row.getValue("weight_advertised"),Me=!ie&&ie[0]!=""&&Se=="y"&&ke;return F?`${F}g`:Me?`(${$a(ke)})`:""},filterFn:nr,sortingFn:(x,F)=>{const J=x.getValue("weight_left")-x.getValue("consumed_since_weight"),ie=F.getValue("weight_left")-F.getValue("consumed_since_weight");if(J&ie)return J>ie?1:-1;const Se=x.getValue("tag_id"),ke=F.getValue("tag_id"),Me=x.getValue("weight_advertised"),Re=F.getValue("weight_advertised"),ot=x.getValue("full_unused")=="y",Bt=F.getValue("full_unused")=="y",Fn=!Se&&Se[0]!=""&&ot&&Me,an=!ke&&ke[0]!=""&&Bt&&Re;return(J||(Fn?Me:J))>(ie||(an?Re:ie))?1:-1}}),Ne.accessor("weight_advertised",{header:"Label",cell:x=>{const F=x.getValue();return $a(F,"")},filterFn:nr}),Ne.accessor("full_unused",{header:"When Added",cell:x=>{switch(x.getValue()){case"y":return"Full Unused";case"n":return"Used"}}}),Ne.accessor("weight_current",{header:"Gross",cell:x=>{const F=x.getValue();return F!==null?`${F}g`:""},filterFn:nr}),Ne.accessor("weight_new",{header:"Full",cell:x=>{const F=x.getValue();return F!==null?`${F}g`:""},filterFn:nr}),Ne.accessor("weight_used",{header:"Used",cell:x=>{const F=x.getValue(),J=x.row.getValue("consumed_since_weight");return F!==null&&F!==0?`${kn(F+J,1)}g`:""},filterFn:nr}),Ne.accessor("consumed_since_add",{header:"Printed Total",cell:x=>parseFloat(x.getValue().toFixed(2)).toString(),filterFn:Ye}),Ne.accessor("consumed_since_weight",{header:"Printed Since Weight",cell:x=>parseFloat(x.getValue().toFixed(2)).toString(),filterFn:Ye}),Ne.accessor("note",{header:"Note",cell:x=>u("div",{className:"tooltip w-full","data-tip":x.getValue(),children:u("div",{className:"truncate",children:x.getValue()})}),filterFn:Ye,meta:{grow:!0},sortingFn:Pn("note")}),Ne.accessor("k_setting",{header:"PA(K)",cell:x=>u("div",{className:"text-center",children:[" ",x.getValue()===!0?"âœ“":""]}),filterFn:Ye}),Ne.accessor("tag_id",{header:"Tag ID",cell:x=>{const F=x.getValue();return F.startsWith("-")?u("span",{className:"line-through",children:F.slice(1)}):F},sortingFn:(x,F)=>{const J=ot=>ot.startsWith("-")?ot.slice(1):ot,ie=x.getValue("tag_id"),Se=F.getValue("tag_id"),ke=J(ie),Me=J(Se),Re=Hp(ke,Me);return Re!==0?Re:ie.startsWith("-")?1:-1}}),Ne.accessor("data_origin",{header:"Data Origin",cell:x=>x.getValue(),filterFn:Ye}),Ne.accessor("tag_type",{header:"Linked Tag Type",cell:x=>x.getValue(),filterFn:Ye}),{id:"actions",cell:({row:x})=>u("div",{className:"flex gap-3",children:[u(Ee,{className:"cursor-pointer",onClick:()=>h({open:!0,spool:x.original}),children:u(gp,{className:"w-[1em] h-[1em] relative top-[1px]"})}),u(Ee,{className:"cursor-pointer",onClick:()=>_e(x.original),children:u(Um,{className:"w-[1em] h-[1em] relative top-[1px]"})})]}),meta:{stickyClass:"sticky-right"}}],[n]),{columnVisibility:k,columnOrder:N,isConfigOpen:T,openConfig:Y,saveAndApplyConfig:K,applyTempConfig:ne,resetToDefault:U,discardAndClose:le,workingConfig:ue,setWorkingConfig:X}=wS(B,"spools-column-config",e),H=()=>{v({open:!0,mode:"add",spool:null,complete:null})},we=()=>{v({open:!0,mode:"add",spool:{...m.spool,id:"",tagId:""},complete:null})},_e=x=>{const F={id:x.id,tagId:x.tag_id,rgba:x.color_code,colorName:x.color_name,material:x.material_type,subtype:x.material_subtype,brand:x.brand,label:es(x.weight_advertised),labelGrams:x.weight_advertised,coreGrams:x.weight_core,note:x.note,slicerFilamentCode:x.slicer_filament,fullUnused:x.full_unused,assignedLocation:x.assigned_location,actualLocation:x.actual_location};v({open:!0,mode:"edit",spool:F,complete:null})},W=()=>{v({open:!1,mode:"add",spool:null,complete:null})},q=(x,F)=>{v(J=>({...J,spool:x?{...x,id:F}:null}))},ce=()=>{v(x=>({...x,complete:"successDone"}))},ve=async x=>{try{const F=ze("api/spools/delete"),ie=await(await encryptedFetch(F,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:x})})).text();c(ie,null)}catch(F){console.log("Error in deleteSpool: ",F)}},on=async(x,F)=>{try{const J=ze("api/spools/add-edit"),Se=await(await encryptedFetch(J,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tag_id:x.tagId.startsWith("-")?"":x.tagId,id:x.id,rgba:x.rgba,color_name:x.colorName,material:x.material,subtype:x.subtype,brand:x.brand,label_weight:Number(x.labelGrams?x.labelGrams:0),core_weight:Number(x.coreGrams?x.coreGrams:0),note:x.note,slicer_filament:x.slicerFilamentCode,full_unused:x.fullUnused,k_info:F,assigned_location:x.assignedLocation,actual_location:x.actualLocation})})).json();q(x,Se.id),c(Se.csv,null)}catch(J){console.log("Error in addEditSpool: ",J)}},Xn=async()=>{let x,F=ze("/api/store-backup");if(x=await(await encryptedFetch(F)).text(),x!="")return x},Ie=o0({data:a,columns:B,state:{sorting:b,columnFilters:y,pagination:w,columnVisibility:k,columnOrder:N},onSortingChange:_,onColumnFiltersChange:S,onPaginationChange:C,getCoreRowModel:Wv(),getPaginationRowModel:Zv(),getSortedRowModel:e0(),getFilteredRowModel:Qv(),enableMultiSort:!0}),ln=x=>{const F=new Set(O);F.has(x)?F.delete(x):F.add(x),L(F)},be=x=>{C(F=>({...F,pageIndex:0,pageSize:x===-1?a.length:x}))};return u("div",{className:"spools-container",children:[m.open&&u(sS,{isMobile:I,info:m,materials:Y1,cores:r,slicerFilaments:o,filamentBrands:i,unsortedFilamentBrands:l,onSave:async(x,F)=>{await on(x,F),ce()},onCancel:()=>{W()},onAddNew:H,onAddSimilar:we}),u(dS,{isMobile:I,info:d,onOk:async()=>{await ve(d.spool.id),h({open:!1,spool:null})},onCancel:()=>{h({open:!1,spool:null})}}),u("div",{className:"spools-controls",children:u(a0,{isMobile:I,columnFilters:y,onSetColumnFilters:S})}),u("div",{className:"spools-controls-row",children:[u("div",{className:"view-mode-toggle",children:[u("button",{className:`view-btn ${p==="compact"||p==="full"?"active":""}`,onClick:()=>g(I?"compact":"full"),children:"Table"}),u("button",{className:`view-btn ${p==="cards"?"active":""}`,onClick:()=>g("cards"),children:"Cards"}),u("button",{className:"refresh-data-btn",onClick:()=>s(),children:"Refresh"}),!I&&p!="cards"&&u(CS,{onClick:Y}),u("div",{class:"w-px h-11 sm:bg-gray-500"}),!I&&u("button",{className:"download-data-btn",onClick:()=>P(),children:"CSV"}),!I&&u("button",{className:"download-data-btn",onClick:()=>M(),children:"Backup"})]}),u("div",{className:"spools-controls-hint-paging",children:[u("div",{className:"flex items-center",children:u("span",{className:"multi-sort-hint",children:p!="cards"?I?"Press column headers to sort":"Hold Shift + Click column headers for multi-sort":null})}),f&&u("button",{className:"add-spool-btn",onClick:()=>{H()},children:"Add Spool"})]})]}),p==="cards"?u("div",{className:"cards-grid",children:Ie.getRowModel().rows.map(x=>u(ts,{spool:x.original,storageConfig:n,onSetSpoolLocation:$},x.id))}):u("div",{className:"table-container",children:u("table",{className:"spools-table",children:[u("thead",{children:Ie.getHeaderGroups().map(x=>u("tr",{children:x.headers.map(F=>{var J,ie;return p==="compact"&&!t.includes(F.id)?null:u("th",{className:`${F.column.getCanSort()?"sortable":""} ${(J=F.column.columnDef.meta)!=null&&J.grow?"min-w-0":""} ${(ie=F.column.columnDef.meta)==null?void 0:ie.stickyClass}`.trim(),onClick:F.column.getToggleSortingHandler(),children:u("div",{className:"header-content",children:[F.isPlaceholder?null:Uu(F.column.columnDef.header,F.getContext()),F.column.getIsSorted()&&u("span",{className:"sort-indicator",children:F.column.getIsSorted()==="desc"?" â†“":" â†‘"})]})},F.id)})},x.id))}),u("tbody",{className:"relative",children:[Ie.getRowModel().rows.map(x=>u(ee,{children:[u("tr",{className:`data-row ${p==="compact"?"clickable-row":""}`,onClick:()=>p==="compact"&&ln(x.id),children:x.getVisibleCells().map(F=>{var J,ie,Se,ke;return p==="compact"&&!t.includes(F.column.id)?null:u("td",{class:`${(J=F.column.columnDef.meta)!=null&&J.grow?"w-full max-w-0":"whitespace-nowrap"} ${(ie=F.column.columnDef.meta)==null?void 0:ie.stickyClass}`,...((ke=(Se=F.column.columnDef.meta)==null?void 0:Se.getCellProps)==null?void 0:ke.call(Se,F))??{},children:Uu(F.column.columnDef.cell,F.getContext())},F.id)})},x.id),p==="compact"&&O.has(x.id)&&u("tr",{className:"expanded-row",children:u("td",{colSpan:t.length,style:{backgroundColor:`#${x.original.color_code.substring(0,6)}`},children:u(ts,{spool:x.original,compact:!0,storageConfig:n,onSetSpoolLocation:$})})})]})),T&&u(xS,{isOpen:T,workingConfig:ue,setWorkingConfig:X,onSaveAndApply:K,onApplyTemp:ne,onReset:U,onClose:le})]})]})}),u("div",{className:"pagination",children:[u("div",{className:"pagination-info",children:["Showing ",w.pageIndex*w.pageSize+1," to"," ",Math.min((w.pageIndex+1)*w.pageSize,Ie.getFilteredRowModel().rows.length)," ","of ",Ie.getFilteredRowModel().rows.length," entries",Ie.getFilteredRowModel().rows.length!==a.length&&u("span",{children:[" (filtered from ",a.length," total)"]})]}),u("div",{className:"page-size-control",children:[u("label",{children:"Show:"}),u("select",{value:w.pageSize===a.length?-1:w.pageSize,onChange:x=>be(Number(x.target.value)),className:"page-size-select",children:[u("option",{value:10,children:"10"}),u("option",{value:15,children:"15"}),u("option",{value:25,children:"25"}),u("option",{value:50,children:"50"}),u("option",{value:100,children:"100"}),u("option",{value:200,children:"200"}),u("option",{value:-1,children:"All"})]})]}),u("div",{className:"pagination-controls",children:[u("button",{onClick:()=>Ie.setPageIndex(0),disabled:!Ie.getCanPreviousPage(),className:"pagination-btn",children:"Â«Â«"}),u("button",{onClick:()=>Ie.previousPage(),disabled:!Ie.getCanPreviousPage(),className:"pagination-btn",children:"â€¹"}),u("span",{className:"page-info",children:["Page ",w.pageIndex+1," of ",Ie.getPageCount()]}),u("button",{onClick:()=>Ie.nextPage(),disabled:!Ie.getCanNextPage(),className:"pagination-btn",children:"â€º"}),u("button",{onClick:()=>Ie.setPageIndex(Ie.getPageCount()-1),disabled:!Ie.getCanNextPage(),className:"pagination-btn",children:"Â»Â»"})]})]})]})}const AS=e=>{const[t]=_m();return console.log(t.url),u("div",{className:"navbar bg-primary text-primary-content min-h-10",children:[u("div",{className:"flex-1",children:u("a",{href:"/inventory",className:"btn btn-ghost text-xl"+(t.url==="/inventory"?" underline underline-offset-6 decoration-2":""),children:"SpoolEase Inventory"})}),u("div",{className:"flex-none",children:u("a",{href:"/inventory/config",className:"btn btn-square btn-ghost mr-5",children:u("span",{className:"inline-block"+(t.url==="/inventory/config"?" border-b-2 pb-0.5 relative top-[1px]":""),children:u(fp,{})})})})]})};var bi,jc;function TS(){if(jc)return bi;jc=1;function e(){this.__data__=[],this.size=0}return bi=e,bi}var _i,Hc;function Mh(){if(Hc)return _i;Hc=1;function e(t,n){return t===n||t!==t&&n!==n}return _i=e,_i}var yi,qc;function Vo(){if(qc)return yi;qc=1;var e=Mh();function t(n,r){for(var o=n.length;o--;)if(e(n[o][0],r))return o;return-1}return yi=t,yi}var wi,zc;function kS(){if(zc)return wi;zc=1;var e=Vo(),t=Array.prototype,n=t.splice;function r(o){var i=this.__data__,l=e(i,o);if(l<0)return!1;var a=i.length-1;return l==a?i.pop():n.call(i,l,1),--this.size,!0}return wi=r,wi}var Si,Uc;function OS(){if(Uc)return Si;Uc=1;var e=Vo();function t(n){var r=this.__data__,o=e(r,n);return o<0?void 0:r[o][1]}return Si=t,Si}var xi,Wc;function IS(){if(Wc)return xi;Wc=1;var e=Vo();function t(n){return e(this.__data__,n)>-1}return xi=t,xi}var Ci,Kc;function MS(){if(Kc)return Ci;Kc=1;var e=Vo();function t(n,r){var o=this.__data__,i=e(o,n);return i<0?(++this.size,o.push([n,r])):o[i][1]=r,this}return Ci=t,Ci}var Fi,Yc;function Bo(){if(Yc)return Fi;Yc=1;var e=TS(),t=kS(),n=OS(),r=IS(),o=MS();function i(l){var a=-1,s=l==null?0:l.length;for(this.clear();++a<s;){var c=l[a];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,Fi=i,Fi}var Ei,Xc;function LS(){if(Xc)return Ei;Xc=1;var e=Bo();function t(){this.__data__=new e,this.size=0}return Ei=t,Ei}var Pi,Jc;function DS(){if(Jc)return Pi;Jc=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return Pi=e,Pi}var $i,Qc;function GS(){if(Qc)return $i;Qc=1;function e(t){return this.__data__.get(t)}return $i=e,$i}var Ri,Zc;function VS(){if(Zc)return Ri;Zc=1;function e(t){return this.__data__.has(t)}return Ri=e,Ri}var Ni,ed;function Lh(){if(ed)return Ni;ed=1;var e=typeof Kr=="object"&&Kr&&Kr.Object===Object&&Kr;return Ni=e,Ni}var Ai,td;function Rt(){if(td)return Ai;td=1;var e=Lh(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Ai=n,Ai}var Ti,nd;function lu(){if(nd)return Ti;nd=1;var e=Rt(),t=e.Symbol;return Ti=t,Ti}var ki,rd;function BS(){if(rd)return ki;rd=1;var e=lu(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,o=e?e.toStringTag:void 0;function i(l){var a=n.call(l,o),s=l[o];try{l[o]=void 0;var c=!0}catch{}var f=r.call(l);return c&&(a?l[o]=s:delete l[o]),f}return ki=i,ki}var Oi,od;function jS(){if(od)return Oi;od=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Oi=n,Oi}var Ii,id;function jo(){if(id)return Ii;id=1;var e=lu(),t=BS(),n=jS(),r="[object Null]",o="[object Undefined]",i=e?e.toStringTag:void 0;function l(a){return a==null?a===void 0?o:r:i&&i in Object(a)?t(a):n(a)}return Ii=l,Ii}var Mi,ld;function Dr(){if(ld)return Mi;ld=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Mi=e,Mi}var Li,ad;function Dh(){if(ad)return Li;ad=1;var e=jo(),t=Dr(),n="[object AsyncFunction]",r="[object Function]",o="[object GeneratorFunction]",i="[object Proxy]";function l(a){if(!t(a))return!1;var s=e(a);return s==r||s==o||s==n||s==i}return Li=l,Li}var Di,sd;function HS(){if(sd)return Di;sd=1;var e=Rt(),t=e["__core-js_shared__"];return Di=t,Di}var Gi,ud;function qS(){if(ud)return Gi;ud=1;var e=HS(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return Gi=n,Gi}var Vi,cd;function Gh(){if(cd)return Vi;cd=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Vi=n,Vi}var Bi,dd;function zS(){if(dd)return Bi;dd=1;var e=Dh(),t=qS(),n=Dr(),r=Gh(),o=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,l=Function.prototype,a=Object.prototype,s=l.toString,c=a.hasOwnProperty,f=RegExp("^"+s.call(c).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!n(g)||t(g))return!1;var d=e(g)?f:i;return d.test(r(g))}return Bi=p,Bi}var ji,fd;function US(){if(fd)return ji;fd=1;function e(t,n){return t==null?void 0:t[n]}return ji=e,ji}var Hi,pd;function Cn(){if(pd)return Hi;pd=1;var e=zS(),t=US();function n(r,o){var i=t(r,o);return e(i)?i:void 0}return Hi=n,Hi}var qi,gd;function au(){if(gd)return qi;gd=1;var e=Cn(),t=Rt(),n=e(t,"Map");return qi=n,qi}var zi,hd;function Ho(){if(hd)return zi;hd=1;var e=Cn(),t=e(Object,"create");return zi=t,zi}var Ui,md;function WS(){if(md)return Ui;md=1;var e=Ho();function t(){this.__data__=e?e(null):{},this.size=0}return Ui=t,Ui}var Wi,vd;function KS(){if(vd)return Wi;vd=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Wi=e,Wi}var Ki,bd;function YS(){if(bd)return Ki;bd=1;var e=Ho(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function o(i){var l=this.__data__;if(e){var a=l[i];return a===t?void 0:a}return r.call(l,i)?l[i]:void 0}return Ki=o,Ki}var Yi,_d;function XS(){if(_d)return Yi;_d=1;var e=Ho(),t=Object.prototype,n=t.hasOwnProperty;function r(o){var i=this.__data__;return e?i[o]!==void 0:n.call(i,o)}return Yi=r,Yi}var Xi,yd;function JS(){if(yd)return Xi;yd=1;var e=Ho(),t="__lodash_hash_undefined__";function n(r,o){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=e&&o===void 0?t:o,this}return Xi=n,Xi}var Ji,wd;function QS(){if(wd)return Ji;wd=1;var e=WS(),t=KS(),n=YS(),r=XS(),o=JS();function i(l){var a=-1,s=l==null?0:l.length;for(this.clear();++a<s;){var c=l[a];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,Ji=i,Ji}var Qi,Sd;function ZS(){if(Sd)return Qi;Sd=1;var e=QS(),t=Bo(),n=au();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Qi=r,Qi}var Zi,xd;function ex(){if(xd)return Zi;xd=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Zi=e,Zi}var el,Cd;function qo(){if(Cd)return el;Cd=1;var e=ex();function t(n,r){var o=n.__data__;return e(r)?o[typeof r=="string"?"string":"hash"]:o.map}return el=t,el}var tl,Fd;function tx(){if(Fd)return tl;Fd=1;var e=qo();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return tl=t,tl}var nl,Ed;function nx(){if(Ed)return nl;Ed=1;var e=qo();function t(n){return e(this,n).get(n)}return nl=t,nl}var rl,Pd;function rx(){if(Pd)return rl;Pd=1;var e=qo();function t(n){return e(this,n).has(n)}return rl=t,rl}var ol,$d;function ox(){if($d)return ol;$d=1;var e=qo();function t(n,r){var o=e(this,n),i=o.size;return o.set(n,r),this.size+=o.size==i?0:1,this}return ol=t,ol}var il,Rd;function ix(){if(Rd)return il;Rd=1;var e=ZS(),t=tx(),n=nx(),r=rx(),o=ox();function i(l){var a=-1,s=l==null?0:l.length;for(this.clear();++a<s;){var c=l[a];this.set(c[0],c[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,il=i,il}var ll,Nd;function lx(){if(Nd)return ll;Nd=1;var e=Bo(),t=au(),n=ix(),r=200;function o(i,l){var a=this.__data__;if(a instanceof e){var s=a.__data__;if(!t||s.length<r-1)return s.push([i,l]),this.size=++a.size,this;a=this.__data__=new n(s)}return a.set(i,l),this.size=a.size,this}return ll=o,ll}var al,Ad;function ax(){if(Ad)return al;Ad=1;var e=Bo(),t=LS(),n=DS(),r=GS(),o=VS(),i=lx();function l(a){var s=this.__data__=new e(a);this.size=s.size}return l.prototype.clear=t,l.prototype.delete=n,l.prototype.get=r,l.prototype.has=o,l.prototype.set=i,al=l,al}var sl,Td;function sx(){if(Td)return sl;Td=1;function e(t,n){for(var r=-1,o=t==null?0:t.length;++r<o&&n(t[r],r,t)!==!1;);return t}return sl=e,sl}var ul,kd;function ux(){if(kd)return ul;kd=1;var e=Cn(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return ul=t,ul}var cl,Od;function Vh(){if(Od)return cl;Od=1;var e=ux();function t(n,r,o){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:o,writable:!0}):n[r]=o}return cl=t,cl}var dl,Id;function Bh(){if(Id)return dl;Id=1;var e=Vh(),t=Mh(),n=Object.prototype,r=n.hasOwnProperty;function o(i,l,a){var s=i[l];(!(r.call(i,l)&&t(s,a))||a===void 0&&!(l in i))&&e(i,l,a)}return dl=o,dl}var fl,Md;function zo(){if(Md)return fl;Md=1;var e=Bh(),t=Vh();function n(r,o,i,l){var a=!i;i||(i={});for(var s=-1,c=o.length;++s<c;){var f=o[s],p=l?l(i[f],r[f],f,i,r):void 0;p===void 0&&(p=r[f]),a?t(i,f,p):e(i,f,p)}return i}return fl=n,fl}var pl,Ld;function cx(){if(Ld)return pl;Ld=1;function e(t,n){for(var r=-1,o=Array(t);++r<t;)o[r]=n(r);return o}return pl=e,pl}var gl,Dd;function Gr(){if(Dd)return gl;Dd=1;function e(t){return t!=null&&typeof t=="object"}return gl=e,gl}var hl,Gd;function dx(){if(Gd)return hl;Gd=1;var e=jo(),t=Gr(),n="[object Arguments]";function r(o){return t(o)&&e(o)==n}return hl=r,hl}var ml,Vd;function fx(){if(Vd)return ml;Vd=1;var e=dx(),t=Gr(),n=Object.prototype,r=n.hasOwnProperty,o=n.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(l){return t(l)&&r.call(l,"callee")&&!o.call(l,"callee")};return ml=i,ml}var vl,Bd;function su(){if(Bd)return vl;Bd=1;var e=Array.isArray;return vl=e,vl}var lr={exports:{}},bl,jd;function px(){if(jd)return bl;jd=1;function e(){return!1}return bl=e,bl}lr.exports;var Hd;function jh(){return Hd||(Hd=1,function(e,t){var n=Rt(),r=px(),o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,l=i&&i.exports===o,a=l?n.Buffer:void 0,s=a?a.isBuffer:void 0,c=s||r;e.exports=c}(lr,lr.exports)),lr.exports}var _l,qd;function gx(){if(qd)return _l;qd=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,o){var i=typeof r;return o=o??e,!!o&&(i=="number"||i!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<o}return _l=n,_l}var yl,zd;function Hh(){if(zd)return yl;zd=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return yl=t,yl}var wl,Ud;function hx(){if(Ud)return wl;Ud=1;var e=jo(),t=Hh(),n=Gr(),r="[object Arguments]",o="[object Array]",i="[object Boolean]",l="[object Date]",a="[object Error]",s="[object Function]",c="[object Map]",f="[object Number]",p="[object Object]",g="[object RegExp]",d="[object Set]",h="[object String]",m="[object WeakMap]",v="[object ArrayBuffer]",b="[object DataView]",_="[object Float32Array]",y="[object Float64Array]",S="[object Int8Array]",w="[object Int16Array]",C="[object Int32Array]",O="[object Uint8Array]",L="[object Uint8ClampedArray]",M="[object Uint16Array]",P="[object Uint32Array]",$={};$[_]=$[y]=$[S]=$[w]=$[C]=$[O]=$[L]=$[M]=$[P]=!0,$[r]=$[o]=$[v]=$[i]=$[b]=$[l]=$[a]=$[s]=$[c]=$[f]=$[p]=$[g]=$[d]=$[h]=$[m]=!1;function I(B){return n(B)&&t(B.length)&&!!$[e(B)]}return wl=I,wl}var Sl,Wd;function uu(){if(Wd)return Sl;Wd=1;function e(t){return function(n){return t(n)}}return Sl=e,Sl}var ar={exports:{}};ar.exports;var Kd;function cu(){return Kd||(Kd=1,function(e,t){var n=Lh(),r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,l=i&&n.process,a=function(){try{var s=o&&o.require&&o.require("util").types;return s||l&&l.binding&&l.binding("util")}catch{}}();e.exports=a}(ar,ar.exports)),ar.exports}var xl,Yd;function mx(){if(Yd)return xl;Yd=1;var e=hx(),t=uu(),n=cu(),r=n&&n.isTypedArray,o=r?t(r):e;return xl=o,xl}var Cl,Xd;function qh(){if(Xd)return Cl;Xd=1;var e=cx(),t=fx(),n=su(),r=jh(),o=gx(),i=mx(),l=Object.prototype,a=l.hasOwnProperty;function s(c,f){var p=n(c),g=!p&&t(c),d=!p&&!g&&r(c),h=!p&&!g&&!d&&i(c),m=p||g||d||h,v=m?e(c.length,String):[],b=v.length;for(var _ in c)(f||a.call(c,_))&&!(m&&(_=="length"||d&&(_=="offset"||_=="parent")||h&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||o(_,b)))&&v.push(_);return v}return Cl=s,Cl}var Fl,Jd;function du(){if(Jd)return Fl;Jd=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,o=typeof r=="function"&&r.prototype||e;return n===o}return Fl=t,Fl}var El,Qd;function zh(){if(Qd)return El;Qd=1;function e(t,n){return function(r){return t(n(r))}}return El=e,El}var Pl,Zd;function vx(){if(Zd)return Pl;Zd=1;var e=zh(),t=e(Object.keys,Object);return Pl=t,Pl}var $l,ef;function bx(){if(ef)return $l;ef=1;var e=du(),t=vx(),n=Object.prototype,r=n.hasOwnProperty;function o(i){if(!e(i))return t(i);var l=[];for(var a in Object(i))r.call(i,a)&&a!="constructor"&&l.push(a);return l}return $l=o,$l}var Rl,tf;function Uh(){if(tf)return Rl;tf=1;var e=Dh(),t=Hh();function n(r){return r!=null&&t(r.length)&&!e(r)}return Rl=n,Rl}var Nl,nf;function fu(){if(nf)return Nl;nf=1;var e=qh(),t=bx(),n=Uh();function r(o){return n(o)?e(o):t(o)}return Nl=r,Nl}var Al,rf;function _x(){if(rf)return Al;rf=1;var e=zo(),t=fu();function n(r,o){return r&&e(o,t(o),r)}return Al=n,Al}var Tl,of;function yx(){if(of)return Tl;of=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return Tl=e,Tl}var kl,lf;function wx(){if(lf)return kl;lf=1;var e=Dr(),t=du(),n=yx(),r=Object.prototype,o=r.hasOwnProperty;function i(l){if(!e(l))return n(l);var a=t(l),s=[];for(var c in l)c=="constructor"&&(a||!o.call(l,c))||s.push(c);return s}return kl=i,kl}var Ol,af;function pu(){if(af)return Ol;af=1;var e=qh(),t=wx(),n=Uh();function r(o){return n(o)?e(o,!0):t(o)}return Ol=r,Ol}var Il,sf;function Sx(){if(sf)return Il;sf=1;var e=zo(),t=pu();function n(r,o){return r&&e(o,t(o),r)}return Il=n,Il}var sr={exports:{}};sr.exports;var uf;function xx(){return uf||(uf=1,function(e,t){var n=Rt(),r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,l=i?n.Buffer:void 0,a=l?l.allocUnsafe:void 0;function s(c,f){if(f)return c.slice();var p=c.length,g=a?a(p):new c.constructor(p);return c.copy(g),g}e.exports=s}(sr,sr.exports)),sr.exports}var Ml,cf;function Cx(){if(cf)return Ml;cf=1;function e(t,n){var r=-1,o=t.length;for(n||(n=Array(o));++r<o;)n[r]=t[r];return n}return Ml=e,Ml}var Ll,df;function Fx(){if(df)return Ll;df=1;function e(t,n){for(var r=-1,o=t==null?0:t.length,i=0,l=[];++r<o;){var a=t[r];n(a,r,t)&&(l[i++]=a)}return l}return Ll=e,Ll}var Dl,ff;function Wh(){if(ff)return Dl;ff=1;function e(){return[]}return Dl=e,Dl}var Gl,pf;function gu(){if(pf)return Gl;pf=1;var e=Fx(),t=Wh(),n=Object.prototype,r=n.propertyIsEnumerable,o=Object.getOwnPropertySymbols,i=o?function(l){return l==null?[]:(l=Object(l),e(o(l),function(a){return r.call(l,a)}))}:t;return Gl=i,Gl}var Vl,gf;function Ex(){if(gf)return Vl;gf=1;var e=zo(),t=gu();function n(r,o){return e(r,t(r),o)}return Vl=n,Vl}var Bl,hf;function Kh(){if(hf)return Bl;hf=1;function e(t,n){for(var r=-1,o=n.length,i=t.length;++r<o;)t[i+r]=n[r];return t}return Bl=e,Bl}var jl,mf;function Yh(){if(mf)return jl;mf=1;var e=zh(),t=e(Object.getPrototypeOf,Object);return jl=t,jl}var Hl,vf;function Xh(){if(vf)return Hl;vf=1;var e=Kh(),t=Yh(),n=gu(),r=Wh(),o=Object.getOwnPropertySymbols,i=o?function(l){for(var a=[];l;)e(a,n(l)),l=t(l);return a}:r;return Hl=i,Hl}var ql,bf;function Px(){if(bf)return ql;bf=1;var e=zo(),t=Xh();function n(r,o){return e(r,t(r),o)}return ql=n,ql}var zl,_f;function Jh(){if(_f)return zl;_f=1;var e=Kh(),t=su();function n(r,o,i){var l=o(r);return t(r)?l:e(l,i(r))}return zl=n,zl}var Ul,yf;function $x(){if(yf)return Ul;yf=1;var e=Jh(),t=gu(),n=fu();function r(o){return e(o,n,t)}return Ul=r,Ul}var Wl,wf;function Rx(){if(wf)return Wl;wf=1;var e=Jh(),t=Xh(),n=pu();function r(o){return e(o,n,t)}return Wl=r,Wl}var Kl,Sf;function Nx(){if(Sf)return Kl;Sf=1;var e=Cn(),t=Rt(),n=e(t,"DataView");return Kl=n,Kl}var Yl,xf;function Ax(){if(xf)return Yl;xf=1;var e=Cn(),t=Rt(),n=e(t,"Promise");return Yl=n,Yl}var Xl,Cf;function Tx(){if(Cf)return Xl;Cf=1;var e=Cn(),t=Rt(),n=e(t,"Set");return Xl=n,Xl}var Jl,Ff;function kx(){if(Ff)return Jl;Ff=1;var e=Cn(),t=Rt(),n=e(t,"WeakMap");return Jl=n,Jl}var Ql,Ef;function hu(){if(Ef)return Ql;Ef=1;var e=Nx(),t=au(),n=Ax(),r=Tx(),o=kx(),i=jo(),l=Gh(),a="[object Map]",s="[object Object]",c="[object Promise]",f="[object Set]",p="[object WeakMap]",g="[object DataView]",d=l(e),h=l(t),m=l(n),v=l(r),b=l(o),_=i;return(e&&_(new e(new ArrayBuffer(1)))!=g||t&&_(new t)!=a||n&&_(n.resolve())!=c||r&&_(new r)!=f||o&&_(new o)!=p)&&(_=function(y){var S=i(y),w=S==s?y.constructor:void 0,C=w?l(w):"";if(C)switch(C){case d:return g;case h:return a;case m:return c;case v:return f;case b:return p}return S}),Ql=_,Ql}var Zl,Pf;function Ox(){if(Pf)return Zl;Pf=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var o=r.length,i=new r.constructor(o);return o&&typeof r[0]=="string"&&t.call(r,"index")&&(i.index=r.index,i.input=r.input),i}return Zl=n,Zl}var ea,$f;function Ix(){if($f)return ea;$f=1;var e=Rt(),t=e.Uint8Array;return ea=t,ea}var ta,Rf;function mu(){if(Rf)return ta;Rf=1;var e=Ix();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return ta=t,ta}var na,Nf;function Mx(){if(Nf)return na;Nf=1;var e=mu();function t(n,r){var o=r?e(n.buffer):n.buffer;return new n.constructor(o,n.byteOffset,n.byteLength)}return na=t,na}var ra,Af;function Lx(){if(Af)return ra;Af=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return ra=t,ra}var oa,Tf;function Dx(){if(Tf)return oa;Tf=1;var e=lu(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(o){return n?Object(n.call(o)):{}}return oa=r,oa}var ia,kf;function Gx(){if(kf)return ia;kf=1;var e=mu();function t(n,r){var o=r?e(n.buffer):n.buffer;return new n.constructor(o,n.byteOffset,n.length)}return ia=t,ia}var la,Of;function Vx(){if(Of)return la;Of=1;var e=mu(),t=Mx(),n=Lx(),r=Dx(),o=Gx(),i="[object Boolean]",l="[object Date]",a="[object Map]",s="[object Number]",c="[object RegExp]",f="[object Set]",p="[object String]",g="[object Symbol]",d="[object ArrayBuffer]",h="[object DataView]",m="[object Float32Array]",v="[object Float64Array]",b="[object Int8Array]",_="[object Int16Array]",y="[object Int32Array]",S="[object Uint8Array]",w="[object Uint8ClampedArray]",C="[object Uint16Array]",O="[object Uint32Array]";function L(M,P,$){var I=M.constructor;switch(P){case d:return e(M);case i:case l:return new I(+M);case h:return t(M,$);case m:case v:case b:case _:case y:case S:case w:case C:case O:return o(M,$);case a:return new I;case s:case p:return new I(M);case c:return n(M);case f:return new I;case g:return r(M)}}return la=L,la}var aa,If;function Bx(){if(If)return aa;If=1;var e=Dr(),t=Object.create,n=function(){function r(){}return function(o){if(!e(o))return{};if(t)return t(o);r.prototype=o;var i=new r;return r.prototype=void 0,i}}();return aa=n,aa}var sa,Mf;function jx(){if(Mf)return sa;Mf=1;var e=Bx(),t=Yh(),n=du();function r(o){return typeof o.constructor=="function"&&!n(o)?e(t(o)):{}}return sa=r,sa}var ua,Lf;function Hx(){if(Lf)return ua;Lf=1;var e=hu(),t=Gr(),n="[object Map]";function r(o){return t(o)&&e(o)==n}return ua=r,ua}var ca,Df;function qx(){if(Df)return ca;Df=1;var e=Hx(),t=uu(),n=cu(),r=n&&n.isMap,o=r?t(r):e;return ca=o,ca}var da,Gf;function zx(){if(Gf)return da;Gf=1;var e=hu(),t=Gr(),n="[object Set]";function r(o){return t(o)&&e(o)==n}return da=r,da}var fa,Vf;function Ux(){if(Vf)return fa;Vf=1;var e=zx(),t=uu(),n=cu(),r=n&&n.isSet,o=r?t(r):e;return fa=o,fa}var pa,Bf;function Wx(){if(Bf)return pa;Bf=1;var e=ax(),t=sx(),n=Bh(),r=_x(),o=Sx(),i=xx(),l=Cx(),a=Ex(),s=Px(),c=$x(),f=Rx(),p=hu(),g=Ox(),d=Vx(),h=jx(),m=su(),v=jh(),b=qx(),_=Dr(),y=Ux(),S=fu(),w=pu(),C=1,O=2,L=4,M="[object Arguments]",P="[object Array]",$="[object Boolean]",I="[object Date]",B="[object Error]",k="[object Function]",N="[object GeneratorFunction]",T="[object Map]",Y="[object Number]",K="[object Object]",ne="[object RegExp]",U="[object Set]",le="[object String]",ue="[object Symbol]",X="[object WeakMap]",H="[object ArrayBuffer]",we="[object DataView]",_e="[object Float32Array]",W="[object Float64Array]",q="[object Int8Array]",ce="[object Int16Array]",ve="[object Int32Array]",on="[object Uint8Array]",Xn="[object Uint8ClampedArray]",Ie="[object Uint16Array]",ln="[object Uint32Array]",be={};be[M]=be[P]=be[H]=be[we]=be[$]=be[I]=be[_e]=be[W]=be[q]=be[ce]=be[ve]=be[T]=be[Y]=be[K]=be[ne]=be[U]=be[le]=be[ue]=be[on]=be[Xn]=be[Ie]=be[ln]=!0,be[B]=be[k]=be[X]=!1;function x(F,J,ie,Se,ke,Me){var Re,ot=J&C,Bt=J&O,Fn=J&L;if(ie&&(Re=ke?ie(F,Se,ke,Me):ie(F)),Re!==void 0)return Re;if(!_(F))return F;var an=m(F);if(an){if(Re=g(F),!ot)return l(F,Re)}else{var vt=p(F),Jn=vt==k||vt==N;if(v(F))return i(F,ot);if(vt==K||vt==M||Jn&&!ke){if(Re=Bt||Jn?{}:h(F),!ot)return Bt?s(F,o(Re,F)):a(F,r(Re,F))}else{if(!be[vt])return ke?F:{};Re=d(F,vt,ot)}}Me||(Me=new e);var Vr=Me.get(F);if(Vr)return Vr;Me.set(F,Re),y(F)?F.forEach(function(ft){Re.add(x(ft,J,ie,ft,F,Me))}):b(F)&&F.forEach(function(ft,bt){Re.set(bt,x(ft,J,ie,bt,F,Me))});var Uo=Fn?Bt?f:c:Bt?w:S,Br=an?void 0:Uo(F);return t(Br||F,function(ft,bt){Br&&(bt=ft,ft=F[bt]),n(Re,bt,x(ft,J,ie,bt,F,Me))}),Re}return pa=x,pa}var ga,jf;function Kx(){if(jf)return ga;jf=1;var e=Wx(),t=1,n=4;function r(o){return e(o,t|n)}return ga=r,ga}var Yx=Kx();const Xx=Pb(Yx);function Jx({}){const[e,t]=A({rack_config:{}}),[n,r]=A({rack_config:{}}),[o,i]=A(null),[l,a]=A(null),[s,c]=A(1),[f,p]=A({}),[g,d]=A(!1),[h,m]=A(!1),[v,b]=A(null),{storageConfig:_,reloadStorageConfig:y,saveStorageConfig:S}=iu();z(()=>{if(_==null)return;const T=Xx(_);r(T),t(_),c(1+Math.max(0,...Object.keys(_.rack_config).map(Number)))},[_]);const w=async()=>{await y()},C=async()=>{try{await S(e)}catch(T){b({type:"error",text:`Error saving configuration: ${T instanceof Error?T.message:String(T)}`})}},O=()=>JSON.stringify(e)!==JSON.stringify(n),L=()=>{i(s),a({name:"",bay_numbering_order:Nh.LeftToRight,shelf_numbering_order:Ah.TopDown,position_numbering_order:Th.LeftToRight,container_numbering_order:kh.BottomUp,num_bays:0,num_shelves:0,num_positions:0,num_containers:0}),p({})},M=T=>{i(T),a({...e.rack_config[T]}),p({})},P=()=>{i(null),a(null),p({})},$=T=>Object.values(e.rack_config).some(Y=>Y.name===T),I=()=>{const T={};return l.name.trim()?o===s&&$(l.name)&&(T.name="Rack name already exists"):T.name="Rack name is required",l?(l.num_bays<0&&(T.num_bays="Must be 0 or greater"),l.num_shelves<0&&(T.num_shelves="Must be 0 or greater"),l.num_positions<0&&(T.num_positions_per_shelf="Must be 0 or greater"),l.num_containers<0&&(T.num_containers_per_position="Must be 0 or greater"),p(T),Object.keys(T).length===0):!1},B=()=>{if(!I()||!l)return;const T={...e};o===s?(T.rack_config[o]=l,c(s+1)):o&&(delete T.rack_config[o],T.rack_config[o]=l),t(T),P()},k=T=>{const Y=e.rack_config[T].name;if(!confirm(`Are you sure you want to delete rack "${Y}"?`))return;const K={...e};delete K.rack_config[T],t(K)},N=(T,Y)=>{l&&a({...l,[T]:Y})};return u("div",{className:"spools-container",children:u("div",{className:"spools-controls",children:[!o&&u(ee,{children:[u("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4",children:[u("h2",{className:"text-2xl font-bold",children:"Storage Configuration"}),u("div",{className:"flex gap-2",children:[u("button",{onClick:w,disabled:g,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-base-200 disabled:opacity-50",children:[u(jm,{size:18,className:g?"animate-spin":""}),"Reload/Undo Changes"]}),u("button",{onClick:C,disabled:h||!O(),className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-content rounded-lg font-medium hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed",children:[u(qm,{size:18}),h?"Saving...":"Save Changes"]}),u("button",{onClick:L,className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-content rounded-lg font-medium hover:bg-primary/90",children:[u(Bm,{size:20}),"Add Rack"]})]})]}),v&&u("div",{className:`mb-4 p-3 rounded-lg ${v.type==="success"?"bg-success/10 text-success border border-success/20":"bg-error/10 text-error border border-error/20"}`,children:v.text}),O()&&!v&&u("div",{className:"mb-4 p-3 rounded-lg bg-warning/10 text-warning border border-warning/20",children:"You have unsaved changes"}),u("div",{className:"space-y-4",children:[Object.entries(e.rack_config).map(([T,Y])=>u("div",{className:"bg-base-100 rounded-lg border border-gray-300 dark:border-gray-600 overflow-hidden",children:u("div",{className:"p-4 flex justify-between items-center border-b border-gray-300 dark:border-gray-600",children:[u("div",{children:[u("h3",{className:"font-semibold text-lg",children:`${e.rack_config[T].name} (ID: ${T})`}),u("p",{className:"text-sm text-base-content/70",children:[Y.num_bays?`${Y.num_bays} bays`:"No bays"," |",Y.num_shelves?` ${Y.num_shelves} shelves${!!Y.num_shelves&&"/bay"}`:" No shelves"," ","|",Y.num_positions?` ${Y.num_positions} positions${!!Y.num_shelves&&"/shelf"||!!Y.num_bays&&"/bay"}`:" No positions"," ","|",Y.num_containers?` ${Y.num_containers} containers${!!Y.num_positions&&"/position"||!!Y.num_shelves&&"/shelf"||!!Y.num_bays&&"/bay"} `:" No containers "]})]}),u("div",{className:"flex gap-2",children:[u("button",{onClick:()=>M(Number(T)),className:"p-2 hover:bg-base-200 rounded-lg transition-colors",title:"Edit rack",children:u(Vm,{size:18})}),u("button",{onClick:()=>k(Number(T)),className:"p-2 hover:bg-error/10 text-error rounded-lg transition-colors",title:"Delete rack",children:u(gp,{size:18})})]})]})},T)),Object.keys(e).length===0&&u("div",{className:"text-center py-12 text-base-content/60",children:[u("p",{className:"text-lg font-medium mb-2",children:"No racks configured"}),u("p",{className:"text-sm",children:'Click "Add Rack" to create your first storage rack'})]})]})]}),o&&l&&u("div",{className:"space-y-4 p-2 pb-4",children:[u("div",{className:"flex items-center justify-between mb-4",children:u("h2",{className:"text-xl font-bold",children:o===s?`Add New Rack ID: ${o}`:`Edit Rack ID: ${o}`})}),u("div",{className:"form-field",children:[u("label",{className:"form-label",children:"Rack Name"}),u("input",{type:"text",className:`form-input ${f.name?"form-input-error":""}`,value:l.name,onInput:T=>a({...l,name:T.target.value}),placeholder:"e.g., Main Storage A"}),f.name&&u("p",{className:"form-error",children:f.name})]}),u("div",{className:"grid grid-cols-2 gap-4",children:[u("div",{className:"form-field",children:[u("label",{className:"form-label",children:"Number of Bays"}),u("input",{type:"number",className:`form-input ${f.num_bays?"form-input-error":""}`,value:l.num_bays||"",placeholder:"None",onInput:T=>N("num_bays",parseInt(T.target.value)||0),min:"0"}),f.num_shelves&&u("p",{className:"form-error",children:f.num_shelves})]}),u("div",{className:`form-field ${l.num_bays===0&&"invisible"}`,children:[u("label",{className:"form-label",children:"Bays Numbering Order"}),u("select",{className:"form-input",value:l.bay_numbering_order,onChange:T=>N("bay_numbering_order",T.target.value),children:[u("option",{value:"LeftToRight",children:"Left to Right"}),u("option",{value:"RightToLeft",children:"Right to Left"})]})]}),u("div",{className:"form-field",children:[u("label",{className:"form-label",children:l.num_bays?"Shelves per Bay":"Number of Shelves"}),u("input",{type:"number",className:`form-input ${f.num_shelves?"form-input-error":""}`,value:l.num_shelves||"",placeholder:"None",onInput:T=>N("num_shelves",parseInt(T.target.value)||0),min:"0"}),f.num_shelves&&u("p",{className:"form-error",children:f.num_shelves})]}),u("div",{className:`form-field ${l.num_shelves===0&&"invisible"}`,children:[u("label",{className:"form-label",children:"Shelves Numbering Order"}),u("select",{className:"form-input",value:l.shelf_numbering_order,onChange:T=>N("shelf_numbering_order",T.target.value),children:[u("option",{value:"TopDown",children:"Top Down"}),u("option",{value:"BottomUp",children:"Bottom Up"})]})]}),u("div",{className:"form-field",children:[u("label",{className:"form-label",children:l.num_shelves?"Positions per Shelf":l.num_bays?"Positions per Bay":"Number of Positions"}),u("input",{type:"number",className:`form-input ${f.num_positions_per_shelf?"form-input-error":""}`,value:l.num_positions||"",placeholder:"None",onInput:T=>N("num_positions",parseInt(T.target.value)||0),min:"0"}),f.num_positions_per_shelf&&u("p",{className:"form-error",children:f.num_positions_per_shelf})]}),u("div",{className:`form-field ${l.num_positions===0&&"invisible"}`,children:[u("label",{className:"form-label",children:"Positions Numbering Order"}),u("select",{className:"form-input",value:l.position_numbering_order,onChange:T=>N("position_numbering_order",T.target.value),children:[u("option",{value:"LeftToRight",children:"Left to Right"}),u("option",{value:"RightToLeft",children:"Right to Left"})]})]}),u("div",{className:"form-field",children:[u("label",{className:"form-label",children:l.num_positions?"Containers per Position":l.num_shelves?"Contaiers per Shelf":l.num_bays?"Containers per Bay":"Number of Containers"}),u("input",{type:"number",className:`form-input ${f.num_containers_per_position?"form-input-error":""}`,value:l.num_containers||"",placeholder:"None",onInput:T=>N("num_containers",parseInt(T.target.value)||0),min:"0"}),f.num_containers_per_position&&u("p",{className:"form-error",children:f.num_containers_per_position})]}),u("div",{className:`form-field ${l.num_containers===0&&"invisible"}`,children:[u("label",{className:"form-label",children:"Containers Numbering Order"}),u("select",{className:"form-input",value:l.container_numbering_order,onChange:T=>N("container_numbering_order",T.target.value),children:[u("option",{value:"Unordered",children:"Unordered"}),u("option",{value:"TopDown",children:"Top Down"}),u("option",{value:"BottomUp",children:"Bottom Up"}),u("option",{value:"FrontToBack",children:"Front to Back"}),u("option",{value:"BackToFront",children:"Back to Front"}),u("option",{value:"LeftToRight",children:"Left to Right"}),u("option",{value:"RightToLeft",children:"Right to Left"})]})]})]}),u("div",{className:"dialog-actions border-t border-gray-200 dark:border-gray-700 pt-4",children:[u("button",{onClick:P,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-base-200 transition-colors",children:"Cancel"}),u("button",{onClick:B,className:"px-4 py-2 bg-primary text-primary-content rounded-lg font-medium hover:bg-primary/90 transition-colors",children:o===s?"Add Rack":"Apply"})]})]})]})})}function Qx({}){return u(eu,{className:"mt-3",children:[u(tu,{children:[u(hn,{className:"tab-button",children:"Storage"}),u(hn,{className:"tab-button",children:"Mobile Tag"}),u(hn,{className:"tab-button",children:"Console"}),u(hn,{className:"tab-button",children:"Scale"})]}),u(nu,{className:"tab-panels-container",children:[u(Ut,{children:u(Jx,{})}),u(Ut,{children:u("div",{className:"spools-container",children:u("div",{className:"spools-controls",children:u("div",{className:"flex flex-col items-center justify-center min-h-[20rem] px-0 py-8",children:u("div",{className:"max-w-2xl w-full space-y-6",children:[u("div",{className:"text-center",children:[u("h3",{className:"text-2xl font-bold mb-2",children:"Mobile Tag Web Application Configuration"}),u("div",{className:"divider"})]}),u("div",{className:"card bg-base-200 shadow-sm",children:u("div",{className:"card-body",children:u("div",{className:"flex items-start gap-3",children:[u("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-info flex-shrink-0 mt-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u("div",{className:"space-y-3",children:[u("p",{className:"text-base leading-relaxed",children:"Configure your mobile device to work seamlessly with SpoolEase NFC tags. This setup is designed for smartphones and tablets that support NFC scanning used for scanning SpoolEase NFC Tags."}),u("p",{className:"text-sm text-base-content/70",children:["Need help getting started? Check out the"," ",u("a",{className:"link link-primary font-medium",href:"https://docs.spoolease.io/docs/full-guide/storage-system",target:"_blank",rel:"noopener noreferrer",children:"Storage System documentation"})," ","for detailed instructions."]})]})]})})}),u("div",{className:"flex justify-center pt-4",children:u("a",{className:"btn btn-primary btn-lg gap-2",href:"https://tag.spoolease.io/config",target:"_blank",rel:"noopener noreferrer",children:[u(zm,{}),"SpoolEase Tag App Settings"]})})]})})})})}),u(Ut,{children:u("div",{className:"spools-container",children:u("div",{className:"spools-controls",children:u("div",{className:"flex flex-col items-center justify-center min-h-[20rem] px-0 py-8",children:u("div",{className:"max-w-2xl w-full space-y-6",children:[u("div",{className:"text-center",children:[u("h3",{className:"text-2xl font-bold mb-2",children:"Console Configuration"}),u("div",{className:"divider"})]}),u("div",{className:"card bg-base-200 shadow-sm",children:u("div",{className:"card-body",children:u("div",{className:"flex items-start gap-3",children:[u("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-info flex-shrink-0 mt-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u("div",{className:"space-y-3",children:[u("p",{className:"text-base leading-relaxed",children:"Access the SpoolEase Console Web Config"}),u("ul",{className:"list-disc list-inside",children:[u("li",{children:"WiFi connedtivity settings"}),u("li",{children:"Printers"}),u("li",{children:"Scale information"}),u("li",{children:"Custom Slicer Filaments"}),u("li",{children:"Empty Spool Weights"})]}),u("p",{className:"text-sm text-base-content/70",children:["Need help with the configuration? Check out the"," ",u("a",{className:"link link-primary font-medium",href:"https://docs.spoolease.io/docs/full-guide/console-web-config",target:"_blank",rel:"noopener noreferrer",children:"Console Web Config documentation"})," ","for detailed instructions."]})]})]})})}),u("div",{className:"flex justify-center pt-4",children:u("a",{className:"btn btn-primary btn-lg gap-2",href:"/config",target:"_blank",rel:"noopener noreferrer",children:[u(Dm,{}),"SpoolEase Console Web Config"]})})]})})})})}),u(Ut,{children:u("div",{className:"spools-container",children:u("div",{className:"spools-controls",children:u("div",{className:"flex flex-col items-center justify-center min-h-[20rem] px-0 py-8",children:u("div",{className:"max-w-2xl w-full space-y-6",children:[u("div",{className:"text-center",children:[u("h3",{className:"text-2xl font-bold mb-2",children:"Scale Configuration"}),u("div",{className:"divider"})]}),u("div",{className:"card bg-base-200 shadow-sm",children:u("div",{className:"card-body",children:u("div",{className:"flex items-start gap-3",children:[u("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-info flex-shrink-0 mt-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u("div",{className:"space-y-3",children:[u("p",{className:"text-base leading-relaxed",children:"To acess the SpoolEase Scale Web Config:"}),u("span",{children:"Start by finding your Scale IP address:"}),u("ul",{className:"list-decimal list-inside pl-2",children:[u("li",{children:"In the Console go to the settings screen (swipe up to expose screen below)"}),u("li",{children:"Choose 2nd tab (on the left) to see the connected scale IP"})]}),u("p",{className:"outline outline-primary p-2 rounded-md justify-center inline-block",children:"Then Direct the browser to http://<scale-ip>/config"}),u("p",{className:"text-sm text-base-content/70",children:["Need help with the configuration? Check out the"," ",u("a",{className:"link link-primary font-medium",href:"https://docs.spoolease.io/docs/full-guide/scale-config",target:"_blank",rel:"noopener noreferrer",children:"Scale Config documentation"})," ","for detailed instructions."]})]})]})})})]})})})})})]})]})}function Zx(){return u("div",{class:"w-screen h-screen flex flex-col bg-base-200",children:[u(AS,{}),u(cp,{children:[u(NS,{path:"/inventory"}),u(Qx,{path:"/inventory/config"})]})]})}let ha=null,Qh=!1;function Zh(){return ha||(ha=tm().then(()=>{console.log("Wasm initialized"),window.securityKeyOnDerive="",window.encryptionKey=qf("","example_salt"),Qh=!0})),ha}async function eC(e,t={},n={}){const{retries:r=3,retryOnNetworkError:o=!0,retryOn400:i=!1,retryOn500:l=!0}=n;let a=null;for(let s=0;s<r;s++)try{const c=await fetch(e,t);if(a=c,!c.ok){const f=c.status;if(f>=500&&l||f>=400&&f<500&&i)continue}return c}catch(c){if(!o)throw c}return a}window.encryptedFetch=async(...e)=>{if(window.securityKey==="")throw new Error("No Security Key Set");Qh||await Zh();const[t,n={}]=e;n.body&&typeof n.body=="string"&&(n.body=nm(Hf(),n.body));const r=await eC(t,n,{retries:!n.method||n.method==="GET"?3:1,retryOnNetworkError:!0,retryOn500:!0}),o=await r.text();let i;if(o==="")i="";else{let l=Hf();i=o.split("|").filter(f=>f.length>0).map(f=>rm(l,f)).join(""),mS(!0);const a=new URL(window.location.href),s=new URLSearchParams(a.hash.slice(1));s.delete("sk");const c=s.toString();history.replaceState(null,"",c?`#${c}`:window.location.pathname+window.location.search)}return new Response(i,{status:r.status,statusText:r.statusText,headers:r.headers})};function Hf(){const e=window.securityKey;return e!=window.securityKeyOnDerive&&(console.log("generating security key"),window.encryptionKey=qf(e,"example_salt"),window.securityKeyOnDerive=e),window.encryptionKey}function tC({onSecurityKeyChanged:e}){const{securityKey:t,setSecurityKey:n}=oe(rn),r=D(null),o=D(null);return u(Mr,{open:!0,onClose:()=>{},initialFocus:o,children:[u(Or,{className:"dialog-backdrop"}),u("div",{className:"dialog-container",children:u("div",{className:"security-key-section",children:[u("h3",{children:"Security Key:"}),u(wt,{ref:o,placeholder:"Enter Security Key",className:"security-key-input",type:"text",value:t,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellcheck:!1,onChange:l=>{n(l.currentTarget.value),clearTimeout(r.current),r.current=setTimeout(()=>{e()},500)}})]})})]})}function nC({children:e}){const{securityOk:t}=oe(rn);z(()=>{(async()=>await n())()},[t]);const n=async()=>{try{const r=ze("/api/test-key");return await(await encryptedFetch(r,{method:"POST",headers:{"Content-Type":"application/text"},body:JSON.stringify({test:"Hello"})})).text(),console.log("Authentication Succeeded"),"Ok"}catch{return console.log("Authentication Failed"),"Err"}};return t?u(ee,{children:e}):u(tC,{onSecurityKeyChanged:n})}(async()=>(console.log("Initialize Wasm"),Zh(),Gn(u(gS,{children:u(nC,{children:u(oS,{children:u(Zx,{})})})}),document.getElementById("app"))))();
