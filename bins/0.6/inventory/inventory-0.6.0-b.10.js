import Qh,{encrypt as Zh,decrypt as em,derive_key as Vf}from"/pkg/device_wasm.js";var br,se,Bf,sn,vu,jf,Hf,qf,ns,hl,ml,zf,fr={},Uf=[],tm=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,_r=Array.isArray;function xt(e,t){for(var n in t)e[n]=t[n];return e}function rs(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Le(e,t,n){var r,o,i,a={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:a[i]=t[i];if(arguments.length>2&&(a.children=arguments.length>3?br.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)a[i]==null&&(a[i]=e.defaultProps[i]);return ar(e,a,r,o,null)}function ar(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++Bf,__i:-1,__u:0};return o==null&&se.vnode!=null&&se.vnode(i),i}function os(){return{current:null}}function ee(e){return e.children}function lt(e,t){this.props=e,this.context=t}function In(e,t){if(t==null)return e.__?In(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?In(e):null}function Wf(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Wf(e)}}function vl(e){(!e.__d&&(e.__d=!0)&&sn.push(e)&&!eo.__r++||vu!=se.debounceRendering)&&((vu=se.debounceRendering)||jf)(eo)}function eo(){for(var e,t,n,r,o,i,a,l=1;sn.length;)sn.length>l&&sn.sort(Hf),e=sn.shift(),l=sn.length,e.__d&&(n=void 0,o=(r=(t=e).__v).__e,i=[],a=[],t.__P&&((n=xt({},r)).__v=r.__v+1,se.vnode&&se.vnode(n),is(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[o]:null,i,o??In(r),!!(32&r.__u),a),n.__v=r.__v,n.__.__k[n.__i]=n,Xf(i,n,a),n.__e!=o&&Wf(n)));eo.__r=0}function Kf(e,t,n,r,o,i,a,l,s,u,f){var p,g,c,h,m,v,b=r&&r.__k||Uf,_=t.length;for(s=nm(n,t,b,s,_),p=0;p<_;p++)(c=n.__k[p])!=null&&(g=c.__i==-1?fr:b[c.__i]||fr,c.__i=p,v=is(e,c,g,o,i,a,l,s,u,f),h=c.__e,c.ref&&g.ref!=c.ref&&(g.ref&&as(g.ref,null,c),f.push(c.ref,c.__c||h,c)),m==null&&h!=null&&(m=h),4&c.__u||g.__k===c.__k?s=Yf(c,s,e):typeof c.type=="function"&&v!==void 0?s=v:h&&(s=h.nextSibling),c.__u&=-7);return n.__e=m,s}function nm(e,t,n,r,o){var i,a,l,s,u,f=n.length,p=f,g=0;for(e.__k=new Array(o),i=0;i<o;i++)(a=t[i])!=null&&typeof a!="boolean"&&typeof a!="function"?(s=i+g,(a=e.__k[i]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?ar(null,a,null,null,null):_r(a)?ar(ee,{children:a},null,null,null):a.constructor==null&&a.__b>0?ar(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,l=null,(u=a.__i=rm(a,n,s,p))!=-1&&(p--,(l=n[u])&&(l.__u|=2)),l==null||l.__v==null?(u==-1&&(o>f?g--:o<f&&g++),typeof a.type!="function"&&(a.__u|=4)):u!=s&&(u==s-1?g--:u==s+1?g++:(u>s?g--:g++,a.__u|=4))):e.__k[i]=null;if(p)for(i=0;i<f;i++)(l=n[i])!=null&&(2&l.__u)==0&&(l.__e==r&&(r=In(l)),Qf(l,l));return r}function Yf(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=Yf(r[o],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=In(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function st(e,t){return t=t||[],e==null||typeof e=="boolean"||(_r(e)?e.some(function(n){st(n,t)}):t.push(e)),t}function rm(e,t,n,r){var o,i,a=e.key,l=e.type,s=t[n];if(s===null&&e.key==null||s&&a==s.key&&l==s.type&&(2&s.__u)==0)return n;if(r>(s!=null&&(2&s.__u)==0?1:0))for(o=n-1,i=n+1;o>=0||i<t.length;){if(o>=0){if((s=t[o])&&(2&s.__u)==0&&a==s.key&&l==s.type)return o;o--}if(i<t.length){if((s=t[i])&&(2&s.__u)==0&&a==s.key&&l==s.type)return i;i++}}return-1}function bu(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||tm.test(t)?n:n+"px"}function Gr(e,t,n,r,o){var i,a;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||bu(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||bu(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")i=t!=(t=t.replace(qf,"$1")),a=t.toLowerCase(),t=a in e||t=="onFocusOut"||t=="onFocusIn"?a.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=ns,e.addEventListener(t,i?ml:hl,i)):e.removeEventListener(t,i?ml:hl,i);else{if(o=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function _u(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=ns++;else if(t.t<n.u)return;return n(se.event?se.event(t):t)}}}function is(e,t,n,r,o,i,a,l,s,u){var f,p,g,c,h,m,v,b,_,y,S,w,C,k,L,M,P,$=t.type;if(t.constructor!=null)return null;128&n.__u&&(s=!!(32&n.__u),i=[l=t.__e=n.__e]),(f=se.__b)&&f(t);e:if(typeof $=="function")try{if(b=t.props,_="prototype"in $&&$.prototype.render,y=(f=$.contextType)&&r[f.__c],S=f?y?y.props.value:f.__:r,n.__c?v=(p=t.__c=n.__c).__=p.__E:(_?t.__c=p=new $(b,S):(t.__c=p=new lt(b,S),p.constructor=$,p.render=im),y&&y.sub(p),p.props=b,p.state||(p.state={}),p.context=S,p.__n=r,g=p.__d=!0,p.__h=[],p._sb=[]),_&&p.__s==null&&(p.__s=p.state),_&&$.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=xt({},p.__s)),xt(p.__s,$.getDerivedStateFromProps(b,p.__s))),c=p.props,h=p.state,p.__v=t,g)_&&$.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),_&&p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(_&&$.getDerivedStateFromProps==null&&b!==c&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(b,S),!p.__e&&p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(b,p.__s,S)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(p.props=b,p.state=p.__s,p.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(I){I&&(I.__=t)}),w=0;w<p._sb.length;w++)p.__h.push(p._sb[w]);p._sb=[],p.__h.length&&a.push(p);break e}p.componentWillUpdate!=null&&p.componentWillUpdate(b,p.__s,S),_&&p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(c,h,m)})}if(p.context=S,p.props=b,p.__P=e,p.__e=!1,C=se.__r,k=0,_){for(p.state=p.__s,p.__d=!1,C&&C(t),f=p.render(p.props,p.state,p.context),L=0;L<p._sb.length;L++)p.__h.push(p._sb[L]);p._sb=[]}else do p.__d=!1,C&&C(t),f=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++k<25);p.state=p.__s,p.getChildContext!=null&&(r=xt(xt({},r),p.getChildContext())),_&&!g&&p.getSnapshotBeforeUpdate!=null&&(m=p.getSnapshotBeforeUpdate(c,h)),M=f,f!=null&&f.type===ee&&f.key==null&&(M=Jf(f.props.children)),l=Kf(e,_r(M)?M:[M],t,n,r,o,i,a,l,s,u),p.base=t.__e,t.__u&=-161,p.__h.length&&a.push(p),v&&(p.__E=p.__=null)}catch(I){if(t.__v=null,s||i!=null)if(I.then){for(t.__u|=s?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;i[i.indexOf(l)]=null,t.__e=l}else for(P=i.length;P--;)rs(i[P]);else t.__e=n.__e,t.__k=n.__k;se.__e(I,t,n)}else i==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):l=t.__e=om(n.__e,t,n,r,o,i,a,s,u);return(f=se.diffed)&&f(t),128&t.__u?void 0:l}function Xf(e,t,n){for(var r=0;r<n.length;r++)as(n[r],n[++r],n[++r]);se.__c&&se.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){se.__e(i,o.__v)}})}function Jf(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:_r(e)?e.map(Jf):xt({},e)}function om(e,t,n,r,o,i,a,l,s){var u,f,p,g,c,h,m,v=n.props,b=t.props,_=t.type;if(_=="svg"?o="http://www.w3.org/2000/svg":_=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),i!=null){for(u=0;u<i.length;u++)if((c=i[u])&&"setAttribute"in c==!!_&&(_?c.localName==_:c.nodeType==3)){e=c,i[u]=null;break}}if(e==null){if(_==null)return document.createTextNode(b);e=document.createElementNS(o,_,b.is&&b),l&&(se.__m&&se.__m(t,i),l=!1),i=null}if(_==null)v===b||l&&e.data==b||(e.data=b);else{if(i=i&&br.call(e.childNodes),v=n.props||fr,!l&&i!=null)for(v={},u=0;u<e.attributes.length;u++)v[(c=e.attributes[u]).name]=c.value;for(u in v)if(c=v[u],u!="children"){if(u=="dangerouslySetInnerHTML")p=c;else if(!(u in b)){if(u=="value"&&"defaultValue"in b||u=="checked"&&"defaultChecked"in b)continue;Gr(e,u,null,c,o)}}for(u in b)c=b[u],u=="children"?g=c:u=="dangerouslySetInnerHTML"?f=c:u=="value"?h=c:u=="checked"?m=c:l&&typeof c!="function"||v[u]===c||Gr(e,u,c,v[u],o);if(f)l||p&&(f.__html==p.__html||f.__html==e.innerHTML)||(e.innerHTML=f.__html),t.__k=[];else if(p&&(e.innerHTML=""),Kf(t.type=="template"?e.content:e,_r(g)?g:[g],t,n,r,_=="foreignObject"?"http://www.w3.org/1999/xhtml":o,i,a,i?i[0]:n.__k&&In(n,0),l,s),i!=null)for(u=i.length;u--;)rs(i[u]);l||(u="value",_=="progress"&&h==null?e.removeAttribute("value"):h!=null&&(h!==e[u]||_=="progress"&&!h||_=="option"&&h!=v[u])&&Gr(e,u,h,v[u],o),u="checked",m!=null&&m!=e[u]&&Gr(e,u,m,v[u],o))}return e}function as(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(o){se.__e(o,n)}}function Qf(e,t,n){var r,o;if(se.unmount&&se.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||as(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){se.__e(i,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&Qf(r[o],t,n||typeof e.type!="function");n||rs(e.__e),e.__c=e.__=e.__e=void 0}function im(e,t,n){return this.constructor(e,n)}function Mn(e,t,n){var r,o,i,a;t==document&&(t=document.documentElement),se.__&&se.__(e,t),o=(r=typeof n=="function")?null:n&&n.__k||t.__k,i=[],a=[],is(t,e=(!r&&n||t).__k=Le(ee,null,[e]),o||fr,fr,t.namespaceURI,!r&&n?[n]:o?null:t.firstChild?br.call(t.childNodes):null,i,!r&&n?n:o?o.__e:t.firstChild,r,a),Xf(i,e,a)}function Zf(e,t){Mn(e,t,Zf)}function ep(e,t,n){var r,o,i,a,l=xt({},e.props);for(i in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)i=="key"?r=t[i]:i=="ref"?o=t[i]:l[i]=t[i]==null&&a!=null?a[i]:t[i];return arguments.length>2&&(l.children=arguments.length>3?br.call(arguments,2):n),ar(e.type,l,r||e.key,o||e.ref,null)}function he(e){function t(n){var r,o;return this.getChildContext||(r=new Set,(o={})[t.__c]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(i){this.props.value!=i.value&&r.forEach(function(a){a.__e=!0,vl(a)})},this.sub=function(i){r.add(i);var a=i.componentWillUnmount;i.componentWillUnmount=function(){r&&r.delete(i),a&&a.call(i)}}),n.children}return t.__c="__cC"+zf++,t.__=e,t.Provider=t.__l=(t.Consumer=function(n,r){return n.children(r)}).contextType=t,t}br=Uf.slice,se={__e:function(e,t,n,r){for(var o,i,a;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),a=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),a=o.__d),a)return o.__E=o}catch(l){e=l}throw e}},Bf=0,lt.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=xt({},this.state),typeof e=="function"&&(e=e(xt({},n),this.props)),e&&xt(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),vl(this))},lt.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),vl(this))},lt.prototype.render=ee,sn=[],jf=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Hf=function(e,t){return e.__v.__b-t.__v.__b},eo.__r=0,qf=/(PointerCapture)$|Capture$/i,ns=0,hl=_u(!1),ml=_u(!0),zf=0;var am=0;function d(e,t,n,r,o,i){t||(t={});var a,l,s=t;if("ref"in s)for(l in s={},t)l=="ref"?a=t[l]:s[l]=t[l];var u={type:e,props:s,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--am,__i:-1,__u:0,__source:o,__self:i};if(typeof e=="function"&&(a=e.defaultProps))for(l in a)s[l]===void 0&&(s[l]=a[l]);return se.vnode&&se.vnode(u),u}var Mt,Ee,zo,yu,Ln=0,tp=[],Te=se,wu=Te.__b,Su=Te.__r,xu=Te.diffed,Cu=Te.__c,Fu=Te.unmount,Eu=Te.__;function bn(e,t){Te.__h&&Te.__h(Ee,e,Ln||t),Ln=0;var n=Ee.__H||(Ee.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function T(e){return Ln=1,Dt(np,e)}function Dt(e,t,n){var r=bn(Mt++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):np(void 0,t),function(l){var s=r.__N?r.__N[0]:r.__[0],u=r.t(s,l);s!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=Ee,!Ee.__f)){var o=function(l,s,u){if(!r.__c.__H)return!0;var f=r.__c.__H.__.filter(function(g){return!!g.__c});if(f.every(function(g){return!g.__N}))return!i||i.call(this,l,s,u);var p=r.__c.props!==l;return f.forEach(function(g){if(g.__N){var c=g.__[0];g.__=g.__N,g.__N=void 0,c!==g.__[0]&&(p=!0)}}),i&&i.call(this,l,s,u)||p};Ee.__f=!0;var i=Ee.shouldComponentUpdate,a=Ee.componentWillUpdate;Ee.componentWillUpdate=function(l,s,u){if(this.__e){var f=i;i=void 0,o(l,s,u),i=f}a&&a.call(this,l,s,u)},Ee.shouldComponentUpdate=o}return r.__N||r.__}function U(e,t){var n=bn(Mt++,3);!Te.__s&&us(n.__H,t)&&(n.__=e,n.u=t,Ee.__H.__h.push(n))}function mt(e,t){var n=bn(Mt++,4);!Te.__s&&us(n.__H,t)&&(n.__=e,n.u=t,Ee.__h.push(n))}function D(e){return Ln=5,G(function(){return{current:e}},[])}function ls(e,t,n){Ln=6,mt(function(){if(typeof e=="function"){var r=e(t());return function(){e(null),r&&typeof r=="function"&&r()}}if(e)return e.current=t(),function(){return e.current=null}},n==null?n:n.concat(e))}function G(e,t){var n=bn(Mt++,7);return us(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function te(e,t){return Ln=8,G(function(){return e},t)}function oe(e){var t=Ee.context[e.__c],n=bn(Mt++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(Ee)),t.props.value):e.__}function ss(e,t){Te.useDebugValue&&Te.useDebugValue(t?t(e):e)}function lm(e){var t=bn(Mt++,10),n=T();return t.__=e,Ee.componentDidCatch||(Ee.componentDidCatch=function(r,o){t.__&&t.__(r,o),n[1](r)}),[n[0],function(){n[1](void 0)}]}function Pe(){var e=bn(Mt++,11);if(!e.__){for(var t=Ee.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function sm(){for(var e;e=tp.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Yr),e.__H.__h.forEach(bl),e.__H.__h=[]}catch(t){e.__H.__h=[],Te.__e(t,e.__v)}}Te.__b=function(e){Ee=null,wu&&wu(e)},Te.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Eu&&Eu(e,t)},Te.__r=function(e){Su&&Su(e),Mt=0;var t=(Ee=e.__c).__H;t&&(zo===Ee?(t.__h=[],Ee.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(Yr),t.__h.forEach(bl),t.__h=[],Mt=0)),zo=Ee},Te.diffed=function(e){xu&&xu(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(tp.push(t)!==1&&yu===Te.requestAnimationFrame||((yu=Te.requestAnimationFrame)||um)(sm)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),zo=Ee=null},Te.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Yr),n.__h=n.__h.filter(function(r){return!r.__||bl(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],Te.__e(r,n.__v)}}),Cu&&Cu(e,t)},Te.unmount=function(e){Fu&&Fu(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Yr(r)}catch(o){t=o}}),n.__H=void 0,t&&Te.__e(t,n.__v))};var Pu=typeof requestAnimationFrame=="function";function um(e){var t,n=function(){clearTimeout(r),Pu&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,35);Pu&&(t=requestAnimationFrame(n))}function Yr(e){var t=Ee,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),Ee=t}function bl(e){var t=Ee;e.__c=e.__(),Ee=t}function us(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function np(e,t){return typeof t=="function"?t(e):t}var cm={};function Vr(e,t){for(var n in t)e[n]=t[n];return e}function dm(e,t,n){var r,o=/(?:\?([^#]*))?(#.*)?$/,i=e.match(o),a={};if(i&&i[1])for(var l=i[1].split("&"),s=0;s<l.length;s++){var u=l[s].split("=");a[decodeURIComponent(u[0])]=decodeURIComponent(u.slice(1).join("="))}e=_l(e.replace(o,"")),t=_l(t||"");for(var f=Math.max(e.length,t.length),p=0;p<f;p++)if(t[p]&&t[p].charAt(0)===":"){var g=t[p].replace(/(^:|[+*?]+$)/g,""),c=(t[p].match(/[+*?]+$/)||cm)[0]||"",h=~c.indexOf("+"),m=~c.indexOf("*"),v=e[p]||"";if(!v&&!m&&(c.indexOf("?")<0||h)){r=!1;break}if(a[g]=decodeURIComponent(v),h||m){a[g]=e.slice(p).map(decodeURIComponent).join("/");break}}else if(t[p]!==e[p]){r=!1;break}return(n.default===!0||r!==!1)&&a}function fm(e,t){return e.rank<t.rank?1:e.rank>t.rank?-1:e.index-t.index}function pm(e,t){return e.index=t,e.rank=function(n){return n.props.default?0:_l(n.props.path).map(gm).join("")}(e),e.props}function _l(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function gm(e){return e.charAt(0)==":"?1+"*+?".indexOf(e.charAt(e.length-1))||4:5}var hm={},pn=[],$u=[],Ze=null,rp={url:cs()},mm=he(rp);function cs(){var e;return""+((e=Ze&&Ze.location?Ze.location:Ze&&Ze.getCurrentLocation?Ze.getCurrentLocation():typeof location<"u"?location:hm).pathname||"")+(e.search||"")}function vm(e,t){return t===void 0&&(t=!1),typeof e!="string"&&e.url&&(t=e.replace,e=e.url),function(n){for(var r=pn.length;r--;)if(pn[r].canRoute(n))return!0;return!1}(e)&&function(n,r){r===void 0&&(r="push"),Ze&&Ze[r]?Ze[r](n):typeof history<"u"&&history[r+"State"]&&history[r+"State"](null,null,n)}(e,t?"replace":"push"),op(e)}function op(e){for(var t=!1,n=0;n<pn.length;n++)pn[n].routeTo(e)&&(t=!0);return t}function bm(e){if(e&&e.getAttribute){var t=e.getAttribute("href"),n=e.getAttribute("target");if(t&&t.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return vm(t)}}function _m(e){return e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),e.preventDefault(),!1}function ym(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||e.button)){var t=e.target;do if(t.localName==="a"&&t.getAttribute("href")){if(t.hasAttribute("data-native")||t.hasAttribute("native"))return;if(bm(t))return _m(e)}while(t=t.parentNode)}}var Ru=!1;function ip(e){e.history&&(Ze=e.history),this.state={url:e.url||cs()}}Vr(ip.prototype=new lt,{shouldComponentUpdate:function(e){return e.static!==!0||e.url!==this.props.url||e.onChange!==this.props.onChange},canRoute:function(e){var t=st(this.props.children);return this.g(t,e)!==void 0},routeTo:function(e){this.setState({url:e});var t=this.canRoute(e);return this.p||this.forceUpdate(),t},componentWillMount:function(){this.p=!0},componentDidMount:function(){var e=this;Ru||(Ru=!0,Ze||addEventListener("popstate",function(){op(cs())}),addEventListener("click",ym)),pn.push(this),Ze&&(this.u=Ze.listen(function(t){var n=t.location||t;e.routeTo(""+(n.pathname||"")+(n.search||""))})),this.p=!1},componentWillUnmount:function(){typeof this.u=="function"&&this.u(),pn.splice(pn.indexOf(this),1)},componentWillUpdate:function(){this.p=!0},componentDidUpdate:function(){this.p=!1},g:function(e,t){e=e.filter(pm).sort(fm);for(var n=0;n<e.length;n++){var r=e[n],o=dm(t,r.props.path,r.props);if(o)return[r,o]}},render:function(e,t){var n,r,o=e.onChange,i=t.url,a=this.c,l=this.g(st(e.children),i);if(l&&(r=ep(l[0],Vr(Vr({url:i,matches:n=l[1]},n),{key:void 0,ref:void 0}))),i!==(a&&a.url)){Vr(rp,a=this.c={url:i,previous:a&&a.url,current:r,path:r?r.props.path:null,matches:n}),a.router=this,a.active=r?[r]:[];for(var s=$u.length;s--;)$u[s]({});typeof o=="function"&&o(a)}return Le(mm.Provider,{value:a},r)}});/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wm=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Tu=e=>{const t=wm(e);return t.charAt(0).toUpperCase()+t.slice(1)},Sm=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,children:o,iconNode:i,class:a="",...l})=>Le("svg",{...xm,width:String(t),height:t,stroke:e,"stroke-width":r?Number(n)*24/Number(t):n,class:["lucide",a].join(" "),...l},[...i.map(([s,u])=>Le(s,u)),...st(o)]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(e,t)=>{const n=({class:r="",children:o,...i})=>Le(Cm,{...i,iconNode:t,class:Sm(`lucide-${Au(Tu(e))}`,`lucide-${Au(e)}`,r)},o);return n.displayName=Tu(e),n};/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=$e("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=$e("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=$e("case-lower",[["circle",{cx:"7",cy:"12",r:"3",key:"12clwm"}],["path",{d:"M10 9v6",key:"17i7lo"}],["circle",{cx:"17",cy:"12",r:"3",key:"gl7c2s"}],["path",{d:"M14 7v8",key:"dl84cr"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=$e("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=$e("container",[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=$e("corner-down-left",[["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}],["path",{d:"m9 10-5 5 5 5",key:"1kshq7"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=$e("delete",[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=$e("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=$e("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=$e("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=$e("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=$e("link-2-off",[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=$e("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=$e("nfc",[["path",{d:"M6 8.32a7.43 7.43 0 0 1 0 7.36",key:"9iaqei"}],["path",{d:"M9.46 6.21a11.76 11.76 0 0 1 0 11.58",key:"1yha7l"}],["path",{d:"M12.91 4.1a15.91 15.91 0 0 1 .01 15.8",key:"4iu2gk"}],["path",{d:"M16.37 2a20.16 20.16 0 0 1 0 20",key:"sap9u2"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=$e("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=$e("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=$e("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=$e("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=$e("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=$e("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=$e("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=$e("slash",[["path",{d:"M22 2 2 22",key:"y4kqgn"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=$e("square-library",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 7v10",key:"d5nglc"}],["path",{d:"M11 7v10",key:"pptsnr"}],["path",{d:"m15 7 2 10",key:"1m7qm5"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=$e("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=$e("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=$e("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function up(e,t){for(var n in t)e[n]=t[n];return e}function wl(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function po(e,t){var n=t(),r=T({t:{__:n,u:t}}),o=r[0].t,i=r[1];return mt(function(){o.__=n,o.u=t,Uo(o)&&i({t:o})},[e,n,t]),U(function(){return Uo(o)&&i({t:o}),e(function(){Uo(o)&&i({t:o})})},[e]),n}function Uo(e){var t,n,r=e.u,o=e.__;try{var i=r();return!((t=o)===(n=i)&&(t!==0||1/t==1/n)||t!=t&&n!=n)}catch{return!0}}function ds(e){e()}function fs(e){return e}function ps(){return[!1,ds]}var gs=mt;function no(e,t){this.props=e,this.context=t}function cp(e,t){function n(o){var i=this.props.ref,a=i==o.ref;return!a&&i&&(i.call?i(null):i.current=null),t?!t(this.props,o)||!a:wl(this.props,o)}function r(o){return this.shouldComponentUpdate=n,Le(e,o)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(no.prototype=new lt).isPureReactComponent=!0,no.prototype.shouldComponentUpdate=function(e,t){return wl(this.props,e)||wl(this.state,t)};var Nu=se.__b;se.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Nu&&Nu(e)};var qm=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function go(e){function t(n){var r=up({},n);return delete r.ref,e(r,n.ref||null)}return t.$$typeof=qm,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var Ou=function(e,t){return e==null?null:st(st(e).map(t))},dp={map:Ou,forEach:Ou,count:function(e){return e?st(e).length:0},only:function(e){var t=st(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:st},zm=se.__e;se.__e=function(e,t,n,r){if(e.then){for(var o,i=t;i=i.__;)if((o=i.__c)&&o.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t)}zm(e,t,n,r)};var ku=se.unmount;function fp(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=up({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return fp(r,t,n)})),e}function pp(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return pp(r,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function lr(){this.__u=0,this.o=null,this.__b=null}function gp(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function hp(e){var t,n,r;function o(i){if(t||(t=e()).then(function(a){n=a.default||a},function(a){r=a}),r)throw r;if(!n)throw t;return Le(n,i)}return o.displayName="Lazy",o.__f=!0,o}function Rn(){this.i=null,this.l=null}se.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),ku&&ku(e)},(lr.prototype=new lt).__c=function(e,t){var n=t.__c,r=this;r.o==null&&(r.o=[]),r.o.push(n);var o=gp(r.__v),i=!1,a=function(){i||(i=!0,n.__R=null,o?o(l):l())};n.__R=a;var l=function(){if(!--r.__u){if(r.state.__a){var s=r.state.__a;r.__v.__k[0]=pp(s,s.__c.__P,s.__c.__O)}var u;for(r.setState({__a:r.__b=null});u=r.o.pop();)u.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(a,a)},lr.prototype.componentWillUnmount=function(){this.o=[]},lr.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=fp(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__a&&Le(ee,null,e.fallback);return o&&(o.__u&=-33),[Le(ee,null,t.__a?null:e.children),o]};var Iu=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function Um(e){return this.getChildContext=function(){return e.context},e.children}function Wm(e){var t=this,n=e.h;if(t.componentWillUnmount=function(){Mn(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),!t.v){for(var r=t.__v;r!==null&&!r.__m&&r.__!==null;)r=r.__;t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],__k:{__m:r.__m},contains:function(){return!0},insertBefore:function(o,i){this.childNodes.push(o),t.h.insertBefore(o,i)},removeChild:function(o){this.childNodes.splice(this.childNodes.indexOf(o)>>>1,1),t.h.removeChild(o)}}}Mn(Le(Um,{context:t.context},e.__v),t.v)}function ho(e,t){var n=Le(Wm,{__v:e,h:t});return n.containerInfo=t,n}(Rn.prototype=new lt).__a=function(e){var t=this,n=gp(t.__v),r=t.l.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),Iu(t,e,r)):o()};n?n(i):i()}},Rn.prototype.render=function(e){this.i=null,this.l=new Map;var t=st(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},Rn.prototype.componentDidUpdate=Rn.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){Iu(e,n,t)})};var mp=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Km=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Ym=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Xm=/[A-Z0-9]/g,Jm=typeof document<"u",Qm=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function vp(e,t,n){return t.__k==null&&(t.textContent=""),Mn(e,t),typeof n=="function"&&n(),e?e.__c:null}function bp(e,t,n){return Zf(e,t),typeof n=="function"&&n(),e?e.__c:null}lt.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(lt.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var Mu=se.event;function Zm(){}function ev(){return this.cancelBubble}function tv(){return this.defaultPrevented}se.event=function(e){return Mu&&(e=Mu(e)),e.persist=Zm,e.isPropagationStopped=ev,e.isDefaultPrevented=tv,e.nativeEvent=e};var hs,nv={enumerable:!1,configurable:!0,get:function(){return this.class}},Lu=se.vnode;se.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,r=t.type,o={},i=r.indexOf("-")===-1;for(var a in n){var l=n[a];if(!(a==="value"&&"defaultValue"in n&&l==null||Jm&&a==="children"&&r==="noscript"||a==="class"||a==="className")){var s=a.toLowerCase();a==="defaultValue"&&"value"in n&&n.value==null?a="value":a==="download"&&l===!0?l="":s==="translate"&&l==="no"?l=!1:s[0]==="o"&&s[1]==="n"?s==="ondoubleclick"?a="ondblclick":s!=="onchange"||r!=="input"&&r!=="textarea"||Qm(n.type)?s==="onfocus"?a="onfocusin":s==="onblur"?a="onfocusout":Ym.test(a)&&(a=s):s=a="oninput":i&&Km.test(a)?a=a.replace(Xm,"-$&").toLowerCase():l===null&&(l=void 0),s==="oninput"&&o[a=s]&&(a="oninputCapture"),o[a]=l}}r=="select"&&o.multiple&&Array.isArray(o.value)&&(o.value=st(n.children).forEach(function(u){u.props.selected=o.value.indexOf(u.props.value)!=-1})),r=="select"&&o.defaultValue!=null&&(o.value=st(n.children).forEach(function(u){u.props.selected=o.multiple?o.defaultValue.indexOf(u.props.value)!=-1:o.defaultValue==u.props.value})),n.class&&!n.className?(o.class=n.class,Object.defineProperty(o,"className",nv)):(n.className&&!n.class||n.class&&n.className)&&(o.class=o.className=n.className),t.props=o}(e),e.$$typeof=mp,Lu&&Lu(e)};var Du=se.__r;se.__r=function(e){Du&&Du(e),hs=e.__c};var Gu=se.diffed;se.diffed=function(e){Gu&&Gu(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value),hs=null};var _p={ReactCurrentDispatcher:{current:{readContext:function(e){return hs.__n[e.__c].props.value},useCallback:te,useContext:oe,useDebugValue:ss,useDeferredValue:fs,useEffect:U,useId:Pe,useImperativeHandle:ls,useInsertionEffect:gs,useLayoutEffect:mt,useMemo:G,useReducer:Dt,useRef:D,useState:T,useSyncExternalStore:po,useTransition:ps}}},rv="18.3.1";function yp(e){return Le.bind(null,e)}function Bn(e){return!!e&&e.$$typeof===mp}function wp(e){return Bn(e)&&e.type===ee}function Sp(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function ms(e){return Bn(e)?ep.apply(null,arguments):e}function xp(e){return!!e.__k&&(Mn(null,e),!0)}function Cp(e){return e&&(e.base||e.nodeType===1&&e)||null}var Fp=function(e,t){return e(t)},Ve=function(e,t){return e(t)},Ep=ee,Pp=Bn,E={useState:T,useId:Pe,useReducer:Dt,useEffect:U,useLayoutEffect:mt,useInsertionEffect:gs,useTransition:ps,useDeferredValue:fs,useSyncExternalStore:po,startTransition:ds,useRef:D,useImperativeHandle:ls,useMemo:G,useCallback:te,useContext:oe,useDebugValue:ss,version:"18.3.1",Children:dp,render:vp,hydrate:bp,unmountComponentAtNode:xp,createPortal:ho,createElement:Le,createContext:he,createFactory:yp,cloneElement:ms,createRef:os,Fragment:ee,isValidElement:Bn,isElement:Pp,isFragment:wp,isMemo:Sp,findDOMNode:Cp,Component:lt,PureComponent:no,memo:cp,forwardRef:go,flushSync:Ve,unstable_batchedUpdates:Fp,StrictMode:Ep,Suspense:lr,SuspenseList:Rn,lazy:hp,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:_p};const ro=Object.freeze(Object.defineProperty({__proto__:null,Children:dp,Component:lt,Fragment:ee,PureComponent:no,StrictMode:Ep,Suspense:lr,SuspenseList:Rn,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:_p,cloneElement:ms,createContext:he,createElement:Le,createFactory:yp,createPortal:ho,createRef:os,default:E,findDOMNode:Cp,flushSync:Ve,forwardRef:go,hydrate:bp,isElement:Pp,isFragment:wp,isMemo:Sp,isValidElement:Bn,lazy:hp,memo:cp,render:vp,startTransition:ds,unmountComponentAtNode:xp,unstable_batchedUpdates:Fp,useCallback:te,useContext:oe,useDebugValue:ss,useDeferredValue:fs,useEffect:U,useErrorBoundary:lm,useId:Pe,useImperativeHandle:ls,useInsertionEffect:gs,useLayoutEffect:mt,useMemo:G,useReducer:Dt,useRef:D,useState:T,useSyncExternalStore:po,useTransition:ps,version:rv},Symbol.toStringTag,{value:"Module"}));/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function ov(){return{accessor:(e,t)=>typeof e=="function"?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e}}function Ht(e,t){return typeof e=="function"?e(t):e}function rt(e,t){return n=>{t.setState(r=>({...r,[e]:Ht(n,r[e])}))}}function mo(e){return e instanceof Function}function iv(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function av(e,t){const n=[],r=o=>{o.forEach(i=>{n.push(i);const a=t(i);a!=null&&a.length&&r(a)})};return r(e),n}function Q(e,t,n){let r=[],o;return i=>{let a;n.key&&n.debug&&(a=Date.now());const l=e(i);if(!(l.length!==r.length||l.some((f,p)=>r[p]!==f)))return o;r=l;let u;if(n.key&&n.debug&&(u=Date.now()),o=t(...l),n==null||n.onChange==null||n.onChange(o),n.key&&n.debug&&n!=null&&n.debug()){const f=Math.round((Date.now()-a)*100)/100,p=Math.round((Date.now()-u)*100)/100,g=p/16,c=(h,m)=>{for(h=String(h);h.length<m;)h=" "+h;return h};console.info(`%câ± ${c(p,5)} /${c(f,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,n==null?void 0:n.key)}return o}}function Z(e,t,n,r){return{debug:()=>{var o;return(o=e==null?void 0:e.debugAll)!=null?o:e[t]},key:!1,onChange:r}}function lv(e,t,n,r){const o=()=>{var a;return(a=i.getValue())!=null?a:e.options.renderFallbackValue},i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:o,getContext:Q(()=>[e,n,t,i],(a,l,s,u)=>({table:a,column:l,row:s,cell:u,getValue:u.getValue,renderValue:u.renderValue}),Z(e.options,"debugCells"))};return e._features.forEach(a=>{a.createCell==null||a.createCell(i,n,t,e)},{}),i}function sv(e,t,n,r){var o,i;const l={...e._getDefaultColumnDef(),...t},s=l.accessorKey;let u=(o=(i=l.id)!=null?i:s?typeof String.prototype.replaceAll=="function"?s.replaceAll(".","_"):s.replace(/\./g,"_"):void 0)!=null?o:typeof l.header=="string"?l.header:void 0,f;if(l.accessorFn?f=l.accessorFn:s&&(s.includes(".")?f=g=>{let c=g;for(const m of s.split(".")){var h;c=(h=c)==null?void 0:h[m]}return c}:f=g=>g[l.accessorKey]),!u)throw new Error;let p={id:`${String(u)}`,accessorFn:f,parent:r,depth:n,columnDef:l,columns:[],getFlatColumns:Q(()=>[!0],()=>{var g;return[p,...(g=p.columns)==null?void 0:g.flatMap(c=>c.getFlatColumns())]},Z(e.options,"debugColumns")),getLeafColumns:Q(()=>[e._getOrderColumnsFn()],g=>{var c;if((c=p.columns)!=null&&c.length){let h=p.columns.flatMap(m=>m.getLeafColumns());return g(h)}return[p]},Z(e.options,"debugColumns"))};for(const g of e._features)g.createColumn==null||g.createColumn(p,e);return p}const He="debugHeaders";function Vu(e,t,n){var r;let i={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const a=[],l=s=>{s.subHeaders&&s.subHeaders.length&&s.subHeaders.map(l),a.push(s)};return l(i),a},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(a=>{a.createHeader==null||a.createHeader(i,e)}),i}const uv={createTable:e=>{e.getHeaderGroups=Q(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>{var i,a;const l=(i=r==null?void 0:r.map(p=>n.find(g=>g.id===p)).filter(Boolean))!=null?i:[],s=(a=o==null?void 0:o.map(p=>n.find(g=>g.id===p)).filter(Boolean))!=null?a:[],u=n.filter(p=>!(r!=null&&r.includes(p.id))&&!(o!=null&&o.includes(p.id)));return Br(t,[...l,...u,...s],e)},Z(e.options,He)),e.getCenterHeaderGroups=Q(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(o!=null&&o.includes(i.id))),Br(t,n,e,"center")),Z(e.options,He)),e.getLeftHeaderGroups=Q(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var o;const i=(o=r==null?void 0:r.map(a=>n.find(l=>l.id===a)).filter(Boolean))!=null?o:[];return Br(t,i,e,"left")},Z(e.options,He)),e.getRightHeaderGroups=Q(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var o;const i=(o=r==null?void 0:r.map(a=>n.find(l=>l.id===a)).filter(Boolean))!=null?o:[];return Br(t,i,e,"right")},Z(e.options,He)),e.getFooterGroups=Q(()=>[e.getHeaderGroups()],t=>[...t].reverse(),Z(e.options,He)),e.getLeftFooterGroups=Q(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),Z(e.options,He)),e.getCenterFooterGroups=Q(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),Z(e.options,He)),e.getRightFooterGroups=Q(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),Z(e.options,He)),e.getFlatHeaders=Q(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),Z(e.options,He)),e.getLeftFlatHeaders=Q(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),Z(e.options,He)),e.getCenterFlatHeaders=Q(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),Z(e.options,He)),e.getRightFlatHeaders=Q(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),Z(e.options,He)),e.getCenterLeafHeaders=Q(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Z(e.options,He)),e.getLeftLeafHeaders=Q(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Z(e.options,He)),e.getRightLeafHeaders=Q(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),Z(e.options,He)),e.getLeafHeaders=Q(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var o,i,a,l,s,u;return[...(o=(i=t[0])==null?void 0:i.headers)!=null?o:[],...(a=(l=n[0])==null?void 0:l.headers)!=null?a:[],...(s=(u=r[0])==null?void 0:u.headers)!=null?s:[]].map(f=>f.getLeafHeaders()).flat()},Z(e.options,He))}};function Br(e,t,n,r){var o,i;let a=0;const l=function(g,c){c===void 0&&(c=1),a=Math.max(a,c),g.filter(h=>h.getIsVisible()).forEach(h=>{var m;(m=h.columns)!=null&&m.length&&l(h.columns,c+1)},0)};l(e);let s=[];const u=(g,c)=>{const h={depth:c,id:[r,`${c}`].filter(Boolean).join("_"),headers:[]},m=[];g.forEach(v=>{const b=[...m].reverse()[0],_=v.column.depth===h.depth;let y,S=!1;if(_&&v.column.parent?y=v.column.parent:(y=v.column,S=!0),b&&(b==null?void 0:b.column)===y)b.subHeaders.push(v);else{const w=Vu(n,y,{id:[r,c,y.id,v==null?void 0:v.id].filter(Boolean).join("_"),isPlaceholder:S,placeholderId:S?`${m.filter(C=>C.column===y).length}`:void 0,depth:c,index:m.length});w.subHeaders.push(v),m.push(w)}h.headers.push(v),v.headerGroup=h}),s.push(h),c>0&&u(m,c-1)},f=t.map((g,c)=>Vu(n,g,{depth:a,index:c}));u(f,a-1),s.reverse();const p=g=>g.filter(h=>h.column.getIsVisible()).map(h=>{let m=0,v=0,b=[0];h.subHeaders&&h.subHeaders.length?(b=[],p(h.subHeaders).forEach(y=>{let{colSpan:S,rowSpan:w}=y;m+=S,b.push(w)})):m=1;const _=Math.min(...b);return v=v+_,h.colSpan=m,h.rowSpan=v,{colSpan:m,rowSpan:v}});return p((o=(i=s[0])==null?void 0:i.headers)!=null?o:[]),s}const vs=(e,t,n,r,o,i,a)=>{let l={id:t,index:r,original:n,depth:o,parentId:a,_valuesCache:{},_uniqueValuesCache:{},getValue:s=>{if(l._valuesCache.hasOwnProperty(s))return l._valuesCache[s];const u=e.getColumn(s);if(u!=null&&u.accessorFn)return l._valuesCache[s]=u.accessorFn(l.original,r),l._valuesCache[s]},getUniqueValues:s=>{if(l._uniqueValuesCache.hasOwnProperty(s))return l._uniqueValuesCache[s];const u=e.getColumn(s);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(l._uniqueValuesCache[s]=u.columnDef.getUniqueValues(l.original,r),l._uniqueValuesCache[s]):(l._uniqueValuesCache[s]=[l.getValue(s)],l._uniqueValuesCache[s])},renderValue:s=>{var u;return(u=l.getValue(s))!=null?u:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>av(l.subRows,s=>s.subRows),getParentRow:()=>l.parentId?e.getRow(l.parentId,!0):void 0,getParentRows:()=>{let s=[],u=l;for(;;){const f=u.getParentRow();if(!f)break;s.push(f),u=f}return s.reverse()},getAllCells:Q(()=>[e.getAllLeafColumns()],s=>s.map(u=>lv(e,l,u,u.id)),Z(e.options,"debugRows")),_getAllCellsByColumnId:Q(()=>[l.getAllCells()],s=>s.reduce((u,f)=>(u[f.column.id]=f,u),{}),Z(e.options,"debugRows"))};for(let s=0;s<e._features.length;s++){const u=e._features[s];u==null||u.createRow==null||u.createRow(l,e)}return l},cv={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},$p=(e,t,n)=>{var r,o;const i=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((o=e.getValue(t))==null||(o=o.toString())==null||(o=o.toLowerCase())==null)&&o.includes(i))};$p.autoRemove=e=>gt(e);const Rp=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};Rp.autoRemove=e=>gt(e);const Ap=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};Ap.autoRemove=e=>gt(e);const Tp=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};Tp.autoRemove=e=>gt(e);const Np=(e,t,n)=>!n.some(r=>{var o;return!((o=e.getValue(t))!=null&&o.includes(r))});Np.autoRemove=e=>gt(e)||!(e!=null&&e.length);const Op=(e,t,n)=>n.some(r=>{var o;return(o=e.getValue(t))==null?void 0:o.includes(r)});Op.autoRemove=e=>gt(e)||!(e!=null&&e.length);const kp=(e,t,n)=>e.getValue(t)===n;kp.autoRemove=e=>gt(e);const Ip=(e,t,n)=>e.getValue(t)==n;Ip.autoRemove=e=>gt(e);const bs=(e,t,n)=>{let[r,o]=n;const i=e.getValue(t);return i>=r&&i<=o};bs.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,o=typeof n!="number"?parseFloat(n):n,i=t===null||Number.isNaN(r)?-1/0:r,a=n===null||Number.isNaN(o)?1/0:o;if(i>a){const l=i;i=a,a=l}return[i,a]};bs.autoRemove=e=>gt(e)||gt(e[0])&&gt(e[1]);const At={includesString:$p,includesStringSensitive:Rp,equalsString:Ap,arrIncludes:Tp,arrIncludesAll:Np,arrIncludesSome:Op,equals:kp,weakEquals:Ip,inNumberRange:bs};function gt(e){return e==null||e===""}const dv={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:rt("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?At.includesString:typeof r=="number"?At.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?At.equals:Array.isArray(r)?At.arrIncludes:At.weakEquals},e.getFilterFn=()=>{var n,r;return mo(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:At[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,o;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const o=e.getFilterFn(),i=r==null?void 0:r.find(f=>f.id===e.id),a=Ht(n,i?i.value:void 0);if(Bu(o,a,e)){var l;return(l=r==null?void 0:r.filter(f=>f.id!==e.id))!=null?l:[]}const s={id:e.id,value:a};if(i){var u;return(u=r==null?void 0:r.map(f=>f.id===e.id?s:f))!=null?u:[]}return r!=null&&r.length?[...r,s]:[s]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=o=>{var i;return(i=Ht(t,o))==null?void 0:i.filter(a=>{const l=n.find(s=>s.id===a.id);if(l){const s=l.getFilterFn();if(Bu(s,a.value,l))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Bu(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const fv=(e,t,n)=>n.reduce((r,o)=>{const i=o.getValue(e);return r+(typeof i=="number"?i:0)},0),pv=(e,t,n)=>{let r;return n.forEach(o=>{const i=o.getValue(e);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},gv=(e,t,n)=>{let r;return n.forEach(o=>{const i=o.getValue(e);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},hv=(e,t,n)=>{let r,o;return n.forEach(i=>{const a=i.getValue(e);a!=null&&(r===void 0?a>=a&&(r=o=a):(r>a&&(r=a),o<a&&(o=a)))}),[r,o]},mv=(e,t)=>{let n=0,r=0;if(t.forEach(o=>{let i=o.getValue(e);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},vv=(e,t)=>{if(!t.length)return;const n=t.map(i=>i.getValue(e));if(!iv(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),o=n.sort((i,a)=>i-a);return n.length%2!==0?o[r]:(o[r-1]+o[r])/2},bv=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),_v=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,yv=(e,t)=>t.length,Wo={sum:fv,min:pv,max:gv,extent:hv,mean:mv,median:vv,unique:bv,uniqueCount:_v,count:yv},wv={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:rt("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return Wo.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Wo.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return mo(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:Wo[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var o;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((o=n.subRows)!=null&&o.length)}}};function Sv(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(i=>!t.includes(i.id));return n==="remove"?r:[...t.map(i=>e.find(a=>a.id===i)).filter(Boolean),...r]}const xv={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:rt("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Q(n=>[sr(t,n)],n=>n.findIndex(r=>r.id===e.id),Z(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=sr(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const o=sr(t,n);return((r=o[o.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Q(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>o=>{let i=[];if(!(t!=null&&t.length))i=o;else{const a=[...t],l=[...o];for(;l.length&&a.length;){const s=a.shift(),u=l.findIndex(f=>f.id===s);u>-1&&i.push(l.splice(u,1)[0])}i=[...i,...l]}return Sv(i,n,r)},Z(e.options,"debugTable"))}},Ko=()=>({left:[],right:[]}),Cv={getInitialState:e=>({columnPinning:Ko(),...e}),getDefaultOptions:e=>({onColumnPinningChange:rt("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(o=>o.id).filter(Boolean);t.setColumnPinning(o=>{var i,a;if(n==="right"){var l,s;return{left:((l=o==null?void 0:o.left)!=null?l:[]).filter(p=>!(r!=null&&r.includes(p))),right:[...((s=o==null?void 0:o.right)!=null?s:[]).filter(p=>!(r!=null&&r.includes(p))),...r]}}if(n==="left"){var u,f;return{left:[...((u=o==null?void 0:o.left)!=null?u:[]).filter(p=>!(r!=null&&r.includes(p))),...r],right:((f=o==null?void 0:o.right)!=null?f:[]).filter(p=>!(r!=null&&r.includes(p)))}}return{left:((i=o==null?void 0:o.left)!=null?i:[]).filter(p=>!(r!=null&&r.includes(p))),right:((a=o==null?void 0:o.right)!=null?a:[]).filter(p=>!(r!=null&&r.includes(p)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var o,i,a;return((o=r.columnDef.enablePinning)!=null?o:!0)&&((i=(a=t.options.enableColumnPinning)!=null?a:t.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(l=>l.id),{left:r,right:o}=t.getState().columnPinning,i=n.some(l=>r==null?void 0:r.includes(l)),a=n.some(l=>o==null?void 0:o.includes(l));return i?"left":a?"right":!1},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();return o?(n=(r=t.getState().columnPinning)==null||(r=r[o])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=Q(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,o)=>{const i=[...r??[],...o??[]];return n.filter(a=>!i.includes(a.column.id))},Z(t.options,"debugRows")),e.getLeftVisibleCells=Q(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(a=>a.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),Z(t.options,"debugRows")),e.getRightVisibleCells=Q(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(a=>a.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),Z(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?Ko():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:Ko())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var o,i;return!!((o=r.left)!=null&&o.length||(i=r.right)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=Q(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),Z(e.options,"debugColumns")),e.getRightLeafColumns=Q(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),Z(e.options,"debugColumns")),e.getCenterLeafColumns=Q(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const o=[...n??[],...r??[]];return t.filter(i=>!o.includes(i.id))},Z(e.options,"debugColumns"))}};function Fv(e){return e||(typeof document<"u"?document:null)}const jr={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Yo=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Ev={getDefaultColumnDef:()=>jr,getInitialState:e=>({columnSizing:{},columnSizingInfo:Yo(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:rt("columnSizing",e),onColumnSizingInfoChange:rt("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,o;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:jr.minSize,(r=i??e.columnDef.size)!=null?r:jr.size),(o=e.columnDef.maxSize)!=null?o:jr.maxSize)},e.getStart=Q(n=>[n,sr(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((o,i)=>o+i.getSize(),0),Z(t.options,"debugColumns")),e.getAfter=Q(n=>[n,sr(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((o,i)=>o+i.getSize(),0),Z(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...o}=n;return o})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=o=>{if(o.subHeaders.length)o.subHeaders.forEach(r);else{var i;n+=(i=o.column.getSize())!=null?i:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),o=r==null?void 0:r.getCanResize();return i=>{if(!r||!o||(i.persist==null||i.persist(),Xo(i)&&i.touches&&i.touches.length>1))return;const a=e.getSize(),l=e?e.getLeafHeaders().map(b=>[b.column.id,b.column.getSize()]):[[r.id,r.getSize()]],s=Xo(i)?Math.round(i.touches[0].clientX):i.clientX,u={},f=(b,_)=>{typeof _=="number"&&(t.setColumnSizingInfo(y=>{var S,w;const C=t.options.columnResizeDirection==="rtl"?-1:1,k=(_-((S=y==null?void 0:y.startOffset)!=null?S:0))*C,L=Math.max(k/((w=y==null?void 0:y.startSize)!=null?w:0),-.999999);return y.columnSizingStart.forEach(M=>{let[P,$]=M;u[P]=Math.round(Math.max($+$*L,0)*100)/100}),{...y,deltaOffset:k,deltaPercentage:L}}),(t.options.columnResizeMode==="onChange"||b==="end")&&t.setColumnSizing(y=>({...y,...u})))},p=b=>f("move",b),g=b=>{f("end",b),t.setColumnSizingInfo(_=>({..._,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},c=Fv(n),h={moveHandler:b=>p(b.clientX),upHandler:b=>{c==null||c.removeEventListener("mousemove",h.moveHandler),c==null||c.removeEventListener("mouseup",h.upHandler),g(b.clientX)}},m={moveHandler:b=>(b.cancelable&&(b.preventDefault(),b.stopPropagation()),p(b.touches[0].clientX),!1),upHandler:b=>{var _;c==null||c.removeEventListener("touchmove",m.moveHandler),c==null||c.removeEventListener("touchend",m.upHandler),b.cancelable&&(b.preventDefault(),b.stopPropagation()),g((_=b.touches[0])==null?void 0:_.clientX)}},v=Pv()?{passive:!1}:!1;Xo(i)?(c==null||c.addEventListener("touchmove",m.moveHandler,v),c==null||c.addEventListener("touchend",m.upHandler,v)):(c==null||c.addEventListener("mousemove",h.moveHandler,v),c==null||c.addEventListener("mouseup",h.upHandler,v)),t.setColumnSizingInfo(b=>({...b,startOffset:s,startSize:a,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?Yo():(n=e.initialState.columnSizingInfo)!=null?n:Yo())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0}}};let Hr=null;function Pv(){if(typeof Hr=="boolean")return Hr;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return Hr=e,Hr}function Xo(e){return e.type==="touchstart"}const $v={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:rt("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const o=e.columns;return(n=o.length?o.some(i=>i.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Q(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),Z(t.options,"debugRows")),e.getVisibleCells=Q(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,o)=>[...n,...r,...o],Z(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>Q(()=>[r(),r().filter(o=>o.getIsVisible()).map(o=>o.id).join("_")],o=>o.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),Z(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((o,i)=>({...o,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function sr(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Rv={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Av={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:rt("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,o,i;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>At.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return mo(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:At[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},Tv={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:rt("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var o,i;e.setExpanded(r?{}:(o=(i=e.initialState)==null?void 0:i.expanded)!=null?o:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(o=>!o.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const a=i.split(".");r=Math.max(r,a.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var o;const i=r===!0?!0:!!(r!=null&&r[e.id]);let a={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(l=>{a[l]=!0}):a=r,n=(o=n)!=null?o:!i,!i&&n)return{...a,[e.id]:!0};if(i&&!n){const{[e.id]:l,...s}=a;return s}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,o;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((o=e.subRows)!=null&&o.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},Sl=0,xl=10,Jo=()=>({pageIndex:Sl,pageSize:xl}),Nv={getInitialState:e=>({...e,pagination:{...Jo(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:rt("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const o=i=>Ht(r,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(o)},e.resetPagination=r=>{var o;e.setPagination(r?Jo():(o=e.initialState.pagination)!=null?o:Jo())},e.setPageIndex=r=>{e.setPagination(o=>{let i=Ht(r,o.pageIndex);const a=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,a)),{...o,pageIndex:i}})},e.resetPageIndex=r=>{var o,i;e.setPageIndex(r?Sl:(o=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?o:Sl)},e.resetPageSize=r=>{var o,i;e.setPageSize(r?xl:(o=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?o:xl)},e.setPageSize=r=>{e.setPagination(o=>{const i=Math.max(1,Ht(r,o.pageSize)),a=o.pageSize*o.pageIndex,l=Math.floor(a/i);return{...o,pageIndex:l,pageSize:i}})},e.setPageCount=r=>e.setPagination(o=>{var i;let a=Ht(r,(i=e.options.pageCount)!=null?i:-1);return typeof a=="number"&&(a=Math.max(-1,a)),{...o,pageCount:a}}),e.getPageOptions=Q(()=>[e.getPageCount()],r=>{let o=[];return r&&r>0&&(o=[...new Array(r)].fill(null).map((i,a)=>a)),o},Z(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,o=e.getPageCount();return o===-1?!0:o===0?!1:r<o-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},Qo=()=>({top:[],bottom:[]}),Ov={getInitialState:e=>({rowPinning:Qo(),...e}),getDefaultOptions:e=>({onRowPinningChange:rt("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,o)=>{const i=r?e.getLeafRows().map(s=>{let{id:u}=s;return u}):[],a=o?e.getParentRows().map(s=>{let{id:u}=s;return u}):[],l=new Set([...a,e.id,...i]);t.setRowPinning(s=>{var u,f;if(n==="bottom"){var p,g;return{top:((p=s==null?void 0:s.top)!=null?p:[]).filter(m=>!(l!=null&&l.has(m))),bottom:[...((g=s==null?void 0:s.bottom)!=null?g:[]).filter(m=>!(l!=null&&l.has(m))),...Array.from(l)]}}if(n==="top"){var c,h;return{top:[...((c=s==null?void 0:s.top)!=null?c:[]).filter(m=>!(l!=null&&l.has(m))),...Array.from(l)],bottom:((h=s==null?void 0:s.bottom)!=null?h:[]).filter(m=>!(l!=null&&l.has(m)))}}return{top:((u=s==null?void 0:s.top)!=null?u:[]).filter(m=>!(l!=null&&l.has(m))),bottom:((f=s==null?void 0:s.bottom)!=null?f:[]).filter(m=>!(l!=null&&l.has(m)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:o}=t.options;return typeof r=="function"?r(e):(n=r??o)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:o}=t.getState().rowPinning,i=n.some(l=>r==null?void 0:r.includes(l)),a=n.some(l=>o==null?void 0:o.includes(l));return i?"top":a?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();if(!o)return-1;const i=(n=o==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(a=>{let{id:l}=a;return l});return(r=i==null?void 0:i.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?Qo():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:Qo())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var o,i;return!!((o=r.top)!=null&&o.length||(i=r.bottom)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var o;return((o=e.options.keepPinnedRows)==null||o?(n??[]).map(a=>{const l=e.getRow(a,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(a=>t.find(l=>l.id===a))).filter(Boolean).map(a=>({...a,position:r}))},e.getTopRows=Q(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),Z(e.options,"debugRows")),e.getBottomRows=Q(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),Z(e.options,"debugRows")),e.getCenterRows=Q(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const o=new Set([...n??[],...r??[]]);return t.filter(i=>!o.has(i.id))},Z(e.options,"debugRows"))}},kv={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:rt("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},o=e.getPreGroupedRowModel().flatRows;return t?o.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):o.forEach(i=>{delete r[i.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),o={...n};return e.getRowModel().rows.forEach(i=>{Cl(o,i.id,r,!0,e)}),o}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Q(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Zo(e,n):{rows:[],flatRows:[],rowsById:{}},Z(e.options,"debugTable")),e.getFilteredSelectedRowModel=Q(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Zo(e,n):{rows:[],flatRows:[],rowsById:{}},Z(e.options,"debugTable")),e.getGroupedSelectedRowModel=Q(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Zo(e,n):{rows:[],flatRows:[],rowsById:{}},Z(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(o=>o.getCanSelect()&&!n[o.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(o=>o.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(o=>!n[o.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const o=e.getIsSelected();t.setRowSelection(i=>{var a;if(n=typeof n<"u"?n:!o,e.getCanSelect()&&o===n)return i;const l={...i};return Cl(l,e.id,n,(a=r==null?void 0:r.selectChildren)!=null?a:!0,t),l})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return _s(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return Fl(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return Fl(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var o;n&&e.toggleSelected((o=r.target)==null?void 0:o.checked)}}}},Cl=(e,t,n,r,o)=>{var i;const a=o.getRow(t,!0);n?(a.getCanMultiSelect()||Object.keys(e).forEach(l=>delete e[l]),a.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(i=a.subRows)!=null&&i.length&&a.getCanSelectSubRows()&&a.subRows.forEach(l=>Cl(e,l.id,n,r,o))};function Zo(e,t){const n=e.getState().rowSelection,r=[],o={},i=function(a,l){return a.map(s=>{var u;const f=_s(s,n);if(f&&(r.push(s),o[s.id]=s),(u=s.subRows)!=null&&u.length&&(s={...s,subRows:i(s.subRows)}),f)return s}).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:o}}function _s(e,t){var n;return(n=t[e.id])!=null?n:!1}function Fl(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let o=!0,i=!1;return e.subRows.forEach(a=>{if(!(i&&!o)&&(a.getCanSelect()&&(_s(a,t)?i=!0:o=!1),a.subRows&&a.subRows.length)){const l=Fl(a,t);l==="all"?i=!0:(l==="some"&&(i=!0),o=!1)}}),o?"all":i?"some":!1}const El=/([0-9]+)/gm,Iv=(e,t,n)=>Mp(Wt(e.getValue(n)).toLowerCase(),Wt(t.getValue(n)).toLowerCase()),Mv=(e,t,n)=>Mp(Wt(e.getValue(n)),Wt(t.getValue(n))),Lv=(e,t,n)=>ys(Wt(e.getValue(n)).toLowerCase(),Wt(t.getValue(n)).toLowerCase()),Dv=(e,t,n)=>ys(Wt(e.getValue(n)),Wt(t.getValue(n))),Gv=(e,t,n)=>{const r=e.getValue(n),o=t.getValue(n);return r>o?1:r<o?-1:0},Vv=(e,t,n)=>ys(e.getValue(n),t.getValue(n));function ys(e,t){return e===t?0:e>t?1:-1}function Wt(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Mp(e,t){const n=e.split(El).filter(Boolean),r=t.split(El).filter(Boolean);for(;n.length&&r.length;){const o=n.shift(),i=r.shift(),a=parseInt(o,10),l=parseInt(i,10),s=[a,l].sort();if(isNaN(s[0])){if(o>i)return 1;if(i>o)return-1;continue}if(isNaN(s[1]))return isNaN(a)?-1:1;if(a>l)return 1;if(l>a)return-1}return n.length-r.length}const Xn={alphanumeric:Iv,alphanumericCaseSensitive:Mv,text:Lv,textCaseSensitive:Dv,datetime:Gv,basic:Vv},Bv={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:rt("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const o of n){const i=o==null?void 0:o.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return Xn.datetime;if(typeof i=="string"&&(r=!0,i.split(El).length>1))return Xn.alphanumeric}return r?Xn.text:Xn.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return mo(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Xn[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const o=e.getNextSortingOrder(),i=typeof n<"u"&&n!==null;t.setSorting(a=>{const l=a==null?void 0:a.find(c=>c.id===e.id),s=a==null?void 0:a.findIndex(c=>c.id===e.id);let u=[],f,p=i?n:o==="desc";if(a!=null&&a.length&&e.getCanMultiSort()&&r?l?f="toggle":f="add":a!=null&&a.length&&s!==a.length-1?f="replace":l?f="toggle":f="replace",f==="toggle"&&(i||o||(f="remove")),f==="add"){var g;u=[...a,{id:e.id,desc:p}],u.splice(0,u.length-((g=t.options.maxMultiSortColCount)!=null?g:Number.MAX_SAFE_INTEGER))}else f==="toggle"?u=a.map(c=>c.id===e.id?{...c,desc:p}:c):f==="remove"?u=a.filter(c=>c.id!==e.id):u=[{id:e.id,desc:p}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,o;const i=e.getFirstSortDir(),a=e.getIsSorted();return a?a!==i&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(o=t.options.enableMultiRemove)!=null)||o)?!1:a==="desc"?"asc":"desc":i},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(o=>o.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},jv=[uv,$v,xv,Cv,cv,dv,Rv,Av,Bv,wv,Tv,Nv,Ov,kv,Ev];function Hv(e){var t,n;const r=[...jv,...(t=e._features)!=null?t:[]];let o={_features:r};const i=o._features.reduce((g,c)=>Object.assign(g,c.getDefaultOptions==null?void 0:c.getDefaultOptions(o)),{}),a=g=>o.options.mergeOptions?o.options.mergeOptions(i,g):{...i,...g};let s={...{},...(n=e.initialState)!=null?n:{}};o._features.forEach(g=>{var c;s=(c=g.getInitialState==null?void 0:g.getInitialState(s))!=null?c:s});const u=[];let f=!1;const p={_features:r,options:{...i,...e},initialState:s,_queue:g=>{u.push(g),f||(f=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();f=!1}).catch(c=>setTimeout(()=>{throw c})))},reset:()=>{o.setState(o.initialState)},setOptions:g=>{const c=Ht(g,o.options);o.options=a(c)},getState:()=>o.options.state,setState:g=>{o.options.onStateChange==null||o.options.onStateChange(g)},_getRowId:(g,c,h)=>{var m;return(m=o.options.getRowId==null?void 0:o.options.getRowId(g,c,h))!=null?m:`${h?[h.id,c].join("."):c}`},getCoreRowModel:()=>(o._getCoreRowModel||(o._getCoreRowModel=o.options.getCoreRowModel(o)),o._getCoreRowModel()),getRowModel:()=>o.getPaginationRowModel(),getRow:(g,c)=>{let h=(c?o.getPrePaginationRowModel():o.getRowModel()).rowsById[g];if(!h&&(h=o.getCoreRowModel().rowsById[g],!h))throw new Error;return h},_getDefaultColumnDef:Q(()=>[o.options.defaultColumn],g=>{var c;return g=(c=g)!=null?c:{},{header:h=>{const m=h.header.column.columnDef;return m.accessorKey?m.accessorKey:m.accessorFn?m.id:null},cell:h=>{var m,v;return(m=(v=h.renderValue())==null||v.toString==null?void 0:v.toString())!=null?m:null},...o._features.reduce((h,m)=>Object.assign(h,m.getDefaultColumnDef==null?void 0:m.getDefaultColumnDef()),{}),...g}},Z(e,"debugColumns")),_getColumnDefs:()=>o.options.columns,getAllColumns:Q(()=>[o._getColumnDefs()],g=>{const c=function(h,m,v){return v===void 0&&(v=0),h.map(b=>{const _=sv(o,b,v,m),y=b;return _.columns=y.columns?c(y.columns,_,v+1):[],_})};return c(g)},Z(e,"debugColumns")),getAllFlatColumns:Q(()=>[o.getAllColumns()],g=>g.flatMap(c=>c.getFlatColumns()),Z(e,"debugColumns")),_getAllFlatColumnsById:Q(()=>[o.getAllFlatColumns()],g=>g.reduce((c,h)=>(c[h.id]=h,c),{}),Z(e,"debugColumns")),getAllLeafColumns:Q(()=>[o.getAllColumns(),o._getOrderColumnsFn()],(g,c)=>{let h=g.flatMap(m=>m.getLeafColumns());return c(h)},Z(e,"debugColumns")),getColumn:g=>o._getAllFlatColumnsById()[g]};Object.assign(o,p);for(let g=0;g<o._features.length;g++){const c=o._features[g];c==null||c.createTable==null||c.createTable(o)}return o}function qv(){return e=>Q(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(o,i,a){i===void 0&&(i=0);const l=[];for(let u=0;u<o.length;u++){const f=vs(e,e._getRowId(o[u],u,a),o[u],u,i,void 0,a==null?void 0:a.id);if(n.flatRows.push(f),n.rowsById[f.id]=f,l.push(f),e.options.getSubRows){var s;f.originalSubRows=e.options.getSubRows(o[u],u),(s=f.originalSubRows)!=null&&s.length&&(f.subRows=r(f.originalSubRows,i+1,f))}}return l};return n.rows=r(t),n},Z(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function zv(e){const t=[],n=r=>{var o;t.push(r),(o=r.subRows)!=null&&o.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function Uv(e,t,n){return n.options.filterFromLeafRows?Wv(e,t,n):Kv(e,t,n)}function Wv(e,t,n){var r;const o=[],i={},a=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(s,u){u===void 0&&(u=0);const f=[];for(let g=0;g<s.length;g++){var p;let c=s[g];const h=vs(n,c.id,c.original,c.index,c.depth,void 0,c.parentId);if(h.columnFilters=c.columnFilters,(p=c.subRows)!=null&&p.length&&u<a){if(h.subRows=l(c.subRows,u+1),c=h,t(c)&&!h.subRows.length){f.push(c),i[c.id]=c,o.push(c);continue}if(t(c)||h.subRows.length){f.push(c),i[c.id]=c,o.push(c);continue}}else c=h,t(c)&&(f.push(c),i[c.id]=c,o.push(c))}return f};return{rows:l(e),flatRows:o,rowsById:i}}function Kv(e,t,n){var r;const o=[],i={},a=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(s,u){u===void 0&&(u=0);const f=[];for(let g=0;g<s.length;g++){let c=s[g];if(t(c)){var p;if((p=c.subRows)!=null&&p.length&&u<a){const m=vs(n,c.id,c.original,c.index,c.depth,void 0,c.parentId);m.subRows=l(c.subRows,u+1),c=m}f.push(c),o.push(c),i[c.id]=c}}return f};return{rows:l(e),flatRows:o,rowsById:i}}function Yv(){return e=>Q(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let g=0;g<t.flatRows.length;g++)t.flatRows[g].columnFilters={},t.flatRows[g].columnFiltersMeta={};return t}const o=[],i=[];(n??[]).forEach(g=>{var c;const h=e.getColumn(g.id);if(!h)return;const m=h.getFilterFn();m&&o.push({id:g.id,filterFn:m,resolvedValue:(c=m.resolveFilterValue==null?void 0:m.resolveFilterValue(g.value))!=null?c:g.value})});const a=(n??[]).map(g=>g.id),l=e.getGlobalFilterFn(),s=e.getAllLeafColumns().filter(g=>g.getCanGlobalFilter());r&&l&&s.length&&(a.push("__global__"),s.forEach(g=>{var c;i.push({id:g.id,filterFn:l,resolvedValue:(c=l.resolveFilterValue==null?void 0:l.resolveFilterValue(r))!=null?c:r})}));let u,f;for(let g=0;g<t.flatRows.length;g++){const c=t.flatRows[g];if(c.columnFilters={},o.length)for(let h=0;h<o.length;h++){u=o[h];const m=u.id;c.columnFilters[m]=u.filterFn(c,m,u.resolvedValue,v=>{c.columnFiltersMeta[m]=v})}if(i.length){for(let h=0;h<i.length;h++){f=i[h];const m=f.id;if(f.filterFn(c,m,f.resolvedValue,v=>{c.columnFiltersMeta[m]=v})){c.columnFilters.__global__=!0;break}}c.columnFilters.__global__!==!0&&(c.columnFilters.__global__=!1)}}const p=g=>{for(let c=0;c<a.length;c++)if(g.columnFilters[a[c]]===!1)return!1;return!0};return Uv(t.rows,p,e)},Z(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function Xv(e){return t=>Q(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:o,pageIndex:i}=n;let{rows:a,flatRows:l,rowsById:s}=r;const u=o*i,f=u+o;a=a.slice(u,f);let p;t.options.paginateExpandedRows?p={rows:a,flatRows:l,rowsById:s}:p=zv({rows:a,flatRows:l,rowsById:s}),p.flatRows=[];const g=c=>{p.flatRows.push(c),c.subRows.length&&c.subRows.forEach(g)};return p.rows.forEach(g),p},Z(t.options,"debugTable"))}function Jv(){return e=>Q(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,o=[],i=r.filter(s=>{var u;return(u=e.getColumn(s.id))==null?void 0:u.getCanSort()}),a={};i.forEach(s=>{const u=e.getColumn(s.id);u&&(a[s.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const l=s=>{const u=s.map(f=>({...f}));return u.sort((f,p)=>{for(let c=0;c<i.length;c+=1){var g;const h=i[c],m=a[h.id],v=m.sortUndefined,b=(g=h==null?void 0:h.desc)!=null?g:!1;let _=0;if(v){const y=f.getValue(h.id),S=p.getValue(h.id),w=y===void 0,C=S===void 0;if(w||C){if(v==="first")return w?-1:1;if(v==="last")return w?1:-1;_=w&&C?0:w?v:-v}}if(_===0&&(_=m.sortingFn(f,p,h.id)),_!==0)return b&&(_*=-1),m.invertSorting&&(_*=-1),_}return f.index-p.index}),u.forEach(f=>{var p;o.push(f),(p=f.subRows)!=null&&p.length&&(f.subRows=l(f.subRows))}),u};return{rows:l(n.rows),flatRows:o,rowsById:n.rowsById}},Z(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function ju(e,t){return e?Qv(e)?Le(e,t):e:null}function Qv(e){return Zv(e)||typeof e=="function"||e0(e)}function Zv(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function e0(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function t0(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=T(()=>({current:Hv(t)})),[r,o]=T(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...e,state:{...r,...e.state},onStateChange:a=>{o(a),e.onStateChange==null||e.onStateChange(a)}})),n.current}const n0=e=>{if(e==null)return"";const t=String(e);return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t};function Pl(e,t="-"){return!e||e==0?t:e>500&&e%500===0?`${e/1e3}kg`:`${e}g`}function oo(e){if(!e)return"";const t=$l(e),n=e.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"});return`${t} ${n}`}function $l(e){if(!e)return"";const t=e.getFullYear().toString(),n=t.slice(-2);let r=e.toLocaleDateString();return r=r.replace(t,n),r}function An(e,t){return parseFloat(e.toFixed(t)).toString()}const Cn=e=>(t,n)=>Lp(t.getValue(e),n.getValue(e)),Lp=(e,t)=>{const n=e||"",r=t||"";return!n&&r?1:n&&!r?-1:n.localeCompare(r)},r0=(e,t)=>{const n=e.original.printer_location,r=t.original.printer_location;if(n&&!r)return-1;if(!n&&r)return 1;if(n&&r){const a=n.localeCompare(r);return a===0?0:a}const o=e.original.actual_location??"",i=t.original.actual_location??"";return!o&&i?1:o&&!i?-1:!o&&!i?0:o.localeCompare(i)};function o0({isMobile:e,columnFilters:t,onSetColumnFilters:n}){var i,a;const r=l=>{const s=t.find(u=>u.id===l);return(s==null?void 0:s.value)||""},o=(l,s)=>{n(u=>{const f=u.filter(p=>p.id!==l);return s&&f.push({id:l,value:s}),f})};return d("div",{className:"filters-section",children:[d("h3",{children:["Filters"," ",d("span",{className:"filters-hint",children:e?"(Comma-seperated keywords)":"(Enter keywords (comma-separated, may include spaces)"}),d("button",{onClick:()=>n([]),className:"clear-filters-btn",children:`Clear${e?"":" Filters"}`})]}),d("div",{className:"filters-grid",children:[d("div",{className:"filter-group",children:[d("label",{children:"Material:"}),d("input",{type:"text",placeholder:"e.g. PLA, PETG",value:String(r("material_type")),onChange:l=>o("material_type",l.target.value),className:"filter-input"})]}),d("div",{className:"filter-group",children:[d("label",{children:"Subtype:"}),d("input",{type:"text",placeholder:"e.g. Plus, High Speed, Pro",value:String(r("material_subtype")),onChange:l=>o("material_subtype",l.target.value),className:"filter-input"})]}),d("div",{className:"filter-group",children:[d("label",{children:"Color:"}),d("input",{type:"text",placeholder:"e.g. Red Matte, Orange",value:String(r("color_name")),onChange:l=>o("color_name",l.target.value),className:"filter-input"})]}),d("div",{className:"filter-group",children:[d("label",{children:"Brand:"}),d("input",{type:"text",placeholder:"e.g. Bambu, Elegoo, Poly",value:String(r("brand")),onChange:l=>o("brand",l.target.value),className:"filter-input"})]}),d("div",{className:"filter-group",children:[d("label",{children:"Note:"}),d("input",{type:"text",placeholder:"e.g. good, art",value:String(r("note")),onChange:l=>o("note",l.target.value),className:"filter-input"})]}),d("div",{className:"filter-group weight-filter",children:[d("label",{children:"Left (g):"}),d("div",{className:"weight-inputs",children:[d("input",{type:"number",placeholder:"Min",value:((i=r("weight_left"))==null?void 0:i.min)||"",onChange:l=>{const s=r("weight_left")||{};o("weight_left",{...s,min:l.target.value?Number(l.target.value):void 0})},className:"weight-input"}),d("span",{children:"-"}),d("input",{type:"number",placeholder:"Max",value:((a=r("weight_left"))==null?void 0:a.max)||"",onChange:l=>{const s=r("weight_left")||{};o("weight_left",{...s,max:l.target.value?Number(l.target.value):void 0})},className:"weight-input"})]})]})]})]})}const Dp=typeof document<"u"?E.useLayoutEffect:()=>{};function i0(e){const t=D(null);return Dp(()=>{t.current=e},[e]),te((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const Qt=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},cn=e=>e&&"window"in e&&e.window===e?e:Qt(e).defaultView||window;function a0(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function l0(e){return a0(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let s0=!1;function ws(){return s0}function Gp(e,t){if(!ws())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:l0(n)?n=n.host:n=n.parentNode}return!1}const Rl=(e=document)=>{var t;if(!ws())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function Vp(e){return ws()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function u0(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function c0(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Bp(e){let t=null;return()=>(t==null&&(t=e()),t)}const d0=Bp(function(){return c0(/^Mac/i)}),f0=Bp(function(){return u0(/Android/i)});function jp(){let e=D(new Map),t=te((o,i,a,l)=>{let s=l!=null&&l.once?(...u)=>{e.current.delete(a),a(...u)}:a;e.current.set(a,{type:i,eventTarget:o,fn:s,options:l}),o.addEventListener(i,s,l)},[]),n=te((o,i,a,l)=>{var s;let u=((s=e.current.get(a))===null||s===void 0?void 0:s.fn)||a;o.removeEventListener(i,u,l),e.current.delete(a)},[]),r=te(()=>{e.current.forEach((o,i)=>{n(o.eventTarget,o.type,i,o.options)})},[n]);return U(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function p0(e){return e.mozInputSource===0&&e.isTrusted?!0:f0()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Hp(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function g0(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function qp(e){let t=D({isFocused:!1,observer:null});Dp(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=i0(r=>{e==null||e(r)});return te(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let o=r.target,i=a=>{if(t.current.isFocused=!1,o.disabled){let l=Hp(a);n(l)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",i,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&o.disabled){var a;(a=t.current.observer)===null||a===void 0||a.disconnect();let l=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:l})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:l}))}}),t.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let h0=!1,yr=null,Al=new Set,ur=new Map,hn=!1,Tl=!1;const m0={Tab:!0,Escape:!0};function Ss(e,t){for(let n of Al)n(e,t)}function v0(e){return!(e.metaKey||!d0()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function io(e){hn=!0,v0(e)&&(yr="keyboard",Ss("keyboard",e))}function On(e){yr="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(hn=!0,Ss("pointer",e))}function zp(e){p0(e)&&(hn=!0,yr="virtual")}function Up(e){e.target===window||e.target===document||h0||!e.isTrusted||(!hn&&!Tl&&(yr="virtual",Ss("virtual",e)),hn=!1,Tl=!1)}function Wp(){hn=!1,Tl=!0}function Nl(e){if(typeof window>"u"||typeof document>"u"||ur.get(cn(e)))return;const t=cn(e),n=Qt(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){hn=!0,r.apply(this,arguments)},n.addEventListener("keydown",io,!0),n.addEventListener("keyup",io,!0),n.addEventListener("click",zp,!0),t.addEventListener("focus",Up,!0),t.addEventListener("blur",Wp,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",On,!0),n.addEventListener("pointermove",On,!0),n.addEventListener("pointerup",On,!0)),t.addEventListener("beforeunload",()=>{Kp(e)},{once:!0}),ur.set(t,{focus:r})}const Kp=(e,t)=>{const n=cn(e),r=Qt(e);t&&r.removeEventListener("DOMContentLoaded",t),ur.has(n)&&(n.HTMLElement.prototype.focus=ur.get(n).focus,r.removeEventListener("keydown",io,!0),r.removeEventListener("keyup",io,!0),r.removeEventListener("click",zp,!0),n.removeEventListener("focus",Up,!0),n.removeEventListener("blur",Wp,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",On,!0),r.removeEventListener("pointermove",On,!0),r.removeEventListener("pointerup",On,!0)),ur.delete(n))};function b0(e){const t=Qt(e);let n;return t.readyState!=="loading"?Nl(e):(n=()=>{Nl(e)},t.addEventListener("DOMContentLoaded",n)),()=>Kp(e,n)}typeof document<"u"&&b0();function Yp(){return yr!=="pointer"}const _0=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function y0(e,t,n){let r=Qt(n==null?void 0:n.target);const o=typeof window<"u"?cn(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,i=typeof window<"u"?cn(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,a=typeof window<"u"?cn(n==null?void 0:n.target).HTMLElement:HTMLElement,l=typeof window<"u"?cn(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof o&&!_0.has(r.activeElement.type)||r.activeElement instanceof i||r.activeElement instanceof a&&r.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof l&&!m0[n.key])}function w0(e,t,n){Nl(),U(()=>{let r=(o,i)=>{y0(!!(n!=null&&n.isTextInput),o,i)&&e(Yp())};return Al.add(r),()=>{Al.delete(r)}},t)}function S0(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:o}=e;const i=te(s=>{if(s.target===s.currentTarget)return r&&r(s),o&&o(!1),!0},[r,o]),a=qp(i),l=te(s=>{const u=Qt(s.target),f=u?Rl(u):Rl();s.target===s.currentTarget&&f===Vp(s.nativeEvent)&&(n&&n(s),o&&o(!0),a(s))},[o,n,a]);return{focusProps:{onFocus:!t&&(n||o||r)?l:void 0,onBlur:!t&&(r||o)?i:void 0}}}function x0(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:o}=e,i=D({isFocusWithin:!1}),{addGlobalListener:a,removeAllGlobalListeners:l}=jp(),s=te(p=>{p.currentTarget.contains(p.target)&&i.current.isFocusWithin&&!p.currentTarget.contains(p.relatedTarget)&&(i.current.isFocusWithin=!1,l(),n&&n(p),o&&o(!1))},[n,o,i,l]),u=qp(s),f=te(p=>{if(!p.currentTarget.contains(p.target))return;const g=Qt(p.target),c=Rl(g);if(!i.current.isFocusWithin&&c===Vp(p.nativeEvent)){r&&r(p),o&&o(!0),i.current.isFocusWithin=!0,u(p);let h=p.currentTarget;a(g,"focus",m=>{if(i.current.isFocusWithin&&!Gp(h,m.target)){let v=new g.defaultView.FocusEvent("blur",{relatedTarget:m.target});g0(v,h);let b=Hp(v);s(b)}},{capture:!0})}},[r,o,u,a,s]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:f,onBlur:s}}}let Ol=!1,ei=0;function C0(){Ol=!0,setTimeout(()=>{Ol=!1},50)}function Hu(e){e.pointerType==="touch"&&C0()}function F0(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",Hu),ei++,()=>{ei--,!(ei>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",Hu)}}function Zt(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:o}=e,[i,a]=T(!1),l=D({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;U(F0,[]);let{addGlobalListener:s,removeAllGlobalListeners:u}=jp(),{hoverProps:f,triggerHoverEnd:p}=G(()=>{let g=(m,v)=>{if(l.pointerType=v,o||v==="touch"||l.isHovered||!m.currentTarget.contains(m.target))return;l.isHovered=!0;let b=m.currentTarget;l.target=b,s(Qt(m.target),"pointerover",_=>{l.isHovered&&l.target&&!Gp(l.target,_.target)&&c(_,_.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:b,pointerType:v}),n&&n(!0),a(!0)},c=(m,v)=>{let b=l.target;l.pointerType="",l.target=null,!(v==="touch"||!l.isHovered||!b)&&(l.isHovered=!1,u(),r&&r({type:"hoverend",target:b,pointerType:v}),n&&n(!1),a(!1))},h={};return typeof PointerEvent<"u"&&(h.onPointerEnter=m=>{Ol&&m.pointerType==="mouse"||g(m,m.pointerType)},h.onPointerLeave=m=>{!o&&m.currentTarget.contains(m.target)&&c(m,m.pointerType)}),{hoverProps:h,triggerHoverEnd:c}},[t,n,r,o,l,s,u]);return U(()=>{o&&p({currentTarget:l.target},l.pointerType)},[o]),{hoverProps:f,isHovered:i}}function Gt(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,o=D({isFocused:!1,isFocusVisible:t||Yp()}),[i,a]=T(!1),[l,s]=T(()=>o.current.isFocused&&o.current.isFocusVisible),u=te(()=>s(o.current.isFocused&&o.current.isFocusVisible),[]),f=te(c=>{o.current.isFocused=c,a(c),u()},[u]);w0(c=>{o.current.isFocusVisible=c,u()},[],{isTextInput:n});let{focusProps:p}=S0({isDisabled:r,onFocusChange:f}),{focusWithinProps:g}=x0({isDisabled:!r,onFocusWithinChange:f});return{isFocused:i,isFocusVisible:l,focusProps:r?g:p}}var E0=Object.defineProperty,P0=(e,t,n)=>t in e?E0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ti=(e,t,n)=>(P0(e,typeof t!="symbol"?t+"":t,n),n);let $0=class{constructor(){ti(this,"current",this.detect()),ti(this,"handoffState","pending"),ti(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},gn=new $0;function Vt(e){var t,n;return gn.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(n=(t=e.current)==null?void 0:t.ownerDocument)!=null?n:document:null:document}function wr(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function dt(){let e=[],t={addEventListener(n,r,o,i){return n.addEventListener(r,o,i),t.add(()=>n.removeEventListener(r,o,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return wr(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,o){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:o}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=dt();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let o of e.splice(r,1))o()}},dispose(){for(let n of e.splice(0))n()}};return t}function en(){let[e]=T(dt);return U(()=>()=>e.dispose(),[e]),e}let fe=(e,t)=>{gn.isServer?U(e,t):mt(e,t)};function tt(e){let t=D(e);return fe(()=>{t.current=e},[e]),t}let V=function(e){let t=tt(e);return E.useCallback((...n)=>t.current(...n),[t])};function R0(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function A0(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function Sr({disabled:e=!1}={}){let t=D(null),[n,r]=T(!1),o=en(),i=V(()=>{t.current=null,r(!1),o.dispose()}),a=V(l=>{if(o.dispose(),t.current===null){t.current=l.currentTarget,r(!0);{let s=Vt(l.currentTarget);o.addEventListener(s,"pointerup",i,!1),o.addEventListener(s,"pointermove",u=>{if(t.current){let f=R0(u);r(A0(f,t.current.getBoundingClientRect()))}},!1),o.addEventListener(s,"pointercancel",i,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:a,onPointerUp:i,onClick:i}}}let Xp=he(void 0);function tn(){return oe(Xp)}function T0({value:e,children:t}){return E.createElement(Xp.Provider,{value:e},t)}function kl(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function xe(e,t,...n){if(e in t){let o=t[e];return typeof o=="function"?o(...n):o}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,xe),r}var ut=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ut||{}),qt=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(qt||{});function me(){let e=O0();return te(t=>N0({mergeRefs:e,...t}),[e])}function N0({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:o,visible:i=!0,name:a,mergeRefs:l}){l=l??k0;let s=Jp(t,e);if(i)return qr(s,n,r,a,l);let u=o??0;if(u&2){let{static:f=!1,...p}=s;if(f)return qr(p,n,r,a,l)}if(u&1){let{unmount:f=!0,...p}=s;return xe(f?0:1,{0(){return null},1(){return qr({...p,hidden:!0,style:{display:"none"}},n,r,a,l)}})}return qr(s,n,r,a,l)}function qr(e,t={},n,r,o){let{as:i=n,children:a,refName:l="ref",...s}=ni(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},f=typeof a=="function"?a(t):a;"className"in s&&s.className&&typeof s.className=="function"&&(s.className=s.className(t)),s["aria-labelledby"]&&s["aria-labelledby"]===s.id&&(s["aria-labelledby"]=void 0);let p={};if(t){let g=!1,c=[];for(let[h,m]of Object.entries(t))typeof m=="boolean"&&(g=!0),m===!0&&c.push(h.replace(/([A-Z])/g,v=>`-${v.toLowerCase()}`));if(g){p["data-headlessui-state"]=c.join(" ");for(let h of c)p[`data-${h}`]=""}}if(i===ee&&(Object.keys(jt(s)).length>0||Object.keys(jt(p)).length>0))if(!Bn(f)||Array.isArray(f)&&f.length>1){if(Object.keys(jt(s)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(jt(s)).concat(Object.keys(jt(p))).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`))}else{let g=f.props,c=g==null?void 0:g.className,h=typeof c=="function"?(...b)=>kl(c(...b),s.className):kl(c,s.className),m=h?{className:h}:{},v=Jp(f.props,jt(ni(s,["ref"])));for(let b in p)b in v&&delete p[b];return ms(f,Object.assign({},v,p,u,{ref:o(I0(f),u.ref)},m))}return Le(i,Object.assign({},ni(s,["ref"]),i!==ee&&u,i!==ee&&p),f)}function O0(){let e=D([]),t=te(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function k0(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function Jp(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[o=>{var i;return(i=o==null?void 0:o.preventDefault)==null?void 0:i.call(o)}]);for(let r in n)Object.assign(t,{[r](o,...i){let a=n[r];for(let l of a){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;l(o,...i)}}});return t}function ct(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];for(let r in n)Object.assign(t,{[r](...o){let i=n[r];for(let a of i)a==null||a(...o)}});return t}function pe(e){var t;return Object.assign(go(e),{displayName:(t=e.displayName)!=null?t:e.name})}function jt(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function ni(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function I0(e){return E.version.split(".")[0]>="19"?e.props.ref:e.ref}let M0="button";function L0(e,t){var n;let r=tn(),{disabled:o=r||!1,autoFocus:i=!1,...a}=e,{isFocusVisible:l,focusProps:s}=Gt({autoFocus:i}),{isHovered:u,hoverProps:f}=Zt({isDisabled:o}),{pressed:p,pressProps:g}=Sr({disabled:o}),c=ct({ref:t,type:(n=a.type)!=null?n:"button",disabled:o||void 0,autoFocus:i},s,f,g),h=G(()=>({disabled:o,hover:u,focus:l,active:p,autofocus:i}),[o,u,l,p,i]);return me()({ourProps:c,theirProps:a,slot:h,defaultTag:M0,name:"Button"})}let Fe=pe(L0);function Qp(e,t,n){let[r,o]=T(n),i=e!==void 0,a=D(i),l=D(!1),s=D(!1);return i&&!a.current&&!l.current?(l.current=!0,a.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&a.current&&!s.current&&(s.current=!0,a.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?e:r,V(u=>(i||o(u),t==null?void 0:t(u)))]}function Zp(e){let[t]=T(e);return t}function eg(e={},t=null,n=[]){for(let[r,o]of Object.entries(e))ng(n,tg(t,r),o);return n}function tg(e,t){return e?e+"["+t+"]":t}function ng(e,t,n){if(Array.isArray(n))for(let[r,o]of n.entries())ng(e,tg(t,r.toString()),o);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):eg(n,t,e)}function D0(e){var t,n;let r=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(r){for(let o of r.elements)if(o!==e&&(o.tagName==="INPUT"&&o.type==="submit"||o.tagName==="BUTTON"&&o.type==="submit"||o.nodeName==="INPUT"&&o.type==="image")){o.click();return}(n=r.requestSubmit)==null||n.call(r)}}let G0="span";var Kt=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Kt||{});function V0(e,t){var n;let{features:r=1,...o}=e,i={ref:t,"aria-hidden":(r&2)===2?!0:(n=o["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return me()({ourProps:i,theirProps:o,slot:{},defaultTag:G0,name:"Hidden"})}let Yt=pe(V0),rg=he(null);function B0(e){let[t,n]=T(null);return E.createElement(rg.Provider,{value:{target:t}},e.children,E.createElement(Yt,{features:Kt.Hidden,ref:n}))}function j0({children:e}){let t=oe(rg);if(!t)return E.createElement(E.Fragment,null,e);let{target:n}=t;return n?ho(E.createElement(E.Fragment,null,e),n):null}function og({data:e,form:t,disabled:n,onReset:r,overrides:o}){let[i,a]=T(null),l=en();return U(()=>{if(r&&i)return l.addEventListener(i,"reset",r)},[i,t,r]),E.createElement(j0,null,E.createElement(H0,{setForm:a,formId:t}),eg(e).map(([s,u])=>E.createElement(Yt,{features:Kt.Hidden,...jt({key:s,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:n,name:s,value:u,...o})})))}function H0({setForm:e,formId:t}){return U(()=>{if(t){let n=document.getElementById(t);n&&e(n)}},[e,t]),t?null:E.createElement(Yt,{features:Kt.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&e(r)}})}let ig=he(void 0);function xr(){return oe(ig)}function q0({id:e,children:t}){return E.createElement(ig.Provider,{value:e},t)}function xs(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function kt(e){return xs(e)&&"tagName"in e}function Xe(e){return kt(e)&&"accessKey"in e}function pt(e){return kt(e)&&"tabIndex"in e}function z0(e){return kt(e)&&"style"in e}function U0(e){return Xe(e)&&e.nodeName==="IFRAME"}function ao(e){return Xe(e)&&e.nodeName==="INPUT"}function qu(e){return Xe(e)&&e.nodeName==="LABEL"}function W0(e){return Xe(e)&&e.nodeName==="FIELDSET"}function ag(e){return Xe(e)&&e.nodeName==="LEGEND"}function K0(e){return kt(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function Cs(e){let t=e.parentElement,n=null;for(;t&&!W0(t);)ag(t)&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&Y0(n)?!1:r}function Y0(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(ag(t))return!1;t=t.previousElementSibling}return!0}let lg=Symbol();function sg(e,t=!0){return Object.assign(e,{[lg]:t})}function Ce(...e){let t=D(e);U(()=>{t.current=e},[e]);let n=V(r=>{for(let o of t.current)o!=null&&(typeof o=="function"?o(r):o.current=r)});return e.every(r=>r==null||(r==null?void 0:r[lg]))?void 0:n}let vo=he(null);vo.displayName="DescriptionContext";function ug(){let e=oe(vo);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,ug),t}return e}function bo(){var e,t;return(t=(e=oe(vo))==null?void 0:e.value)!=null?t:void 0}function cg(){let[e,t]=T([]);return[e.length>0?e.join(" "):void 0,G(()=>function(n){let r=V(i=>(t(a=>[...a,i]),()=>t(a=>{let l=a.slice(),s=l.indexOf(i);return s!==-1&&l.splice(s,1),l}))),o=G(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return E.createElement(vo.Provider,{value:o},n.children)},[t])]}let X0="p";function J0(e,t){let n=Pe(),r=tn(),{id:o=`headlessui-description-${n}`,...i}=e,a=ug(),l=Ce(t);fe(()=>a.register(o),[o,a.register]);let s=r||!1,u=G(()=>({...a.slot,disabled:s}),[a.slot,s]),f={ref:l,...a.props,id:o};return me()({ourProps:f,theirProps:i,slot:u,defaultTag:X0,name:a.name||"Description"})}let Q0=pe(J0),Fs=Object.assign(Q0,{});var re=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(re||{});let _o=he(null);_o.displayName="LabelContext";function dg(){let e=oe(_o);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,dg),t}return e}function _n(e){var t,n,r;let o=(n=(t=oe(_o))==null?void 0:t.value)!=null?n:void 0;return((r=e==null?void 0:e.length)!=null?r:0)>0?[o,...e].filter(Boolean).join(" "):o}function Es({inherit:e=!1}={}){let t=_n(),[n,r]=T([]),o=e?[t,...n].filter(Boolean):n;return[o.length>0?o.join(" "):void 0,G(()=>function(i){let a=V(s=>(r(u=>[...u,s]),()=>r(u=>{let f=u.slice(),p=f.indexOf(s);return p!==-1&&f.splice(p,1),f}))),l=G(()=>({register:a,slot:i.slot,name:i.name,props:i.props,value:i.value}),[a,i.slot,i.name,i.props,i.value]);return E.createElement(_o.Provider,{value:l},i.children)},[r])]}let Z0="label";function eb(e,t){var n;let r=Pe(),o=dg(),i=xr(),a=tn(),{id:l=`headlessui-label-${r}`,htmlFor:s=i??((n=o.props)==null?void 0:n.htmlFor),passive:u=!1,...f}=e,p=Ce(t);fe(()=>o.register(l),[l,o.register]);let g=V(v=>{let b=v.currentTarget;if(!(v.target!==v.currentTarget&&K0(v.target))&&(qu(b)&&v.preventDefault(),o.props&&"onClick"in o.props&&typeof o.props.onClick=="function"&&o.props.onClick(v),qu(b))){let _=document.getElementById(b.htmlFor);if(_){let y=_.getAttribute("disabled");if(y==="true"||y==="")return;let S=_.getAttribute("aria-disabled");if(S==="true"||S==="")return;(ao(_)&&(_.type==="file"||_.type==="radio"||_.type==="checkbox")||_.role==="radio"||_.role==="checkbox"||_.role==="switch")&&_.click(),_.focus({preventScroll:!0})}}}),c=a||!1,h=G(()=>({...o.slot,disabled:c}),[o.slot,c]),m={ref:p,...o.props,id:l,htmlFor:s,onClick:g};return u&&("onClick"in m&&(delete m.htmlFor,delete m.onClick),"onClick"in f&&delete f.onClick),me()({ourProps:m,theirProps:f,slot:h,defaultTag:s?Z0:"div",name:o.name||"Label"})}let tb=pe(eb),Ue=Object.assign(tb,{}),nb=he(()=>{});function fg({value:e,children:t}){return E.createElement(nb.Provider,{value:e},t)}function Fn(e,t,n){let r=n.initialDeps??[],o;function i(){var a,l,s,u;let f;n.key&&((a=n.debug)!=null&&a.call(n))&&(f=Date.now());const p=e();if(!(p.length!==r.length||p.some((h,m)=>r[m]!==h)))return o;r=p;let c;if(n.key&&((l=n.debug)!=null&&l.call(n))&&(c=Date.now()),o=t(...p),n.key&&((s=n.debug)!=null&&s.call(n))){const h=Math.round((Date.now()-f)*100)/100,m=Math.round((Date.now()-c)*100)/100,v=m/16,b=(_,y)=>{for(_=String(_);_.length<y;)_=" "+_;return _};console.info(`%câ± ${b(m,5)} /${b(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*v,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(u=n==null?void 0:n.onChange)==null||u.call(n,o),o}return i.updateDeps=a=>{r=a},i}function zu(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const rb=(e,t)=>Math.abs(e-t)<=1,ob=(e,t,n)=>{let r;return function(...o){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,o),n)}},Uu=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},ib=e=>e,ab=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let o=t;o<=n;o++)r.push(o);return r},lb=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const o=a=>{const{width:l,height:s}=a;t({width:Math.round(l),height:Math.round(s)})};if(o(Uu(n)),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver(a=>{const l=()=>{const s=a[0];if(s!=null&&s.borderBoxSize){const u=s.borderBoxSize[0];if(u){o({width:u.inlineSize,height:u.blockSize});return}}o(Uu(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},Wu={passive:!0},Ku=typeof window>"u"?!0:"onscrollend"in window,sb=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let o=0;const i=e.options.useScrollendEvent&&Ku?()=>{}:ob(r,()=>{t(o,!1)},e.options.isScrollingResetDelay),a=f=>()=>{const{horizontal:p,isRtl:g}=e.options;o=p?n.scrollLeft*(g&&-1||1):n.scrollTop,i(),t(o,f)},l=a(!0),s=a(!1);s(),n.addEventListener("scroll",l,Wu);const u=e.options.useScrollendEvent&&Ku;return u&&n.addEventListener("scrollend",s,Wu),()=>{n.removeEventListener("scroll",l),u&&n.removeEventListener("scrollend",s)}},ub=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},cb=(e,{adjustments:t=0,behavior:n},r)=>{var o,i;const a=e+t;(i=(o=r.scrollElement)==null?void 0:o.scrollTo)==null||i.call(o,{[r.options.horizontal?"left":"top"]:a,behavior:n})};class db{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(o=>{o.forEach(i=>{const a=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()})}));return{disconnect:()=>{var o;(o=r())==null||o.disconnect(),n=null},observe:o=>{var i;return(i=r())==null?void 0:i.observe(o,{box:"border-box"})},unobserve:o=>{var i;return(i=r())==null?void 0:i.unobserve(o)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,o])=>{typeof o>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:ib,rangeExtractor:ab,onChange:()=>{},measureElement:ub,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,o;(o=(r=this.options).onChange)==null||o.call(r,this,n)},this.maybeNotify=Fn(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(o=>{this.observer.observe(o)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(o,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const o=new Map,i=new Map;for(let a=r-1;a>=0;a--){const l=n[a];if(o.has(l.lane))continue;const s=i.get(l.lane);if(s==null||l.end>s.end?i.set(l.lane,l):l.end<s.end&&o.set(l.lane,!0),o.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((a,l)=>a.end===l.end?a.index-l.index:a.end-l.end)[0]:void 0},this.getMeasurementOptions=Fn(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,o,i,a)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:o,getItemKey:i,enabled:a}),{key:!1}),this.getMeasurements=Fn(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:o,getItemKey:i,enabled:a},l)=>{if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const s=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,s);for(let f=s;f<n;f++){const p=i(f),g=this.options.lanes===1?u[f-1]:this.getFurthestMeasurement(u,f),c=g?g.end+this.options.gap:r+o,h=l.get(p),m=typeof h=="number"?h:this.options.estimateSize(f),v=c+m,b=g?g.lane:f%this.options.lanes;u[f]={index:f,start:c,size:m,end:v,key:p,lane:b}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Fn(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,o,i)=>this.range=n.length>0&&r>0?fb({measurements:n,outerSize:r,scrollOffset:o,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Fn(()=>{let n=null,r=null;const o=this.calculateRange();return o&&(n=o.startIndex,r=o.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,o,i,a)=>i===null||a===null?[]:n({startIndex:i,endIndex:a,overscan:r,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,o=n.getAttribute(r);return o?parseInt(o,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const o=this.indexFromElement(n),i=this.measurementsCache[o];if(!i)return;const a=i.key,l=this.elementsCache.get(a);l!==n&&(l&&this.observer.unobserve(l),this.observer.observe(n),this.elementsCache.set(a,n)),n.isConnected&&this.resizeItem(o,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const o=this.measurementsCache[n];if(!o)return;const i=this.itemSizeCache.get(o.key)??o.size,a=r-i;a!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,a,this):this.scrollDirection==="backward"&&o.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=a,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,o)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(o))});return}this._measureElement(n,void 0)},this.getVirtualItems=Fn(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const o=[];for(let i=0,a=n.length;i<a;i++){const l=n[i],s=r[l];o.push(s)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return zu(r[pg(0,r.length-1,o=>zu(r[o]).start,n)])},this.getOffsetForAlignment=(n,r,o=0)=>{const i=this.getSize(),a=this.getScrollOffset();r==="auto"&&(r=n>=a+i?"end":"start"),r==="center"?n+=(o-i)/2:r==="end"&&(n-=i);const l=this.getTotalSize()-i;return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const o=this.measurementsCache[n];if(!o)return;const i=this.getSize(),a=this.getScrollOffset();if(r==="auto")if(o.end>=a+i-this.options.scrollPaddingEnd)r="end";else if(o.start<=a+this.options.scrollPaddingStart)r="start";else return[a,r];const l=r==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,r,o.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:o})},this.scrollToIndex=(n,{align:r="auto",behavior:o}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const i=this.getOffsetForIndex(n,r);if(!i)return;const[a,l]=i;this._scrollToOffset(a,{adjustments:void 0,behavior:o}),o!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const u=this.getOffsetForIndex(n,l);if(!u)return;const[f]=u,p=this.getScrollOffset();rb(f,p)||this.scrollToIndex(n,{align:l,behavior:o})}else this.scrollToIndex(n,{align:l,behavior:o})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let o;if(r.length===0)o=this.options.paddingStart;else if(this.options.lanes===1)o=((n=r[r.length-1])==null?void 0:n.end)??0;else{const i=Array(this.options.lanes).fill(null);let a=r.length-1;for(;a>=0&&i.some(l=>l===null);){const l=r[a];i[l.lane]===null&&(i[l.lane]=l.end),a--}o=Math.max(...i.filter(l=>l!==null))}return Math.max(o-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:o})=>{this.options.scrollToFn(n,{behavior:o,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const pg=(e,t,n,r)=>{for(;e<=t;){const o=(e+t)/2|0,i=n(o);if(i<r)e=o+1;else if(i>r)t=o-1;else return o}return e>0?e-1:0};function fb({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const o=e.length-1,i=s=>e[s].start;if(e.length<=r)return{startIndex:0,endIndex:o};let a=pg(0,o,i,n),l=a;if(r===1)for(;l<o&&e[l].end<n+t;)l++;else if(r>1){const s=Array(r).fill(0);for(;l<o&&s.some(f=>f<n+t);){const f=e[l];s[f.lane]=f.end,l++}const u=Array(r).fill(n+t);for(;a>=0&&u.some(f=>f>=n);){const f=e[a];u[f.lane]=f.start,a--}a=Math.max(0,a-a%r),l=Math.min(o,l+(r-1-l%r))}return{startIndex:a,endIndex:l}}const Yu=typeof document<"u"?mt:U;function pb(e){const t=Dt(()=>({}),{})[1],n={...e,onChange:(o,i)=>{var a;i?Ve(t):t(),(a=e.onChange)==null||a.call(e,o,i)}},[r]=T(()=>new db(n));return r.setOptions(n),Yu(()=>r._didMount(),[]),Yu(()=>r._willUpdate()),r}function gb(e){return pb({observeElementRect:lb,observeElementOffset:sb,scrollToFn:cb,...e})}function hb(e,t){return e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&"id"in e&&"id"in t?e.id===t.id:e===t}function gg(e=hb){return te((t,n)=>{if(typeof e=="string"){let r=e;return(t==null?void 0:t[r])===(n==null?void 0:n[r])}return e(t,n)},[e])}function mb(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function Il(e,t=!1){let[n,r]=Dt(()=>({}),{}),o=G(()=>mb(e),[e,n]);return fe(()=>{if(!e)return;let i=new ResizeObserver(r);return i.observe(e),()=>{i.disconnect()}},[e]),t?{width:`${o.width}px`,height:`${o.height}px`}:o}let hg=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var vb=Object.defineProperty,bb=(e,t,n)=>t in e?vb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_b=(e,t,n)=>(bb(e,t+"",n),n),mg=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},it=(e,t,n)=>(mg(e,t,"read from private field"),n?n.call(e):t.get(e)),ri=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Xu=(e,t,n,r)=>(mg(e,t,"write to private field"),t.set(e,n),n),_t,er,tr;let Ps=class{constructor(t){ri(this,_t,{}),ri(this,er,new hg(()=>new Set)),ri(this,tr,new Set),_b(this,"disposables",dt()),Xu(this,_t,t)}dispose(){this.disposables.dispose()}get state(){return it(this,_t)}subscribe(t,n){let r={selector:t,callback:n,current:t(it(this,_t))};return it(this,tr).add(r),this.disposables.add(()=>{it(this,tr).delete(r)})}on(t,n){return it(this,er).get(t).add(n),this.disposables.add(()=>{it(this,er).get(t).delete(n)})}send(t){let n=this.reduce(it(this,_t),t);if(n!==it(this,_t)){Xu(this,_t,n);for(let r of it(this,tr)){let o=r.selector(it(this,_t));vg(r.current,o)||(r.current=o,r.callback(o))}for(let r of it(this,er).get(t.type))r(it(this,_t),t)}}};_t=new WeakMap,er=new WeakMap,tr=new WeakMap;function vg(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:oi(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:oi(e.entries(),t.entries()):Ju(e)&&Ju(t)?oi(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function oi(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function Ju(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}function ii(e){let[t,n]=e(),r=dt();return(...o)=>{t(...o),r.dispose(),r.microTask(n)}}var yb=Object.defineProperty,wb=(e,t,n)=>t in e?yb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qu=(e,t,n)=>(wb(e,typeof t!="symbol"?t+"":t,n),n),$s=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))($s||{});let Sb={0(e,t){let n=t.id,r=e.stack,o=e.stack.indexOf(n);if(o!==-1){let i=e.stack.slice();return i.splice(o,1),i.push(n),r=i,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let o=e.stack.slice();return o.splice(r,1),{...e,stack:o}}},xb=class bg extends Ps{constructor(){super(...arguments),Qu(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),Qu(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new bg({stack:[]})}reduce(t,n){return xe(n.type,Sb,t,n)}};const jn=new hg(()=>xb.new());var zr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Fb(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var ai={exports:{}},li={};const Eb=Fb(ro);/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zu;function Pb(){if(Zu)return li;Zu=1;var e=Eb;function t(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,o=e.useRef,i=e.useEffect,a=e.useMemo,l=e.useDebugValue;return li.useSyncExternalStoreWithSelector=function(s,u,f,p,g){var c=o(null);if(c.current===null){var h={hasValue:!1,value:null};c.current=h}else h=c.current;c=a(function(){function v(w){if(!b){if(b=!0,_=w,w=p(w),g!==void 0&&h.hasValue){var C=h.value;if(g(C,w))return y=C}return y=w}if(C=y,n(_,w))return C;var k=p(w);return g!==void 0&&g(C,k)?(_=w,C):(_=w,y=k)}var b=!1,_,y,S=f===void 0?null:f;return[function(){return v(u())},S===null?void 0:function(){return v(S())}]},[u,f,p,g]);var m=r(s,c[0],c[1]);return i(function(){h.hasValue=!0,h.value=m},[m]),l(m),m},li}var ec;function $b(){return ec||(ec=1,ai.exports=Pb()),ai.exports}var Rb=$b();function ye(e,t,n=vg){return Rb.useSyncExternalStoreWithSelector(V(r=>e.subscribe(Ab,r)),V(()=>e.state),V(()=>e.state),V(t),n)}function Ab(e){return e}function Cr(e,t){let n=Pe(),r=jn.get(t),[o,i]=ye(r,te(a=>[r.selectors.isTop(a,n),r.selectors.inStack(a,n)],[r,n]));return fe(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?i?o:!0:!1}let Ml=new Map,cr=new Map;function tc(e){var t;let n=(t=cr.get(e))!=null?t:0;return cr.set(e,n+1),n!==0?()=>nc(e):(Ml.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>nc(e))}function nc(e){var t;let n=(t=cr.get(e))!=null?t:1;if(n===1?cr.delete(e):cr.set(e,n-1),n!==1)return;let r=Ml.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,Ml.delete(e))}function Rs(e,{allowed:t,disallowed:n}={}){let r=Cr(e,"inert-others");fe(()=>{var o,i;if(!r)return;let a=dt();for(let s of(o=n==null?void 0:n())!=null?o:[])s&&a.add(tc(s));let l=(i=t==null?void 0:t())!=null?i:[];for(let s of l){if(!s)continue;let u=Vt(s);if(!u)continue;let f=s.parentElement;for(;f&&f!==u.body;){for(let p of f.children)l.some(g=>p.contains(g))||a.add(tc(p));f=f.parentElement}}return a.dispose},[r,t,n])}function As(e,t,n){let r=tt(o=>{let i=o.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&n()});U(()=>{if(!e)return;let o=t===null?null:Xe(t)?t:t.current;if(!o)return;let i=dt();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>r.current(o));a.observe(o),i.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>r.current(o));a.observe(o),i.add(()=>a.disconnect())}return()=>i.dispose()},[t,r,e])}let lo=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Tb=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var ke=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(ke||{}),dn=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(dn||{}),Nb=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Nb||{});function _g(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(lo)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function Ob(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Tb)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Ts=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Ts||{});function yg(e,t=0){var n;return e===((n=Vt(e))==null?void 0:n.body)?!1:xe(t,{0(){return e.matches(lo)},1(){let r=e;for(;r!==null;){if(r.matches(lo))return!0;r=r.parentElement}return!1}})}var kb=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(kb||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function It(e){e==null||e.focus({preventScroll:!0})}let Ib=["textarea","input"].join(",");function Mb(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Ib))!=null?n:!1}function zt(e,t=n=>n){return e.slice().sort((n,r)=>{let o=t(n),i=t(r);if(o===null||i===null)return 0;let a=o.compareDocumentPosition(i);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Lb(e,t){return at(_g(),t,{relativeTo:e})}function at(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:o=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,a=Array.isArray(e)?n?zt(e):e:t&64?Ob(e):_g(e);o.length>0&&a.length>1&&(a=a.filter(c=>!o.some(h=>h!=null&&"current"in h?(h==null?void 0:h.current)===c:h===c))),r=r??i.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),s=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(r))-1;if(t&4)return Math.max(0,a.indexOf(r))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},f=0,p=a.length,g;do{if(f>=p||f+p<=0)return 0;let c=s+f;if(t&16)c=(c+p)%p;else{if(c<0)return 3;if(c>=p)return 1}g=a[c],g==null||g.focus(u),f+=l}while(g!==i.activeElement);return t&6&&Mb(g)&&g.select(),2}function wg(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Db(){return/Android/gi.test(window.navigator.userAgent)}function Ll(){return wg()||Db()}function Tn(e,t,n,r){let o=tt(n);U(()=>{if(!e)return;function i(a){o.current(a)}return document.addEventListener(t,i,r),()=>document.removeEventListener(t,i,r)},[e,t,r])}function Sg(e,t,n,r){let o=tt(n);U(()=>{if(!e)return;function i(a){o.current(a)}return window.addEventListener(t,i,r),()=>window.removeEventListener(t,i,r)},[e,t,r])}const rc=30;function Ns(e,t,n){let r=tt(n),o=te(function(l,s){if(l.defaultPrevented)return;let u=s(l);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let f=function p(g){return typeof g=="function"?p(g()):Array.isArray(g)||g instanceof Set?g:[g]}(t);for(let p of f)if(p!==null&&(p.contains(u)||l.composed&&l.composedPath().includes(p)))return;return!yg(u,Ts.Loose)&&u.tabIndex!==-1&&l.preventDefault(),r.current(l,u)},[r,t]),i=D(null);Tn(e,"pointerdown",l=>{var s,u;Ll()||(i.current=((u=(s=l.composedPath)==null?void 0:s.call(l))==null?void 0:u[0])||l.target)},!0),Tn(e,"pointerup",l=>{if(Ll()||!i.current)return;let s=i.current;return i.current=null,o(l,()=>s)},!0);let a=D({x:0,y:0});Tn(e,"touchstart",l=>{a.current.x=l.touches[0].clientX,a.current.y=l.touches[0].clientY},!0),Tn(e,"touchend",l=>{let s={x:l.changedTouches[0].clientX,y:l.changedTouches[0].clientY};if(!(Math.abs(s.x-a.current.x)>=rc||Math.abs(s.y-a.current.y)>=rc))return o(l,()=>pt(l.target)?l.target:null)},!0),Sg(e,"blur",l=>o(l,()=>U0(window.document.activeElement)?window.document.activeElement:null),!0)}function Lt(...e){return G(()=>Vt(...e),[...e])}var Gb=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(Gb||{});const Nt={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},Vb=200;function xg(e,{trigger:t,action:n,close:r,select:o}){let i=D(null);Tn(e&&t!==null,"pointerdown",a=>{xs(a==null?void 0:a.target)&&t!=null&&t.contains(a.target)&&(i.current=new Date)}),Tn(e&&t!==null,"pointerup",a=>{if(i.current===null||!pt(a.target))return;let l=n(a),s=new Date().getTime()-i.current.getTime();switch(i.current=null,l.kind){case 0:return;case 1:{s>Vb&&(o(l.target),r());break}case 2:{r();break}}},{capture:!0})}function Os(e,t,n,r){let o=tt(n);U(()=>{e=e??window;function i(a){o.current(a)}return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)},[e,t,r])}function Cg(e){let t=D({value:"",selectionStart:null,selectionEnd:null});return Os(e,"blur",n=>{let r=n.target;ao(r)&&(t.current={value:r.value,selectionStart:r.selectionStart,selectionEnd:r.selectionEnd})}),V(()=>{if(document.activeElement!==e&&ao(e)&&e.isConnected){if(e.focus({preventScroll:!0}),e.value!==t.current.value)e.setSelectionRange(e.value.length,e.value.length);else{let{selectionStart:n,selectionEnd:r}=t.current;n!==null&&r!==null&&e.setSelectionRange(n,r)}t.current={value:"",selectionStart:null,selectionEnd:null}}})}function yo(e,t){return G(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function Bb(e){return po(e.subscribe,e.getSnapshot,e.getSnapshot)}function jb(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(o){return r.add(o),()=>r.delete(o)},dispatch(o,...i){let a=t[o].call(n,...i);a&&(n=a,r.forEach(l=>l()))}}}function Hb(){let e;return{before({doc:t}){var n;let r=t.documentElement,o=(n=t.defaultView)!=null?n:window;e=Math.max(0,o.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,o=Math.max(0,r.clientWidth-r.offsetWidth),i=Math.max(0,e-o);n.style(r,"paddingRight",`${i}px`)}}}function qb(){return wg()?{before({doc:e,d:t,meta:n}){function r(o){return n.containers.flatMap(i=>i()).some(i=>i.contains(o))}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=dt();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let i=(o=window.scrollY)!=null?o:window.pageYOffset,a=null;t.addEventListener(e,"click",l=>{if(pt(l.target))try{let s=l.target.closest("a");if(!s)return;let{hash:u}=new URL(s.href),f=e.querySelector(u);pt(f)&&!r(f)&&(a=f)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(pt(l.target)&&z0(l.target))if(r(l.target)){let s=l.target;for(;s.parentElement&&r(s.parentElement);)s=s.parentElement;t.style(s,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(pt(l.target)){if(ao(l.target))return;if(r(l.target)){let s=l.target;for(;s.parentElement&&s.dataset.headlessuiPortal!==""&&!(s.scrollHeight>s.clientHeight||s.scrollWidth>s.clientWidth);)s=s.parentElement;s.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),t.add(()=>{var l;let s=(l=window.scrollY)!=null?l:window.pageYOffset;i!==s&&window.scrollTo(0,i),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function zb(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Ub(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let fn=jb(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:dt(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:Ub(n)},o=[qb(),Hb(),zb()];o.forEach(({before:i})=>i==null?void 0:i(r)),o.forEach(({after:i})=>i==null?void 0:i(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});fn.subscribe(()=>{let e=fn.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",o=n.count!==0;(o&&!r||!o&&r)&&fn.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&fn.dispatch("TEARDOWN",n)}});function Wb(e,t,n=()=>({containers:[]})){let r=Bb(fn),o=t?r.get(t):void 0,i=o?o.count>0:!1;return fe(()=>{if(!(!t||!e))return fn.dispatch("PUSH",t,n),()=>fn.dispatch("POP",t,n)},[e,t]),i}function ks(e,t,n=()=>[document.body]){let r=Cr(e,"scroll-lock");Wb(r,t,o=>{var i;return{containers:[...(i=o.containers)!=null?i:[],n]}})}function oc(e){return[e.screenX,e.screenY]}function Fg(){let e=D([-1,-1]);return{wasMoved(t){let n=oc(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=oc(t)}}}function Kb(e=0){let[t,n]=T(e),r=te(s=>n(s),[t]),o=te(s=>n(u=>u|s),[t]),i=te(s=>(t&s)===s,[t]),a=te(s=>n(u=>u&~s),[n]),l=te(s=>n(u=>u^s),[n]);return{flags:t,setFlag:r,addFlag:o,hasFlag:i,removeFlag:a,toggleFlag:l}}var Yb={},ic,ac;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((ic=process==null?void 0:Yb)==null?void 0:ic.NODE_ENV)==="test"&&typeof((ac=Element==null?void 0:Element.prototype)==null?void 0:ac.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Xb=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(Xb||{});function wo(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function So(e,t,n,r){let[o,i]=T(n),{hasFlag:a,addFlag:l,removeFlag:s}=Kb(e&&o?3:0),u=D(!1),f=D(!1),p=en();return fe(()=>{var g;if(e){if(n&&i(!0),!t){n&&l(3);return}return(g=r==null?void 0:r.start)==null||g.call(r,n),Jb(t,{inFlight:u,prepare(){f.current?f.current=!1:f.current=u.current,u.current=!0,!f.current&&(n?(l(3),s(4)):(l(4),s(2)))},run(){f.current?n?(s(3),l(4)):(s(4),l(3)):n?s(1):l(1)},done(){var c;f.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(u.current=!1,s(7),n||i(!1),(c=r==null?void 0:r.end)==null||c.call(r,n))}})}},[e,n,t,p]),e?[o,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Jb(e,{prepare:t,run:n,done:r,inFlight:o}){let i=dt();return Zb(e,{prepare:t,inFlight:o}),i.nextFrame(()=>{n(),i.requestAnimationFrame(()=>{i.add(Qb(e,r))})}),i.dispose}function Qb(e,t){var n,r;let o=dt();if(!e)return o.dispose;let i=!1;o.add(()=>{i=!0});let a=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(l=>l instanceof CSSTransition))!=null?r:[];return a.length===0?(t(),o.dispose):(Promise.allSettled(a.map(l=>l.finished)).then(()=>{i||t()}),o.dispose)}function Zb(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function e_(e,{container:t,accept:n,walk:r}){let o=D(n),i=D(r);U(()=>{o.current=n,i.current=r},[n,r]),fe(()=>{if(!t||!e)return;let a=Vt(t);if(!a)return;let l=o.current,s=i.current,u=Object.assign(p=>l(p),{acceptNode:l}),f=a.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;f.nextNode();)s(f.currentNode)},[t,e,o,i])}function pr(e,t){let n=D([]),r=V(e);U(()=>{let o=[...n.current];for(let[i,a]of t.entries())if(n.current[i]!==a){let l=r(t,o);return n.current=t,l}},[r,...t])}function xo(){return typeof window<"u"}function Hn(e){return Eg(e)?(e.nodeName||"").toLowerCase():"#document"}function nt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Pt(e){var t;return(t=(Eg(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Eg(e){return xo()?e instanceof Node||e instanceof nt(e).Node:!1}function We(e){return xo()?e instanceof Element||e instanceof nt(e).Element:!1}function Et(e){return xo()?e instanceof HTMLElement||e instanceof nt(e).HTMLElement:!1}function lc(e){return!xo()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof nt(e).ShadowRoot}function Fr(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=ht(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function t_(e){return["table","td","th"].includes(Hn(e))}function Co(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Is(e){const t=Ms(),n=We(e)?ht(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function n_(e){let t=Xt(e);for(;Et(t)&&!Dn(t);){if(Is(t))return t;if(Co(t))return null;t=Xt(t)}return null}function Ms(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Dn(e){return["html","body","#document"].includes(Hn(e))}function ht(e){return nt(e).getComputedStyle(e)}function Fo(e){return We(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xt(e){if(Hn(e)==="html")return e;const t=e.assignedSlot||e.parentNode||lc(e)&&e.host||Pt(e);return lc(t)?t.host:t}function Pg(e){const t=Xt(e);return Dn(t)?e.ownerDocument?e.ownerDocument.body:e.body:Et(t)&&Fr(t)?t:Pg(t)}function gr(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Pg(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),a=nt(o);if(i){const l=Dl(a);return t.concat(a,a.visualViewport||[],Fr(o)?o:[],l&&n?gr(l):[])}return t.concat(o,gr(o,[],n))}function Dl(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function r_(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}const mn=Math.min,qe=Math.max,hr=Math.round,Ur=Math.floor,Ft=e=>({x:e,y:e}),o_={left:"right",right:"left",bottom:"top",top:"bottom"},i_={start:"end",end:"start"};function sc(e,t,n){return qe(e,mn(t,n))}function qn(e,t){return typeof e=="function"?e(t):e}function Jt(e){return e.split("-")[0]}function Er(e){return e.split("-")[1]}function $g(e){return e==="x"?"y":"x"}function Rg(e){return e==="y"?"height":"width"}function Ot(e){return["top","bottom"].includes(Jt(e))?"y":"x"}function Ag(e){return $g(Ot(e))}function a_(e,t,n){n===void 0&&(n=!1);const r=Er(e),o=Ag(e),i=Rg(o);let a=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=so(a)),[a,so(a)]}function l_(e){const t=so(e);return[Gl(e),t,Gl(t)]}function Gl(e){return e.replace(/start|end/g,t=>i_[t])}function s_(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:a;default:return[]}}function u_(e,t,n,r){const o=Er(e);let i=s_(Jt(e),n==="start",r);return o&&(i=i.map(a=>a+"-"+o),t&&(i=i.concat(i.map(Gl)))),i}function so(e){return e.replace(/left|right|bottom|top/g,t=>o_[t])}function c_(e){return{top:0,right:0,bottom:0,left:0,...e}}function d_(e){return typeof e!="number"?c_(e):{top:e,right:e,bottom:e,left:e}}function uo(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function uc(e,t,n){let{reference:r,floating:o}=e;const i=Ot(t),a=Ag(t),l=Rg(a),s=Jt(t),u=i==="y",f=r.x+r.width/2-o.width/2,p=r.y+r.height/2-o.height/2,g=r[l]/2-o[l]/2;let c;switch(s){case"top":c={x:f,y:r.y-o.height};break;case"bottom":c={x:f,y:r.y+r.height};break;case"right":c={x:r.x+r.width,y:p};break;case"left":c={x:r.x-o.width,y:p};break;default:c={x:r.x,y:r.y}}switch(Er(t)){case"start":c[a]-=g*(n&&u?-1:1);break;case"end":c[a]+=g*(n&&u?-1:1);break}return c}const f_=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),s=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:f,y:p}=uc(u,r,s),g=r,c={},h=0;for(let m=0;m<l.length;m++){const{name:v,fn:b}=l[m],{x:_,y,data:S,reset:w}=await b({x:f,y:p,initialPlacement:r,placement:g,strategy:o,middlewareData:c,rects:u,platform:a,elements:{reference:e,floating:t}});f=_??f,p=y??p,c={...c,[v]:{...c[v],...S}},w&&h<=50&&(h++,typeof w=="object"&&(w.placement&&(g=w.placement),w.rects&&(u=w.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):w.rects),{x:f,y:p}=uc(u,g,s)),m=-1)}return{x:f,y:p,placement:g,strategy:o,middlewareData:c}};async function Eo(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:a,elements:l,strategy:s}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:g=!1,padding:c=0}=qn(t,e),h=d_(c),v=l[g?p==="floating"?"reference":"floating":p],b=uo(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:s})),_=p==="floating"?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},w=uo(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:_,offsetParent:y,strategy:s}):_);return{top:(b.top-w.top+h.top)/S.y,bottom:(w.bottom-b.bottom+h.bottom)/S.y,left:(b.left-w.left+h.left)/S.x,right:(w.right-b.right+h.right)/S.x}}const p_=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:l,platform:s,elements:u}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:c="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...v}=qn(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=Jt(o),_=Ot(l),y=Jt(l)===l,S=await(s.isRTL==null?void 0:s.isRTL(u.floating)),w=g||(y||!m?[so(l)]:l_(l)),C=h!=="none";!g&&C&&w.push(...u_(l,m,h,S));const k=[l,...w],L=await Eo(t,v),M=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&M.push(L[b]),p){const O=a_(o,a,S);M.push(L[O[0]],L[O[1]])}if(P=[...P,{placement:o,overflows:M}],!M.every(O=>O<=0)){var $,I;const O=((($=i.flip)==null?void 0:$.index)||0)+1,A=k[O];if(A&&(!(p==="alignment"?_!==Ot(A):!1)||P.every(K=>K.overflows[0]>0&&Ot(K.placement)===_)))return{data:{index:O,overflows:P},reset:{placement:A}};let N=(I=P.filter(Y=>Y.overflows[0]<=0).sort((Y,K)=>Y.overflows[1]-K.overflows[1])[0])==null?void 0:I.placement;if(!N)switch(c){case"bestFit":{var B;const Y=(B=P.filter(K=>{if(C){const ne=Ot(K.placement);return ne===_||ne==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(ne=>ne>0).reduce((ne,z)=>ne+z,0)]).sort((K,ne)=>K[1]-ne[1])[0])==null?void 0:B[0];Y&&(N=Y);break}case"initialPlacement":N=l;break}if(o!==N)return{reset:{placement:N}}}return{}}}};async function g_(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=Jt(n),l=Er(n),s=Ot(n)==="y",u=["left","top"].includes(a)?-1:1,f=i&&s?-1:1,p=qn(t,e);let{mainAxis:g,crossAxis:c,alignmentAxis:h}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof h=="number"&&(c=l==="end"?h*-1:h),s?{x:c*f,y:g*u}:{x:g*u,y:c*f}}const h_=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:a,middlewareData:l}=t,s=await g_(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:o+s.x,y:i+s.y,data:{...s,placement:a}}}}},m_=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:v=>{let{x:b,y:_}=v;return{x:b,y:_}}},...s}=qn(e,t),u={x:n,y:r},f=await Eo(t,s),p=Ot(Jt(o)),g=$g(p);let c=u[g],h=u[p];if(i){const v=g==="y"?"top":"left",b=g==="y"?"bottom":"right",_=c+f[v],y=c-f[b];c=sc(_,c,y)}if(a){const v=p==="y"?"top":"left",b=p==="y"?"bottom":"right",_=h+f[v],y=h-f[b];h=sc(_,h,y)}const m=l.fn({...t,[g]:c,[p]:h});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[g]:i,[p]:a}}}}}},v_=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:a,elements:l}=t,{apply:s=()=>{},...u}=qn(e,t),f=await Eo(t,u),p=Jt(o),g=Er(o),c=Ot(o)==="y",{width:h,height:m}=i.floating;let v,b;p==="top"||p==="bottom"?(v=p,b=g===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(b=p,v=g==="end"?"top":"bottom");const _=m-f.top-f.bottom,y=h-f.left-f.right,S=mn(m-f[v],_),w=mn(h-f[b],y),C=!t.middlewareData.shift;let k=S,L=w;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(L=y),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=_),C&&!g){const P=qe(f.left,0),$=qe(f.right,0),I=qe(f.top,0),B=qe(f.bottom,0);c?L=h-2*(P!==0||$!==0?P+$:qe(f.left,f.right)):k=m-2*(I!==0||B!==0?I+B:qe(f.top,f.bottom))}await s({...t,availableWidth:L,availableHeight:k});const M=await a.getDimensions(l.floating);return h!==M.width||m!==M.height?{reset:{rects:!0}}:{}}}};function Tg(e){const t=ht(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Et(e),i=o?e.offsetWidth:n,a=o?e.offsetHeight:r,l=hr(n)!==i||hr(r)!==a;return l&&(n=i,r=a),{width:n,height:r,$:l}}function Ls(e){return We(e)?e:e.contextElement}function kn(e){const t=Ls(e);if(!Et(t))return Ft(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Tg(t);let a=(i?hr(n.width):n.width)/r,l=(i?hr(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const b_=Ft(0);function Ng(e){const t=nt(e);return!Ms()||!t.visualViewport?b_:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function __(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==nt(e)?!1:t}function vn(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=Ls(e);let a=Ft(1);t&&(r?We(r)&&(a=kn(r)):a=kn(e));const l=__(i,n,r)?Ng(i):Ft(0);let s=(o.left+l.x)/a.x,u=(o.top+l.y)/a.y,f=o.width/a.x,p=o.height/a.y;if(i){const g=nt(i),c=r&&We(r)?nt(r):r;let h=g,m=Dl(h);for(;m&&r&&c!==h;){const v=kn(m),b=m.getBoundingClientRect(),_=ht(m),y=b.left+(m.clientLeft+parseFloat(_.paddingLeft))*v.x,S=b.top+(m.clientTop+parseFloat(_.paddingTop))*v.y;s*=v.x,u*=v.y,f*=v.x,p*=v.y,s+=y,u+=S,h=nt(m),m=Dl(h)}}return uo({width:f,height:p,x:s,y:u})}function Ds(e,t){const n=Fo(e).scrollLeft;return t?t.left+n:vn(Pt(e)).left+n}function Og(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:Ds(e,r)),i=r.top+t.scrollTop;return{x:o,y:i}}function y_(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",a=Pt(r),l=t?Co(t.floating):!1;if(r===a||l&&i)return n;let s={scrollLeft:0,scrollTop:0},u=Ft(1);const f=Ft(0),p=Et(r);if((p||!p&&!i)&&((Hn(r)!=="body"||Fr(a))&&(s=Fo(r)),Et(r))){const c=vn(r);u=kn(r),f.x=c.x+r.clientLeft,f.y=c.y+r.clientTop}const g=a&&!p&&!i?Og(a,s,!0):Ft(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x+g.x,y:n.y*u.y-s.scrollTop*u.y+f.y+g.y}}function w_(e){return Array.from(e.getClientRects())}function S_(e){const t=Pt(e),n=Fo(e),r=e.ownerDocument.body,o=qe(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=qe(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Ds(e);const l=-n.scrollTop;return ht(r).direction==="rtl"&&(a+=qe(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:l}}function x_(e,t){const n=nt(e),r=Pt(e),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,l=0,s=0;if(o){i=o.width,a=o.height;const u=Ms();(!u||u&&t==="fixed")&&(l=o.offsetLeft,s=o.offsetTop)}return{width:i,height:a,x:l,y:s}}function C_(e,t){const n=vn(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Et(e)?kn(e):Ft(1),a=e.clientWidth*i.x,l=e.clientHeight*i.y,s=o*i.x,u=r*i.y;return{width:a,height:l,x:s,y:u}}function cc(e,t,n){let r;if(t==="viewport")r=x_(e,n);else if(t==="document")r=S_(Pt(e));else if(We(t))r=C_(t,n);else{const o=Ng(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return uo(r)}function kg(e,t){const n=Xt(e);return n===t||!We(n)||Dn(n)?!1:ht(n).position==="fixed"||kg(n,t)}function F_(e,t){const n=t.get(e);if(n)return n;let r=gr(e,[],!1).filter(l=>We(l)&&Hn(l)!=="body"),o=null;const i=ht(e).position==="fixed";let a=i?Xt(e):e;for(;We(a)&&!Dn(a);){const l=ht(a),s=Is(a);!s&&l.position==="fixed"&&(o=null),(i?!s&&!o:!s&&l.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Fr(a)&&!s&&kg(e,a))?r=r.filter(f=>f!==a):o=l,a=Xt(a)}return t.set(e,r),r}function E_(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const a=[...n==="clippingAncestors"?Co(t)?[]:F_(t,this._c):[].concat(n),r],l=a[0],s=a.reduce((u,f)=>{const p=cc(t,f,o);return u.top=qe(p.top,u.top),u.right=mn(p.right,u.right),u.bottom=mn(p.bottom,u.bottom),u.left=qe(p.left,u.left),u},cc(t,l,o));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function P_(e){const{width:t,height:n}=Tg(e);return{width:t,height:n}}function $_(e,t,n){const r=Et(t),o=Pt(t),i=n==="fixed",a=vn(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const s=Ft(0);function u(){s.x=Ds(o)}if(r||!r&&!i)if((Hn(t)!=="body"||Fr(o))&&(l=Fo(t)),r){const c=vn(t,!0,i,t);s.x=c.x+t.clientLeft,s.y=c.y+t.clientTop}else o&&u();i&&!r&&o&&u();const f=o&&!r&&!i?Og(o,l):Ft(0),p=a.left+l.scrollLeft-s.x-f.x,g=a.top+l.scrollTop-s.y-f.y;return{x:p,y:g,width:a.width,height:a.height}}function si(e){return ht(e).position==="static"}function dc(e,t){if(!Et(e)||ht(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Pt(e)===n&&(n=n.ownerDocument.body),n}function Ig(e,t){const n=nt(e);if(Co(e))return n;if(!Et(e)){let o=Xt(e);for(;o&&!Dn(o);){if(We(o)&&!si(o))return o;o=Xt(o)}return n}let r=dc(e,t);for(;r&&t_(r)&&si(r);)r=dc(r,t);return r&&Dn(r)&&si(r)&&!Is(r)?n:r||n_(e)||n}const R_=async function(e){const t=this.getOffsetParent||Ig,n=this.getDimensions,r=await n(e.floating);return{reference:$_(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function A_(e){return ht(e).direction==="rtl"}const T_={convertOffsetParentRelativeRectToViewportRelativeRect:y_,getDocumentElement:Pt,getClippingRect:E_,getOffsetParent:Ig,getElementRects:R_,getClientRects:w_,getDimensions:P_,getScale:kn,isElement:We,isRTL:A_};function Mg(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function N_(e,t){let n=null,r;const o=Pt(e);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,s){l===void 0&&(l=!1),s===void 0&&(s=1),i();const u=e.getBoundingClientRect(),{left:f,top:p,width:g,height:c}=u;if(l||t(),!g||!c)return;const h=Ur(p),m=Ur(o.clientWidth-(f+g)),v=Ur(o.clientHeight-(p+c)),b=Ur(f),y={rootMargin:-h+"px "+-m+"px "+-v+"px "+-b+"px",threshold:qe(0,mn(1,s))||1};let S=!0;function w(C){const k=C[0].intersectionRatio;if(k!==s){if(!S)return a();k?a(!1,k):r=setTimeout(()=>{a(!1,1e-7)},1e3)}k===1&&!Mg(u,e.getBoundingClientRect())&&a(),S=!1}try{n=new IntersectionObserver(w,{...y,root:o.ownerDocument})}catch{n=new IntersectionObserver(w,y)}n.observe(e)}return a(!0),i}function O_(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:s=!1}=r,u=Ls(e),f=o||i?[...u?gr(u):[],...gr(t)]:[];f.forEach(b=>{o&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const p=u&&l?N_(u,n):null;let g=-1,c=null;a&&(c=new ResizeObserver(b=>{let[_]=b;_&&_.target===u&&c&&(c.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var y;(y=c)==null||y.observe(t)})),n()}),u&&!s&&c.observe(u),c.observe(t));let h,m=s?vn(e):null;s&&v();function v(){const b=vn(e);m&&!Mg(m,b)&&n(),m=b,h=requestAnimationFrame(v)}return n(),()=>{var b;f.forEach(_=>{o&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),p==null||p(),(b=c)==null||b.disconnect(),c=null,s&&cancelAnimationFrame(h)}}const ui=Eo,k_=h_,I_=m_,M_=p_,L_=v_,D_=(e,t,n)=>{const r=new Map,o={platform:T_,...n},i={...o.platform,_c:r};return f_(e,t,{...o,platform:i})};var G_=typeof document<"u",V_=function(){},Xr=G_?mt:V_;function co(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!co(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!co(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Lg(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function fc(e,t){const n=Lg(e);return Math.round(t*n)/n}function ci(e){const t=D(e);return Xr(()=>{t.current=e}),t}function B_(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:s,open:u}=e,[f,p]=T({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,c]=T(r);co(g,r)||c(r);const[h,m]=T(null),[v,b]=T(null),_=te(K=>{K!==C.current&&(C.current=K,m(K))},[]),y=te(K=>{K!==k.current&&(k.current=K,b(K))},[]),S=i||h,w=a||v,C=D(null),k=D(null),L=D(f),M=s!=null,P=ci(s),$=ci(o),I=ci(u),B=te(()=>{if(!C.current||!k.current)return;const K={placement:t,strategy:n,middleware:g};$.current&&(K.platform=$.current),D_(C.current,k.current,K).then(ne=>{const z={...ne,isPositioned:I.current!==!1};O.current&&!co(L.current,z)&&(L.current=z,Ve(()=>{p(z)}))})},[g,t,n,$,I]);Xr(()=>{u===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,p(K=>({...K,isPositioned:!1})))},[u]);const O=D(!1);Xr(()=>(O.current=!0,()=>{O.current=!1}),[]),Xr(()=>{if(S&&(C.current=S),w&&(k.current=w),S&&w){if(P.current)return P.current(S,w,B);B()}},[S,w,B,P,M]);const A=G(()=>({reference:C,floating:k,setReference:_,setFloating:y}),[_,y]),N=G(()=>({reference:S,floating:w}),[S,w]),Y=G(()=>{const K={position:n,left:0,top:0};if(!N.floating)return K;const ne=fc(N.floating,f.x),z=fc(N.floating,f.y);return l?{...K,transform:"translate("+ne+"px, "+z+"px)",...Lg(N.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:z}},[n,l,N.floating,f.x,f.y]);return G(()=>({...f,update:B,refs:A,elements:N,floatingStyles:Y}),[f,B,A,N,Y])}const Dg=(e,t)=>({...k_(e),options:[e,t]}),j_=(e,t)=>({...I_(e),options:[e,t]}),H_=(e,t)=>({...M_(e),options:[e,t]}),q_=(e,t)=>({...L_(e),options:[e,t]}),Gg={...ro},z_=Gg.useInsertionEffect,U_=z_||(e=>e());function Vg(e){const t=D(()=>{});return U_(()=>{t.current=e}),te(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}var Vl=typeof document<"u"?mt:U;let pc=!1,W_=0;const gc=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+W_++;function K_(){const[e,t]=T(()=>pc?gc():void 0);return Vl(()=>{e==null&&t(gc())},[]),U(()=>{pc=!0},[]),e}const Y_=Gg.useId,X_=Y_||K_;function J_(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const Q_=he(null),Z_=he(null),ey=()=>{var e;return((e=oe(Q_))==null?void 0:e.id)||null},ty=()=>oe(Z_),ny="data-floating-ui-focusable";function ry(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=X_(),i=D({}),[a]=T(()=>J_()),l=ey()!=null,[s,u]=T(r.reference),f=Vg((c,h,m)=>{i.current.openEvent=c?h:void 0,a.emit("openchange",{open:c,event:h,reason:m,nested:l}),n==null||n(c,h,m)}),p=G(()=>({setPositionReference:u}),[]),g=G(()=>({reference:s||r.reference||null,floating:r.floating||null,domReference:r.reference}),[s,r.reference,r.floating]);return G(()=>({dataRef:i,open:t,onOpenChange:f,elements:g,events:a,floatingId:o,refs:p}),[t,f,g,a,o,p])}function oy(e){e===void 0&&(e={});const{nodeId:t}=e,n=ry({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[i,a]=T(null),[l,s]=T(null),f=(o==null?void 0:o.domReference)||i,p=D(null),g=ty();Vl(()=>{f&&(p.current=f)},[f]);const c=B_({...e,elements:{...o,...l&&{reference:l}}}),h=te(y=>{const S=We(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),contextElement:y}:y;s(S),c.refs.setReference(S)},[c.refs]),m=te(y=>{(We(y)||y===null)&&(p.current=y,a(y)),(We(c.refs.reference.current)||c.refs.reference.current===null||y!==null&&!We(y))&&c.refs.setReference(y)},[c.refs]),v=G(()=>({...c.refs,setReference:m,setPositionReference:h,domReference:p}),[c.refs,m,h]),b=G(()=>({...c.elements,domReference:f}),[c.elements,f]),_=G(()=>({...c,...r,refs:v,elements:b,nodeId:t}),[c,v,b,t,r]);return Vl(()=>{r.dataRef.current.floatingContext=_;const y=g==null?void 0:g.nodesRef.current.find(S=>S.id===t);y&&(y.context=_)}),G(()=>({...c,context:_,refs:v,elements:b}),[c,v,b,_])}const hc="active",mc="selected";function di(e,t,n){const r=new Map,o=n==="item";let i=e;if(o&&e){const{[hc]:a,[mc]:l,...s}=e;i=s}return{...n==="floating"&&{tabIndex:-1,[ny]:""},...i,...t.map(a=>{const l=a?a[n]:null;return typeof l=="function"?e?l(e):null:l}).concat(e).reduce((a,l)=>(l&&Object.entries(l).forEach(s=>{let[u,f]=s;if(!(o&&[hc,mc].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof f=="function"){var p;(p=r.get(u))==null||p.push(f),a[u]=function(){for(var g,c=arguments.length,h=new Array(c),m=0;m<c;m++)h[m]=arguments[m];return(g=r.get(u))==null?void 0:g.map(v=>v(...h)).find(v=>v!==void 0)}}}else a[u]=f}),a),{})}}function iy(e){e===void 0&&(e=[]);const t=e.map(l=>l==null?void 0:l.reference),n=e.map(l=>l==null?void 0:l.floating),r=e.map(l=>l==null?void 0:l.item),o=te(l=>di(l,e,"reference"),t),i=te(l=>di(l,e,"floating"),n),a=te(l=>di(l,e,"item"),r);return G(()=>({getReferenceProps:o,getFloatingProps:i,getItemProps:a}),[o,i,a])}function vc(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const ay=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:o,offset:i=0,index:a=0,minItemsVisible:l=4,referenceOverflowThreshold:s=0,scrollRef:u,...f}=qn(e,t),{rects:p,elements:{floating:g}}=t,c=n.current[a],h=(u==null?void 0:u.current)||g,m=g.clientTop||h.clientTop,v=g.clientTop!==0,b=h.clientTop!==0,_=g===h;if(!c)return{};const y={...t,...await Dg(-c.offsetTop-g.clientTop-p.reference.height/2-c.offsetHeight/2-i).fn(t)},S=await ui(vc(y,h.scrollHeight+m+g.clientTop),f),w=await ui(y,{...f,elementContext:"reference"}),C=qe(0,S.top),k=y.y+C,P=(h.scrollHeight>h.clientHeight?$=>$:hr)(qe(0,h.scrollHeight+(v&&_||b?m*2:0)-C-qe(0,S.bottom)));if(h.style.maxHeight=P+"px",h.scrollTop=C,o){const $=h.offsetHeight<c.offsetHeight*mn(l,n.current.length)-1||w.top>=-s||w.bottom>=-s;Ve(()=>o($))}return r&&(r.current=await ui(vc({...y,y:k},h.offsetHeight+m+g.clientTop),f)),{y:k}}});function ly(e,t){const{open:n,elements:r}=e,{enabled:o=!0,overflowRef:i,scrollRef:a,onChange:l}=t,s=Vg(l),u=D(!1),f=D(null),p=D(null);U(()=>{if(!o)return;function c(m){if(m.ctrlKey||!h||i.current==null)return;const v=m.deltaY,b=i.current.top>=-.5,_=i.current.bottom>=-.5,y=h.scrollHeight-h.clientHeight,S=v<0?-1:1,w=v<0?"max":"min";h.scrollHeight<=h.clientHeight||(!b&&v>0||!_&&v<0?(m.preventDefault(),Ve(()=>{s(C=>C+Math[w](v,y*S))})):/firefox/i.test(r_())&&(h.scrollTop+=v))}const h=(a==null?void 0:a.current)||r.floating;if(n&&h)return h.addEventListener("wheel",c),requestAnimationFrame(()=>{f.current=h.scrollTop,i.current!=null&&(p.current={...i.current})}),()=>{f.current=null,p.current=null,h.removeEventListener("wheel",c)}},[o,n,r.floating,i,a,s]);const g=G(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const c=(a==null?void 0:a.current)||r.floating;if(!(!i.current||!c||!u.current)){if(f.current!==null){const h=c.scrollTop-f.current;(i.current.bottom<-.5&&h<-1||i.current.top<-.5&&h>1)&&Ve(()=>s(m=>m+h))}requestAnimationFrame(()=>{f.current=c.scrollTop})}}}),[r.floating,s,i,a]);return G(()=>o?{floating:g}:{},[o,g])}let zn=he({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});zn.displayName="FloatingContext";let Gs=he(null);Gs.displayName="PlacementContext";function Bg(e){return G(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function jg(){return oe(zn).setReference}function sy(){return oe(zn).getReferenceProps}function Hg(){let{getFloatingProps:e,slot:t}=oe(zn);return te((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function qg(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=oe(Gs),n=G(()=>e,[JSON.stringify(e,(o,i)=>{var a;return(a=i==null?void 0:i.outerHTML)!=null?a:i})]);fe(()=>{t==null||t(n??null)},[t,n]);let r=oe(zn);return G(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let bc=4;function zg({children:e,enabled:t=!0}){let[n,r]=T(null),[o,i]=T(0),a=D(null),[l,s]=T(null);uy(l);let u=t&&n!==null&&l!==null,{to:f="bottom",gap:p=0,offset:g=0,padding:c=0,inner:h}=cy(n,l),[m,v="center"]=f.split(" ");fe(()=>{u&&i(0)},[u]);let{refs:b,floatingStyles:_,context:y}=oy({open:u,placement:m==="selection"?v==="center"?"bottom":`bottom-${v}`:v==="center"?`${m}`:`${m}-${v}`,strategy:"absolute",transform:!1,middleware:[Dg({mainAxis:m==="selection"?0:p,crossAxis:g}),j_({padding:c}),m!=="selection"&&H_({padding:c}),m==="selection"&&h?ay({...h,padding:c,overflowRef:a,offset:o,minItemsVisible:bc,referenceOverflowThreshold:c,onFallbackChange($){var I,B;if(!$)return;let O=y.elements.floating;if(!O)return;let A=parseFloat(getComputedStyle(O).scrollPaddingBottom)||0,N=Math.min(bc,O.childElementCount),Y=0,K=0;for(let ne of(B=(I=y.elements.floating)==null?void 0:I.childNodes)!=null?B:[])if(Xe(ne)){let z=ne.offsetTop,ae=z+ne.clientHeight+A,ue=O.scrollTop,X=ue+O.clientHeight;if(z>=ue&&ae<=X)N--;else{K=Math.max(0,Math.min(ae,X)-Math.max(z,ue)),Y=ne.clientHeight;break}}N>=1&&i(ne=>{let z=Y*N-K+A;return ne>=z?ne:z})}}):null,q_({padding:c,apply({availableWidth:$,availableHeight:I,elements:B}){Object.assign(B.floating.style,{overflow:"auto",maxWidth:`${$}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${I}px)`})}})].filter(Boolean),whileElementsMounted:O_}),[S=m,w=v]=y.placement.split("-");m==="selection"&&(S="selection");let C=G(()=>({anchor:[S,w].filter(Boolean).join(" ")}),[S,w]),k=ly(y,{overflowRef:a,onChange:i}),{getReferenceProps:L,getFloatingProps:M}=iy([k]),P=V($=>{s($),b.setFloating($)});return Le(Gs.Provider,{value:r},Le(zn.Provider,{value:{setFloating:P,setReference:b.setReference,styles:_,getReferenceProps:L,getFloatingProps:M,slot:C}},e))}function uy(e){fe(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,r=parseFloat(n);if(isNaN(r))return;let o=parseInt(n);isNaN(o)||r!==o&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function cy(e,t){var n,r,o;let i=fi((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),a=fi((r=e==null?void 0:e.offset)!=null?r:"var(--anchor-offset, 0)",t),l=fi((o=e==null?void 0:e.padding)!=null?o:"var(--anchor-padding, 0)",t);return{...e,gap:i,offset:a,padding:l}}function fi(e,t,n=void 0){let r=en(),o=V((s,u)=>{if(s==null)return[n,null];if(typeof s=="number")return[s,null];if(typeof s=="string"){if(!u)return[n,null];let f=_c(s,u);return[f,p=>{let g=Ug(s);{let c=g.map(h=>window.getComputedStyle(u).getPropertyValue(h));r.requestAnimationFrame(function h(){r.nextFrame(h);let m=!1;for(let[b,_]of g.entries()){let y=window.getComputedStyle(u).getPropertyValue(_);if(c[b]!==y){c[b]=y,m=!0;break}}if(!m)return;let v=_c(s,u);f!==v&&(p(v),f=v)})}return r.dispose}]}return[n,null]}),i=G(()=>o(e,t)[0],[e,t]),[a=i,l]=T();return fe(()=>{let[s,u]=o(e,t);if(l(s),!!u)return u(l)},[e,t]),a}function Ug(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),o=t[1].slice(n+1).trim();return o?[r,...Ug(o)]:[r]}return[]}function _c(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}function dy({children:e,freeze:t}){let n=fo(t,e);return E.createElement(E.Fragment,null,n)}function fo(e,t){let[n,r]=T(t);return!e&&n!==t&&r(t),e?n:t}let Po=he(null);Po.displayName="OpenClosedContext";var Ne=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Ne||{});function yn(){return oe(Po)}function $o({value:e,children:t}){return E.createElement(Po.Provider,{value:e},t)}function Wg({children:e}){return E.createElement(Po.Provider,{value:null},e)}function fy(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let St=[];fy(()=>{function e(t){if(!pt(t.target)||t.target===document.body||St[0]===t.target)return;let n=t.target;n=n.closest(lo),St.unshift(n??t.target),St=St.filter(r=>r!=null&&r.isConnected),St.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function py(e){throw new Error("Unexpected object: "+e)}var le=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(le||{});function Nn(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),o=r??-1;switch(e.focus){case 0:{for(let i=0;i<n.length;++i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 1:{o===-1&&(o=n.length);for(let i=o-1;i>=0;--i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 2:{for(let i=o+1;i<n.length;++i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 3:{for(let i=n.length-1;i>=0;--i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 4:{for(let i=0;i<n.length;++i)if(t.resolveId(n[i],i,n)===e.id)return i;return r}case 5:return null;default:py(e)}}var Vs=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(Vs||{});function Ro(e){let t=V(e),n=D(!1);U(()=>(n.current=!1,()=>{n.current=!0,wr(()=>{n.current&&t()})}),[t])}function gy(){let e=typeof document>"u";return"useSyncExternalStore"in ro?(t=>t.useSyncExternalStore)(ro)(()=>()=>{},()=>!1,()=>!e):!1}function Pr(){let e=gy(),[t,n]=T(gn.isHandoffComplete);return t&&gn.isHandoffComplete===!1&&n(!1),U(()=>{t!==!0&&n(!0)},[t]),U(()=>gn.handoff(),[]),e?!1:t}let Kg=he(!1);function hy(){return oe(Kg)}function yc(e){return E.createElement(Kg.Provider,{value:e.force},e.children)}function my(e){let t=hy(),n=oe(Xg),[r,o]=T(()=>{var i;if(!t&&n!==null)return(i=n.current)!=null?i:null;if(gn.isServer)return null;let a=e==null?void 0:e.getElementById("headlessui-portal-root");if(a)return a;if(e===null)return null;let l=e.createElement("div");return l.setAttribute("id","headlessui-portal-root"),e.body.appendChild(l)});return U(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),U(()=>{t||n!==null&&o(n.current)},[n,o,t]),r}let Yg=ee,vy=pe(function(e,t){let{ownerDocument:n=null,...r}=e,o=D(null),i=Ce(sg(c=>{o.current=c}),t),a=Lt(o),l=n??a,s=my(l),[u]=T(()=>{var c;return gn.isServer?null:(c=l==null?void 0:l.createElement("div"))!=null?c:null}),f=oe(Bl),p=Pr();fe(()=>{!s||!u||s.contains(u)||(u.setAttribute("data-headlessui-portal",""),s.appendChild(u))},[s,u]),fe(()=>{if(u&&f)return f.register(u)},[f,u]),Ro(()=>{var c;!s||!u||(xs(u)&&s.contains(u)&&s.removeChild(u),s.childNodes.length<=0&&((c=s.parentElement)==null||c.removeChild(s)))});let g=me();return p?!s||!u?null:ho(g({ourProps:{ref:i},theirProps:r,slot:{},defaultTag:Yg,name:"Portal"}),u):null});function by(e,t){let n=Ce(t),{enabled:r=!0,ownerDocument:o,...i}=e,a=me();return r?E.createElement(vy,{...i,ownerDocument:o,ref:n}):a({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:Yg,name:"Portal"})}let _y=ee,Xg=he(null);function yy(e,t){let{target:n,...r}=e,o={ref:Ce(t)},i=me();return E.createElement(Xg.Provider,{value:n},i({ourProps:o,theirProps:r,defaultTag:_y,name:"Popover.Group"}))}let Bl=he(null);function wy(){let e=oe(Bl),t=D([]),n=V(i=>(t.current.push(i),e&&e.register(i),()=>r(i))),r=V(i=>{let a=t.current.indexOf(i);a!==-1&&t.current.splice(a,1),e&&e.unregister(i)}),o=G(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,G(()=>function({children:i}){return E.createElement(Bl.Provider,{value:o},i)},[o])]}let Sy=pe(by),Jg=pe(yy),Bs=Object.assign(Sy,{Group:Jg});var xy=Object.defineProperty,Cy=(e,t,n)=>t in e?xy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wc=(e,t,n)=>(Cy(e,typeof t!="symbol"?t+"":t,n),n),ge=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ge||{}),et=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(et||{}),Ut=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(Ut||{}),Qg=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.SetTyping=3]="SetTyping",e[e.RegisterOption=4]="RegisterOption",e[e.UnregisterOption=5]="UnregisterOption",e[e.DefaultToFirstOption=6]="DefaultToFirstOption",e[e.SetActivationTrigger=7]="SetActivationTrigger",e[e.UpdateVirtualConfiguration=8]="UpdateVirtualConfiguration",e[e.SetInputElement=9]="SetInputElement",e[e.SetButtonElement=10]="SetButtonElement",e[e.SetOptionsElement=11]="SetOptionsElement",e))(Qg||{});function pi(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=t(e.options.slice()),o=r.length>0&&r[0].dataRef.current.order!==null?r.sort((a,l)=>a.dataRef.current.order-l.dataRef.current.order):zt(r,a=>a.dataRef.current.domRef.current),i=n?o.indexOf(n):null;return i===-1&&(i=null),{options:o,activeOptionIndex:i}}let Fy={1(e){var t;return(t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,__demoMode:!1}},0(e){var t,n;if((t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===0)return e;if((n=e.dataRef.current)!=null&&n.value){let r=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(r!==-1)return{...e,activeOptionIndex:r,comboboxState:0,__demoMode:!1}}return{...e,comboboxState:0,__demoMode:!1}},3(e,t){return e.isTyping===t.isTyping?e:{...e,isTyping:t.isTyping}},2(e,t){var n,r,o,i;if((n=e.dataRef.current)!=null&&n.disabled||e.optionsElement&&!((r=e.dataRef.current)!=null&&r.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let{options:u,disabled:f}=e.virtual,p=t.focus===le.Specific?t.idx:Nn(t,{resolveItems:()=>u,resolveActiveIndex:()=>{var c,h;return(h=(c=e.activeOptionIndex)!=null?c:u.findIndex(m=>!f(m)))!=null?h:null},resolveDisabled:f,resolveId(){throw new Error("Function not implemented.")}}),g=(o=t.trigger)!=null?o:2;return e.activeOptionIndex===p&&e.activationTrigger===g?e:{...e,activeOptionIndex:p,activationTrigger:g,isTyping:!1,__demoMode:!1}}let a=pi(e);if(a.activeOptionIndex===null){let u=a.options.findIndex(f=>!f.dataRef.current.disabled);u!==-1&&(a.activeOptionIndex=u)}let l=t.focus===le.Specific?t.idx:Nn(t,{resolveItems:()=>a.options,resolveActiveIndex:()=>a.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled}),s=(i=t.trigger)!=null?i:2;return e.activeOptionIndex===l&&e.activationTrigger===s?e:{...e,...a,isTyping:!1,activeOptionIndex:l,activationTrigger:s,__demoMode:!1}},4:(e,t)=>{var n,r,o,i;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:[...e.options,t.payload]};let a=t.payload,l=pi(e,u=>(u.push(a),u));e.activeOptionIndex===null&&(o=(r=e.dataRef.current).isSelected)!=null&&o.call(r,t.payload.dataRef.current.value)&&(l.activeOptionIndex=l.options.indexOf(a));let s={...e,...l,activationTrigger:2};return(i=e.dataRef.current)!=null&&i.__demoMode&&e.dataRef.current.value===void 0&&(s.activeOptionIndex=0),s},5:(e,t)=>{var n;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:e.options.filter(o=>o.id!==t.id)};let r=pi(e,o=>{let i=o.findIndex(a=>a.id===t.id);return i!==-1&&o.splice(i,1),o});return{...e,...r,activationTrigger:2}},6:(e,t)=>e.defaultToFirstOption===t.value?e:{...e,defaultToFirstOption:t.value},7:(e,t)=>e.activationTrigger===t.trigger?e:{...e,activationTrigger:t.trigger},8:(e,t)=>{var n,r;if(e.virtual===null)return{...e,virtual:{options:t.options,disabled:(n=t.disabled)!=null?n:()=>!1}};if(e.virtual.options===t.options&&e.virtual.disabled===t.disabled)return e;let o=e.activeOptionIndex;if(e.activeOptionIndex!==null){let i=t.options.indexOf(e.virtual.options[e.activeOptionIndex]);i!==-1?o=i:o=null}return{...e,activeOptionIndex:o,virtual:{options:t.options,disabled:(r=t.disabled)!=null?r:()=>!1}}},9:(e,t)=>e.inputElement===t.element?e:{...e,inputElement:t.element},10:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},11:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element}},Ey=class Zg extends Ps{constructor(t){super(t),wc(this,"actions",{onChange:n=>{let{onChange:r,compare:o,mode:i,value:a}=this.state.dataRef.current;return xe(i,{0:()=>r==null?void 0:r(n),1:()=>{let l=a.slice(),s=l.findIndex(u=>o(u,n));return s===-1?l.push(n):l.splice(s,1),r==null?void 0:r(l)}})},registerOption:(n,r)=>(this.send({type:4,payload:{id:n,dataRef:r}}),()=>{this.state.activeOptionIndex===this.state.dataRef.current.calculateIndex(r.current.value)&&this.send({type:6,value:!0}),this.send({type:5,id:n})}),goToOption:(n,r)=>(this.send({type:6,value:!1}),this.send({type:2,...n,trigger:r})),setIsTyping:n=>{this.send({type:3,isTyping:n})},closeCombobox:()=>{var n,r;this.send({type:1}),this.send({type:6,value:!1}),(r=(n=this.state.dataRef.current).onClose)==null||r.call(n)},openCombobox:()=>{this.send({type:0}),this.send({type:6,value:!0})},setActivationTrigger:n=>{this.send({type:7,trigger:n})},selectActiveOption:()=>{let n=this.selectors.activeOptionIndex(this.state);if(n!==null){if(this.actions.setIsTyping(!1),this.state.virtual)this.actions.onChange(this.state.virtual.options[n]);else{let{dataRef:r}=this.state.options[n];this.actions.onChange(r.current.value)}this.actions.goToOption({focus:le.Specific,idx:n})}},setInputElement:n=>{this.send({type:9,element:n})},setButtonElement:n=>{this.send({type:10,element:n})},setOptionsElement:n=>{this.send({type:11,element:n})}}),wc(this,"selectors",{activeDescendantId:n=>{var r,o;let i=this.selectors.activeOptionIndex(n);if(i!==null)return n.virtual?(o=n.options.find(a=>!a.dataRef.current.disabled&&n.dataRef.current.compare(a.dataRef.current.value,n.virtual.options[i])))==null?void 0:o.id:(r=n.options[i])==null?void 0:r.id},activeOptionIndex:n=>{if(n.defaultToFirstOption&&n.activeOptionIndex===null&&(n.virtual?n.virtual.options.length>0:n.options.length>0)){if(n.virtual){let{options:o,disabled:i}=n.virtual,a=o.findIndex(l=>{var s;return!((s=i==null?void 0:i(l))!=null&&s)});if(a!==-1)return a}let r=n.options.findIndex(o=>!o.dataRef.current.disabled);if(r!==-1)return r}return n.activeOptionIndex},activeOption:n=>{var r,o;let i=this.selectors.activeOptionIndex(n);return i===null?null:n.virtual?n.virtual.options[i??0]:(o=(r=n.options[i])==null?void 0:r.dataRef.current.value)!=null?o:null},isActive:(n,r,o)=>{var i;let a=this.selectors.activeOptionIndex(n);return a===null?!1:n.virtual?a===n.dataRef.current.calculateIndex(r):((i=n.options[a])==null?void 0:i.id)===o},shouldScrollIntoView:(n,r,o)=>!(n.virtual||n.__demoMode||n.comboboxState!==0||n.activationTrigger===0||!this.selectors.isActive(n,r,o))});{let n=this.state.id,r=jn.get(null);this.disposables.add(r.on($s.Push,o=>{!r.selectors.isTop(o,n)&&this.state.comboboxState===0&&this.actions.closeCombobox()})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}}static new({id:t,virtual:n=null,__demoMode:r=!1}){var o;return new Zg({id:t,dataRef:{current:{}},comboboxState:r?0:1,isTyping:!1,options:[],virtual:n?{options:n.options,disabled:(o=n.disabled)!=null?o:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:r})}reduce(t,n){return xe(n.type,Fy,t,n)}};const eh=he(null);function $r(e){let t=oe(eh);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,th),n}return t}function th({id:e,virtual:t=null,__demoMode:n=!1}){let r=G(()=>Ey.new({id:e,virtual:t,__demoMode:n}),[]);return Ro(()=>r.dispose()),r}let mr=he(null);mr.displayName="ComboboxDataContext";function Un(e){let t=oe(mr);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Un),n}return t}let nh=he(null);function Py(e){let t=$r("VirtualProvider"),n=Un("VirtualProvider"),{options:r}=n.virtual,o=ye(t,c=>c.optionsElement),[i,a]=G(()=>{let c=o;if(!c)return[0,0];let h=window.getComputedStyle(c);return[parseFloat(h.paddingBlockStart||h.paddingTop),parseFloat(h.paddingBlockEnd||h.paddingBottom)]},[o]),l=gb({enabled:r.length!==0,scrollPaddingStart:i,scrollPaddingEnd:a,count:r.length,estimateSize(){return 40},getScrollElement(){return t.state.optionsElement},overscan:12}),[s,u]=T(0);fe(()=>{u(c=>c+1)},[r]);let f=l.getVirtualItems(),p=ye(t,c=>c.activationTrigger===Ut.Pointer),g=ye(t,t.selectors.activeOptionIndex);return f.length===0?null:E.createElement(nh.Provider,{value:l},E.createElement("div",{style:{position:"relative",width:"100%",height:`${l.getTotalSize()}px`},ref:c=>{c&&(p||g!==null&&r.length>g&&l.scrollToIndex(g))}},f.map(c=>{var h;return E.createElement(ee,{key:c.key},E.cloneElement((h=e.children)==null?void 0:h.call(e,{...e.slot,option:r[c.index]}),{key:`${s}-${c.key}`,"data-index":c.index,"aria-setsize":r.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let $y=ee;function Ry(e,t){let n=Pe(),r=tn(),{value:o,defaultValue:i,onChange:a,form:l,name:s,by:u,invalid:f=!1,disabled:p=r||!1,onClose:g,__demoMode:c=!1,multiple:h=!1,immediate:m=!1,virtual:v=null,nullable:b,..._}=e,y=Zp(i),[S=h?[]:void 0,w]=Qp(o,a,y),C=th({id:n,virtual:v,__demoMode:c}),k=D({static:!1,hold:!1}),L=gg(u),M=V(q=>v?u===null?v.options.indexOf(q):v.options.findIndex(ce=>L(ce,q)):C.state.options.findIndex(ce=>L(ce.dataRef.current.value,q))),P=te(q=>xe(B.mode,{[et.Multi]:()=>S.some(ce=>L(ce,q)),[et.Single]:()=>L(S,q)}),[S]),$=ye(C,q=>q.virtual),I=V(()=>g==null?void 0:g()),B=G(()=>({__demoMode:c,immediate:m,optionsPropsRef:k,value:S,defaultValue:y,disabled:p,invalid:f,mode:h?et.Multi:et.Single,virtual:v?$:null,onChange:w,isSelected:P,calculateIndex:M,compare:L,onClose:I}),[S,y,p,f,h,w,P,c,C,v,$,I]);fe(()=>{var q;v&&C.send({type:Qg.UpdateVirtualConfiguration,options:v.options,disabled:(q=v.disabled)!=null?q:null})},[v,v==null?void 0:v.options,v==null?void 0:v.disabled]),fe(()=>{C.state.dataRef.current=B},[B]);let[O,A,N,Y]=ye(C,q=>[q.comboboxState,q.buttonElement,q.inputElement,q.optionsElement]),K=jn.get(null),ne=ye(K,te(q=>K.selectors.isTop(q,n),[K,n]));Ns(ne,[A,N,Y],()=>C.actions.closeCombobox());let z=ye(C,C.selectors.activeOptionIndex),ae=ye(C,C.selectors.activeOption),ue=G(()=>({open:O===ge.Open,disabled:p,invalid:f,activeIndex:z,activeOption:ae,value:S}),[B,p,S,f,ae,O]),[X,H]=Es(),we=t===null?{}:{ref:t},_e=te(()=>{if(y!==void 0)return w==null?void 0:w(y)},[w,y]),W=me();return E.createElement(H,{value:X,props:{htmlFor:N==null?void 0:N.id},slot:{open:O===ge.Open,disabled:p}},E.createElement(zg,null,E.createElement(mr.Provider,{value:B},E.createElement(eh.Provider,{value:C},E.createElement($o,{value:xe(O,{[ge.Open]:Ne.Open,[ge.Closed]:Ne.Closed})},s!=null&&E.createElement(og,{disabled:p,data:S!=null?{[s]:S}:{},form:l,onReset:_e}),W({ourProps:we,theirProps:_,slot:ue,defaultTag:$y,name:"Combobox"}))))))}let Ay="input";function Ty(e,t){var n,r;let o=$r("Combobox.Input"),i=Un("Combobox.Input"),a=Pe(),l=xr(),{id:s=l||`headlessui-combobox-input-${a}`,onChange:u,displayValue:f,disabled:p=i.disabled||!1,autoFocus:g=!1,type:c="text",...h}=e,[m]=ye(o,H=>[H.inputElement]),v=D(null),b=Ce(v,t,jg(),o.actions.setInputElement),_=Lt(m),[y,S]=ye(o,H=>[H.comboboxState,H.isTyping]),w=en(),C=V(()=>{o.actions.onChange(null),o.state.optionsElement&&(o.state.optionsElement.scrollTop=0),o.actions.goToOption({focus:le.Nothing})}),k=G(()=>{var H;return typeof f=="function"&&i.value!==void 0?(H=f(i.value))!=null?H:"":typeof i.value=="string"?i.value:""},[i.value,f]);pr(([H,we],[_e,W])=>{if(o.state.isTyping)return;let q=v.current;q&&((W===ge.Open&&we===ge.Closed||H!==_e)&&(q.value=H),requestAnimationFrame(()=>{if(o.state.isTyping||!q||(_==null?void 0:_.activeElement)!==q)return;let{selectionStart:ce,selectionEnd:ve}=q;Math.abs((ve??0)-(ce??0))===0&&ce===0&&q.setSelectionRange(q.value.length,q.value.length)}))},[k,y,_,S]),pr(([H],[we])=>{if(H===ge.Open&&we===ge.Closed){if(o.state.isTyping)return;let _e=v.current;if(!_e)return;let W=_e.value,{selectionStart:q,selectionEnd:ce,selectionDirection:ve}=_e;_e.value="",_e.value=W,ve!==null?_e.setSelectionRange(q,ce,ve):_e.setSelectionRange(q,ce)}},[y]);let L=D(!1),M=V(()=>{L.current=!0}),P=V(()=>{w.nextFrame(()=>{L.current=!1})}),$=V(H=>{switch(o.actions.setIsTyping(!0),H.key){case re.Enter:if(o.state.comboboxState!==ge.Open||L.current)return;if(H.preventDefault(),H.stopPropagation(),o.selectors.activeOptionIndex(o.state)===null){o.actions.closeCombobox();return}o.actions.selectActiveOption(),i.mode===et.Single&&o.actions.closeCombobox();break;case re.ArrowDown:return H.preventDefault(),H.stopPropagation(),xe(o.state.comboboxState,{[ge.Open]:()=>o.actions.goToOption({focus:le.Next}),[ge.Closed]:()=>o.actions.openCombobox()});case re.ArrowUp:return H.preventDefault(),H.stopPropagation(),xe(o.state.comboboxState,{[ge.Open]:()=>o.actions.goToOption({focus:le.Previous}),[ge.Closed]:()=>{Ve(()=>o.actions.openCombobox()),i.value||o.actions.goToOption({focus:le.Last})}});case re.Home:if(H.shiftKey)break;return H.preventDefault(),H.stopPropagation(),o.actions.goToOption({focus:le.First});case re.PageUp:return H.preventDefault(),H.stopPropagation(),o.actions.goToOption({focus:le.First});case re.End:if(H.shiftKey)break;return H.preventDefault(),H.stopPropagation(),o.actions.goToOption({focus:le.Last});case re.PageDown:return H.preventDefault(),H.stopPropagation(),o.actions.goToOption({focus:le.Last});case re.Escape:return o.state.comboboxState!==ge.Open?void 0:(H.preventDefault(),o.state.optionsElement&&!i.optionsPropsRef.current.static&&H.stopPropagation(),i.mode===et.Single&&i.value===null&&C(),o.actions.closeCombobox());case re.Tab:if(o.state.comboboxState!==ge.Open)return;i.mode===et.Single&&o.state.activationTrigger!==Ut.Focus&&o.actions.selectActiveOption(),o.actions.closeCombobox();break}}),I=V(H=>{u==null||u(H),i.mode===et.Single&&H.target.value===""&&C(),o.actions.openCombobox()}),B=V(H=>{var we,_e,W;let q=(we=H.relatedTarget)!=null?we:St.find(ce=>ce!==H.currentTarget);if(!((_e=o.state.optionsElement)!=null&&_e.contains(q))&&!((W=o.state.buttonElement)!=null&&W.contains(q))&&o.state.comboboxState===ge.Open)return H.preventDefault(),i.mode===et.Single&&i.value===null&&C(),o.actions.closeCombobox()}),O=V(H=>{var we,_e,W;let q=(we=H.relatedTarget)!=null?we:St.find(ce=>ce!==H.currentTarget);(_e=o.state.buttonElement)!=null&&_e.contains(q)||(W=o.state.optionsElement)!=null&&W.contains(q)||i.disabled||i.immediate&&o.state.comboboxState!==ge.Open&&w.microTask(()=>{Ve(()=>o.actions.openCombobox()),o.actions.setActivationTrigger(Ut.Focus)})}),A=_n(),N=bo(),{isFocused:Y,focusProps:K}=Gt({autoFocus:g}),{isHovered:ne,hoverProps:z}=Zt({isDisabled:p}),ae=ye(o,H=>H.optionsElement),ue=G(()=>({open:y===ge.Open,disabled:p,invalid:i.invalid,hover:ne,focus:Y,autofocus:g}),[i,ne,Y,g,p,i.invalid]),X=ct({ref:b,id:s,role:"combobox",type:c,"aria-controls":ae==null?void 0:ae.id,"aria-expanded":y===ge.Open,"aria-activedescendant":ye(o,o.selectors.activeDescendantId),"aria-labelledby":A,"aria-describedby":N,"aria-autocomplete":"list",defaultValue:(r=(n=e.defaultValue)!=null?n:i.defaultValue!==void 0?f==null?void 0:f(i.defaultValue):null)!=null?r:i.defaultValue,disabled:p||void 0,autoFocus:g,onCompositionStart:M,onCompositionEnd:P,onKeyDown:$,onChange:I,onFocus:O,onBlur:B},K,z);return me()({ourProps:X,theirProps:h,slot:ue,defaultTag:Ay,name:"Combobox.Input"})}let Ny="button";function Oy(e,t){let n=$r("Combobox.Button"),r=Un("Combobox.Button"),[o,i]=T(null),a=Ce(t,i,n.actions.setButtonElement),l=Pe(),{id:s=`headlessui-combobox-button-${l}`,disabled:u=r.disabled||!1,autoFocus:f=!1,...p}=e,[g,c,h]=ye(n,I=>[I.comboboxState,I.inputElement,I.optionsElement]),m=Cg(c),v=g===ge.Open;xg(v,{trigger:o,action:te(I=>{if(o!=null&&o.contains(I.target)||c!=null&&c.contains(I.target))return Nt.Ignore;let B=I.target.closest('[role="option"]:not([data-disabled])');return Xe(B)?Nt.Select(B):h!=null&&h.contains(I.target)?Nt.Ignore:Nt.Close},[o,c,h]),close:n.actions.closeCombobox,select:n.actions.selectActiveOption});let b=V(I=>{switch(I.key){case re.Space:case re.Enter:I.preventDefault(),I.stopPropagation(),n.state.comboboxState===ge.Closed&&Ve(()=>n.actions.openCombobox()),m();return;case re.ArrowDown:I.preventDefault(),I.stopPropagation(),n.state.comboboxState===ge.Closed&&(Ve(()=>n.actions.openCombobox()),n.state.dataRef.current.value||n.actions.goToOption({focus:le.First})),m();return;case re.ArrowUp:I.preventDefault(),I.stopPropagation(),n.state.comboboxState===ge.Closed&&(Ve(()=>n.actions.openCombobox()),n.state.dataRef.current.value||n.actions.goToOption({focus:le.Last})),m();return;case re.Escape:if(n.state.comboboxState!==ge.Open)return;I.preventDefault(),n.state.optionsElement&&!r.optionsPropsRef.current.static&&I.stopPropagation(),Ve(()=>n.actions.closeCombobox()),m();return;default:return}}),_=V(I=>{I.preventDefault(),!Cs(I.currentTarget)&&(I.button===Vs.Left&&(n.state.comboboxState===ge.Open?n.actions.closeCombobox():n.actions.openCombobox()),m())}),y=_n([s]),{isFocusVisible:S,focusProps:w}=Gt({autoFocus:f}),{isHovered:C,hoverProps:k}=Zt({isDisabled:u}),{pressed:L,pressProps:M}=Sr({disabled:u}),P=G(()=>({open:g===ge.Open,active:L||g===ge.Open,disabled:u,invalid:r.invalid,value:r.value,hover:C,focus:S}),[r,C,S,L,u,g]),$=ct({ref:a,id:s,type:yo(e,o),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":h==null?void 0:h.id,"aria-expanded":g===ge.Open,"aria-labelledby":y,disabled:u||void 0,autoFocus:f,onPointerDown:_,onKeyDown:b},w,k,M);return me()({ourProps:$,theirProps:p,slot:P,defaultTag:Ny,name:"Combobox.Button"})}let ky="div",Iy=ut.RenderStrategy|ut.Static;function My(e,t){var n,r,o;let i=Pe(),{id:a=`headlessui-combobox-options-${i}`,hold:l=!1,anchor:s,portal:u=!1,modal:f=!0,transition:p=!1,...g}=e,c=$r("Combobox.Options"),h=Un("Combobox.Options"),m=Bg(s);m&&(u=!0);let[v,b]=qg(m),[_,y]=T(null),S=Hg(),w=Ce(t,m?v:null,c.actions.setOptionsElement,y),[C,k,L,M,P]=ye(c,ve=>[ve.comboboxState,ve.inputElement,ve.buttonElement,ve.optionsElement,ve.activationTrigger]),$=Lt(k||L),I=Lt(M),B=yn(),[O,A]=So(p,_,B!==null?(B&Ne.Open)===Ne.Open:C===ge.Open);As(O,k,c.actions.closeCombobox);let N=h.__demoMode?!1:f&&C===ge.Open;ks(N,I);let Y=h.__demoMode?!1:f&&C===ge.Open;Rs(Y,{allowed:te(()=>[k,L,M],[k,L,M])}),fe(()=>{var ve;h.optionsPropsRef.current.static=(ve=e.static)!=null?ve:!1},[h.optionsPropsRef,e.static]),fe(()=>{h.optionsPropsRef.current.hold=l},[h.optionsPropsRef,l]),e_(C===ge.Open,{container:M,accept(ve){return ve.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:ve.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(ve){ve.setAttribute("role","none")}});let K=_n([L==null?void 0:L.id]),ne=G(()=>({open:C===ge.Open,option:void 0}),[C]),z=V(()=>{c.actions.setActivationTrigger(Ut.Pointer)}),ae=V(ve=>{ve.preventDefault(),c.actions.setActivationTrigger(Ut.Pointer)}),ue=ct(m?S():{},{"aria-labelledby":K,role:"listbox","aria-multiselectable":h.mode===et.Multi?!0:void 0,id:a,ref:w,style:{...g.style,...b,"--input-width":Il(k,!0).width,"--button-width":Il(L,!0).width},onWheel:P===Ut.Pointer?void 0:z,onMouseDown:ae,...wo(A)}),X=O&&C===ge.Closed,H=fo(X,(n=h.virtual)==null?void 0:n.options),we=fo(X,h.value),_e=V(ve=>h.compare(we,ve)),W=G(()=>{if(!h.virtual)return h;if(H===void 0)throw new Error("Missing `options` in virtual mode");return H!==h.virtual.options?{...h,virtual:{...h.virtual,options:H}}:h},[h,H,(r=h.virtual)==null?void 0:r.options]);h.virtual&&Object.assign(g,{children:E.createElement(mr.Provider,{value:W},E.createElement(Py,{slot:ne},g.children))});let q=me(),ce=G(()=>h.mode===et.Multi?h:{...h,isSelected:_e},[h,_e]);return E.createElement(Bs,{enabled:u?e.static||O:!1,ownerDocument:$},E.createElement(mr.Provider,{value:ce},q({ourProps:ue,theirProps:{...g,children:E.createElement(dy,{freeze:X},typeof g.children=="function"?(o=g.children)==null?void 0:o.call(g,ne):g.children)},slot:ne,defaultTag:ky,features:Iy,visible:O,name:"Combobox.Options"})))}let Ly="div";function Dy(e,t){var n,r,o;let i=Un("Combobox.Option"),a=$r("Combobox.Option"),l=Pe(),{id:s=`headlessui-combobox-option-${l}`,value:u,disabled:f=(o=(r=(n=i.virtual)==null?void 0:n.disabled)==null?void 0:r.call(n,u))!=null?o:!1,order:p=null,...g}=e,[c]=ye(a,A=>[A.inputElement]),h=Cg(c),m=ye(a,te(A=>a.selectors.isActive(A,u,s),[u,s])),v=i.isSelected(u),b=D(null),_=tt({disabled:f,value:u,domRef:b,order:p}),y=oe(nh),S=Ce(t,b,y?y.measureElement:null),w=V(()=>{a.actions.setIsTyping(!1),a.actions.onChange(u)});fe(()=>a.actions.registerOption(s,_),[_,s]);let C=ye(a,te(A=>a.selectors.shouldScrollIntoView(A,u,s),[u,s]));fe(()=>{if(C)return dt().requestAnimationFrame(()=>{var A,N;(N=(A=b.current)==null?void 0:A.scrollIntoView)==null||N.call(A,{block:"nearest"})})},[C,b]);let k=V(A=>{A.preventDefault(),A.button===Vs.Left&&(f||(w(),Ll()||requestAnimationFrame(()=>h()),i.mode===et.Single&&a.actions.closeCombobox()))}),L=V(()=>{if(f)return a.actions.goToOption({focus:le.Nothing});let A=i.calculateIndex(u);a.actions.goToOption({focus:le.Specific,idx:A})}),M=Fg(),P=V(A=>M.update(A)),$=V(A=>{if(!M.wasMoved(A)||f||m)return;let N=i.calculateIndex(u);a.actions.goToOption({focus:le.Specific,idx:N},Ut.Pointer)}),I=V(A=>{M.wasMoved(A)&&(f||m&&(i.optionsPropsRef.current.hold||a.actions.goToOption({focus:le.Nothing})))}),B=G(()=>({active:m,focus:m,selected:v,disabled:f}),[m,v,f]),O={id:s,ref:S,role:"option",tabIndex:f===!0?void 0:-1,"aria-disabled":f===!0?!0:void 0,"aria-selected":v,disabled:void 0,onMouseDown:k,onFocus:L,onPointerEnter:P,onMouseEnter:P,onPointerMove:$,onMouseMove:$,onPointerLeave:I,onMouseLeave:I};return me()({ourProps:O,theirProps:g,slot:B,defaultTag:Ly,name:"Combobox.Option"})}let Gy=pe(Ry),jl=pe(Oy),Hl=pe(Ty),Vy=Ue,ql=pe(My),zl=pe(Dy),Sc=Object.assign(Gy,{Input:Hl,Button:jl,Label:Vy,Options:ql,Option:zl});function By(e,t=typeof document<"u"?document.defaultView:null,n){let r=Cr(e,"escape");Os(t,"keydown",o=>{r&&(o.defaultPrevented||o.key===re.Escape&&n(o))})}function jy(){var e;let[t]=T(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=T((e=t==null?void 0:t.matches)!=null?e:!1);return fe(()=>{if(!t)return;function o(i){r(i.matches)}return t.addEventListener("change",o),()=>t.removeEventListener("change",o)},[t]),n}function Hy({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=Lt(n),o=V(()=>{var i,a;let l=[];for(let s of e)s!==null&&(kt(s)?l.push(s):"current"in s&&kt(s.current)&&l.push(s.current));if(t!=null&&t.current)for(let s of t.current)l.push(s);for(let s of(i=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?i:[])s!==document.body&&s!==document.head&&kt(s)&&s.id!=="headlessui-portal-root"&&(n&&(s.contains(n)||s.contains((a=n==null?void 0:n.getRootNode())==null?void 0:a.host))||l.some(u=>s.contains(u))||l.push(s));return l});return{resolveContainers:o,contains:V(i=>o().some(a=>a.contains(i)))}}let rh=he(null);function xc({children:e,node:t}){let[n,r]=T(null),o=oh(t??n);return E.createElement(rh.Provider,{value:o},e,o===null&&E.createElement(Yt,{features:Kt.Hidden,ref:i=>{var a,l;if(i){for(let s of(l=(a=Vt(i))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?l:[])if(s!==document.body&&s!==document.head&&kt(s)&&s!=null&&s.contains(i)){r(s);break}}}}))}function oh(e=null){var t;return(t=oe(rh))!=null?t:e}function Ao(){let e=D(!1);return fe(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var nr=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(nr||{});function qy(){let e=D(0);return Sg(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function ih(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)kt(n.current)&&t.add(n.current);return t}let zy="div";var un=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(un||{});function Uy(e,t){let n=D(null),r=Ce(n,t),{initialFocus:o,initialFocusFallback:i,containers:a,features:l=15,...s}=e;Pr()||(l=0);let u=Lt(n);Xy(l,{ownerDocument:u});let f=Jy(l,{ownerDocument:u,container:n,initialFocus:o,initialFocusFallback:i});Qy(l,{ownerDocument:u,container:n,containers:a,previousActiveElement:f});let p=qy(),g=V(_=>{if(!Xe(n.current))return;let y=n.current;(S=>S())(()=>{xe(p.current,{[nr.Forwards]:()=>{at(y,ke.First,{skipElements:[_.relatedTarget,i]})},[nr.Backwards]:()=>{at(y,ke.Last,{skipElements:[_.relatedTarget,i]})}})})}),c=Cr(!!(l&2),"focus-trap#tab-lock"),h=en(),m=D(!1),v={ref:r,onKeyDown(_){_.key=="Tab"&&(m.current=!0,h.requestAnimationFrame(()=>{m.current=!1}))},onBlur(_){if(!(l&4))return;let y=ih(a);Xe(n.current)&&y.add(n.current);let S=_.relatedTarget;pt(S)&&S.dataset.headlessuiFocusGuard!=="true"&&(ah(y,S)||(m.current?at(n.current,xe(p.current,{[nr.Forwards]:()=>ke.Next,[nr.Backwards]:()=>ke.Previous})|ke.WrapAround,{relativeTo:_.target}):pt(_.target)&&It(_.target)))}},b=me();return E.createElement(E.Fragment,null,c&&E.createElement(Yt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:Kt.Focusable}),b({ourProps:v,theirProps:s,defaultTag:zy,name:"FocusTrap"}),c&&E.createElement(Yt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:Kt.Focusable}))}let Wy=pe(Uy),Ky=Object.assign(Wy,{features:un});function Yy(e=!0){let t=D(St.slice());return pr(([n],[r])=>{r===!0&&n===!1&&wr(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=St.slice())},[e,St,t]),V(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function Xy(e,{ownerDocument:t}){let n=!!(e&8),r=Yy(n);pr(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&It(r())},[n]),Ro(()=>{n&&It(r())})}function Jy(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:o}){let i=D(null),a=Cr(!!(e&1),"focus-trap#initial-focus"),l=Ao();return pr(()=>{if(e===0)return;if(!a){o!=null&&o.current&&It(o.current);return}let s=n.current;s&&wr(()=>{if(!l.current)return;let u=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){i.current=u;return}}else if(s.contains(u)){i.current=u;return}if(r!=null&&r.current)It(r.current);else{if(e&16){if(at(s,ke.First|ke.AutoFocus)!==dn.Error)return}else if(at(s,ke.First)!==dn.Error)return;if(o!=null&&o.current&&(It(o.current),(t==null?void 0:t.activeElement)===o.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}i.current=t==null?void 0:t.activeElement})},[o,a,e]),i}function Qy(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:o}){let i=Ao(),a=!!(e&4);Os(t==null?void 0:t.defaultView,"focus",l=>{if(!a||!i.current)return;let s=ih(r);Xe(n.current)&&s.add(n.current);let u=o.current;if(!u)return;let f=l.target;Xe(f)?ah(s,f)?(o.current=f,It(f)):(l.preventDefault(),l.stopPropagation(),It(u)):It(o.current)},!0)}function ah(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function lh(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:uh)!==ee||E.Children.count(e.children)===1}let To=he(null);To.displayName="TransitionContext";var Zy=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Zy||{});function ew(){let e=oe(To);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function tw(){let e=oe(No);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let No=he(null);No.displayName="NestingContext";function Oo(e){return"children"in e?Oo(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function sh(e,t){let n=tt(e),r=D([]),o=Ao(),i=en(),a=V((c,h=qt.Hidden)=>{let m=r.current.findIndex(({el:v})=>v===c);m!==-1&&(xe(h,{[qt.Unmount](){r.current.splice(m,1)},[qt.Hidden](){r.current[m].state="hidden"}}),i.microTask(()=>{var v;!Oo(r)&&o.current&&((v=n.current)==null||v.call(n))}))}),l=V(c=>{let h=r.current.find(({el:m})=>m===c);return h?h.state!=="visible"&&(h.state="visible"):r.current.push({el:c,state:"visible"}),()=>a(c,qt.Unmount)}),s=D([]),u=D(Promise.resolve()),f=D({enter:[],leave:[]}),p=V((c,h,m)=>{s.current.splice(0),t&&(t.chains.current[h]=t.chains.current[h].filter(([v])=>v!==c)),t==null||t.chains.current[h].push([c,new Promise(v=>{s.current.push(v)})]),t==null||t.chains.current[h].push([c,new Promise(v=>{Promise.all(f.current[h].map(([b,_])=>_)).then(()=>v())})]),h==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>m(h)):m(h)}),g=V((c,h,m)=>{Promise.all(f.current[h].splice(0).map(([v,b])=>b)).then(()=>{var v;(v=s.current.shift())==null||v()}).then(()=>m(h))});return G(()=>({children:r,register:l,unregister:a,onStart:p,onStop:g,wait:u,chains:f}),[l,a,r,p,g,f,u])}let uh=ee,ch=ut.RenderStrategy;function nw(e,t){var n,r;let{transition:o=!0,beforeEnter:i,afterEnter:a,beforeLeave:l,afterLeave:s,enter:u,enterFrom:f,enterTo:p,entered:g,leave:c,leaveFrom:h,leaveTo:m,...v}=e,[b,_]=T(null),y=D(null),S=lh(e),w=Ce(...S?[y,t,_]:t===null?[]:[t]),C=(n=v.unmount)==null||n?qt.Unmount:qt.Hidden,{show:k,appear:L,initial:M}=ew(),[P,$]=T(k?"visible":"hidden"),I=tw(),{register:B,unregister:O}=I;fe(()=>B(y),[B,y]),fe(()=>{if(C===qt.Hidden&&y.current){if(k&&P!=="visible"){$("visible");return}return xe(P,{hidden:()=>O(y),visible:()=>B(y)})}},[P,y,B,O,k,C]);let A=Pr();fe(()=>{if(S&&A&&P==="visible"&&y.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[y,P,A,S]);let N=M&&!L,Y=L&&k&&M,K=D(!1),ne=sh(()=>{K.current||($("hidden"),O(y))},I),z=V(W=>{K.current=!0;let q=W?"enter":"leave";ne.onStart(y,q,ce=>{ce==="enter"?i==null||i():ce==="leave"&&(l==null||l())})}),ae=V(W=>{let q=W?"enter":"leave";K.current=!1,ne.onStop(y,q,ce=>{ce==="enter"?a==null||a():ce==="leave"&&(s==null||s())}),q==="leave"&&!Oo(ne)&&($("hidden"),O(y))});U(()=>{S&&o||(z(k),ae(k))},[k,S,o]);let ue=!(!o||!S||!A||N),[,X]=So(ue,b,k,{start:z,end:ae}),H=jt({ref:w,className:((r=kl(v.className,Y&&u,Y&&f,X.enter&&u,X.enter&&X.closed&&f,X.enter&&!X.closed&&p,X.leave&&c,X.leave&&!X.closed&&h,X.leave&&X.closed&&m,!X.transition&&k&&g))==null?void 0:r.trim())||void 0,...wo(X)}),we=0;P==="visible"&&(we|=Ne.Open),P==="hidden"&&(we|=Ne.Closed),k&&P==="hidden"&&(we|=Ne.Opening),!k&&P==="visible"&&(we|=Ne.Closing);let _e=me();return E.createElement(No.Provider,{value:ne},E.createElement($o,{value:we},_e({ourProps:H,theirProps:v,defaultTag:uh,features:ch,visible:P==="visible",name:"Transition.Child"})))}function rw(e,t){let{show:n,appear:r=!1,unmount:o=!0,...i}=e,a=D(null),l=lh(e),s=Ce(...l?[a,t]:t===null?[]:[t]);Pr();let u=yn();if(n===void 0&&u!==null&&(n=(u&Ne.Open)===Ne.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[f,p]=T(n?"visible":"hidden"),g=sh(()=>{n||p("hidden")}),[c,h]=T(!0),m=D([n]);fe(()=>{c!==!1&&m.current[m.current.length-1]!==n&&(m.current.push(n),h(!1))},[m,n]);let v=G(()=>({show:n,appear:r,initial:c}),[n,r,c]);fe(()=>{n?p("visible"):!Oo(g)&&a.current!==null&&p("hidden")},[n,g]);let b={unmount:o},_=V(()=>{var w;c&&h(!1),(w=e.beforeEnter)==null||w.call(e)}),y=V(()=>{var w;c&&h(!1),(w=e.beforeLeave)==null||w.call(e)}),S=me();return E.createElement(No.Provider,{value:g},E.createElement(To.Provider,{value:v},S({ourProps:{...b,as:ee,children:E.createElement(dh,{ref:s,...b,...i,beforeEnter:_,beforeLeave:y})},theirProps:{},defaultTag:ee,features:ch,visible:f==="visible",name:"Transition"})))}function ow(e,t){let n=oe(To)!==null,r=yn()!==null;return E.createElement(E.Fragment,null,!n&&r?E.createElement(Ul,{ref:t,...e}):E.createElement(dh,{ref:t,...e}))}let Ul=pe(rw),dh=pe(nw),js=pe(ow),iw=Object.assign(Ul,{Child:js,Root:Ul});var aw=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(aw||{}),lw=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(lw||{});let sw={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Hs=he(null);Hs.displayName="DialogContext";function ko(e){let t=oe(Hs);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ko),n}return t}function uw(e,t){return xe(t.type,sw,e,t)}let Cc=pe(function(e,t){let n=Pe(),{id:r=`headlessui-dialog-${n}`,open:o,onClose:i,initialFocus:a,role:l="dialog",autoFocus:s=!0,__demoMode:u=!1,unmount:f=!1,...p}=e,g=D(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(g.current||(g.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let c=yn();o===void 0&&c!==null&&(o=(c&Ne.Open)===Ne.Open);let h=D(null),m=Ce(h,t),v=Lt(h),b=o?0:1,[_,y]=Dt(uw,{titleId:null,descriptionId:null,panelRef:os()}),S=V(()=>i(!1)),w=V(X=>y({type:0,id:X})),C=Pr()?b===0:!1,[k,L]=wy(),M={get current(){var X;return(X=_.panelRef.current)!=null?X:h.current}},P=oh(),{resolveContainers:$}=Hy({mainTreeNode:P,portals:k,defaultContainers:[M]}),I=c!==null?(c&Ne.Closing)===Ne.Closing:!1;Rs(u||I?!1:C,{allowed:V(()=>{var X,H;return[(H=(X=h.current)==null?void 0:X.closest("[data-headlessui-portal]"))!=null?H:null]}),disallowed:V(()=>{var X;return[(X=P==null?void 0:P.closest("body > *:not(#headlessui-portal-root)"))!=null?X:null]})});let B=jn.get(null);fe(()=>{if(C)return B.actions.push(r),()=>B.actions.pop(r)},[B,r,C]);let O=ye(B,te(X=>B.selectors.isTop(X,r),[B,r]));Ns(O,$,X=>{X.preventDefault(),S()}),By(O,v==null?void 0:v.defaultView,X=>{X.preventDefault(),X.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),S()}),ks(u||I?!1:C,v,$),As(C,h,S);let[A,N]=cg(),Y=G(()=>[{dialogState:b,close:S,setTitleId:w,unmount:f},_],[b,_,S,w,f]),K=G(()=>({open:b===0}),[b]),ne={ref:m,id:r,role:l,tabIndex:-1,"aria-modal":u?void 0:b===0?!0:void 0,"aria-labelledby":_.titleId,"aria-describedby":A,unmount:f},z=!jy(),ae=un.None;C&&!u&&(ae|=un.RestoreFocus,ae|=un.TabLock,s&&(ae|=un.AutoFocus),z&&(ae|=un.InitialFocus));let ue=me();return E.createElement(Wg,null,E.createElement(yc,{force:!0},E.createElement(Bs,null,E.createElement(Hs.Provider,{value:Y},E.createElement(Jg,{target:h},E.createElement(yc,{force:!1},E.createElement(N,{slot:K},E.createElement(L,null,E.createElement(Ky,{initialFocus:a,initialFocusFallback:h,containers:$,features:ae},E.createElement(fg,{value:S},ue({ourProps:ne,theirProps:p,slot:K,defaultTag:cw,features:dw,visible:b===0,name:"Dialog"})))))))))))}),cw="div",dw=ut.RenderStrategy|ut.Static;function fw(e,t){let{transition:n=!1,open:r,...o}=e,i=yn(),a=e.hasOwnProperty("open")||i!==null,l=e.hasOwnProperty("onClose");if(!a&&!l)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!o.static?E.createElement(xc,null,E.createElement(iw,{show:r,transition:n,unmount:o.unmount},E.createElement(Cc,{ref:t,...o}))):E.createElement(xc,null,E.createElement(Cc,{ref:t,open:r,...o}))}let pw="div";function gw(e,t){let n=Pe(),{id:r=`headlessui-dialog-panel-${n}`,transition:o=!1,...i}=e,[{dialogState:a,unmount:l},s]=ko("Dialog.Panel"),u=Ce(t,s.panelRef),f=G(()=>({open:a===0}),[a]),p=V(v=>{v.stopPropagation()}),g={ref:u,id:r,onClick:p},c=o?js:ee,h=o?{unmount:l}:{},m=me();return E.createElement(c,{...h},m({ourProps:g,theirProps:i,slot:f,defaultTag:pw,name:"Dialog.Panel"}))}let hw="div";function mw(e,t){let{transition:n=!1,...r}=e,[{dialogState:o,unmount:i}]=ko("Dialog.Backdrop"),a=G(()=>({open:o===0}),[o]),l={ref:t,"aria-hidden":!0},s=n?js:ee,u=n?{unmount:i}:{},f=me();return E.createElement(s,{...u},f({ourProps:l,theirProps:r,slot:a,defaultTag:hw,name:"Dialog.Backdrop"}))}let vw="h2";function bw(e,t){let n=Pe(),{id:r=`headlessui-dialog-title-${n}`,...o}=e,[{dialogState:i,setTitleId:a}]=ko("Dialog.Title"),l=Ce(t);U(()=>(a(r),()=>a(null)),[r,a]);let s=G(()=>({open:i===0}),[i]),u={ref:l,id:r};return me()({ourProps:u,theirProps:o,slot:s,defaultTag:vw,name:"Dialog.Title"})}let _w=pe(fw),Rr=pe(gw),Ar=pe(mw),Tr=pe(bw),Nr=Object.assign(_w,{Panel:Rr,Title:Tr,Description:Fs});var Fc;let yw=(Fc=E.startTransition)!=null?Fc:function(e){e()};var ww=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ww||{}),Sw=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.SetButtonElement=4]="SetButtonElement",e[e.SetPanelElement=5]="SetPanelElement",e))(Sw||{});let xw={0:e=>({...e,disclosureState:xe(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}},4(e,t){return e.buttonElement===t.element?e:{...e,buttonElement:t.element}},5(e,t){return e.panelElement===t.element?e:{...e,panelElement:t.element}}},qs=he(null);qs.displayName="DisclosureContext";function zs(e){let t=oe(qs);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,zs),n}return t}let Us=he(null);Us.displayName="DisclosureAPIContext";function fh(e){let t=oe(Us);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,fh),n}return t}let Ws=he(null);Ws.displayName="DisclosurePanelContext";function Cw(){return oe(Ws)}function Fw(e,t){return xe(t.type,xw,e,t)}let Ew=ee;function Pw(e,t){let{defaultOpen:n=!1,...r}=e,o=D(null),i=Ce(t,sg(m=>{o.current=m},e.as===void 0||e.as===ee)),a=Dt(Fw,{disclosureState:n?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:l,buttonId:s},u]=a,f=V(m=>{u({type:1});let v=Vt(o);if(!v||!s)return;let b=m?pt(m)?m:"current"in m&&pt(m.current)?m.current:v.getElementById(s):v.getElementById(s);b==null||b.focus()}),p=G(()=>({close:f}),[f]),g=G(()=>({open:l===0,close:f}),[l,f]),c={ref:i},h=me();return E.createElement(qs.Provider,{value:a},E.createElement(Us.Provider,{value:p},E.createElement(fg,{value:f},E.createElement($o,{value:xe(l,{0:Ne.Open,1:Ne.Closed})},h({ourProps:c,theirProps:r,slot:g,defaultTag:Ew,name:"Disclosure"})))))}let $w="button";function Rw(e,t){let n=Pe(),{id:r=`headlessui-disclosure-button-${n}`,disabled:o=!1,autoFocus:i=!1,...a}=e,[l,s]=zs("Disclosure.Button"),u=Cw(),f=u===null?!1:u===l.panelId,p=D(null),g=Ce(p,t,V(M=>{if(!f)return s({type:4,element:M})}));U(()=>{if(!f)return s({type:2,buttonId:r}),()=>{s({type:2,buttonId:null})}},[r,s,f]);let c=V(M=>{var P;if(f){if(l.disclosureState===1)return;switch(M.key){case re.Space:case re.Enter:M.preventDefault(),M.stopPropagation(),s({type:0}),(P=l.buttonElement)==null||P.focus();break}}else switch(M.key){case re.Space:case re.Enter:M.preventDefault(),M.stopPropagation(),s({type:0});break}}),h=V(M=>{switch(M.key){case re.Space:M.preventDefault();break}}),m=V(M=>{var P;Cs(M.currentTarget)||o||(f?(s({type:0}),(P=l.buttonElement)==null||P.focus()):s({type:0}))}),{isFocusVisible:v,focusProps:b}=Gt({autoFocus:i}),{isHovered:_,hoverProps:y}=Zt({isDisabled:o}),{pressed:S,pressProps:w}=Sr({disabled:o}),C=G(()=>({open:l.disclosureState===0,hover:_,active:S,disabled:o,focus:v,autofocus:i}),[l,_,S,v,o,i]),k=yo(e,l.buttonElement),L=ct(f?{ref:g,type:k,disabled:o||void 0,autoFocus:i,onKeyDown:c,onClick:m}:{ref:g,id:r,type:k,"aria-expanded":l.disclosureState===0,"aria-controls":l.panelElement?l.panelId:void 0,disabled:o||void 0,autoFocus:i,onKeyDown:c,onKeyUp:h,onClick:m},b,y,w);return me()({ourProps:L,theirProps:a,slot:C,defaultTag:$w,name:"Disclosure.Button"})}let Aw="div",Tw=ut.RenderStrategy|ut.Static;function Nw(e,t){let n=Pe(),{id:r=`headlessui-disclosure-panel-${n}`,transition:o=!1,...i}=e,[a,l]=zs("Disclosure.Panel"),{close:s}=fh("Disclosure.Panel"),[u,f]=T(null),p=Ce(t,V(_=>{yw(()=>l({type:5,element:_}))}),f);U(()=>(l({type:3,panelId:r}),()=>{l({type:3,panelId:null})}),[r,l]);let g=yn(),[c,h]=So(o,u,g!==null?(g&Ne.Open)===Ne.Open:a.disclosureState===0),m=G(()=>({open:a.disclosureState===0,close:s}),[a.disclosureState,s]),v={ref:p,id:r,...wo(h)},b=me();return E.createElement(Wg,null,E.createElement(Ws.Provider,{value:a.panelId},b({ourProps:v,theirProps:i,slot:m,defaultTag:Aw,features:Tw,visible:c,name:"Disclosure.Panel"})))}let Ow=pe(Pw),Jr=pe(Rw),Qr=pe(Nw),gi=Object.assign(Ow,{Button:Jr,Panel:Qr}),kw="div";function Iw(e,t){let n=`headlessui-control-${Pe()}`,[r,o]=Es(),[i,a]=cg(),l=tn(),{disabled:s=l||!1,...u}=e,f=G(()=>({disabled:s}),[s]),p={ref:t,disabled:s||void 0,"aria-disabled":s||void 0},g=me();return E.createElement(T0,{value:s},E.createElement(o,{value:r},E.createElement(a,{value:i},E.createElement(q0,{id:n},g({ourProps:p,theirProps:{...u,children:E.createElement(B0,null,typeof u.children=="function"?u.children(f):u.children)},slot:f,defaultTag:kw,name:"Field"})))))}let Qe=pe(Iw),Mw="input";function Lw(e,t){let n=Pe(),r=xr(),o=tn(),{id:i=r||`headlessui-input-${n}`,disabled:a=o||!1,autoFocus:l=!1,invalid:s=!1,...u}=e,f=_n(),p=bo(),{isFocused:g,focusProps:c}=Gt({autoFocus:l}),{isHovered:h,hoverProps:m}=Zt({isDisabled:a}),v=ct({ref:t,id:i,"aria-labelledby":f,"aria-describedby":p,"aria-invalid":s?"true":void 0,disabled:a||void 0,autoFocus:l},c,m),b=G(()=>({disabled:a,invalid:s,hover:h,focus:g,autofocus:l}),[a,s,h,g,l]);return me()({ourProps:v,theirProps:u,slot:b,defaultTag:Mw,name:"Input"})}let yt=pe(Lw);function Dw(e,t){let n=D({left:0,top:0});if(fe(()=>{if(!t)return;let o=t.getBoundingClientRect();o&&(n.current=o)},[e,t]),t==null||!e||t===document.activeElement)return!1;let r=t.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let Ec=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Pc(e){var t,n;let r=(t=e.innerText)!=null?t:"",o=e.cloneNode(!0);if(!Xe(o))return r;let i=!1;for(let l of o.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),i=!0;let a=i?(n=o.innerText)!=null?n:"":r;return Ec.test(a)&&(a=a.replace(Ec,"")),a}function Gw(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(o=>{let i=document.getElementById(o);if(i){let a=i.getAttribute("aria-label");return typeof a=="string"?a.trim():Pc(i).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return Pc(e).trim()}function Vw(e){let t=D(""),n=D("");return V(()=>{let r=e.current;if(!r)return"";let o=r.innerText;if(t.current===o)return n.current;let i=Gw(r).trim().toLowerCase();return t.current=o,n.current=i,i})}var Bw=Object.defineProperty,jw=(e,t,n)=>t in e?Bw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$c=(e,t,n)=>(jw(e,typeof t!="symbol"?t+"":t,n),n),Ge=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ge||{}),Ct=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Ct||{}),Wl=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Wl||{}),ph=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOptions=5]="RegisterOptions",e[e.UnregisterOptions=6]="UnregisterOptions",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetOptionsElement=8]="SetOptionsElement",e[e.SortOptions=9]="SortOptions",e))(ph||{});function Rc(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=zt(t(e.options.slice()),i=>i.dataRef.current.domRef.current),o=n?r.indexOf(n):null;return o===-1&&(o=null),{options:r,activeOptionIndex:o}}let Hw={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,pendingFocus:{focus:le.Nothing},listboxState:1,__demoMode:!1}},0(e,t){if(e.dataRef.current.disabled||e.listboxState===0)return e;let n=e.activeOptionIndex,{isSelected:r}=e.dataRef.current,o=e.options.findIndex(i=>r(i.dataRef.current.value));return o!==-1&&(n=o),{...e,pendingFocus:t.focus,listboxState:0,activeOptionIndex:n,__demoMode:!1}},2(e,t){var n,r,o,i,a;if(e.dataRef.current.disabled||e.listboxState===1)return e;let l={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===le.Nothing)return{...l,activeOptionIndex:null};if(t.focus===le.Specific)return{...l,activeOptionIndex:e.options.findIndex(f=>f.id===t.id)};if(t.focus===le.Previous){let f=e.activeOptionIndex;if(f!==null){let p=e.options[f].dataRef.current.domRef,g=Nn(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled});if(g!==null){let c=e.options[g].dataRef.current.domRef;if(((r=p.current)==null?void 0:r.previousElementSibling)===c.current||((o=c.current)==null?void 0:o.previousElementSibling)===null)return{...l,activeOptionIndex:g}}}}else if(t.focus===le.Next){let f=e.activeOptionIndex;if(f!==null){let p=e.options[f].dataRef.current.domRef,g=Nn(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:c=>c.id,resolveDisabled:c=>c.dataRef.current.disabled});if(g!==null){let c=e.options[g].dataRef.current.domRef;if(((i=p.current)==null?void 0:i.nextElementSibling)===c.current||((a=c.current)==null?void 0:a.nextElementSibling)===null)return{...l,activeOptionIndex:g}}}}let s=Rc(e),u=Nn(t,{resolveItems:()=>s.options,resolveActiveIndex:()=>s.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});return{...l,...s,activeOptionIndex:u}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),o=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(a=>{var l;return!a.dataRef.current.disabled&&((l=a.dataRef.current.textValue)==null?void 0:l.startsWith(r))}),i=o?e.options.indexOf(o):-1;return i===-1||i===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:i,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let n=e.options.concat(t.options),r=e.activeOptionIndex;if(e.pendingFocus.focus!==le.Nothing&&(r=Nn(e.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled})),e.activeOptionIndex===null){let{isSelected:o}=e.dataRef.current;if(o){let i=n.findIndex(a=>o==null?void 0:o(a.dataRef.current.value));i!==-1&&(r=i)}}return{...e,options:n,activeOptionIndex:r,pendingFocus:{focus:le.Nothing},pendingShouldSort:!0}},6:(e,t)=>{let n=e.options,r=[],o=new Set(t.options);for(let[i,a]of n.entries())if(o.has(a.id)&&(r.push(i),o.delete(a.id),o.size===0))break;if(r.length>0){n=n.slice();for(let i of r.reverse())n.splice(i,1)}return{...e,options:n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element},9:e=>e.pendingShouldSort?{...e,...Rc(e),pendingShouldSort:!1}:e},qw=class gh extends Ps{constructor(t){super(t),$c(this,"actions",{onChange:n=>{let{onChange:r,compare:o,mode:i,value:a}=this.state.dataRef.current;return xe(i,{0:()=>r==null?void 0:r(n),1:()=>{let l=a.slice(),s=l.findIndex(u=>o(u,n));return s===-1?l.push(n):l.splice(s,1),r==null?void 0:r(l)}})},registerOption:ii(()=>{let n=[],r=new Set;return[(o,i)=>{r.has(i)||(r.add(i),n.push({id:o,dataRef:i}))},()=>(r.clear(),this.send({type:5,options:n.splice(0)}))]}),unregisterOption:ii(()=>{let n=[];return[r=>n.push(r),()=>{this.send({type:6,options:n.splice(0)})}]}),goToOption:ii(()=>{let n=null;return[(r,o)=>{n={type:2,...r,trigger:o}},()=>n&&this.send(n)]}),closeListbox:()=>{this.send({type:1})},openListbox:n=>{this.send({type:0,focus:n})},selectActiveOption:()=>{if(this.state.activeOptionIndex!==null){let{dataRef:n,id:r}=this.state.options[this.state.activeOptionIndex];this.actions.onChange(n.current.value),this.send({type:2,focus:le.Specific,id:r})}},selectOption:n=>{let r=this.state.options.find(o=>o.id===n);r&&this.actions.onChange(r.dataRef.current.value)},search:n=>{this.send({type:3,value:n})},clearSearch:()=>{this.send({type:4})},setButtonElement:n=>{this.send({type:7,element:n})},setOptionsElement:n=>{this.send({type:8,element:n})}}),$c(this,"selectors",{activeDescendantId(n){var r;let o=n.activeOptionIndex,i=n.options;return o===null||(r=i[o])==null?void 0:r.id},isActive(n,r){var o;let i=n.activeOptionIndex,a=n.options;return i!==null?((o=a[i])==null?void 0:o.id)===r:!1},shouldScrollIntoView(n,r){return n.__demoMode||n.listboxState!==0||n.activationTrigger===0?!1:this.isActive(n,r)}}),this.on(5,()=>{requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,r=jn.get(null);this.disposables.add(r.on($s.Push,o=>{!r.selectors.isTop(o,n)&&this.state.listboxState===0&&this.actions.closeListbox()})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}}static new({id:t,__demoMode:n=!1}){return new gh({id:t,dataRef:{current:{}},listboxState:n?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,pendingShouldSort:!1,pendingFocus:{focus:le.Nothing},__demoMode:n})}reduce(t,n){return xe(n.type,Hw,t,n)}};const hh=he(null);function Ks(e){let t=oe(hh);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,mh),n}return t}function mh({id:e,__demoMode:t=!1}){let n=G(()=>qw.new({id:e,__demoMode:t}),[]);return Ro(()=>n.dispose()),n}let Io=he(null);Io.displayName="ListboxDataContext";function Or(e){let t=oe(Io);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Or),n}return t}let zw=ee;function Uw(e,t){let n=Pe(),r=tn(),{value:o,defaultValue:i,form:a,name:l,onChange:s,by:u,invalid:f=!1,disabled:p=r||!1,horizontal:g=!1,multiple:c=!1,__demoMode:h=!1,...m}=e;const v=g?"horizontal":"vertical";let b=Ce(t),_=Zp(i),[y=c?[]:void 0,S]=Qp(o,s,_),w=mh({id:n,__demoMode:h}),C=D({static:!1,hold:!1}),k=D(new Map),L=gg(u),M=te(ue=>xe(P.mode,{[Ct.Multi]:()=>y.some(X=>L(X,ue)),[Ct.Single]:()=>L(y,ue)}),[y]),P=G(()=>({value:y,disabled:p,invalid:f,mode:c?Ct.Multi:Ct.Single,orientation:v,onChange:S,compare:L,isSelected:M,optionsPropsRef:C,listRef:k}),[y,p,f,c,v,S,L,M,C,k]);fe(()=>{w.state.dataRef.current=P},[P]);let $=ye(w,ue=>ue.listboxState),I=jn.get(null),B=ye(I,te(ue=>I.selectors.isTop(ue,n),[I,n])),[O,A]=ye(w,ue=>[ue.buttonElement,ue.optionsElement]);Ns(B,[O,A],(ue,X)=>{w.send({type:ph.CloseListbox}),yg(X,Ts.Loose)||(ue.preventDefault(),O==null||O.focus())});let N=G(()=>({open:$===Ge.Open,disabled:p,invalid:f,value:y}),[$,p,f,y]),[Y,K]=Es({inherit:!0}),ne={ref:b},z=te(()=>{if(_!==void 0)return S==null?void 0:S(_)},[S,_]),ae=me();return E.createElement(K,{value:Y,props:{htmlFor:O==null?void 0:O.id},slot:{open:$===Ge.Open,disabled:p}},E.createElement(zg,null,E.createElement(hh.Provider,{value:w},E.createElement(Io.Provider,{value:P},E.createElement($o,{value:xe($,{[Ge.Open]:Ne.Open,[Ge.Closed]:Ne.Closed})},l!=null&&y!=null&&E.createElement(og,{disabled:p,data:{[l]:y},form:a,onReset:z}),ae({ourProps:ne,theirProps:m,slot:N,defaultTag:zw,name:"Listbox"}))))))}let Ww="button";function Kw(e,t){let n=Pe(),r=xr(),o=Or("Listbox.Button"),i=Ks("Listbox.Button"),{id:a=r||`headlessui-listbox-button-${n}`,disabled:l=o.disabled||!1,autoFocus:s=!1,...u}=e,f=Ce(t,jg(),i.actions.setButtonElement),p=sy(),[g,c,h]=ye(i,A=>[A.listboxState,A.buttonElement,A.optionsElement]),m=g===Ge.Open;xg(m,{trigger:c,action:te(A=>{if(c!=null&&c.contains(A.target))return Nt.Ignore;let N=A.target.closest('[role="option"]:not([data-disabled])');return Xe(N)?Nt.Select(N):h!=null&&h.contains(A.target)?Nt.Ignore:Nt.Close},[c,h]),close:i.actions.closeListbox,select:i.actions.selectActiveOption});let v=V(A=>{switch(A.key){case re.Enter:D0(A.currentTarget);break;case re.Space:case re.ArrowDown:A.preventDefault(),i.actions.openListbox({focus:o.value?le.Nothing:le.First});break;case re.ArrowUp:A.preventDefault(),i.actions.openListbox({focus:o.value?le.Nothing:le.Last});break}}),b=V(A=>{switch(A.key){case re.Space:A.preventDefault();break}}),_=V(A=>{var N;if(A.button===0){if(Cs(A.currentTarget))return A.preventDefault();i.state.listboxState===Ge.Open?(Ve(()=>i.actions.closeListbox()),(N=i.state.buttonElement)==null||N.focus({preventScroll:!0})):(A.preventDefault(),i.actions.openListbox({focus:le.Nothing}))}}),y=V(A=>A.preventDefault()),S=_n([a]),w=bo(),{isFocusVisible:C,focusProps:k}=Gt({autoFocus:s}),{isHovered:L,hoverProps:M}=Zt({isDisabled:l}),{pressed:P,pressProps:$}=Sr({disabled:l}),I=G(()=>({open:g===Ge.Open,active:P||g===Ge.Open,disabled:l,invalid:o.invalid,value:o.value,hover:L,focus:C,autofocus:s}),[g,o.value,l,L,C,P,o.invalid,s]),B=ye(i,A=>A.listboxState===Ge.Open),O=ct(p(),{ref:f,id:a,type:yo(e,c),"aria-haspopup":"listbox","aria-controls":h==null?void 0:h.id,"aria-expanded":B,"aria-labelledby":S,"aria-describedby":w,disabled:l||void 0,autoFocus:s,onKeyDown:v,onKeyUp:b,onKeyPress:y,onPointerDown:_},k,M,$);return me()({ourProps:O,theirProps:u,slot:I,defaultTag:Ww,name:"Listbox.Button"})}let vh=he(!1),Yw="div",Xw=ut.RenderStrategy|ut.Static;function Jw(e,t){let n=Pe(),{id:r=`headlessui-listbox-options-${n}`,anchor:o,portal:i=!1,modal:a=!0,transition:l=!1,...s}=e,u=Bg(o),[f,p]=T(null);u&&(i=!0);let g=Or("Listbox.Options"),c=Ks("Listbox.Options"),[h,m,v,b]=ye(c,W=>[W.listboxState,W.buttonElement,W.optionsElement,W.__demoMode]),_=Lt(m),y=Lt(v),S=yn(),[w,C]=So(l,f,S!==null?(S&Ne.Open)===Ne.Open:h===Ge.Open);As(w,m,c.actions.closeListbox);let k=b?!1:a&&h===Ge.Open;ks(k,y);let L=b?!1:a&&h===Ge.Open;Rs(L,{allowed:te(()=>[m,v],[m,v])});let M=h!==Ge.Open,P=Dw(M,m)?!1:w,$=w&&h===Ge.Closed,I=fo($,g.value),B=V(W=>g.compare(I,W)),O=ye(c,W=>{var q;if(u==null||!((q=u==null?void 0:u.to)!=null&&q.includes("selection")))return null;let ce=W.options.findIndex(ve=>B(ve.dataRef.current.value));return ce===-1&&(ce=0),ce}),A=(()=>{if(u==null)return;if(O===null)return{...u,inner:void 0};let W=Array.from(g.listRef.current.values());return{...u,inner:{listRef:{current:W},index:O}}})(),[N,Y]=qg(A),K=Hg(),ne=Ce(t,u?N:null,c.actions.setOptionsElement,p),z=en();U(()=>{var W;let q=v;q&&h===Ge.Open&&q!==((W=Vt(q))==null?void 0:W.activeElement)&&(q==null||q.focus({preventScroll:!0}))},[h,v]);let ae=V(W=>{var q,ce;switch(z.dispose(),W.key){case re.Space:if(c.state.searchQuery!=="")return W.preventDefault(),W.stopPropagation(),c.actions.search(W.key);case re.Enter:if(W.preventDefault(),W.stopPropagation(),c.state.activeOptionIndex!==null){let{dataRef:ve}=c.state.options[c.state.activeOptionIndex];c.actions.onChange(ve.current.value)}g.mode===Ct.Single&&(Ve(()=>c.actions.closeListbox()),(q=c.state.buttonElement)==null||q.focus({preventScroll:!0}));break;case xe(g.orientation,{vertical:re.ArrowDown,horizontal:re.ArrowRight}):return W.preventDefault(),W.stopPropagation(),c.actions.goToOption({focus:le.Next});case xe(g.orientation,{vertical:re.ArrowUp,horizontal:re.ArrowLeft}):return W.preventDefault(),W.stopPropagation(),c.actions.goToOption({focus:le.Previous});case re.Home:case re.PageUp:return W.preventDefault(),W.stopPropagation(),c.actions.goToOption({focus:le.First});case re.End:case re.PageDown:return W.preventDefault(),W.stopPropagation(),c.actions.goToOption({focus:le.Last});case re.Escape:W.preventDefault(),W.stopPropagation(),Ve(()=>c.actions.closeListbox()),(ce=c.state.buttonElement)==null||ce.focus({preventScroll:!0});return;case re.Tab:W.preventDefault(),W.stopPropagation(),Ve(()=>c.actions.closeListbox()),Lb(c.state.buttonElement,W.shiftKey?ke.Previous:ke.Next);break;default:W.key.length===1&&(c.actions.search(W.key),z.setTimeout(()=>c.actions.clearSearch(),350));break}}),ue=ye(c,W=>{var q;return(q=W.buttonElement)==null?void 0:q.id}),X=G(()=>({open:h===Ge.Open}),[h]),H=ct(u?K():{},{id:r,ref:ne,"aria-activedescendant":ye(c,c.selectors.activeDescendantId),"aria-multiselectable":g.mode===Ct.Multi?!0:void 0,"aria-labelledby":ue,"aria-orientation":g.orientation,onKeyDown:ae,role:"listbox",tabIndex:h===Ge.Open?0:void 0,style:{...s.style,...Y,"--button-width":Il(m,!0).width},...wo(C)}),we=me(),_e=G(()=>g.mode===Ct.Multi?g:{...g,isSelected:B},[g,B]);return E.createElement(Bs,{enabled:i?e.static||w:!1,ownerDocument:_},E.createElement(Io.Provider,{value:_e},we({ourProps:H,theirProps:s,slot:X,defaultTag:Yw,features:Xw,visible:P,name:"Listbox.Options"})))}let Qw="div";function Zw(e,t){let n=Pe(),{id:r=`headlessui-listbox-option-${n}`,disabled:o=!1,value:i,...a}=e,l=oe(vh)===!0,s=Or("Listbox.Option"),u=Ks("Listbox.Option"),f=ye(u,P=>u.selectors.isActive(P,r)),p=s.isSelected(i),g=D(null),c=Vw(g),h=tt({disabled:o,value:i,domRef:g,get textValue(){return c()}}),m=Ce(t,g,P=>{P?s.listRef.current.set(r,P):s.listRef.current.delete(r)}),v=ye(u,P=>u.selectors.shouldScrollIntoView(P,r));fe(()=>{if(v)return dt().requestAnimationFrame(()=>{var P,$;($=(P=g.current)==null?void 0:P.scrollIntoView)==null||$.call(P,{block:"nearest"})})},[v,g]),fe(()=>{if(!l)return u.actions.registerOption(r,h),()=>u.actions.unregisterOption(r)},[h,r,l]);let b=V(P=>{var $;if(o)return P.preventDefault();u.actions.onChange(i),s.mode===Ct.Single&&(Ve(()=>u.actions.closeListbox()),($=u.state.buttonElement)==null||$.focus({preventScroll:!0}))}),_=V(()=>{if(o)return u.actions.goToOption({focus:le.Nothing});u.actions.goToOption({focus:le.Specific,id:r})}),y=Fg(),S=V(P=>{y.update(P),!o&&(f||u.actions.goToOption({focus:le.Specific,id:r},Wl.Pointer))}),w=V(P=>{y.wasMoved(P)&&(o||f||u.actions.goToOption({focus:le.Specific,id:r},Wl.Pointer))}),C=V(P=>{y.wasMoved(P)&&(o||f&&u.actions.goToOption({focus:le.Nothing}))}),k=G(()=>({active:f,focus:f,selected:p,disabled:o,selectedOption:p&&l}),[f,p,o,l]),L=l?{}:{id:r,ref:m,role:"option",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-selected":p,disabled:void 0,onClick:b,onFocus:_,onPointerEnter:S,onMouseEnter:S,onPointerMove:w,onMouseMove:w,onPointerLeave:C,onMouseLeave:C},M=me();return!p&&l?null:M({ourProps:L,theirProps:a,slot:k,defaultTag:Qw,name:"Listbox.Option"})}let e1=ee;function t1(e,t){let{options:n,placeholder:r,...o}=e,i={ref:Ce(t)},a=Or("ListboxSelectedOption"),l=G(()=>({}),[]),s=a.value===void 0||a.value===null||a.mode===Ct.Multi&&Array.isArray(a.value)&&a.value.length===0,u=me();return E.createElement(vh.Provider,{value:!0},u({ourProps:i,theirProps:{...o,children:E.createElement(E.Fragment,null,r&&s?r:n)},slot:l,defaultTag:e1,name:"ListboxSelectedOption"}))}let n1=pe(Uw),Pn=pe(Kw),r1=Ue,$n=pe(Jw),ln=pe(Zw),o1=pe(t1),Jn=Object.assign(n1,{Button:Pn,Label:r1,Options:$n,Option:ln,SelectedOption:o1});function i1({onFocus:e}){let[t,n]=T(!0),r=Ao();return t?E.createElement(Yt,{as:"button",type:"button",features:Kt.Focusable,onFocus:o=>{o.preventDefault();let i,a=50;function l(){if(a--<=0){i&&cancelAnimationFrame(i);return}if(e()){if(cancelAnimationFrame(i),!r.current)return;n(!1);return}i=requestAnimationFrame(l)}i=requestAnimationFrame(l)}}):null}const bh=he(null);function a1(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let o=(n=r.get(t))!=null?n:0;r.set(t,o+1);let i=Array.from(r.keys()).indexOf(t);function a(){let l=r.get(t);l>1?r.set(t,l-1):r.delete(t)}return[i,a]}}}function l1({children:e}){let t=D(a1());return Le(bh.Provider,{value:t},e)}function _h(e){let t=oe(bh);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=Pe(),[r,o]=t.current.get(e,n);return U(()=>o,[]),r}var s1=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(s1||{}),u1=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(u1||{}),c1=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(c1||{});let d1={0(e,t){var n;let r=zt(e.tabs,f=>f.current),o=zt(e.panels,f=>f.current),i=r.filter(f=>{var p;return!((p=f.current)!=null&&p.hasAttribute("disabled"))}),a={...e,tabs:r,panels:o};if(t.index<0||t.index>r.length-1){let f=xe(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>xe(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(i.length===0)return a;let p=xe(f,{0:()=>r.indexOf(i[0]),1:()=>r.indexOf(i[i.length-1])});return{...a,selectedIndex:p===-1?e.selectedIndex:p}}let l=r.slice(0,t.index),s=[...r.slice(t.index),...l].find(f=>i.includes(f));if(!s)return a;let u=(n=r.indexOf(s))!=null?n:e.selectedIndex;return u===-1&&(u=e.selectedIndex),{...a,selectedIndex:u}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=zt([...e.tabs,t.tab],i=>i.current),o=e.selectedIndex;return e.info.current.isControlled||(o=r.indexOf(n),o===-1&&(o=e.selectedIndex)),{...e,tabs:r,selectedIndex:o}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:zt([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},Ys=he(null);Ys.displayName="TabsDataContext";function Gn(e){let t=oe(Ys);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Gn),n}return t}let Xs=he(null);Xs.displayName="TabsActionsContext";function Js(e){let t=oe(Xs);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Js),n}return t}function f1(e,t){return xe(t.type,d1,e,t)}let p1="div";function g1(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:o=!1,onChange:i,selectedIndex:a=null,...l}=e;const s=r?"vertical":"horizontal",u=o?"manual":"auto";let f=a!==null,p=tt({isControlled:f}),g=Ce(t),[c,h]=Dt(f1,{info:p,selectedIndex:a??n,tabs:[],panels:[]}),m=G(()=>({selectedIndex:c.selectedIndex}),[c.selectedIndex]),v=tt(i||(()=>{})),b=tt(c.tabs),_=G(()=>({orientation:s,activation:u,...c}),[s,u,c]),y=V(P=>(h({type:1,tab:P}),()=>h({type:2,tab:P}))),S=V(P=>(h({type:3,panel:P}),()=>h({type:4,panel:P}))),w=V(P=>{C.current!==P&&v.current(P),f||h({type:0,index:P})}),C=tt(f?e.selectedIndex:c.selectedIndex),k=G(()=>({registerTab:y,registerPanel:S,change:w}),[]);fe(()=>{h({type:0,index:a??n})},[a]),fe(()=>{if(C.current===void 0||c.tabs.length<=0)return;let P=zt(c.tabs,$=>$.current);P.some(($,I)=>c.tabs[I]!==$)&&w(P.indexOf(c.tabs[C.current]))});let L={ref:g},M=me();return E.createElement(l1,null,E.createElement(Xs.Provider,{value:k},E.createElement(Ys.Provider,{value:_},_.tabs.length<=0&&E.createElement(i1,{onFocus:()=>{var P,$;for(let I of b.current)if(((P=I.current)==null?void 0:P.tabIndex)===0)return($=I.current)==null||$.focus(),!0;return!1}}),M({ourProps:L,theirProps:l,slot:m,defaultTag:p1,name:"Tabs"}))))}let h1="div";function m1(e,t){let{orientation:n,selectedIndex:r}=Gn("Tab.List"),o=Ce(t),i=G(()=>({selectedIndex:r}),[r]),a=e,l={ref:o,role:"tablist","aria-orientation":n};return me()({ourProps:l,theirProps:a,slot:i,defaultTag:h1,name:"Tabs.List"})}let v1="button";function b1(e,t){var n,r;let o=Pe(),{id:i=`headlessui-tabs-tab-${o}`,disabled:a=!1,autoFocus:l=!1,...s}=e,{orientation:u,activation:f,selectedIndex:p,tabs:g,panels:c}=Gn("Tab"),h=Js("Tab"),m=Gn("Tab"),[v,b]=T(null),_=D(null),y=Ce(_,t,b);fe(()=>h.registerTab(_),[h,_]);let S=_h("tabs"),w=g.indexOf(_);w===-1&&(w=S);let C=w===p,k=V(z=>{var ae;let ue=z();if(ue===dn.Success&&f==="auto"){let X=(ae=Vt(_))==null?void 0:ae.activeElement,H=m.tabs.findIndex(we=>we.current===X);H!==-1&&h.change(H)}return ue}),L=V(z=>{let ae=g.map(ue=>ue.current).filter(Boolean);if(z.key===re.Space||z.key===re.Enter){z.preventDefault(),z.stopPropagation(),h.change(w);return}switch(z.key){case re.Home:case re.PageUp:return z.preventDefault(),z.stopPropagation(),k(()=>at(ae,ke.First));case re.End:case re.PageDown:return z.preventDefault(),z.stopPropagation(),k(()=>at(ae,ke.Last))}if(k(()=>xe(u,{vertical(){return z.key===re.ArrowUp?at(ae,ke.Previous|ke.WrapAround):z.key===re.ArrowDown?at(ae,ke.Next|ke.WrapAround):dn.Error},horizontal(){return z.key===re.ArrowLeft?at(ae,ke.Previous|ke.WrapAround):z.key===re.ArrowRight?at(ae,ke.Next|ke.WrapAround):dn.Error}}))===dn.Success)return z.preventDefault()}),M=D(!1),P=V(()=>{var z;M.current||(M.current=!0,(z=_.current)==null||z.focus({preventScroll:!0}),h.change(w),wr(()=>{M.current=!1}))}),$=V(z=>{z.preventDefault()}),{isFocusVisible:I,focusProps:B}=Gt({autoFocus:l}),{isHovered:O,hoverProps:A}=Zt({isDisabled:a}),{pressed:N,pressProps:Y}=Sr({disabled:a}),K=G(()=>({selected:C,hover:O,active:N,focus:I,autofocus:l,disabled:a}),[C,O,I,N,l,a]),ne=ct({ref:y,onKeyDown:L,onMouseDown:$,onClick:P,id:i,role:"tab",type:yo(e,v),"aria-controls":(r=(n=c[w])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":C,tabIndex:C?0:-1,disabled:a||void 0,autoFocus:l},B,A,Y);return me()({ourProps:ne,theirProps:s,slot:K,defaultTag:v1,name:"Tabs.Tab"})}let _1="div";function y1(e,t){let{selectedIndex:n}=Gn("Tab.Panels"),r=Ce(t),o=G(()=>({selectedIndex:n}),[n]),i=e,a={ref:r};return me()({ourProps:a,theirProps:i,slot:o,defaultTag:_1,name:"Tabs.Panels"})}let w1="div",S1=ut.RenderStrategy|ut.Static;function x1(e,t){var n,r,o,i;let a=Pe(),{id:l=`headlessui-tabs-panel-${a}`,tabIndex:s=0,...u}=e,{selectedIndex:f,tabs:p,panels:g}=Gn("Tab.Panel"),c=Js("Tab.Panel"),h=D(null),m=Ce(h,t);fe(()=>c.registerPanel(h),[c,h]);let v=_h("panels"),b=g.indexOf(h);b===-1&&(b=v);let _=b===f,{isFocusVisible:y,focusProps:S}=Gt(),w=G(()=>({selected:_,focus:y}),[_,y]),C=ct({ref:m,id:l,role:"tabpanel","aria-labelledby":(r=(n=p[b])==null?void 0:n.current)==null?void 0:r.id,tabIndex:_?s:-1},S),k=me();return!_&&((o=u.unmount)==null||o)&&!((i=u.static)!=null&&i)?E.createElement(Yt,{"aria-hidden":"true",...C}):k({ourProps:C,theirProps:u,slot:w,defaultTag:w1,features:S1,visible:_,name:"Tabs.Panel"})}let C1=pe(b1),yh=pe(g1),wh=pe(m1),Sh=pe(y1),Zr=pe(x1),hi=Object.assign(C1,{Group:yh,List:wh,Panels:Sh,Panel:Zr}),F1="textarea";function E1(e,t){let n=Pe(),r=xr(),o=tn(),{id:i=r||`headlessui-textarea-${n}`,disabled:a=o||!1,autoFocus:l=!1,invalid:s=!1,...u}=e,f=_n(),p=bo(),{isFocused:g,focusProps:c}=Gt({autoFocus:l}),{isHovered:h,hoverProps:m}=Zt({isDisabled:a}),v=ct({ref:t,id:i,"aria-labelledby":f,"aria-describedby":p,"aria-invalid":s?"true":void 0,disabled:a||void 0,autoFocus:l},c,m),b=G(()=>({disabled:a,invalid:s,hover:h,focus:g,autofocus:l}),[a,s,h,g,l]);return me()({ourProps:v,theirProps:u,slot:b,defaultTag:F1,name:"Textarea"})}let P1=pe(E1);function Mo(){return(Mo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xh(e,t){if(e==null)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}function Kl(e){var t=D(e),n=D(function(r){t.current&&t.current(r)});return t.current=e,n.current}var Vn=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},dr=function(e){return"touches"in e},Yl=function(e){return e&&e.ownerDocument.defaultView||self},Ac=function(e,t,n){var r=e.getBoundingClientRect(),o=dr(t)?function(i,a){for(var l=0;l<i.length;l++)if(i[l].identifier===a)return i[l];return i[0]}(t.touches,n):t;return{left:Vn((o.pageX-(r.left+Yl(e).pageXOffset))/r.width),top:Vn((o.pageY-(r.top+Yl(e).pageYOffset))/r.height)}},Tc=function(e){!dr(e)&&e.preventDefault()},Qs=E.memo(function(e){var t=e.onMove,n=e.onKey,r=xh(e,["onMove","onKey"]),o=D(null),i=Kl(t),a=Kl(n),l=D(null),s=D(!1),u=G(function(){var c=function(v){Tc(v),(dr(v)?v.touches.length>0:v.buttons>0)&&o.current?i(Ac(o.current,v,l.current)):m(!1)},h=function(){return m(!1)};function m(v){var b=s.current,_=Yl(o.current),y=v?_.addEventListener:_.removeEventListener;y(b?"touchmove":"mousemove",c),y(b?"touchend":"mouseup",h)}return[function(v){var b=v.nativeEvent,_=o.current;if(_&&(Tc(b),!function(S,w){return w&&!dr(S)}(b,s.current)&&_)){if(dr(b)){s.current=!0;var y=b.changedTouches||[];y.length&&(l.current=y[0].identifier)}_.focus(),i(Ac(_,b,l.current)),m(!0)}},function(v){var b=v.which||v.keyCode;b<37||b>40||(v.preventDefault(),a({left:b===39?.05:b===37?-.05:0,top:b===40?.05:b===38?-.05:0}))},m]},[a,i]),f=u[0],p=u[1],g=u[2];return U(function(){return g},[g]),E.createElement("div",Mo({},r,{onTouchStart:f,onMouseDown:f,className:"react-colorful__interactive",ref:o,onKeyDown:p,tabIndex:0,role:"slider"}))}),Lo=function(e){return e.filter(Boolean).join(" ")},Zs=function(e){var t=e.color,n=e.left,r=e.top,o=r===void 0?.5:r,i=Lo(["react-colorful__pointer",e.className]);return E.createElement("div",{className:i,style:{top:100*o+"%",left:100*n+"%"}},E.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Be=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},$1=function(e){return N1(Xl(e))},Xl=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Be(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?Be(parseInt(e.substring(6,8),16)/255,2):1}},R1=function(e){return T1(A1(e))},Ch=function(e){var t=e.s,n=e.v,r=e.a,o=(200-t)*n/100;return{h:Be(e.h),s:Be(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:Be(o/2),a:Be(r,2)}},Jl=function(e){var t=Ch(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},mi=function(e){var t=Ch(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},A1=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var i=Math.floor(t),a=r*(1-n),l=r*(1-(t-i)*n),s=r*(1-(1-t+i)*n),u=i%6;return{r:Be(255*[r,l,a,a,s,r][u]),g:Be(255*[s,r,r,l,a,a][u]),b:Be(255*[a,a,s,r,r,l][u]),a:Be(o,2)}},Wr=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},T1=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=o<1?Wr(Be(255*o)):"";return"#"+Wr(t)+Wr(n)+Wr(r)+i},N1=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=Math.max(t,n,r),a=i-Math.min(t,n,r),l=a?i===t?(n-r)/a:i===n?2+(r-t)/a:4+(t-n)/a:0;return{h:Be(60*(l<0?l+6:l)),s:Be(i?a/i*100:0),v:Be(i/255*100),a:o}},O1=E.memo(function(e){var t=e.hue,n=e.onChange,r=Lo(["react-colorful__hue",e.className]);return E.createElement("div",{className:r},E.createElement(Qs,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:Vn(t+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":Be(t),"aria-valuemax":"360","aria-valuemin":"0"},E.createElement(Zs,{className:"react-colorful__hue-pointer",left:t/360,color:Jl({h:t,s:100,v:100,a:1})})))}),k1=E.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:Jl({h:t.h,s:100,v:100,a:1})};return E.createElement("div",{className:"react-colorful__saturation",style:r},E.createElement(Qs,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:Vn(t.s+100*o.left,0,100),v:Vn(t.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Be(t.s)+"%, Brightness "+Be(t.v)+"%"},E.createElement(Zs,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:Jl(t)})))}),Fh=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},I1=function(e,t){return e.toLowerCase()===t.toLowerCase()||Fh(Xl(e),Xl(t))};function M1(e,t,n){var r=Kl(n),o=T(function(){return e.toHsva(t)}),i=o[0],a=o[1],l=D({color:t,hsva:i});U(function(){if(!e.equal(t,l.current.color)){var u=e.toHsva(t);l.current={hsva:u,color:t},a(u)}},[t,e]),U(function(){var u;Fh(i,l.current.hsva)||e.equal(u=e.fromHsva(i),l.current.color)||(l.current={hsva:i,color:u},r(u))},[i,e,r]);var s=te(function(u){a(function(f){return Object.assign({},f,u)})},[]);return[i,s]}var L1=typeof window<"u"?mt:U,D1=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},Nc=new Map,G1=function(e){L1(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!Nc.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,Nc.set(t,n);var r=D1();r&&n.setAttribute("nonce",r),t.head.appendChild(n)}},[])},V1=function(e){var t=e.className,n=e.hsva,r=e.onChange,o={backgroundImage:"linear-gradient(90deg, "+mi(Object.assign({},n,{a:0}))+", "+mi(Object.assign({},n,{a:1}))+")"},i=Lo(["react-colorful__alpha",t]),a=Be(100*n.a);return E.createElement("div",{className:i},E.createElement("div",{className:"react-colorful__alpha-gradient",style:o}),E.createElement(Qs,{onMove:function(l){r({a:l.left})},onKey:function(l){r({a:Vn(n.a+l.left)})},"aria-label":"Alpha","aria-valuetext":a+"%","aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100"},E.createElement(Zs,{className:"react-colorful__alpha-pointer",left:n.a,color:mi(n)})))},B1=function(e){var t=e.className,n=e.colorModel,r=e.color,o=r===void 0?n.defaultColor:r,i=e.onChange,a=xh(e,["className","colorModel","color","onChange"]),l=D(null);G1(l);var s=M1(n,o,i),u=s[0],f=s[1],p=Lo(["react-colorful",t]);return E.createElement("div",Mo({},a,{ref:l,className:p}),E.createElement(k1,{hsva:u,onChange:f}),E.createElement(O1,{hue:u.h,onChange:f}),E.createElement(V1,{hsva:u,onChange:f,className:"react-colorful__last-control"}))},j1={defaultColor:"0001",toHsva:$1,fromHsva:R1,equal:I1},H1=function(e){return E.createElement(B1,Mo({},e,{colorModel:j1}))};function q1(e){return Object.keys(e.printers).length===0}var Eh=(e=>(e.Assigned="Assigned",e.Actual="Actual",e))(Eh||{}),Ph=(e=>(e.LeftToRight="LeftToRight",e.RightToLeft="RightToLeft",e))(Ph||{}),$h=(e=>(e.TopDown="TopDown",e.BottomUp="BottomUp",e))($h||{}),Rh=(e=>(e.LeftToRight="LeftToRight",e.RightToLeft="RightToLeft",e))(Rh||{}),Ah=(e=>(e.Unordered="Unordered",e.TopDown="TopDown",e.BottomUp="BottomUp",e.FrontToBack="FrontToBack",e.BackToFront="BackToFront",e.LeftToRight="LeftToRight",e.RightToLeft="RightToLeft",e))(Ah||{});const z1=`material,filament_info,temp_min,temp_high
ABS,GFB99,240,280
ABS-GF,GFB50,240,280
ABS-S,GFS06,240,270
ASA,GFB98,240,280
ASA-AERO,GFB02,240,280
ASA-CF,GFB51,240,280
BVOH,GFS97,190,240
EVA,GFR99,190,240
HIPS,GFS98,220,270
PA,GFN99,260,300
PA-CF,GFN98,260,300
PA-GF,GFN08,260,300
PA-S,GFS01,260,300
PA6-CF,GFN05,260,300
PC,GFC99,260,290
PCTG,GFG97,220,260
PE,GFP99,190,240
PE-CF,GFP98,190,240
PET-CF,GFT01,220,260
PETG,GFG99,220,260
PETG-CF,GFG98,220,260
PHA,GFR98,190,240
PLA,GFL99,190,240
PLA-AERO,GFA11,190,240
PLA-CF,GFL98,190,240
PLA-S,GFS00,190,240
PP,GFP97,220,250
PP-CF,GFP96,220,250
PP-GF,GFP95,220,250
PPA-CF,GFN97,280,320
PPA-GF,GFN96,280,320
PPS,GFT97,300,340
PPS-CF,GFT98,300,340
PVA,GFS99,190,240
TPU,GFU99,200,250
TPU-AMS,GFU98,200,250
`,U1=["PLA","PETG","ABS","TPU","ASA",...z1.split(`
`).slice(1).map(e=>e.split(",")[0].trim()).filter(e=>e.length>0)],W1=`Beige,F5F5DCFF
Black,000000FF
Blue,0000FFFF
Brown,8B4513FF
Cyan,00FFFFFF
Dark Blue,00008BFF
Dark Green,006400FF
Dark Red,8B0000FF
Gray,808080FF
Green,008000FF
Light Blue,ADD8E6FF
Light Green,90EE90FF
Light Red,FF7F7FFF
Magenta,FF00FFFF
Olive,808000FF
Orange,FFA500FF
Pink,EE79A8FF
Purple,800080FF
Red,FF0000FF
Teal,008080FF
Violet,EE82EEFF
White,FFFFFFFF
Yellow,FFFF00FF
Gold,FFD700FF
Silver,C0C0C0FF
Light Wood,A5886EFF,
Wood,705A4EFF,
Dark Wood,56413E,
Bronze,7B6245FF,
Copper,8F4D2EFF,
Transparent,FFFFFF00,
`,K1=location.hostname==="localhost"||location.hostname==="127.0.0.1"||location.hostname==="192.168.10.51",ze=e=>{const t=e.startsWith("/")?"":"/";return(K1?"http://consoledev.local":"")+t+e};function En(e){const t=e.trim();if(t==="")return null;const n=Number(t);return isNaN(n)?null:n}function Oc(e){const t=e.length===8?e.slice(0,6):e;let n=parseInt(t.slice(0,2),16)/255,r=parseInt(t.slice(2,4),16)/255,o=parseInt(t.slice(4,6),16)/255;const i=Math.max(n,r,o),a=Math.min(n,r,o);let l=0,s=0,u=(i+a)/2;if(i!==a){const f=i-a;switch(s=u>.5?f/(2-i-a):f/(i+a),i){case n:l=((r-o)/f+(r<o?6:0))/6;break;case r:l=((o-n)/f+2)/6;break;case o:l=((n-r)/f+4)/6;break}}return{h:l*360,s:s*100,l:u*100}}function Y1(e,t){if(e==="00000000")return 1;if(t==="00000000")return-1;const n=Oc(e),r=Oc(t),o=n.s<15,i=r.s<15;if(o&&!i)return 1;if(!o&&i)return-1;if(o&&i){if(n.l!==r.l)return n.l-r.l;const s=parseInt(e.slice(6,8),16),u=parseInt(t.slice(6,8),16);return s-u}if(n.h!==r.h)return n.h-r.h;if(n.s!==r.s)return n.s-r.s;if(n.l!==r.l)return n.l-r.l;const a=parseInt(e.slice(6,8),16),l=parseInt(t.slice(6,8),16);return a-l}function X1(e){const t=[];let n="",r=!1;for(let o=0;o<e.length;o++){const i=e[o],a=e[o+1];i==='"'&&r&&a==='"'?(n+='"',o++):i==='"'?r=!r:i===","&&!r?(t.push(n),n=""):n+=i}return t.push(n),t}function kc(e){if(e=="")return 0;if(e.length!=6)return null;const t=atob(e),n=new ArrayBuffer(4),r=new Uint8Array(n);for(let o=0;o<4;o++)r[o]=t.charCodeAt(o);return new DataView(n).getFloat32(0,!0)}function Th(e){e=e.replace("#","");const t=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return(t*299+n*587+r*114)/1e3>=128?"black":"white"}function J1({children:e,title:t,message:n,onConfirm:r,confirmText:o="Confirm",cancelText:i="Cancel"}){const[a,l]=T(!1);return d(ee,{children:[d("span",{onClick:()=>l(!0),children:e}),d(Nr,{open:a,onClose:()=>l(!1),className:"fixed inset-0 z-50 flex items-center justify-center",children:[d(Ar,{className:"dialog-backdrop"}),d("div",{className:"p-4 rounded shadow max-w-lg w-full",children:d(Rr,{className:"spool-dialog-panel",children:[d(Tr,{className:"dialog-title",children:[t,d(Fe,{onClick:()=>l(!1),className:"p-1.5 hover:bg-base-200 rounded-md transition-colors",type:"button",children:d(Tt,{className:"w-4 h-4"})})]}),d(Fs,{className:"dialog-description text-warning ",children:n}),d("div",{className:"mt-4 flex justify-end gap-2",children:[d("button",{className:"btn btn-outline",onClick:()=>l(!1),children:i}),d("button",{className:"btn btn-primary",onClick:()=>{r(),l(!1)},children:o})]})]})})]})]})}const Kr=({maxValue:e,handleNumpadValue:t})=>{const[n,r]=T(""),[o,i]=T(""),a=c=>f?c>e:!n&&c===0||parseInt(n+c)>e,l=(c,h)=>{c<=h&&t(c,!0)},s=c=>{const h=parseInt(n);if(h>c){i(`Must be between 1 and ${c}`);return}l(h,c),r(""),i("")},u=(c,h)=>{c==="backspace"?r(m=>m.slice(0,-1)):c==="confirm"?s(h):(r(m=>m+c),t(Number(n+c),!1))},f=e<10,p=[];for(let c=1;c<=9;c++){const h=a(c);p.push(d("button",{onClick:()=>f?l(c,e):u(c.toString(),e),disabled:h,className:`px-2 py-4 text-xl font-semibold rounded-lg border border-gray-300 dark:border-gray-600 
            ${h?"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed":"bg-base-100 hover:bg-base-200 active:bg-base-300"} transition-colors`,children:c},c))}const g=a(0);return d(ee,{children:d("div",{className:"grid grid-cols-3 gap-3 max-w-xs mx-auto",children:[!f&&d(ee,{children:[d("div",{className:"text-right col-span-3 px-4 py-2 bg-base-100 border border-gray-300 dark:border-gray-600 rounded-lg font-mono text-lg min-w-[100px]",children:n||"_"})," "]}),p,f?d("button",{disabled:!0,className:"col-span-3 px-2 py-4 text-lg font-semibold rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed",children:"0"}):d(ee,{children:[d("button",{onClick:()=>u("backspace",e),className:"px-2 py-4 text-lg font-semibold rounded-lg border border-gray-300 dark:border-gray-600 bg-base-100 hover:bg-base-200 active:bg-base-300 transition-colors flex items-center justify-center",children:d(Rm,{size:24})}),d("button",{disabled:g,onClick:()=>u("0",e),className:`px-2 py-4 text-xl font-semibold rounded-lg border border-gray-300 dark:border-gray-600 
            ${g?"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed":"bg-base-100 hover:bg-base-200 active:bg-base-300"} transition-colors`,children:"0"}),d("button",{onClick:()=>u("confirm",e),className:"px-2 py-4 text-lg font-semibold rounded-lg border border-gray-300 dark:border-gray-600 bg-base-100 hover:bg-base-200 active:bg-base-300 transition-colors flex items-center justify-center",children:d($m,{size:24})})]})]})})};function Q1({storageConfig:e,onCancel:t,onSelect:n,onClear:r,initialLocation:o,closeOnPressOutside:i=!0}){if(!e)return d(ee,{});const a=D(null);U(()=>{if(!i||!t)return;function O(A){a.current&&!a.current.contains(A.target)&&t()}return document.addEventListener("mousedown",O),()=>document.removeEventListener("click",O)},[t]);const[l,s]=T((o==null?void 0:o.rack)||null),[u,f]=T((o==null?void 0:o.bay)||null),[p,g]=T((o==null?void 0:o.shelf)||null),[c,h]=T((o==null?void 0:o.position)||null),[m,v]=T((o==null?void 0:o.container)||null),[b,_]=T(null);U(()=>{s(o==null?void 0:o.rack),f(o==null?void 0:o.bay),g(o==null?void 0:o.shelf),h(o==null?void 0:o.position),v(o==null?void 0:o.container),o&&(o.container?_("6complete"):o.position?_("5container"):o.shelf?_("4position"):o.bay?_("3shelf"):o.rack?_("2bay"):_("1rack"))},[o]);const y=e?Object.entries(e.rack_config).map(([O,A])=>({rackId:Number(O),name:A.name})):[];U(()=>{o&&(s(o.rack),f(o.bay),g(o.shelf),h(o.position),v(o.container||null))},[o]);const S=(O,A)=>O.num_shelves,w=(O,A,N)=>O.num_positions,C=(O,A,N,Y)=>O.num_containers;U(()=>{if(!l||!e)return;const O=e.rack_config[l].num_bays;b=="2bay"&&O<=1&&L(O,!0)},[b]),U(()=>{if(!l)return;const O=S(e.rack_config[l]);b=="3shelf"&&O<=1&&M(O,!0)},[b]),U(()=>{if(!l)return;const O=w(e.rack_config[l]);b=="4position"&&O<=1&&P(O,!0)},[b]),U(()=>{if(!l)return;const O=C(e.rack_config[l]);b=="5container"&&O<=1&&$(O,!0)},[b]);const k=(O,A)=>{s(O),g(null),h(null),v(null),_("2bay")},L=(O,A)=>{f(O),g(null),h(null),v(null),A&&_("3shelf")},M=(O,A)=>{g(O),h(null),v(null),A&&_("4position")},P=(O,A)=>{h(O),v(null),A&&_("5container")},$=(O,A)=>{v(O),A&&_("6complete")},I=O=>{switch(O){case"1rack":s(null),f(null),g(null),h(null),v(null),_("1rack");break;case"2bay":f(null),g(null),h(null),v(null),_("2bay");break;case"3shelf":g(null),h(null),v(null),_("3shelf");break;case"4position":h(null),v(null),_("4position");break;case"5container":v(null),_("5container");break}},B=(O,A)=>{b==="2bay"&&l?L(O,A):b==="3shelf"&&l?M(O,A):b==="4position"&&l?P(O,A):b==="5container"&&l&&$(O,A)};return y.length===0?d("div",{className:"text-center py-12 text-base-content/60",children:[d("p",{className:"text-lg font-medium mb-2",children:"No storage configured"}),d("p",{className:"text-sm",children:"Please configure storage racks first"})]}):d("div",{ref:a,className:"space-y-2",children:[d("div",{children:l?d("div",{className:"flex items-center gap-2 mb-2",children:[d("span",{className:"text-sm font-medium text-base-content/70",children:"Rack:"}),d("span",{className:"font-medium",children:e.rack_config[l].name}),d("button",{onClick:()=>I("1rack"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:d(Tt,{size:16})})]}):d(ee,{children:[d("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:"Select Rack:"}),d("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:y.map(O=>d("button",{onClick:()=>k(O.rackId),className:"px-4 py-3 bg-base-100 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-base-200 hover:border-gray-400 dark:hover:border-gray-500 transition-colors text-left font-medium",children:O.name},O.rackId))})]})}),l&&b>="2bay"&&d("div",{children:u&&b>"2bay"?d("div",{className:"flex items-center gap-2 mb-2",children:[d("span",{className:"text-sm font-medium text-base-content/70",children:"Bay:"}),d("span",{className:"font-medium",children:u}),d("button",{onClick:()=>I("2bay"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:d(Tt,{size:16})})]}):b==="2bay"&&d(ee,{children:[d("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:["Which bay? (1-",e.rack_config[l].num_bays,")"]}),d(Kr,{maxValue:e.rack_config[l].num_bays,handleNumpadValue:B})]})}),l&&b>="3shelf"&&d("div",{children:p&&b>"3shelf"?d("div",{className:"flex items-center gap-2 mb-2",children:[d("span",{className:"text-sm font-medium text-base-content/70",children:"Shelf:"}),d("span",{className:"font-medium",children:p}),d("button",{onClick:()=>I("3shelf"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:d(Tt,{size:16})})]}):b==="3shelf"&&d(ee,{children:[d("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:["Which shelf? (1-",e.rack_config[l].num_shelves,")"]}),d(Kr,{maxValue:S(e.rack_config[l]),handleNumpadValue:B})]})}),l&&b>="4position"&&d("div",{children:c&&b>"4position"?d("div",{className:"flex items-center gap-2 mb-2",children:[d("span",{className:"text-sm font-medium text-base-content/70",children:"Position:"}),d("span",{className:"font-medium",children:c}),d("button",{onClick:()=>I("4position"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:d(Tt,{size:16})})]}):b==="4position"&&d(ee,{children:[d("div",{className:"text-sm font-medium text-base-content/70 mb-2 flex items-center gap-2",children:["Which position? (1-",w(e.rack_config[l]),")",(()=>{const O=e.rack_config[l].num_positions,A=w(e.rack_config[l]);return O!==A?d("span",{className:"text-xs text-primary flex items-center gap-1",children:[d(Om,{size:14}),"This shelf has ",A," positions"]}):null})()]}),d(Kr,{maxValue:w(e.rack_config[l]),handleNumpadValue:B})]})}),l&&b>="5container"&&d("div",{children:m&&b>"5container"?d("div",{className:"flex items-center gap-2 mb-2",children:[d("span",{className:"text-sm font-medium text-base-content/70",children:"Container:"}),d("span",{className:"font-medium",children:m}),d("button",{onClick:()=>I("5container"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:d(Tt,{size:16})})]}):b==="5container"&&d(ee,{children:[d("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:["Which container? (1-",C(e.rack_config[l]),")"]}),d(Kr,{maxValue:C(e.rack_config[l]),handleNumpadValue:B})]})}),l&&d("div",{className:"bg-primary/10 border border-primary rounded-lg p-4",children:d("div",{className:"flex items-start gap-2",children:[d("span",{className:`${b!="6complete"&&"invisible"} text-primary font-bold text-4xl`,children:"âœ“"}),d("div",{children:[d("p",{className:"font-medium text-base-content",children:"Selected Location:"}),d("p",{className:"text-sm text-base-content/80",children:[e.rack_config[l].name,!!u&&` / Bay ${u}`,!!p&&` / Shelf ${p}`,!!c&&` / Position ${c}`,!!m&&` / Container ${m}`]})]})]})}),d("div",{className:"dialog-actions",children:[r&&d(Fe,{className:"btn btn-outline w-20",onClick:()=>r&&r(),children:"Clear"}),d(Fe,{className:"btn btn-outline w-20",onClick:()=>t&&t(),children:"Cancel"}),d(Fe,{className:"btn btn-primary w-20",onClick:()=>n&&n({rack:l,bay:u,shelf:p,position:c,container:m}),disabled:l==null,children:"Ok"})]})]})}const Nh=he(null);async function Z1(){try{const e=ze("api/storage-config");return await(await encryptedFetch(e,{method:"GET"})).json()}catch{return{rack_config:{}}}}async function eS(e){const t=ze("api/storage-config");return await(await encryptedFetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}function tS({children:e}){const[t,n]=T(null),[r,o]=T(!1),i=te(async()=>{o(!0),n(await Z1()),o(!1)},[]),a=te(async l=>{o(!0);try{n(await eS(l))}catch(s){throw s}finally{o(!1)}},[]);return U(()=>{(async()=>await i())()},[]),d(Nh.Provider,{value:{storageConfig:t,setStorageConfig:n,loadingStorgeConfig:r,reloadStorageConfig:i,saveStorageConfig:a},children:e})}const eu=()=>oe(Nh),nS=(e,t,n)=>{var S;const r=X1(e),o=En(r[8]),i=En(r[9]),a=En(r[10]),l=En(r[11]),s=En(r[13]),u=s?new Date(s*1e3):null,f=En(r[14]),p=f?new Date(f*1e3):null,g=r[15],c=kc(r[16]),h=kc(r[17]),m=r[18]==="y",v=r[19],b=r[20],_=r[21],y=r[22];return{id:r[0],tag_id:r[1],material_type:r[2],material_subtype:r[3],color_name:r[4],color_code:r[5],note:r[6],brand:r[7],weight_advertised:o,weight_core:i,weight_new:a,weight_current:l,weight_left:l&&i?l-i:l&&o&&a?l-(a-o):null,weight_used:a&&l?a-l:l&&o&&i?o+i-l:null,slicer_filament:r[12],slicer_filament_name:r[12]?((S=n==null?void 0:n.find(w=>w.code==r[12]))==null?void 0:S.name)??""??null:"",added_datetime:u,encoded_datetime:p,full_unused:g,consumed_since_add:c,consumed_since_weight:h,k_setting:m,data_origin:v,tag_type:b,printer_location:t!=null&&t.get(r[0])?"!"+(t==null?void 0:t.get(r[0])):null,assigned_location:_,actual_location:y}},vr=(e,t)=>{var n,r;if(t.startsWith("#")){const o=t.indexOf("/",3),i=t.slice(3,o);return"#"+(((r=(n=e==null?void 0:e.rack_config)==null?void 0:n[Number(i)])==null?void 0:r.name)??`R:${i}`)+t.slice(o)}return t},Ic=go(({title:e,locationValue:t,onUpdateData:n,complete:r,onShowLocationPicker:o,storageConfig:i},a)=>d(Qe,{className:"form-field",children:[d(Ue,{className:"form-label",children:e}),d("div",{ref:a,className:"tag-id-group",children:[d("div",{className:"relative w-full",children:[(t==null?void 0:t.charAt(0))=="#"?d(to,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400"}):d(yl,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400"}),d(yt,{disabled:r||(t==null?void 0:t.charAt(0))=="#",className:"!pl-9 form-note-textarea !rounded-r-none",value:vr(i,t).slice(1),onChange:l=>n((l.target.value?"@":"")+l.target.value),placeholder:"Enter free text or use storage configuration"})]}),d(Fe,{className:"location-button !rounded-r-none",onClick:()=>{o()},disabled:r,children:d(to,{})}),d(Fe,{className:"location-button",onClick:()=>n(""),disabled:r,children:d(Tt,{})})]})]})),Mc=[{label:"Unspecified",value:""},{label:"Full Unused",value:"y"},{label:"Used",value:"n"}],Ql=[{label:"Unspecified",grams:0},{label:"1kg",grams:1e3},{label:"200g",grams:200},{label:"250g",grams:250},{label:"500g",grams:500},{label:"750g",grams:750},{label:"800g",grams:800},{label:"900g/2lbs",grams:900},{label:"1.1kg",grams:1100},{label:"2kg",grams:2e3},{label:"5lbs",grams:2268},{label:"2.5kg",grams:2500},{label:"3kg",grams:3e3}],Zl=e=>{const t=e||0,n=Ql.find(r=>r.grams===t);return n?n.label:"Unspecified"};function rS(e){return e.trim().split(`
`).map((t,n)=>{const[r,o]=t.split(",");return{id:n+1,rgba:o,name:r}}).sort((t,n)=>t.name.localeCompare(n.name))}const Qn=rS(W1);function oS(e){const t={printers:{}};for(const[n,r]of Object.entries(e.printers))for(const[o,i]of Object.entries(r.extruders))for(const[a,l]of Object.entries(i.diameters))for(const[s,u]of Object.entries(l.nozzles))u!==null&&(t.printers[n]||(t.printers[n]={extruders:{}}),t.printers[n].extruders[o]||(t.printers[n].extruders[o]={diameters:{}}),t.printers[n].extruders[o].diameters[a]||(t.printers[n].extruders[o].diameters[a]={nozzles:{}}),t.printers[n].extruders[o].diameters[a].nozzles[s]=u);return t}function iS({isMobile:e,info:t,materials:n,cores:r,slicerFilaments:o,filamentBrands:i,unsortedFilamentBrands:a,onSave:l,onCancel:s,onAddSimilar:u,onAddNew:f,onRefresh:p}){var pu,gu;const[g,c]=T({id:"",tagId:"",rgba:"000000FF",colorName:"",material:"",subtype:"",brand:"",label:Zl(null),labelGrams:null,coreGrams:null,note:"",slicerFilamentCode:"",fullUnused:"",assignedLocation:"",actualLocation:""});U(()=>{Oe()},[g]);const[h,m]=T(""),[v,b]=T(!1),[_,y]=T(""),[S,w]=T({}),C=D(null),[k,L]=T(""),[M,P]=T(""),$=D(null),I=D(null),B=D(null),{storageConfig:O}=eu(),[A,N]=T(null),[Y,K]=T(""),ne=Qn.filter(R=>R.name.toLowerCase().includes(Y.toLowerCase())),[z,ae]=T(0),[ue,X]=T(0),[H,we]=T(0),[_e,W]=T({}),[q,ce]=T({}),[ve,rn]=T(!1),[Wn,Ie]=T({printers:{}}),[on,be]=T({printers:{}}),x=async R=>{if(!g.slicerFilamentCode){ce({}),W({});return}try{const j=ze("api/printers-filament-pa"),de={slicer_filament_code:R},Je=await(await encryptedFetch(j,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(de)})).json();W(Je.printers),rn(!0)}catch{console.log("Error fetching printers filaments pressure advancee")}};U(()=>{(async()=>await x(g.slicerFilamentCode))()},[g.slicerFilamentCode]);const F=async R=>{if(!g.id){be({printers:{}});return}try{const j=ze("api/spool-kinfo"),de={id:R},Je=await(await encryptedFetch(j,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(de)})).json();Je.k_info?(Ie(Je.k_info),be(structuredClone(Je.k_info)),rn(!0)):be({printers:{}})}catch(j){be({printers:{}}),console.log("Error fetching kinfo for spool",j)}};U(()=>{(async()=>await F(g.id))()},[g.id]),U(()=>{if(ve){const R=lS(_e,Wn);ce(R),rn(!1)}},[ve]);const J=D(null);U(()=>{t.open&&t.spool?c(t.spool):t.open&&t.mode==="add"&&c({id:"",tagId:"",rgba:"000000FF",colorName:"",material:"",subtype:"",brand:"",label:Zl(null),labelGrams:null,coreGrams:null,note:"",slicerFilamentCode:"",fullUnused:"",assignedLocation:"",actualLocation:""}),w({})},[t.open,t.spool,t.mode]),U(()=>{const R=j=>{C.current&&!C.current.contains(j.target)&&b(!1)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]);const ie=R=>/^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{8})$/.test(R),Se=R=>{const j=R.startsWith("#")?R.slice(1).toUpperCase():R.toUpperCase();return j.length===6?j+"FF":j},Oe=()=>{},Me=R=>{c(j=>({...j,rgba:R}))},Re=R=>{const j=Se(R);c(de=>({...de,rgba:j}))},ot=R=>{const j=Ql.find(de=>de.label===R);c(de=>({...de,label:R,labelGrams:(j==null?void 0:j.grams)||0}))},Bt=R=>{c(j=>({...j,fullUnused:R}))},Kn=()=>{const R=Qn.find(j=>j.name===g.colorName);R&&c(j=>({...j,rgba:R.rgba}))},Sn=R=>{N(R)},Rt=()=>A=="assigned"?I:A=="actual"?B:null,Mr=R=>{const j=R.rack?`R:${R.rack}`:null,de=R.bay?`B:${R.bay}`:null,bt=R.shelf?`S:${R.shelf}`:null,Je=R.position?`P:${R.position}`:null,an=R.container?`C:${R.container}`:null,hu=[j,de,bt,Je,an].filter(Yn=>Yn!=null).join("/"),mu=hu!=""?"#"+hu:"";switch(A){case"assigned":c(Yn=>({...Yn,assignedLocation:mu}));break;case"actual":c(Yn=>({...Yn,actualLocation:mu}));break}},Lr=r.filter(R=>R.name.toLowerCase().includes(h.toLowerCase())),qo=o.filter(R=>R.name.toLowerCase().includes(k.toLowerCase())),Dr=i.filter(R=>R.displayName.toLowerCase().startsWith(M.toLowerCase())),ft=n.filter(R=>R.toLowerCase().includes(_.toLowerCase())),vt=R=>{const de=o.find(an=>an.code===R).name.toLowerCase(),Je=a.find(an=>de.toLowerCase().startsWith(an.displayName.toLowerCase()))||a.find(an=>de.toLowerCase().includes(an.displayName.toLowerCase()));return(Je==null?void 0:Je.fillName)??null},Jh=()=>{const R={};{if(ie(g.rgba)?c(de=>({...de,rgba:Se(de.rgba).toUpperCase()})):R.rgba="Invalid hex color format",g.material.trim()||(R.material="Material is required"),g.labelGrams||(R.labelGrams="Label W. Required"),Object.keys(R).length>0){w(R);return}w({})}const j=q1(on)?null:on;l({...g,rgba:Se(g.rgba).toUpperCase()},j)},fu=ie(g.rgba)?g.rgba.substring(0,8):"000000FF",Ke=!1,xn=t.tray_id?t.tray_id<998:!1,je=t.tray_id?t.tray_id===-1:!1,De=t.complete==="successDone";return d(Nr,{open:t.open,onClose:()=>{},initialFocus:J,children:[d(Ar,{className:"dialog-backdrop"}),d("div",{className:"dialog-container",children:d(Rr,{className:"spool-dialog-panel w-[32.2rem] h-[58.2rem]",children:[d(Tr,{className:"dialog-title",children:[t.mode==="add"?"Add a New Spool":t.mode==="edit"?"Edit Spool Information":"Edit Encode Information",t.mode=="encode"&&d(Fe,{className:"btn",onClick:()=>p(),children:"Refresh"}),t.mode!=="encode"&&d(Fe,{onClick:s,className:"p-1.5 hover:bg-base-200 rounded-md transition-colors",type:"button",children:d(Tt,{className:"w-4 h-4"})})]}),je&&d("div",{className:"form-error",children:"Encode flow not started â€” start in console, then refresh."}),d(yh,{selectedIndex:H,onChange:we,className:"flex flex-col flex-1 xxxoverflow-auto",children:[d(wh,{className:"tab-list",children:[d(hi,{className:"tab-button",children:"Filament Info"}),d(hi,{className:"tab-button",children:"PA Profile (K)"}),d(hi,{className:"tab-button",children:"Location"})]}),d(Sh,{className:"tab-panels-container",children:[d(Zr,{className:"h-full",children:d("div",{className:"spool-form",children:[d("div",{className:"form-row grid-cols-2",children:[d(Qe,{className:"form-field",children:[d(Ue,{className:"form-label",children:"ID"}),d(yt,{className:"form-input",value:g.id,readOnly:!0,disabled:!0})]}),d(Qe,{className:"form-field",children:[d(Ue,{className:"form-label",children:"Tag ID"}),d("div",{className:"tag-id-group",children:[d(yt,{className:`form-input ${g.tagId?"!rounded-r-none":""} ${g.tagId.startsWith("-")?"!text-orange-400":""}`,value:g.tagId.startsWith("-")?"Unlink Tag On Save!!":g.tagId,readOnly:!0,disabled:!0}),g.tagId&&d(Fe,{className:"spool-tag-unlink",onClick:()=>c({...g,tagId:g.tagId.startsWith("-")?g.tagId.slice(1):"-"+g.tagId}),children:g.tagId.startsWith("-")?d(Im,{}):d(km,{})})]})]})]}),d(Qe,{className:"form-field",children:[d(Ue,{className:"form-label",children:"Slicer Filament"}),d(Jn,{value:g.slicerFilamentCode||"",onChange:R=>{const j=vt(g.slicerFilamentCode),de=!g.brand||g.brand===j?vt(R):g.brand;c(bt=>({...bt,material:o.find(Je=>Je.code===R).material,slicerFilamentCode:R,brand:de}))},children:d("div",{className:"relative",children:[d(Pn,{tabindex:0,disabled:je||Ke||xn||De,className:"listbox-button  w-full flex items-center justify-between",children:[d("span",{className:"flex-1 text-left",children:g.slicerFilamentCode?((pu=o.find(R=>R.code===g.slicerFilamentCode))==null?void 0:pu.name)||"Unknown":"Select slicer filament..."}),d(wt,{className:"listbox-icon"})]}),d($n,{className:"listbox-options max-h-130",children:[d("div",{className:"listbox-search",children:d(yt,{className:"form-input",placeholder:"Type to filter filaments...",value:k,onKeyDown:R=>{R.key===" "&&R.stopPropagation()},onChange:R=>L(R.target.value)})}),qo.map(R=>d(ln,{value:R.code,className:"listbox-option",children:[R.name," "]},R.code))]})]})})]}),d("div",{className:"form-row grid-cols-[1fr_9rem]",children:[d(Qe,{className:"form-field",children:[d(Ue,{className:"form-label",children:"Filament Brand"}),d("div",{className:"flex",children:d(Sc,{value:g.brand,onChange:R=>{const j=i.find(de=>de.displayName===R);c(de=>({...de,brand:j.fillName}))},children:({open:R})=>d("div",{className:"listbox-container",children:[d(Hl,{disabled:je||Ke||De,className:"form-input",value:g.brand,onKeyDown:j=>{j.key==="Backspace"&&ae(z+Qn.length)},onChange:j=>{const de=j.target.value;P(de),X(ue+i.length),c(bt=>({...bt,brand:de}))},placeholder:"Enter/select filament brand"}),d(jl,{disabled:je||Ke||De,className:"combobox-button",children:d(wt,{className:"listbox-icon"})}),d(ql,{className:"listbox-options max-h-110",children:Dr.map(j=>d(zl,{value:j.displayName,className:"listbox-option",children:d("div",{className:"flex items-center gap-2",children:j.displayName})},j.displayName+z))})]})})})]}),d(Qe,{className:"form-field",children:[d(Ue,{className:"form-label",children:"Label Weight*"}),d(Jn,{value:g.label,onChange:ot,children:d("div",{className:"listbox-container",children:[d(Pn,{tabindex:0,disabled:je||Ke||De,className:`listbox-button ${S.labelGrams?"form-input-error":""}`,children:[d("span",{className:"listbox-selected",children:g.label}),d(wt,{className:"listbox-icon"})]}),d($n,{className:"listbox-options max-h-60",children:Ql.map(R=>d(ln,{value:R.label,className:"listbox-option",children:R.label},R.label))})]})})]})]}),d("div",{className:"fields-section !mb-4",children:d("div",{className:"form-row grid-cols-[11rem_1fr]",children:[d(Qe,{className:"form-field",children:[d(Ue,{className:"form-label",children:"Material *"}),d(Jn,{value:g.material,onChange:R=>c(j=>({...j,material:R})),children:d("div",{className:"listbox-container",children:[d(Pn,{tabindex:0,disabled:je||Ke||xn||De||g.slicerFilamentCode!==""&&![void 0,""].includes(g.material),className:`listbox-button ${S.material?"form-input-error":""}`,children:[d("span",{className:"listbox-selected",children:g.material||"Select material..."}),d(wt,{className:"listbox-icon"})]}),d($n,{className:"listbox-options max-h-85",children:[d("div",{className:"listbox-search",children:d(yt,{className:"form-input",placeholder:"Type to filter...",value:_,onChange:R=>y(R.target.value)})}),ft.map(R=>d(ln,{value:R,className:"listbox-option",children:R},R)),_&&!ft.includes(_)&&d(ln,{value:_,className:"listbox-option listbox-option-new",children:['Add "',_,'"']})]})]})})]}),d(Qe,{className:"form-field",children:[d(Ue,{className:"form-label",children:"Subtype"}),d(yt,{disabled:je||Ke||De,className:"form-input",autocorrect:"false",spellcheck:!1,autoCapitalize:"none",value:g.subtype,onChange:R=>c(j=>({...j,subtype:R.target.value})),placeholder:"Enter subtype"})]})]})}),d("div",{className:"fields-section",children:[d("div",{className:"color-preview",children:[d("div",{className:"absolute inset-0",style:{backgroundColor:`#${fu}`}}),d("div",{className:"color-preview-text",children:"Color Preview"})]}),d("div",{className:"color-controls",children:[d(Qe,{className:"form-field",children:[d(Ue,{className:"form-label",children:"RGBA Color"}),d("div",{className:"color-input-group",children:[d(yt,{disabled:je||Ke||xn||De,maxLength:8,className:`form-input z-1 !rounded-r-none !border-r-0  ${S.rgba?"form-input-error !border-r-2":""}`,value:g.rgba,onChange:R=>Me(R.target.value),placeholder:"FF0000FF"}),d(Fe,{disabled:je||Ke||xn||De,className:"color-picker-button",onClick:()=>b(!v),children:d(Mm,{className:"color-picker-icon"})}),v&&d("div",{className:"color-picker-container",ref:C,children:d(H1,{color:fu,onChange:Re})})]})]}),d(Qe,{className:"form-field",children:[d(Ue,{className:"form-label",children:"Color Name"}),d("div",{className:"flex",children:[d(Fe,{disabled:je||Ke||De||xn,className:"color-set-rgba-button",onClick:Kn,children:d("div",{class:"relative w-4 h-4",children:[d(Em,{className:"color-set-rgba-icon absolute top-1/8 left-1/4 -translate-y-1/2"}),d(Fm,{className:"color-set-rgba-icon absolute top-1/4 left-1/8 -translate-x-1/2"})]})}),d(Sc,{value:g.colorName,onChange:R=>{c(j=>({...j,colorName:R}))},children:({open:R})=>d("div",{className:"listbox-container",children:[d(Hl,{disabled:je||Ke||De,className:"form-input !rounded-l-none !border-l-0",value:g.colorName,onKeyDown:j=>{if(j.key==="Backspace"&&ae(z+Qn.length),j.key==="Enter"&&!R){const de=j.target.value;!xn&&g.colorName&&de===g.colorName&&Kn()}},onChange:j=>{const de=j.target.value;K(de),de==""&&ae(z+Qn.length),c(bt=>({...bt,colorName:de}))},placeholder:"Enter/select color name"}),d(jl,{disabled:je||Ke||De,className:"combobox-button",children:d(wt,{className:"listbox-icon"})}),d(ql,{className:"listbox-options max-h-48",children:ne.map(j=>d(zl,{value:j.name,className:"listbox-option",children:d("div",{className:"flex items-center gap-2",children:[d("div",{className:"w-4 h-4 rounded border border-gray-300 dark:border-gray-600",style:{backgroundColor:`#${j.rgba.slice(0,6)}`}}),j.name]})},j.id+z))})]})})]})]})]})]}),d("div",{className:`form-row ${t.mode!=="encode"?"grid-cols-[9rem_1fr]":""}`,children:[t.mode!=="encode"&&d(Qe,{className:"form-field",children:[d(Ue,{className:"form-label",children:"Full When Added"}),d(Jn,{value:g.fullUnused,onChange:Bt,children:d("div",{className:"relative",children:[d(Pn,{tabindex:0,disabled:je||Ke||De,className:`listbox-button ${S.material?"form-input-error":""}`,children:[d("span",{className:"listbox-selected",children:(gu=Mc.find(R=>R.value===g.fullUnused))==null?void 0:gu.label}),d(wt,{className:"listbox-icon"})]}),d($n,{className:"listbox-options max-h-60",children:Mc.map(R=>d(ln,{value:R.value,className:"listbox-option",children:R.label},R.value))})]})})]}),d(Qe,{className:"form-field",children:[d(Ue,{className:"form-label",children:"Empty Weight(g)"}),d(Jn,{value:"",onChange:R=>{const j=r.find(de=>de.name===R);j&&c(de=>({...de,coreGrams:j.grams}))},children:d("div",{className:"relative",children:[d("div",{className:"listbox-button child-input-focus-ring  w-full flex items-center",children:[d(yt,{disabled:je||Ke||De,className:"w-full bg-transparent border-none p-0 m-0 outline-none focus:ring-0 focus:outline-none",value:g.coreGrams||"",onChange:R=>{const j=R.target.value;c(de=>({...de,coreGrams:j?parseInt(j):null}))},placeholder:"Enter weight in grams"}),d(Pn,{disabled:je||Ke||De,children:d(wt,{className:"listbox-icon"})})]}),d($n,{className:"listbox-options max-h-45",children:[d("div",{className:"listbox-search",children:d(yt,{className:"form-input",placeholder:"Type to filter spool types...",value:h,onChange:R=>m(R.target.value)})}),Lr.map(R=>d(ln,{value:R.name,className:"listbox-option",children:R.name},R.name))]})]})})]})]}),d(Qe,{className:"form-field",children:[d(Ue,{className:"form-label",children:"Note"}),d(P1,{disabled:je||De,className:"form-note-textarea",value:g.note,onChange:R=>c(j=>({...j,note:R.target.value})),placeholder:"Enter any additional notes...",rows:1})]})]})}),d(Zr,{as:"div",className:"h-full overflow-auto",children:d("div",{className:"pressure-advance-form max-h-[100px]",children:d(aS,{filamentId:g.slicerFilamentCode,printerData:q,selections:on,onSelectionsChange:be})})}),d(Zr,{as:"div",className:"h-full",children:d("div",{className:"spool-form",children:[d(Ic,{ref:I,title:"Assigned Location",locationValue:g.assignedLocation,complete:De,onShowLocationPicker:()=>Sn("assigned"),onUpdateData:R=>c(j=>({...j,assignedLocation:R})),storageConfig:O}),d(Ic,{ref:B,title:"Actual Location",locationValue:g.actualLocation,complete:De,onShowLocationPicker:()=>Sn("actual"),onUpdateData:R=>c(j=>({...j,actualLocation:R})),storageConfig:O}),A!=null&&d("div",{ref:$,id:"location-picker-popup",className:"fixed bg-gray-700 rounded-md p-2 mt-2",style:{top:`${Rt().current.getBoundingClientRect().bottom}px`,width:`${Rt().current.getBoundingClientRect().width}px`},children:d(Q1,{storageConfig:O,onCancel:()=>N(null),onSelect:R=>{Mr(R),N(null)}})})]})})]})]}),d("div",{className:"dialog-actions",children:t.complete==null||t.complete=="successContinue"?d(ee,{children:[d("div",{className:"self-center",children:Lc(t,S)}),t.mode!=="encode"&&d(ee,{children:[d(Fe,{className:"btn btn-outline",onClick:s,children:"Cancel"}),g.id!=""&&d(Fe,{className:"btn btn-outline",onClick:u,children:"Add Similar"})]}),d(Fe,{className:"btn btn-primary",onClick:Jh,disabled:je||De,children:t.mode==="add"?"Add Spool":"Save Changes"})]}):d(ee,{children:[d("div",{className:"self-center text-green-800",children:Lc(t,S)}),t.mode==="add"&&d(ee,{children:[d(Fe,{className:"btn btn-outline",onClick:u,children:"Add Similar"}),d(Fe,{className:"btn btn-outline",onClick:f,children:"Add New"})]}),d(Fe,{className:"btn btn-primary",onClick:s,children:"Close"})]})})]})})]})}function Lc(e,t){var n,r;if(t&&Object.keys(t).length>0)return"âŒ Form Validation Errors";switch(e.complete){case"successContinue":case"successDone":switch(e.mode){case"add":return`âœ… Spool ${(n=e.spool)==null?void 0:n.id} Added`;case"edit":return`âœ… Spool ${(r=e.spool)==null?void 0:r.id} Updated`;case"encode":return"Encode Information Updated"}case"fail":switch(e.mode){case"add":return"âŒ Failed to Add Spool";case"edit":return"âŒ Failed to Update Spool";case"encode":return"âŒ Failed to Update Encode Information"}}}function aS({filamentId:e,printerData:t,selections:n,onSelectionsChange:r}){const i=(()=>{const f={};return Object.entries(t).forEach(([p,g])=>{f[p]={name:g.name,extruders:g.extruders,extruderData:{}},g.pressure_advance.forEach(c=>{f[p].extruderData[c.extruder]||(f[p].extruderData[c.extruder]={}),f[p].extruderData[c.extruder][c.diameter]||(f[p].extruderData[c.extruder][c.diameter]={}),f[p].extruderData[c.extruder][c.diameter][c.nozzle_id]||(f[p].extruderData[c.extruder][c.diameter][c.nozzle_id]=[]),f[p].extruderData[c.extruder][c.diameter][c.nozzle_id].push(c)})}),f})(),a=(f,p,g,c,h)=>{const m={...n};m.printers[f]||(m.printers[f]={extruders:{}}),m.printers[f].extruders[p]||(m.printers[f].extruders[p]={diameters:{}}),m.printers[f].extruders[p].diameters[g]||(m.printers[f].extruders[p].diameters[g]={nozzles:{}});const v=h?{name:h.name,k_value:h.k_value,cali_idx:h.cali_idx,setting_id:h.setting_id}:null;m.printers[f].extruders[p].diameters[g].nozzles[c]=v;const b=oS(m);r(b)},l=(f,p,g,c)=>{var h,m,v,b,_,y,S;return((S=(y=(_=(b=(v=(m=(h=n.printers)==null?void 0:h[f])==null?void 0:m.extruders)==null?void 0:v[p])==null?void 0:b.diameters)==null?void 0:_[g])==null?void 0:y.nozzles)==null?void 0:S[c])||null},s=f=>Object.values(f).some(p=>Object.keys(p).some(g=>g!==""));return d("div",{className:"pressure-advance-container",children:Object.keys(t).length===0?d("div",{className:"empty-state",children:d("p",{className:"no-data-message",children:"No slicer filament selected or no printers available."})}):Object.entries(i).map(([f,p])=>d(gi,{defaultOpen:!0,children:[d(Jr,{className:"printer-accordion-button",children:[d(wt,{className:"printer-accordion-icon"}),d("span",{className:"printer-accordion-title",children:[p.name," (",f,")"]})]}),d(Qr,{className:"printer-accordion-content",children:Object.keys(p.extruderData).length===0?d("div",{className:"no-data-message",children:"No pressure advance profiles available in printer(s) for selected slicer filament."}):d("div",{className:`extruders-container ${p.extruders>1?"multiple-extruders":""}`,children:Object.entries(p.extruderData).map(([g,c])=>d("div",{className:`extruder-section ${p.extruders>1?"extruder-card":""}`,children:[p.extruders>1&&d("h4",{className:"extruder-title",children:[g==="0"?"Right":"Left"," Extruder (",g,")"]}),d("div",{className:"hierarchy-tree",children:Object.entries(c).map(([h,m])=>d(gi,{defaultOpen:!0,children:d("div",{className:`diameter-section ${p.extruders>1?"inside-extruder":"direct-under-printer"}`,children:[d(Jr,{className:"diameter-disclosure-button",children:[d(wt,{className:"disclosure-icon"}),d("span",{className:"diameter-title",children:["Nozzle Diameter: ",h,"mm"]})]}),d(Qr,{className:"diameter-disclosure-content",children:s(c)?Object.entries(m).map(([v,b])=>d(gi,{defaultOpen:!0,children:d("div",{className:"nozzle-section",children:[d(Jr,{className:"nozzle-disclosure-button",children:[d(wt,{className:"disclosure-icon"}),d("span",{className:"nozzle-title",children:["Nozzle Type:"," ",v[1]==="S"?"Standard ":"High Flow ","(",v||"Default",")"]})]}),d(Qr,{className:"nozzle-disclosure-content",children:d("div",{className:"settings-list",children:b.map((_,y)=>u(y,f,p.name,g,h,v,_,e,p))})})]})},v)):d("div",{className:"settings-list",children:m[""].map((v,b)=>u(b,f,p.name,g,h,"",v,e,p))})})]})},h))})]},g))})})]},f))});function u(f,p,g,c,h,m,v,b,_){const y=l(p,c,h,m),S=(y==null?void 0:y.name)===v.name;return d("label",{className:"setting-item",children:[d("input",{type:"checkbox",checked:S,onChange:w=>{const C=w.target.checked;a(p,c,h,m,C?{name:v.name,k_value:v.k_value,cali_idx:v.cali_idx,setting_id:v.setting_id}:null)},className:"setting-checkbox"}),d("span",{className:`setting-text ${v.spool_only?"setting-text-not-in-printer":""}`,children:[v.name," (K=",v.k_value,")",v.spool_only&&d(ee,{children:[" - (Not in printer ",d(J1,{title:"Add This Pressure Advance Setting?",message:d(ee,{children:["Printer: ",g," (",p,")",d("br",{}),_.extruders>1&&d(ee,{children:["Extruder ID: ",c," ",d("br",{})," "]}),"Nozzle: ",v.diameter," ",d("br",{}),m&&d(ee,{children:["Nozzle ID: ",m," ",d("br",{})," "]}),"Name: ",v.name,d("br",{}),"K: ",v.k_value,d("br",{}),"âš ï¸ Important: Check the Documentation for More Info on this!"]}),onConfirm:async()=>{try{const w=ze("api/add-printer-pa"),C={printer_serial:p,filament_id:b,pressure_advance_entry:{extruder:Number(c),diameter:h,nozzle_id:m,name:v.name,k_value:v.k_value,cali_idx:-1,setting_id:v.setting_id}},L=await(await encryptedFetch(w,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)})).json()}catch{console.log("Error fetching printers filaments pressure advancee")}},confirmText:"Yes, Add",cancelText:"NOOO !!!",children:d(Fe,{className:"btn btn-secondary relative -top-[2-px] h-[1.5em] p-1",children:"Add"})}),")"]})]})]},f)}}function lS(e,t){const n={};for(const[o,i]of Object.entries(e))n[o]={name:i.name,extruders:i.extruders,pressure_advance:i.pressure_advance.map(a=>({...a,spool_only:!1}))};function r(o,i,a,l,s){const u=e[o];return u?u.pressure_advance.some(f=>f.extruder===i&&f.diameter===a&&f.nozzle_id===l&&f.name===s):!1}for(const[o,i]of Object.entries(t.printers))for(const[a,l]of Object.entries(i.extruders)){const s=parseInt(a,10);for(const[u,f]of Object.entries(l.diameters))for(const[p,g]of Object.entries(f.nozzles))if(g!==null&&!r(o,s,u,p,g.name)){n[o]||(n[o]={name:`Printer ${o}`,extruders:1,pressure_advance:[]});const c={extruder:s,diameter:u,nozzle_id:p,name:g.name,k_value:g.k_value,spool_only:!0,setting_id:g.setting_id,cali_idx:g.cali_idx};n[o].pressure_advance.push(c)}}return n}const es=({spool:e,storageConfig:t,compact:n=!1,onSetSpoolLocation:r})=>{const[o,i]=T(e.actual_location);return d("div",{className:n?"spool-card-compact sticky left-0 w-[calc(100vw-18px)]":"spool-card",style:{backgroundColor:`#${e.color_code.substring(0,6)}`,color:Th(e.color_code.substring(0,6))},children:[d("div",{className:"spool-card-header gap-1 text-left leading-tight",children:[d("div",{className:"flex-1 flex gap-1 min-w-0",children:[d("span",{children:[e.id,"."]}),d("span",{className:"flex-1 min-w-0",children:[e.brand," ",e.material_type," ",e.material_subtype," ",e.color_name," (",An(e.weight_left-e.consumed_since_weight,1),"g)"]})]}),e.tag_id&&d(ap,{className:"flex-shrink-0"})]}),d("div",{className:"spool-card-content",children:[(e.assigned_location||e.actual_location||e.printer_location)&&d(ee,{children:[d("div",{className:"p-0 py-0 pb-0.5",children:d("div",{class:"flex justify-center",children:d("div",{class:"inline-grid grid-cols-[auto_1fr_auto] gap-y-2 flex-1",children:[(e.printer_location||e.actual_location||o)&&d("div",{class:"border rounded-md pl-2 col-span-3 grid grid-cols-subgrid gap-x-0 items-center",children:[d("div",{className:"text-sm pr-2",children:"Actual:"}),d("div",{className:o?" line-through":"",children:vr(t,e.printer_location??(e.actual_location?e.actual_location:o)).slice(1)}),e.actual_location?d("button",{disabled:!!e.printer_location,onClick:async()=>{await r(e.id,"")&&i(e.actual_location)},className:"btn btn-primary w-16",children:"Pick"}):o?d("button",{onClick:async()=>{await r(e.id,o)&&i(null)},className:"btn btn-secondary w-16",children:"Unpick"}):d("div",{})]}),e.assigned_location&&d("div",{class:"border rounded-md px-2 col-span-3 grid grid-cols-subgrid gap-x-0 items-center",children:[d("div",{className:"text-sm pr-2",children:"Assigned:"}),d("div",{children:vr(t,e.assigned_location).slice(1)})]})]})})}),d("div",{className:"col-span-2 border-b border-gray-500"})]}),d("div",{className:"spool-card-row",children:[e.note&&d(ee,{children:[d("div",{className:"spool-field-inline col-span-2 !flex !flex-row items-center gap-x-2",children:[d("span",{className:"spool-label",children:"Note:"}),d("span",{children:e.note})]}),d("div",{className:"col-span-2 border-b border-gray-500"})]}),d("div",{className:"spool-field-inline",children:[d("span",{className:"spool-label",children:"Latest Scale Weight:"}),d("span",{children:e.weight_current?`${e.weight_current}g`:"-"})]}),d("div",{className:"spool-field-inline",children:[d("span",{className:"spool-label",children:"Label Weight:"}),d("span",{children:e.weight_advertised?Pl(e.weight_advertised):"-"})]}),d("div",{className:"spool-field-inline",children:[d("span",{className:"spool-label",children:"Printed Since Weighted:"}),d("span",{children:e.consumed_since_weight?`${An(e.consumed_since_weight,1)}g`:"-"})]}),d("div",{className:"spool-field-inline",children:[d("span",{className:"spool-label",children:"Printed Since Added:"}),d("span",{children:e.consumed_since_add?`${An(e.consumed_since_add,1)}g`:"-"})]}),d("div",{className:"spool-field-inline",children:[d("span",{className:"spool-label",children:"Full Weight:"}),d("span",{children:e.weight_new?`${e.weight_new}g`:"-"})]}),d("div",{className:"spool-field-inline",children:[d("span",{className:"spool-label",children:"Used:"}),d("span",{children:e.weight_used?`${An(e.weight_used+e.consumed_since_weight,1)}g`:"-"})]}),d("div",{className:"spool-field-inline",children:[d("span",{className:"spool-label",children:"Empty Weight:"}),d("span",{children:e.weight_core?`${e.weight_core}g`:"-"})]}),d("div",{className:"col-span-2 border-b border-gray-500"}),d("div",{className:"spool-field-inline",children:[d("span",{className:"spool-label",children:"RGB:"}),d("span",{children:e.color_code})]}),d("div",{className:"spool-field-inline",children:[d("span",{className:"spool-label",children:"Pressure Advance(K):"}),d("span",{children:`${e.k_setting?"Configured":"Not Configured"}`})]}),d("div",{className:"col-span-2 border-b border-gray-500"}),d("div",{className:"spool-field-inline",children:[d("span",{className:"spool-label",children:"Added:"}),d("span",{children:e.added_datetime?oo(e.added_datetime):"-"})]}),d("div",{className:"spool-field-inline",children:[d("span",{className:"spool-label",children:"Encoded:"}),d("span",{children:e.encoded_datetime?oo(e.encoded_datetime):"-"})]})]}),(e.data_origin||e.tag_type)&&d("div",{className:"spool-card-row",children:[d("div",{className:"spool-field-inline",children:[d("span",{className:"spool-label",children:"Data Origin:"}),d("span",{children:e.data_origin?e.data_origin:"-"})]}),d("div",{className:"spool-field-inline",children:[d("span",{className:"spool-label",children:"Linked Tag Type:"}),d("span",{children:e.tag_type?e.tag_type:"-"})]})]}),d("div",{className:"spool-field-inline",children:[d("span",{className:"spool-label",children:"Tag ID:"}),e.tag_id?e.tag_id.startsWith("-")?d("span",{className:"line-through",children:e.tag_id.slice(1)}):d("span",{children:e.tag_id}):d("span",{children:"-"})]})]})]})};function sS({isMobile:e,info:t,onOk:n,onCancel:r}){return d(Nr,{open:t.open,onClose:()=>{},children:[d(Ar,{className:"dialog-backdrop"}),d("div",{className:"dialog-container",children:d(Rr,{className:"dialog-panel",children:[d(Tr,{className:"dialog-title",children:"Delete Spool"}),d(Fs,{className:"dialog-description text-warning ",children:"Are you sure you want to delete spool"}),t.spool&&d(es,{spool:t.spool},t.spool.id),d("div",{className:"flex justify-end gap-3 pt-4",children:[d(Fe,{className:"btn btn-outline",onClick:r,children:"NOOO !!!"}),d(Fe,{className:"btn btn-warning",onClick:n,children:"Yes, Delete"})]})]})})]})}function uS(){const[e,t]=T(!1);return U(()=>{const n=()=>{t(window.innerWidth<768)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}const cS={securityKey:"",setSecurityKey:()=>{},securityOk:!1,setSecurityOk:()=>{}},nn=he(cS),dS=({children:e})=>{const t=new URLSearchParams(window.location.hash.slice(1)).get("sk")||""||new URLSearchParams(window.location.hash.slice(1)).get("_sk")||"",[n,r]=T(t),[o,i]=T(!1);return window.securityKey=n,U(()=>{fS(i)},[]),d(nn.Provider,{value:{securityKey:n,setSecurityKey:r,securityOk:o,setSecurityOk:i},children:e})};let ts=null;function fS(e){ts=e}function pS(e){ts&&ts(e)}function gS(){const{securityOk:e}=oe(nn),[t,n]=T([]);return U(()=>{(async()=>{if(!e)return;const r=ze("/spools-catalog"),i=await(await fetch(r)).text(),a=ze("/api/spools-config"),u=(await(await encryptedFetch(a)).json()).spools,c=`Unspecified,0
`+`â•â•â•â• My Spools List â•â•â•â•,0
`+u+`
`+`â•â•â•â• Spools Catalog â•â•â•â•,0
`+i;n(hS(c))})()},[e]),t}function hS(e){var n,r;const t=[];for(const o of e.split(`
`)){const i=o.split(",");for(let a=0;a<i.length-1;a++){const l=(n=i[a])==null?void 0:n.trim(),s=(r=i[a+1])==null?void 0:r.trim(),u=parseInt(s,10);l&&!isNaN(u)&&(t.push({name:l,grams:u}),a++)}}return t}const mS=`GFA00,Bambu PLA Basic,190,240,PLA
GFA01,Bambu PLA Matte,190,240,PLA
GFA02,Bambu PLA Metal,190,240,PLA
GFA05,Bambu PLA Silk,190,240,PLA
GFA06,Bambu PLA Silk+,190,240,PLA
GFA07,Bambu PLA Marble,190,240,PLA
GFA08,Bambu PLA Sparkle,190,240,PLA
GFA09,Bambu PLA Tough,190,240,PLA
GFA10,Bambu PLA Tough+,220,250,PLA
GFA11,Bambu PLA Aero,210,260,PLA-AERO
GFA12,Bambu PLA Glow,190,240,PLA
GFA13,Bambu PLA Dynamic,190,240,PLA
GFA15,Bambu PLA Galaxy,190,240,PLA
GFA16,Bambu PLA Wood,190,240,PLA
GFA17,Bambu PLA Translucent,190,240,PLA
GFA18,Bambu PLA Lite,190,240,PLA
GFA50,Bambu PLA-CF,210,250,PLA-CF
GFB00,Bambu ABS,240,280,ABS
GFB01,Bambu ASA,240,280,ASA
GFB02,Bambu ASA-Aero,240,280,ASA-AERO
GFB50,Bambu ABS-GF,240,280,ABS-GF
GFB51,Bambu ASA-CF,250,280,ASA-CF
GFB60,PolyLite ABS,240,280,ABS
GFB61,PolyLite ASA,240,280,ASA
GFB98,Generic ASA,240,280,ASA
GFB99,Generic ABS,240,280,ABS
GFC00,Bambu PC,260,290,PC
GFC01,Bambu PC FR,260,290,PC
GFC99,Generic PC,260,290,PC
GFG00,Bambu PETG Basic,230,270,PETG
GFG01,Bambu PETG Translucent,230,270,PETG
GFG02,Bambu PETG HF,230,270,PETG
GFG50,Bambu PETG-CF,240,270,PETG-CF
GFG60,PolyLite PETG,220,260,PETG
GFG96,Generic PETG HF,220,270,PETG
GFG97,Generic PCTG,240,270,PCTG
GFG98,Generic PETG-CF,240,270,PETG-CF
GFG99,Generic PETG,220,270,PETG
GFL00,PolyLite PLA,190,240,PLA
GFL01,PolyTerra PLA,190,240,PLA
GFL03,eSUN PLA+,190,240,PLA
GFL04,Overture PLA,190,240,PLA
GFL05,Overture Matte PLA,190,240,PLA
GFL06,Fiberon PETG-ESD,250,290,PETG
GFL50,Fiberon PA6-CF,280,300,PA6-CF
GFL51,Fiberon PA6-GF,280,300,PA-GF
GFL52,Fiberon PA12-CF,260,300,PA-CF
GFL53,Fiberon PA612-CF,260,300,PA
GFL54,Fiberon PET-CF,270,300,PET-CF
GFL55,Fiberon PETG-rCF,240,270,PETG-CF
GFL95,Generic PLA High Speed,190,240,PLA
GFL96,Generic PLA Silk,190,240,PLA
GFL98,Generic PLA-CF,190,240,PLA-CF
GFL99,Generic PLA,190,240,PLA
GFN03,Bambu PA-CF,260,300,PA-CF
GFN04,Bambu PAHT-CF,260,300,PA-CF
GFN05,Bambu PA6-CF,260,300,PA6-CF
GFN06,Bambu PPA-CF,280,320,PPA-CF
GFN08,Bambu PA6-GF,260,300,PA-GF
GFN96,Generic PPA-GF,280,320,PPA-GF
GFN97,Generic PPA-CF,280,320,PPA-CF
GFN98,Generic PA-CF,260,300,PA-CF
GFN99,Generic PA,240,280,PA
GFP95,Generic PP-GF,220,250,PP-GF
GFP96,Generic PP-CF,220,250,PP-CF
GFP97,Generic PP,220,250,PP
GFP98,Generic PE-CF,175,220,PE-CF
GFP99,Generic PE,175,220,PE
GFR98,Generic PHA,190,240,PHA
GFR99,Generic EVA,175,220,EVA
GFS00,Bambu Support W,190,240,PLA-S
GFS01,Bambu Support G,260,300,PA-S
GFS02,Bambu Support For PLA,190,240,PLA-S
GFS03,Bambu Support For PA/PET,260,300,PA-S
GFS04,Bambu PVA,210,250,PVA
GFS05,Bambu Support For PLA/PETG,190,240,PLA-S
GFS06,Bambu Support for ABS,240,270,ABS-S
GFS97,Generic BVOH,190,240,BVOH
GFS98,Generic HIPS,220,270,HIPS
GFS99,Generic PVA,190,240,PVA
GFSNL02,SUNLU PLA Matte,205,245,PLA
GFSNL03,SUNLU PLA+,190,240,PLA
GFSNL04,SUNLU PLA+ 2.0,190,240,PLA
GFSNL05,SUNLU Silk PLA+,190,240,PLA
GFSNL06,SUNLU PLA Marble,190,260,PLA
GFSNL07,SUNLU Wood PLA,195,260,PLA
GFSNL08,SUNLU PETG,230,280,PETG
GFT01,Bambu PET-CF,260,290,PET-CF
GFT02,Bambu PPS-CF,310,340,PPS-CF
GFT97,Generic PPS,300,340,PPS
GFT98,Generic PPS-CF,310,340,PPS-CF
GFU00,Bambu TPU 95A HF,200,250,TPU
GFU01,Bambu TPU 95A,200,250,TPU
GFU02,Bambu TPU for AMS,220,240,TPU-AMS
GFU03,Bambu TPU 90A,200,240,TPU
GFU04,Bambu TPU 85A,200,240,TPU
GFU98,Generic TPU for AMS,200,250,TPU-AMS
GFU99,Generic TPU,200,250,TPU
`;function vS(){const{securityOk:e}=oe(nn),[t,n]=T([]);return U(()=>{(async()=>{const r=ze("/api/filaments-config"),a=(await(await encryptedFetch(r)).json()).custom_filaments,l=(f,p)=>f!=null&&f.trim()?f.trim().split(`
`).map(g=>{const[c,h,,,m]=g.trim().split(","),v=c.trim(),b=h.trim(),_=m.trim();return{code:v,name:`${b} ${p}`,material:_}}):[],s=[...l(a," (Custom)"),...l(mS,"")].sort((f,p)=>f.name.localeCompare(p.name)),u=[{name:"Unspecified / Clear Selection",code:"",material:""},...s];n(u)})()},[e]),t}function bS(e,t="table-column-config",n){const[r,o]=T(!1),[i,a]=T(null),[l,s]=T(null),[u,f]=T(null),p=G(()=>e.map((w,C)=>({id:w.accessorKey||w.id,header:typeof w.header=="string"?w.header:w.id,visible:!0,order:C,required:w.accessorKey==="id"||w.id==="actions",originalColumn:w})),[e]);U(()=>{try{const w=localStorage.getItem(t);if(w){const C=JSON.parse(w),k=p.map(L=>{const M=C.find(P=>P.id===L.id);return M?{...L,visible:M.visible,order:M.order}:L});k.sort((L,M)=>L.order-M.order),a(k)}else a(p.map(C=>n.find(L=>L===C.id)?{...C,visible:!1}:C))}catch{a(p)}},[p,t]);function g(w){return w.reduce((C,k)=>(C[k.id]=k.visible,C),{})}function c(w){return w.slice().sort((C,k)=>C.order-k.order).map(C=>C.id)}const h=G(()=>i?g(i):{},[i,e]),m=G(()=>i?c(i):[],[i,e]),v=()=>{f(i?[...i]:[...p]),s(i?[...i]:[...p]),o(!0)};return U(()=>{l&&r&&a([...l])},[l,r]),{columnVisibility:h,columnOrder:m,isConfigOpen:r,openConfig:v,saveAndApplyConfig:()=>{if(l)try{const w=l.map(({id:C,visible:k,order:L,required:M})=>({id:C,visible:k,order:L,required:M}));localStorage.setItem(t,JSON.stringify(w)),a([...l]),o(!1)}catch{}},applyTempConfig:()=>{l&&(a([...l]),o(!1))},resetToDefault:()=>{localStorage.removeItem(t);const w=p.map(C=>n.find(L=>L===C.id)?{...C,visible:!1}:C);s(w),a(w),f(w)},discardAndClose:()=>{u&&a([...u]),o(!1),s(null),f(null)},workingConfig:l,setWorkingConfig:s}}function _S({items:e,onReorder:t,renderItem:n}){const[r,o]=T(null),[i,a]=T(null),l=D(null),s=D(null),u=D(null),f=(p,g)=>{g.preventDefault(),o(p),s.current=p;const c=m=>{if(l.current){const v=Array.from(l.current.children);let b=p;for(let _=0;_<v.length;_++){const y=v[_].getBoundingClientRect(),S=y.top+y.height/2;if(m.clientY<S){b=_;break}b=_+1}b=Math.max(0,Math.min(b,v.length)),a(b),u.current=b}},h=()=>{if(s.current!==null&&u.current!==null&&s.current!==u.current){const m=u.current>s.current?u.current-1:u.current;t(s.current,m)}o(null),a(null),s.current=null,u.current=null,document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",h)};document.addEventListener("mousemove",c),document.addEventListener("mouseup",h)};return d("div",{ref:l,className:"space-y-2",children:[e.map((p,g)=>d("div",{className:`
            relative transition-all duration-200 ease-in-out
            ${r===g?"opacity-60 scale-[0.98] shadow-lg z-10 bg-primary/5 border-primary/20":"hover:shadow-md"}
            ${i===g?"mt-8":""}
            ${i===g+1?"mb-8":""}
          `,style:{transform:r===g?"rotate(2deg)":"none"},children:[i===g&&d("div",{className:"absolute -top-4 left-0 right-0 h-2 bg-primary/20 rounded-full animate-pulse"}),n(p,g,f)]},p.id)),i===e.length&&d("div",{className:"h-2 bg-primary/20 rounded-full animate-pulse"})]})}function yS({isOpen:e,workingConfig:t,setWorkingConfig:n,onSaveAndApply:r,onApplyTemp:o,onReset:i,onClose:a}){if(!t)return null;const l=f=>{n(p=>p?p.map(g=>g.id===f&&!g.required?{...g,visible:!g.visible}:g):[])};return d(Nr,{open:e,onClose:a,className:"relative z-50",children:[d(Ar,{className:"fixed inset-0 bg-black/10"}),d("div",{className:"columns-dialog-container",children:d(Rr,{className:"dialog-panel w-full max-w-md shadow-2xl",children:[d(Tr,{className:"dialog-title",children:[d("div",{className:"flex items-center gap-2",children:[d(lp,{className:"w-5 h-5 text-primary"}),"Column Configuration"]}),d("button",{onClick:a,className:"p-1.5 hover:bg-base-200 rounded-md transition-colors",type:"button",children:d(Tt,{className:"w-4 h-4"})})]}),d("div",{className:"space-y-4",children:[d("p",{className:"text-sm text-base-content/70 bg-info/10 p-3 rounded-lg border border-info/20",children:"ðŸ’¡ Toggle column visibility and drag to reorder"}),d("div",{className:"max-h-96 overflow-y-auto",children:d(_S,{items:t,onReorder:(f,p)=>{f!==p&&n(g=>{if(!g)return[];const c=[...g],[h]=c.splice(f,1);return c.splice(p,0,h),c.map((v,b)=>({...v,order:b}))})},renderItem:(f,p,g)=>d("div",{className:`
      flex items-center gap-3 p-4 pt-1 pb-1 bg-base-100 rounded-lg border border-gray-300 dark:border-gray-600 
      transition-all duration-200 select-none
      ${t&&t[p]&&p===t.findIndex(c=>c.id===f.id)?"hover:bg-base-200 hover:shadow-md cursor-default":"hover:bg-base-200"}
    `,children:[d("div",{onMouseDown:c=>g(p,c),className:"cursor-grab active:cursor-grabbing p-2 hover:bg-base-300 rounded-md transition-colors",style:{touchAction:"none"},children:d(Nm,{className:"w-4 h-4 text-base-content/60 hover:text-base-content"})}),d("button",{onClick:()=>l(f.id),disabled:f.required,className:`
          p-2 rounded-md transition-all duration-200
          ${f.required?"opacity-50 cursor-not-allowed":"hover:bg-base-300 cursor-pointer hover:scale-105"}
        `,type:"button",children:f.visible?d(Tm,{className:"w-5 h-5 text-success hover:text-success/80"}):d(Am,{className:"w-5 h-5 text-base-content/40 hover:text-base-content/60"})}),d("span",{className:`
        flex-1 text-sm font-medium transition-all duration-200
        ${f.visible?"text-base-content":"text-base-content/50"}
        ${f.required?"italic":""}
      `,children:[f.header,f.required&&d("span",{className:"text-xs ml-2 bg-base-300 px-2 py-0.5 rounded-full",children:"required"})]})]})})}),d("div",{className:"dialog-actions-multi-rows",children:[d("div",{className:"dialog-actions-row",children:d(Fe,{onClick:i,className:"btn btn-outline flex-1",children:[d(Vm,{className:"w-4 h-4"}),"Reset to Default (Irreversible)"]})}),d("div",{className:"dialog-actions-row",children:[d(Fe,{onClick:a,className:"btn btn-outline",children:"Close"}),d(Fe,{onClick:o,className:"btn btn-outline",children:"Apply for Now"}),d(Fe,{onClick:r,className:"btn btn-primary",children:"Apply & Keep"})]})]})]})]})})]})}function wS({onClick:e}){return d(Fe,{onClick:e,className:"flex items-center gap-2 px-4 py-2 bg-base-200 text-base-content rounded-lg border border-gray-300 dark:border-gray-600 font-medium transition-all duration-200 hover:bg-base-300 hover:border-gray-400 dark:hover:border-gray-500 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-1",children:"Columns"})}function SS(){const{securityOk:e}=oe(nn),[t,n]=T([]),[r,o]=T([]);return U(()=>{(async()=>{if(!e)return;const i=ze("/filament-brands"),l=await(await fetch(i)).text(),s=xS(l);n(s);const u=CS(l);o(u)})()},[e]),{filamentBrands:t,unsortedFilamentBrands:r}}function xS(e){const t=[];for(const n of e.split(/\r?\n/).filter(r=>r.trim()!==""&&!r.startsWith("#")).sort()){const r=n.split(","),o=r[0],i=r.length>1?r[1]:o;t.push({displayName:o,fillName:i})}return t}function CS(e){const t=[];for(const n of e.split(/\r?\n/).filter(r=>r.trim()!==""&&!r.startsWith("#"))){const r=n.split(","),o=r[0],i=r.length>1?r[1]:o;t.push({displayName:o,fillName:i})}return t}function FS(e){const{securityOk:t}=oe(nn),[n,r]=T([]),[o,i]=T(new Map),a=async()=>{let f,p=ze("/api/spools");if(f=await(await encryptedFetch(p)).text(),f!="")return f},l=async()=>{let f,p=ze("/api/spools-in-printers");if(f=await(await encryptedFetch(p)).text(),f!="")return f},s=(f,p)=>{let g=null,c=null;if(p){const v=JSON.parse(p);c=new Map(Object.entries(v.spools)),g=c}else g=o;const m=f.trim().split(`
`).map(v=>nS(v,g,e));return r(m),c&&i(c),m},u=async()=>{let f;try{f=await a()}catch(g){return console.error("Failed to fetch spools data:",g),null}let p=null;try{p=await l()}catch(g){console.error("Failed to fetch spools in printers:",g)}return s(f,p)};return U(()=>{u()},[e,t]),[n,u,s]}const ES=async(e,t,n)=>{const r=ze(e);try{return await(await encryptedFetch(r,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json()}catch(o){throw console.log(`Error calling ${r} : ${o}`),o}},Ae=ov(),Ye=(e,t,n)=>{if(!n)return!0;const r=String(e.getValue(t)||"").toLowerCase();return n.toLowerCase().split(",").map(i=>i.trim()).filter(i=>i).some(i=>r.includes(i))},Zn=(e,t,n)=>{if(!n||!n.min&&!n.max)return!0;const r=e.getValue(t);if(r==null)return!1;const o=Number(r);return!(isNaN(o)||n.min!==void 0&&o<n.min||n.max!==void 0&&o>n.max)};function PS({}){const e=["consumed_since_add","consumed_since_weight","weight_new","data_origin","tag_type","full_unused","encoded_datetime"],t=["id","color_code","material_type","color_name","weight_left","actions"],{storageConfig:n}=eu(),r=gS(),o=vS(),{filamentBrands:i,unsortedFilamentBrands:a}=SS(),[l,s,u]=FS(o),{securityOk:f}=oe(nn),[p,g]=T("full"),[c,h]=T({open:!1,spool:null}),[m,v]=T({open:!1,mode:"add",spool:null,complete:null}),[b,_]=T([{desc:!0,id:"id"}]),[y,S]=T([]),[w,C]=T({pageIndex:0,pageSize:15}),[k,L]=T(new Set),M=async()=>{const x=await Wn(),F=new Blob([x],{type:"text/plain;charset=utf-8;"}),J=URL.createObjectURL(F),ie=document.createElement("a");ie.href=J;const Se=new Date().toISOString().slice(0,19).replace(/[-:]/g,"").replace("T","-");ie.download=`SpoolEase-SpoolsBackup-${Se}.txt`,ie.click(),URL.revokeObjectURL(J)},P=()=>{const x=["id","material_type","material_subtype","color_name","color_code","brand","weight_advertised","weight_core","weight_new","weight_current","weight_left","weight_used","note","tag_id","added_datetime"],F=l.map(Me=>x.map(Re=>n0(Me[Re])).join(",")),J=[x.join(","),...F].join(`
`),ie=new Blob([J],{type:"text/csv;charset=utf-8;"}),Se=URL.createObjectURL(ie),Oe=document.createElement("a");Oe.href=Se,Oe.download="spools.csv",Oe.click(),URL.revokeObjectURL(Se)},$=async(x,F)=>{console.log("handlePickSpool");let J={location:F,location_type:Eh.Actual,spool_id:x};const ie=await ES("/api/spool-location","POST",J);let Se;return ie.error?(console.log(`Error setting spool location : ${ie.error}`),Se=!1):Se=!0,await s(),Se},I=uS();U(()=>{I&&p==="full"&&g("compact"),!I&&p==="compact"&&g("full")},[I]);const B=G(()=>[Ae.accessor("id",{header:"ID",cell:x=>d("div",{className:"flex flex-row items-center space-x-1",children:[d("span",{children:x.getValue()}),!x.row.getValue("tag_id")&&d("div",{className:"relative w-4 h-4 flex items-center",children:[d(ap,{className:"w-4 h-4"}),d(jm,{className:"absolute inset-0 w-4 h-4 text-current left-[1px]"})]})]}),filterFn:Ye,sortingFn:(x,F)=>{const J=parseInt(x.getValue("id"),10),ie=parseInt(F.getValue("id"),10);return J-ie}}),Ae.accessor("added_datetime",{header:"Added",cell:x=>d("div",{className:"tooltip","data-tip":oo(x.getValue()),children:$l(x.getValue())})}),Ae.accessor("encoded_datetime",{header:"Encoded",cell:x=>d("div",{className:"tooltip","data-tip":oo(x.getValue()),children:$l(x.getValue())})}),Ae.accessor("color_code",{header:"RGBA",cell:x=>{const F=x.getValue();return d("span",{style:{backgroundColor:`#${F.slice(0,6)}`,padding:"0px 4px",borderRadius:"4px",display:"inline-block"},children:F})},sortingFn:(x,F,J)=>Y1(x.getValue(J),F.getValue(J)),meta:{getCellProps:x=>{const F=x.getValue();return{style:{background:`
    linear-gradient(to right, rgba(${parseInt(F.slice(0,2),16)}, ${parseInt(F.slice(2,4),16)}, ${parseInt(F.slice(4,6),16)}, ${parseInt(F.slice(6,8),16)/255}) 0%, rgba(${parseInt(F.slice(0,2),16)}, ${parseInt(F.slice(2,4),16)}, ${parseInt(F.slice(4,6),16)}, ${parseInt(F.slice(6,8),16)/255}) 100%),
    repeating-conic-gradient(#ccc 0% 25%, #fff 0% 50%) 50% / 10px 10px
  `,backgroundSize:"100% 100%, 20px 20px",backgroundPosition:"0 0, 0 0",color:Th(F.slice(0,6)),fontFamily:"monospace"}}}}}),Ae.accessor("material_type",{header:"Material",cell:x=>x.getValue(),filterFn:Ye}),Ae.accessor("material_subtype",{header:"Subtype",cell:x=>x.getValue(),filterFn:Ye,sortingFn:Cn("material_subtype")}),Ae.accessor("color_name",{header:"Color",cell:x=>x.getValue(),filterFn:Ye,sortingFn:Cn("color_name")}),Ae.accessor("brand",{header:"Brand",cell:x=>x.getValue(),filterFn:Ye,sortingFn:Cn("brand")}),Ae.accessor("slicer_filament_name",{header:"Slicer Filament",cell:x=>x.getValue(),filterFn:Ye,sortingFn:Cn("slicer_filament_name")}),Ae.accessor(x=>x.printer_location??vr(n,x.actual_location),{id:"actual_location",header:"Actual Location",cell:x=>{var F,J,ie;return d("div",{class:"flex items-center gap-2",children:[((F=x.getValue())==null?void 0:F.charAt(0))=="#"&&d(to,{class:"w-4 h-4 text-gray-400"}),((J=x.getValue())==null?void 0:J.charAt(0))=="@"&&d(yl,{class:"w-4 h-4 text-gray-400"}),((ie=x.getValue())==null?void 0:ie.charAt(0))=="!"&&d(Pm,{class:"w-4 h-4 text-blue-500"}),d("span",{children:x.getValue().slice(1)})]})},filterFn:Ye,sortingFn:r0}),Ae.accessor("assigned_location",{header:"Assigned Location",cell:x=>{var F,J;return d("div",{class:"flex items-center gap-2",children:[((F=x.getValue())==null?void 0:F.charAt(0))=="#"&&d(to,{class:"w-4 h-4 text-gray-400"}),((J=x.getValue())==null?void 0:J.charAt(0))=="@"&&d(yl,{class:"w-4 h-4 text-gray-400"}),d("span",{children:vr(n,x.getValue()).slice(1)})]})},filterFn:Ye,sortingFn:Cn("assigned_location")}),Ae.accessor("weight_left",{header:"Net",cell:x=>{const F=x.getValue(),J=x.row.getValue("consumed_since_weight");if(F)return`${An(F-J,1)}g`;const ie=x.row.getValue("tag_id"),Se=x.row.getValue("full_unused"),Oe=x.row.getValue("weight_advertised"),Me=!ie&&ie[0]!=""&&Se=="y"&&Oe;return F?`${F}g`:Me?`(${Pl(Oe)})`:""},filterFn:Zn,sortingFn:(x,F)=>{const J=x.getValue("weight_left"),ie=F.getValue("weight_left");if(J&ie)return J>ie?1:-1;const Se=x.getValue("tag_id"),Oe=F.getValue("tag_id"),Me=x.getValue("weight_advertised"),Re=F.getValue("weight_advertised"),ot=!Se&&Se[0]!=""&&Me,Bt=!Oe&&Oe[0]!=""&&Re;return(J||(ot?Me:J))>(ie||(Bt?Re:ie))?1:-1}}),Ae.accessor("weight_advertised",{header:"Label",cell:x=>{const F=x.getValue();return Pl(F,"")},filterFn:Zn}),Ae.accessor("full_unused",{header:"When Added",cell:x=>{switch(x.getValue()){case"y":return"Full Unused";case"n":return"Used"}}}),Ae.accessor("weight_current",{header:"Gross",cell:x=>{const F=x.getValue();return F!==null?`${F}g`:""},filterFn:Zn}),Ae.accessor("weight_new",{header:"Full",cell:x=>{const F=x.getValue();return F!==null?`${F}g`:""},filterFn:Zn}),Ae.accessor("weight_used",{header:"Used",cell:x=>{const F=x.getValue(),J=x.row.getValue("consumed_since_weight");return F!==null?`${An(F+J,1)}g`:""},filterFn:Zn}),Ae.accessor("consumed_since_add",{header:"Printed Total",cell:x=>parseFloat(x.getValue().toFixed(2)).toString(),filterFn:Ye}),Ae.accessor("consumed_since_weight",{header:"Printed Since Weight",cell:x=>parseFloat(x.getValue().toFixed(2)).toString(),filterFn:Ye}),Ae.accessor("note",{header:"Note",cell:x=>d("div",{className:"tooltip w-full","data-tip":x.getValue(),children:d("div",{className:"truncate",children:x.getValue()})}),filterFn:Ye,meta:{grow:!0},sortingFn:Cn("note")}),Ae.accessor("k_setting",{header:"PA(K)",cell:x=>d("div",{className:"text-center",children:[" ",x.getValue()===!0?"âœ“":""]}),filterFn:Ye}),Ae.accessor("tag_id",{header:"Tag ID",cell:x=>{const F=x.getValue();return F.startsWith("-")?d("span",{className:"line-through",children:F.slice(1)}):F},sortingFn:(x,F)=>{const J=ot=>ot.startsWith("-")?ot.slice(1):ot,ie=x.getValue("tag_id"),Se=F.getValue("tag_id"),Oe=J(ie),Me=J(Se),Re=Lp(Oe,Me);return Re!==0?Re:ie.startsWith("-")?1:-1}}),Ae.accessor("data_origin",{header:"Data Origin",cell:x=>x.getValue(),filterFn:Ye}),Ae.accessor("tag_type",{header:"Linked Tag Type",cell:x=>x.getValue(),filterFn:Ye}),{id:"actions",cell:({row:x})=>d("div",{className:"flex gap-3",children:[d(Fe,{className:"cursor-pointer",onClick:()=>h({open:!0,spool:x.original}),children:d(sp,{className:"w-[1em] h-[1em] relative top-[1px]"})}),d(Fe,{className:"cursor-pointer",onClick:()=>_e(x.original),children:d(Hm,{className:"w-[1em] h-[1em] relative top-[1px]"})})]}),meta:{stickyClass:"sticky-right"}}],[n]),{columnVisibility:O,columnOrder:A,isConfigOpen:N,openConfig:Y,saveAndApplyConfig:K,applyTempConfig:ne,resetToDefault:z,discardAndClose:ae,workingConfig:ue,setWorkingConfig:X}=bS(B,"spools-column-config",e),H=()=>{v({open:!0,mode:"add",spool:null,complete:null})},we=()=>{v({open:!0,mode:"add",spool:{...m.spool,id:"",tagId:""},complete:null})},_e=x=>{const F={id:x.id,tagId:x.tag_id,rgba:x.color_code,colorName:x.color_name,material:x.material_type,subtype:x.material_subtype,brand:x.brand,label:Zl(x.weight_advertised),labelGrams:x.weight_advertised,coreGrams:x.weight_core,note:x.note,slicerFilamentCode:x.slicer_filament,fullUnused:x.full_unused,assignedLocation:x.assigned_location,actualLocation:x.actual_location};v({open:!0,mode:"edit",spool:F,complete:null})},W=()=>{v({open:!1,mode:"add",spool:null,complete:null})},q=(x,F)=>{v(J=>({...J,spool:x?{...x,id:F}:null}))},ce=()=>{v(x=>({...x,complete:"successDone"}))},ve=async x=>{try{const F=ze("api/spools/delete"),ie=await(await encryptedFetch(F,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:x})})).text();u(ie,null)}catch(F){console.log("Error in deleteSpool: ",F)}},rn=async(x,F)=>{try{const J=ze("api/spools/add-edit"),Se=await(await encryptedFetch(J,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tag_id:x.tagId.startsWith("-")?"":x.tagId,id:x.id,rgba:x.rgba,color_name:x.colorName,material:x.material,subtype:x.subtype,brand:x.brand,label_weight:Number(x.labelGrams?x.labelGrams:0),core_weight:Number(x.coreGrams?x.coreGrams:0),note:x.note,slicer_filament:x.slicerFilamentCode,full_unused:x.fullUnused,k_info:F,assigned_location:x.assignedLocation,actual_location:x.actualLocation})})).json();q(x,Se.id),u(Se.csv,null)}catch(J){console.log("Error in addEditSpool: ",J)}},Wn=async()=>{let x,F=ze("/api/store-backup");if(x=await(await encryptedFetch(F)).text(),x!="")return x},Ie=t0({data:l,columns:B,state:{sorting:b,columnFilters:y,pagination:w,columnVisibility:O,columnOrder:A},onSortingChange:_,onColumnFiltersChange:S,onPaginationChange:C,getCoreRowModel:qv(),getPaginationRowModel:Xv(),getSortedRowModel:Jv(),getFilteredRowModel:Yv(),enableMultiSort:!0}),on=x=>{const F=new Set(k);F.has(x)?F.delete(x):F.add(x),L(F)},be=x=>{C(F=>({...F,pageIndex:0,pageSize:x===-1?l.length:x}))};return d("div",{className:"spools-container",children:[m.open&&d(iS,{isMobile:I,info:m,materials:U1,cores:r,slicerFilaments:o,filamentBrands:i,unsortedFilamentBrands:a,onSave:async(x,F)=>{await rn(x,F),ce()},onCancel:()=>{W()},onAddNew:H,onAddSimilar:we}),d(sS,{isMobile:I,info:c,onOk:async()=>{await ve(c.spool.id),h({open:!1,spool:null})},onCancel:()=>{h({open:!1,spool:null})}}),d("div",{className:"spools-controls",children:d(o0,{isMobile:I,columnFilters:y,onSetColumnFilters:S})}),d("div",{className:"spools-controls-row",children:[d("div",{className:"view-mode-toggle",children:[d("button",{className:`view-btn ${p==="compact"||p==="full"?"active":""}`,onClick:()=>g(I?"compact":"full"),children:"Table"}),d("button",{className:`view-btn ${p==="cards"?"active":""}`,onClick:()=>g("cards"),children:"Cards"}),d("button",{className:"refresh-data-btn",onClick:()=>s(),children:"Refresh"}),!I&&p!="cards"&&d(wS,{onClick:Y}),d("div",{class:"w-px h-11 bg-gray-500"}),!I&&d("button",{className:"download-data-btn",onClick:()=>P(),children:"CSV"}),!I&&d("button",{className:"download-data-btn",onClick:()=>M(),children:"Backup"})]}),d("div",{className:"spools-controls-hint-paging",children:[d("div",{className:"flex items-center",children:d("span",{className:"multi-sort-hint",children:p!="cards"?I?"Press column headers to sort":"Hold Shift + Click column headers for multi-sort":null})}),f&&d("button",{className:"add-spool-btn",onClick:()=>{H()},children:"Add Spool"})]})]}),p==="cards"?d("div",{className:"cards-grid",children:Ie.getRowModel().rows.map(x=>d(es,{spool:x.original,storageConfig:n,onSetSpoolLocation:$},x.id))}):d("div",{className:"table-container",children:d("table",{className:"spools-table",children:[d("thead",{children:Ie.getHeaderGroups().map(x=>d("tr",{children:x.headers.map(F=>{var J,ie;return p==="compact"&&!t.includes(F.id)?null:d("th",{className:`${F.column.getCanSort()?"sortable":""} ${(J=F.column.columnDef.meta)!=null&&J.grow?"min-w-0":""} ${(ie=F.column.columnDef.meta)==null?void 0:ie.stickyClass}`.trim(),onClick:F.column.getToggleSortingHandler(),children:d("div",{className:"header-content",children:[F.isPlaceholder?null:ju(F.column.columnDef.header,F.getContext()),F.column.getIsSorted()&&d("span",{className:"sort-indicator",children:F.column.getIsSorted()==="desc"?" â†“":" â†‘"})]})},F.id)})},x.id))}),d("tbody",{className:"relative",children:[Ie.getRowModel().rows.map(x=>d(ee,{children:[d("tr",{className:`data-row ${p==="compact"?"clickable-row":""}`,onClick:()=>p==="compact"&&on(x.id),children:x.getVisibleCells().map(F=>{var J,ie,Se,Oe;return p==="compact"&&!t.includes(F.column.id)?null:d("td",{class:`${(J=F.column.columnDef.meta)!=null&&J.grow?"w-full max-w-0":"whitespace-nowrap"} ${(ie=F.column.columnDef.meta)==null?void 0:ie.stickyClass}`,...((Oe=(Se=F.column.columnDef.meta)==null?void 0:Se.getCellProps)==null?void 0:Oe.call(Se,F))??{},children:ju(F.column.columnDef.cell,F.getContext())},F.id)})},x.id),p==="compact"&&k.has(x.id)&&d("tr",{className:"expanded-row",children:d("td",{colSpan:t.length,style:{backgroundColor:`#${x.original.color_code.substring(0,6)}`},children:d(es,{spool:x.original,compact:!0,storageConfig:n,onSetSpoolLocation:$})})})]})),N&&d(yS,{isOpen:N,workingConfig:ue,setWorkingConfig:X,onSaveAndApply:K,onApplyTemp:ne,onReset:z,onClose:ae})]})]})}),d("div",{className:"pagination",children:[d("div",{className:"pagination-info",children:["Showing ",w.pageIndex*w.pageSize+1," to"," ",Math.min((w.pageIndex+1)*w.pageSize,Ie.getFilteredRowModel().rows.length)," ","of ",Ie.getFilteredRowModel().rows.length," entries",Ie.getFilteredRowModel().rows.length!==l.length&&d("span",{children:[" (filtered from ",l.length," total)"]})]}),d("div",{className:"page-size-control",children:[d("label",{children:"Show:"}),d("select",{value:w.pageSize===l.length?-1:w.pageSize,onChange:x=>be(Number(x.target.value)),className:"page-size-select",children:[d("option",{value:10,children:"10"}),d("option",{value:15,children:"15"}),d("option",{value:25,children:"25"}),d("option",{value:50,children:"50"}),d("option",{value:100,children:"100"}),d("option",{value:200,children:"200"}),d("option",{value:-1,children:"All"})]})]}),d("div",{className:"pagination-controls",children:[d("button",{onClick:()=>Ie.setPageIndex(0),disabled:!Ie.getCanPreviousPage(),className:"pagination-btn",children:"Â«Â«"}),d("button",{onClick:()=>Ie.previousPage(),disabled:!Ie.getCanPreviousPage(),className:"pagination-btn",children:"â€¹"}),d("span",{className:"page-info",children:["Page ",w.pageIndex+1," of ",Ie.getPageCount()]}),d("button",{onClick:()=>Ie.nextPage(),disabled:!Ie.getCanNextPage(),className:"pagination-btn",children:"â€º"}),d("button",{onClick:()=>Ie.setPageIndex(Ie.getPageCount()-1),disabled:!Ie.getCanNextPage(),className:"pagination-btn",children:"Â»Â»"})]})]})]})}var vi,Dc;function $S(){if(Dc)return vi;Dc=1;function e(){this.__data__=[],this.size=0}return vi=e,vi}var bi,Gc;function Oh(){if(Gc)return bi;Gc=1;function e(t,n){return t===n||t!==t&&n!==n}return bi=e,bi}var _i,Vc;function Do(){if(Vc)return _i;Vc=1;var e=Oh();function t(n,r){for(var o=n.length;o--;)if(e(n[o][0],r))return o;return-1}return _i=t,_i}var yi,Bc;function RS(){if(Bc)return yi;Bc=1;var e=Do(),t=Array.prototype,n=t.splice;function r(o){var i=this.__data__,a=e(i,o);if(a<0)return!1;var l=i.length-1;return a==l?i.pop():n.call(i,a,1),--this.size,!0}return yi=r,yi}var wi,jc;function AS(){if(jc)return wi;jc=1;var e=Do();function t(n){var r=this.__data__,o=e(r,n);return o<0?void 0:r[o][1]}return wi=t,wi}var Si,Hc;function TS(){if(Hc)return Si;Hc=1;var e=Do();function t(n){return e(this.__data__,n)>-1}return Si=t,Si}var xi,qc;function NS(){if(qc)return xi;qc=1;var e=Do();function t(n,r){var o=this.__data__,i=e(o,n);return i<0?(++this.size,o.push([n,r])):o[i][1]=r,this}return xi=t,xi}var Ci,zc;function Go(){if(zc)return Ci;zc=1;var e=$S(),t=RS(),n=AS(),r=TS(),o=NS();function i(a){var l=-1,s=a==null?0:a.length;for(this.clear();++l<s;){var u=a[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,Ci=i,Ci}var Fi,Uc;function OS(){if(Uc)return Fi;Uc=1;var e=Go();function t(){this.__data__=new e,this.size=0}return Fi=t,Fi}var Ei,Wc;function kS(){if(Wc)return Ei;Wc=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return Ei=e,Ei}var Pi,Kc;function IS(){if(Kc)return Pi;Kc=1;function e(t){return this.__data__.get(t)}return Pi=e,Pi}var $i,Yc;function MS(){if(Yc)return $i;Yc=1;function e(t){return this.__data__.has(t)}return $i=e,$i}var Ri,Xc;function kh(){if(Xc)return Ri;Xc=1;var e=typeof zr=="object"&&zr&&zr.Object===Object&&zr;return Ri=e,Ri}var Ai,Jc;function $t(){if(Jc)return Ai;Jc=1;var e=kh(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Ai=n,Ai}var Ti,Qc;function tu(){if(Qc)return Ti;Qc=1;var e=$t(),t=e.Symbol;return Ti=t,Ti}var Ni,Zc;function LS(){if(Zc)return Ni;Zc=1;var e=tu(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,o=e?e.toStringTag:void 0;function i(a){var l=n.call(a,o),s=a[o];try{a[o]=void 0;var u=!0}catch{}var f=r.call(a);return u&&(l?a[o]=s:delete a[o]),f}return Ni=i,Ni}var Oi,ed;function DS(){if(ed)return Oi;ed=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Oi=n,Oi}var ki,td;function Vo(){if(td)return ki;td=1;var e=tu(),t=LS(),n=DS(),r="[object Null]",o="[object Undefined]",i=e?e.toStringTag:void 0;function a(l){return l==null?l===void 0?o:r:i&&i in Object(l)?t(l):n(l)}return ki=a,ki}var Ii,nd;function kr(){if(nd)return Ii;nd=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Ii=e,Ii}var Mi,rd;function Ih(){if(rd)return Mi;rd=1;var e=Vo(),t=kr(),n="[object AsyncFunction]",r="[object Function]",o="[object GeneratorFunction]",i="[object Proxy]";function a(l){if(!t(l))return!1;var s=e(l);return s==r||s==o||s==n||s==i}return Mi=a,Mi}var Li,od;function GS(){if(od)return Li;od=1;var e=$t(),t=e["__core-js_shared__"];return Li=t,Li}var Di,id;function VS(){if(id)return Di;id=1;var e=GS(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return Di=n,Di}var Gi,ad;function Mh(){if(ad)return Gi;ad=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Gi=n,Gi}var Vi,ld;function BS(){if(ld)return Vi;ld=1;var e=Ih(),t=VS(),n=kr(),r=Mh(),o=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,a=Function.prototype,l=Object.prototype,s=a.toString,u=l.hasOwnProperty,f=RegExp("^"+s.call(u).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!n(g)||t(g))return!1;var c=e(g)?f:i;return c.test(r(g))}return Vi=p,Vi}var Bi,sd;function jS(){if(sd)return Bi;sd=1;function e(t,n){return t==null?void 0:t[n]}return Bi=e,Bi}var ji,ud;function wn(){if(ud)return ji;ud=1;var e=BS(),t=jS();function n(r,o){var i=t(r,o);return e(i)?i:void 0}return ji=n,ji}var Hi,cd;function nu(){if(cd)return Hi;cd=1;var e=wn(),t=$t(),n=e(t,"Map");return Hi=n,Hi}var qi,dd;function Bo(){if(dd)return qi;dd=1;var e=wn(),t=e(Object,"create");return qi=t,qi}var zi,fd;function HS(){if(fd)return zi;fd=1;var e=Bo();function t(){this.__data__=e?e(null):{},this.size=0}return zi=t,zi}var Ui,pd;function qS(){if(pd)return Ui;pd=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Ui=e,Ui}var Wi,gd;function zS(){if(gd)return Wi;gd=1;var e=Bo(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function o(i){var a=this.__data__;if(e){var l=a[i];return l===t?void 0:l}return r.call(a,i)?a[i]:void 0}return Wi=o,Wi}var Ki,hd;function US(){if(hd)return Ki;hd=1;var e=Bo(),t=Object.prototype,n=t.hasOwnProperty;function r(o){var i=this.__data__;return e?i[o]!==void 0:n.call(i,o)}return Ki=r,Ki}var Yi,md;function WS(){if(md)return Yi;md=1;var e=Bo(),t="__lodash_hash_undefined__";function n(r,o){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=e&&o===void 0?t:o,this}return Yi=n,Yi}var Xi,vd;function KS(){if(vd)return Xi;vd=1;var e=HS(),t=qS(),n=zS(),r=US(),o=WS();function i(a){var l=-1,s=a==null?0:a.length;for(this.clear();++l<s;){var u=a[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,Xi=i,Xi}var Ji,bd;function YS(){if(bd)return Ji;bd=1;var e=KS(),t=Go(),n=nu();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Ji=r,Ji}var Qi,_d;function XS(){if(_d)return Qi;_d=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Qi=e,Qi}var Zi,yd;function jo(){if(yd)return Zi;yd=1;var e=XS();function t(n,r){var o=n.__data__;return e(r)?o[typeof r=="string"?"string":"hash"]:o.map}return Zi=t,Zi}var ea,wd;function JS(){if(wd)return ea;wd=1;var e=jo();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return ea=t,ea}var ta,Sd;function QS(){if(Sd)return ta;Sd=1;var e=jo();function t(n){return e(this,n).get(n)}return ta=t,ta}var na,xd;function ZS(){if(xd)return na;xd=1;var e=jo();function t(n){return e(this,n).has(n)}return na=t,na}var ra,Cd;function ex(){if(Cd)return ra;Cd=1;var e=jo();function t(n,r){var o=e(this,n),i=o.size;return o.set(n,r),this.size+=o.size==i?0:1,this}return ra=t,ra}var oa,Fd;function tx(){if(Fd)return oa;Fd=1;var e=YS(),t=JS(),n=QS(),r=ZS(),o=ex();function i(a){var l=-1,s=a==null?0:a.length;for(this.clear();++l<s;){var u=a[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,oa=i,oa}var ia,Ed;function nx(){if(Ed)return ia;Ed=1;var e=Go(),t=nu(),n=tx(),r=200;function o(i,a){var l=this.__data__;if(l instanceof e){var s=l.__data__;if(!t||s.length<r-1)return s.push([i,a]),this.size=++l.size,this;l=this.__data__=new n(s)}return l.set(i,a),this.size=l.size,this}return ia=o,ia}var aa,Pd;function rx(){if(Pd)return aa;Pd=1;var e=Go(),t=OS(),n=kS(),r=IS(),o=MS(),i=nx();function a(l){var s=this.__data__=new e(l);this.size=s.size}return a.prototype.clear=t,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=o,a.prototype.set=i,aa=a,aa}var la,$d;function ox(){if($d)return la;$d=1;function e(t,n){for(var r=-1,o=t==null?0:t.length;++r<o&&n(t[r],r,t)!==!1;);return t}return la=e,la}var sa,Rd;function ix(){if(Rd)return sa;Rd=1;var e=wn(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return sa=t,sa}var ua,Ad;function Lh(){if(Ad)return ua;Ad=1;var e=ix();function t(n,r,o){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:o,writable:!0}):n[r]=o}return ua=t,ua}var ca,Td;function Dh(){if(Td)return ca;Td=1;var e=Lh(),t=Oh(),n=Object.prototype,r=n.hasOwnProperty;function o(i,a,l){var s=i[a];(!(r.call(i,a)&&t(s,l))||l===void 0&&!(a in i))&&e(i,a,l)}return ca=o,ca}var da,Nd;function Ho(){if(Nd)return da;Nd=1;var e=Dh(),t=Lh();function n(r,o,i,a){var l=!i;i||(i={});for(var s=-1,u=o.length;++s<u;){var f=o[s],p=a?a(i[f],r[f],f,i,r):void 0;p===void 0&&(p=r[f]),l?t(i,f,p):e(i,f,p)}return i}return da=n,da}var fa,Od;function ax(){if(Od)return fa;Od=1;function e(t,n){for(var r=-1,o=Array(t);++r<t;)o[r]=n(r);return o}return fa=e,fa}var pa,kd;function Ir(){if(kd)return pa;kd=1;function e(t){return t!=null&&typeof t=="object"}return pa=e,pa}var ga,Id;function lx(){if(Id)return ga;Id=1;var e=Vo(),t=Ir(),n="[object Arguments]";function r(o){return t(o)&&e(o)==n}return ga=r,ga}var ha,Md;function sx(){if(Md)return ha;Md=1;var e=lx(),t=Ir(),n=Object.prototype,r=n.hasOwnProperty,o=n.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(a){return t(a)&&r.call(a,"callee")&&!o.call(a,"callee")};return ha=i,ha}var ma,Ld;function ru(){if(Ld)return ma;Ld=1;var e=Array.isArray;return ma=e,ma}var rr={exports:{}},va,Dd;function ux(){if(Dd)return va;Dd=1;function e(){return!1}return va=e,va}rr.exports;var Gd;function Gh(){return Gd||(Gd=1,function(e,t){var n=$t(),r=ux(),o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===o,l=a?n.Buffer:void 0,s=l?l.isBuffer:void 0,u=s||r;e.exports=u}(rr,rr.exports)),rr.exports}var ba,Vd;function cx(){if(Vd)return ba;Vd=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,o){var i=typeof r;return o=o??e,!!o&&(i=="number"||i!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<o}return ba=n,ba}var _a,Bd;function Vh(){if(Bd)return _a;Bd=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return _a=t,_a}var ya,jd;function dx(){if(jd)return ya;jd=1;var e=Vo(),t=Vh(),n=Ir(),r="[object Arguments]",o="[object Array]",i="[object Boolean]",a="[object Date]",l="[object Error]",s="[object Function]",u="[object Map]",f="[object Number]",p="[object Object]",g="[object RegExp]",c="[object Set]",h="[object String]",m="[object WeakMap]",v="[object ArrayBuffer]",b="[object DataView]",_="[object Float32Array]",y="[object Float64Array]",S="[object Int8Array]",w="[object Int16Array]",C="[object Int32Array]",k="[object Uint8Array]",L="[object Uint8ClampedArray]",M="[object Uint16Array]",P="[object Uint32Array]",$={};$[_]=$[y]=$[S]=$[w]=$[C]=$[k]=$[L]=$[M]=$[P]=!0,$[r]=$[o]=$[v]=$[i]=$[b]=$[a]=$[l]=$[s]=$[u]=$[f]=$[p]=$[g]=$[c]=$[h]=$[m]=!1;function I(B){return n(B)&&t(B.length)&&!!$[e(B)]}return ya=I,ya}var wa,Hd;function ou(){if(Hd)return wa;Hd=1;function e(t){return function(n){return t(n)}}return wa=e,wa}var or={exports:{}};or.exports;var qd;function iu(){return qd||(qd=1,function(e,t){var n=kh(),r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,a=i&&n.process,l=function(){try{var s=o&&o.require&&o.require("util").types;return s||a&&a.binding&&a.binding("util")}catch{}}();e.exports=l}(or,or.exports)),or.exports}var Sa,zd;function fx(){if(zd)return Sa;zd=1;var e=dx(),t=ou(),n=iu(),r=n&&n.isTypedArray,o=r?t(r):e;return Sa=o,Sa}var xa,Ud;function Bh(){if(Ud)return xa;Ud=1;var e=ax(),t=sx(),n=ru(),r=Gh(),o=cx(),i=fx(),a=Object.prototype,l=a.hasOwnProperty;function s(u,f){var p=n(u),g=!p&&t(u),c=!p&&!g&&r(u),h=!p&&!g&&!c&&i(u),m=p||g||c||h,v=m?e(u.length,String):[],b=v.length;for(var _ in u)(f||l.call(u,_))&&!(m&&(_=="length"||c&&(_=="offset"||_=="parent")||h&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||o(_,b)))&&v.push(_);return v}return xa=s,xa}var Ca,Wd;function au(){if(Wd)return Ca;Wd=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,o=typeof r=="function"&&r.prototype||e;return n===o}return Ca=t,Ca}var Fa,Kd;function jh(){if(Kd)return Fa;Kd=1;function e(t,n){return function(r){return t(n(r))}}return Fa=e,Fa}var Ea,Yd;function px(){if(Yd)return Ea;Yd=1;var e=jh(),t=e(Object.keys,Object);return Ea=t,Ea}var Pa,Xd;function gx(){if(Xd)return Pa;Xd=1;var e=au(),t=px(),n=Object.prototype,r=n.hasOwnProperty;function o(i){if(!e(i))return t(i);var a=[];for(var l in Object(i))r.call(i,l)&&l!="constructor"&&a.push(l);return a}return Pa=o,Pa}var $a,Jd;function Hh(){if(Jd)return $a;Jd=1;var e=Ih(),t=Vh();function n(r){return r!=null&&t(r.length)&&!e(r)}return $a=n,$a}var Ra,Qd;function lu(){if(Qd)return Ra;Qd=1;var e=Bh(),t=gx(),n=Hh();function r(o){return n(o)?e(o):t(o)}return Ra=r,Ra}var Aa,Zd;function hx(){if(Zd)return Aa;Zd=1;var e=Ho(),t=lu();function n(r,o){return r&&e(o,t(o),r)}return Aa=n,Aa}var Ta,ef;function mx(){if(ef)return Ta;ef=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return Ta=e,Ta}var Na,tf;function vx(){if(tf)return Na;tf=1;var e=kr(),t=au(),n=mx(),r=Object.prototype,o=r.hasOwnProperty;function i(a){if(!e(a))return n(a);var l=t(a),s=[];for(var u in a)u=="constructor"&&(l||!o.call(a,u))||s.push(u);return s}return Na=i,Na}var Oa,nf;function su(){if(nf)return Oa;nf=1;var e=Bh(),t=vx(),n=Hh();function r(o){return n(o)?e(o,!0):t(o)}return Oa=r,Oa}var ka,rf;function bx(){if(rf)return ka;rf=1;var e=Ho(),t=su();function n(r,o){return r&&e(o,t(o),r)}return ka=n,ka}var ir={exports:{}};ir.exports;var of;function _x(){return of||(of=1,function(e,t){var n=$t(),r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,a=i?n.Buffer:void 0,l=a?a.allocUnsafe:void 0;function s(u,f){if(f)return u.slice();var p=u.length,g=l?l(p):new u.constructor(p);return u.copy(g),g}e.exports=s}(ir,ir.exports)),ir.exports}var Ia,af;function yx(){if(af)return Ia;af=1;function e(t,n){var r=-1,o=t.length;for(n||(n=Array(o));++r<o;)n[r]=t[r];return n}return Ia=e,Ia}var Ma,lf;function wx(){if(lf)return Ma;lf=1;function e(t,n){for(var r=-1,o=t==null?0:t.length,i=0,a=[];++r<o;){var l=t[r];n(l,r,t)&&(a[i++]=l)}return a}return Ma=e,Ma}var La,sf;function qh(){if(sf)return La;sf=1;function e(){return[]}return La=e,La}var Da,uf;function uu(){if(uf)return Da;uf=1;var e=wx(),t=qh(),n=Object.prototype,r=n.propertyIsEnumerable,o=Object.getOwnPropertySymbols,i=o?function(a){return a==null?[]:(a=Object(a),e(o(a),function(l){return r.call(a,l)}))}:t;return Da=i,Da}var Ga,cf;function Sx(){if(cf)return Ga;cf=1;var e=Ho(),t=uu();function n(r,o){return e(r,t(r),o)}return Ga=n,Ga}var Va,df;function zh(){if(df)return Va;df=1;function e(t,n){for(var r=-1,o=n.length,i=t.length;++r<o;)t[i+r]=n[r];return t}return Va=e,Va}var Ba,ff;function Uh(){if(ff)return Ba;ff=1;var e=jh(),t=e(Object.getPrototypeOf,Object);return Ba=t,Ba}var ja,pf;function Wh(){if(pf)return ja;pf=1;var e=zh(),t=Uh(),n=uu(),r=qh(),o=Object.getOwnPropertySymbols,i=o?function(a){for(var l=[];a;)e(l,n(a)),a=t(a);return l}:r;return ja=i,ja}var Ha,gf;function xx(){if(gf)return Ha;gf=1;var e=Ho(),t=Wh();function n(r,o){return e(r,t(r),o)}return Ha=n,Ha}var qa,hf;function Kh(){if(hf)return qa;hf=1;var e=zh(),t=ru();function n(r,o,i){var a=o(r);return t(r)?a:e(a,i(r))}return qa=n,qa}var za,mf;function Cx(){if(mf)return za;mf=1;var e=Kh(),t=uu(),n=lu();function r(o){return e(o,n,t)}return za=r,za}var Ua,vf;function Fx(){if(vf)return Ua;vf=1;var e=Kh(),t=Wh(),n=su();function r(o){return e(o,n,t)}return Ua=r,Ua}var Wa,bf;function Ex(){if(bf)return Wa;bf=1;var e=wn(),t=$t(),n=e(t,"DataView");return Wa=n,Wa}var Ka,_f;function Px(){if(_f)return Ka;_f=1;var e=wn(),t=$t(),n=e(t,"Promise");return Ka=n,Ka}var Ya,yf;function $x(){if(yf)return Ya;yf=1;var e=wn(),t=$t(),n=e(t,"Set");return Ya=n,Ya}var Xa,wf;function Rx(){if(wf)return Xa;wf=1;var e=wn(),t=$t(),n=e(t,"WeakMap");return Xa=n,Xa}var Ja,Sf;function cu(){if(Sf)return Ja;Sf=1;var e=Ex(),t=nu(),n=Px(),r=$x(),o=Rx(),i=Vo(),a=Mh(),l="[object Map]",s="[object Object]",u="[object Promise]",f="[object Set]",p="[object WeakMap]",g="[object DataView]",c=a(e),h=a(t),m=a(n),v=a(r),b=a(o),_=i;return(e&&_(new e(new ArrayBuffer(1)))!=g||t&&_(new t)!=l||n&&_(n.resolve())!=u||r&&_(new r)!=f||o&&_(new o)!=p)&&(_=function(y){var S=i(y),w=S==s?y.constructor:void 0,C=w?a(w):"";if(C)switch(C){case c:return g;case h:return l;case m:return u;case v:return f;case b:return p}return S}),Ja=_,Ja}var Qa,xf;function Ax(){if(xf)return Qa;xf=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var o=r.length,i=new r.constructor(o);return o&&typeof r[0]=="string"&&t.call(r,"index")&&(i.index=r.index,i.input=r.input),i}return Qa=n,Qa}var Za,Cf;function Tx(){if(Cf)return Za;Cf=1;var e=$t(),t=e.Uint8Array;return Za=t,Za}var el,Ff;function du(){if(Ff)return el;Ff=1;var e=Tx();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return el=t,el}var tl,Ef;function Nx(){if(Ef)return tl;Ef=1;var e=du();function t(n,r){var o=r?e(n.buffer):n.buffer;return new n.constructor(o,n.byteOffset,n.byteLength)}return tl=t,tl}var nl,Pf;function Ox(){if(Pf)return nl;Pf=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return nl=t,nl}var rl,$f;function kx(){if($f)return rl;$f=1;var e=tu(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(o){return n?Object(n.call(o)):{}}return rl=r,rl}var ol,Rf;function Ix(){if(Rf)return ol;Rf=1;var e=du();function t(n,r){var o=r?e(n.buffer):n.buffer;return new n.constructor(o,n.byteOffset,n.length)}return ol=t,ol}var il,Af;function Mx(){if(Af)return il;Af=1;var e=du(),t=Nx(),n=Ox(),r=kx(),o=Ix(),i="[object Boolean]",a="[object Date]",l="[object Map]",s="[object Number]",u="[object RegExp]",f="[object Set]",p="[object String]",g="[object Symbol]",c="[object ArrayBuffer]",h="[object DataView]",m="[object Float32Array]",v="[object Float64Array]",b="[object Int8Array]",_="[object Int16Array]",y="[object Int32Array]",S="[object Uint8Array]",w="[object Uint8ClampedArray]",C="[object Uint16Array]",k="[object Uint32Array]";function L(M,P,$){var I=M.constructor;switch(P){case c:return e(M);case i:case a:return new I(+M);case h:return t(M,$);case m:case v:case b:case _:case y:case S:case w:case C:case k:return o(M,$);case l:return new I;case s:case p:return new I(M);case u:return n(M);case f:return new I;case g:return r(M)}}return il=L,il}var al,Tf;function Lx(){if(Tf)return al;Tf=1;var e=kr(),t=Object.create,n=function(){function r(){}return function(o){if(!e(o))return{};if(t)return t(o);r.prototype=o;var i=new r;return r.prototype=void 0,i}}();return al=n,al}var ll,Nf;function Dx(){if(Nf)return ll;Nf=1;var e=Lx(),t=Uh(),n=au();function r(o){return typeof o.constructor=="function"&&!n(o)?e(t(o)):{}}return ll=r,ll}var sl,Of;function Gx(){if(Of)return sl;Of=1;var e=cu(),t=Ir(),n="[object Map]";function r(o){return t(o)&&e(o)==n}return sl=r,sl}var ul,kf;function Vx(){if(kf)return ul;kf=1;var e=Gx(),t=ou(),n=iu(),r=n&&n.isMap,o=r?t(r):e;return ul=o,ul}var cl,If;function Bx(){if(If)return cl;If=1;var e=cu(),t=Ir(),n="[object Set]";function r(o){return t(o)&&e(o)==n}return cl=r,cl}var dl,Mf;function jx(){if(Mf)return dl;Mf=1;var e=Bx(),t=ou(),n=iu(),r=n&&n.isSet,o=r?t(r):e;return dl=o,dl}var fl,Lf;function Hx(){if(Lf)return fl;Lf=1;var e=rx(),t=ox(),n=Dh(),r=hx(),o=bx(),i=_x(),a=yx(),l=Sx(),s=xx(),u=Cx(),f=Fx(),p=cu(),g=Ax(),c=Mx(),h=Dx(),m=ru(),v=Gh(),b=Vx(),_=kr(),y=jx(),S=lu(),w=su(),C=1,k=2,L=4,M="[object Arguments]",P="[object Array]",$="[object Boolean]",I="[object Date]",B="[object Error]",O="[object Function]",A="[object GeneratorFunction]",N="[object Map]",Y="[object Number]",K="[object Object]",ne="[object RegExp]",z="[object Set]",ae="[object String]",ue="[object Symbol]",X="[object WeakMap]",H="[object ArrayBuffer]",we="[object DataView]",_e="[object Float32Array]",W="[object Float64Array]",q="[object Int8Array]",ce="[object Int16Array]",ve="[object Int32Array]",rn="[object Uint8Array]",Wn="[object Uint8ClampedArray]",Ie="[object Uint16Array]",on="[object Uint32Array]",be={};be[M]=be[P]=be[H]=be[we]=be[$]=be[I]=be[_e]=be[W]=be[q]=be[ce]=be[ve]=be[N]=be[Y]=be[K]=be[ne]=be[z]=be[ae]=be[ue]=be[rn]=be[Wn]=be[Ie]=be[on]=!0,be[B]=be[O]=be[X]=!1;function x(F,J,ie,Se,Oe,Me){var Re,ot=J&C,Bt=J&k,Kn=J&L;if(ie&&(Re=Oe?ie(F,Se,Oe,Me):ie(F)),Re!==void 0)return Re;if(!_(F))return F;var Sn=m(F);if(Sn){if(Re=g(F),!ot)return a(F,Re)}else{var Rt=p(F),Mr=Rt==O||Rt==A;if(v(F))return i(F,ot);if(Rt==K||Rt==M||Mr&&!Oe){if(Re=Bt||Mr?{}:h(F),!ot)return Bt?s(F,o(Re,F)):l(F,r(Re,F))}else{if(!be[Rt])return Oe?F:{};Re=c(F,Rt,ot)}}Me||(Me=new e);var Lr=Me.get(F);if(Lr)return Lr;Me.set(F,Re),y(F)?F.forEach(function(ft){Re.add(x(ft,J,ie,ft,F,Me))}):b(F)&&F.forEach(function(ft,vt){Re.set(vt,x(ft,J,ie,vt,F,Me))});var qo=Kn?Bt?f:u:Bt?w:S,Dr=Sn?void 0:qo(F);return t(Dr||F,function(ft,vt){Dr&&(vt=ft,ft=F[vt]),n(Re,vt,x(ft,J,ie,vt,F,Me))}),Re}return fl=x,fl}var pl,Df;function qx(){if(Df)return pl;Df=1;var e=Hx(),t=1,n=4;function r(o){return e(o,t|n)}return pl=r,pl}var zx=qx();const Ux=Cb(zx);function Wx({}){const[e,t]=T({rack_config:{}}),[n,r]=T({rack_config:{}}),[o,i]=T(null),[a,l]=T(null),[s,u]=T(1),[f,p]=T({}),[g,c]=T(!1),[h,m]=T(!1),[v,b]=T(null),{storageConfig:_,reloadStorageConfig:y,saveStorageConfig:S}=eu();U(()=>{if(_==null)return;const N=Ux(_);r(N),t(_),u(1+Math.max(0,...Object.keys(_.rack_config).map(Number)))},[_]);const w=async()=>{await y()},C=async()=>{try{await S(e)}catch(N){b({type:"error",text:`Error saving configuration: ${N instanceof Error?N.message:String(N)}`})}},k=()=>JSON.stringify(e)!==JSON.stringify(n),L=()=>{i(s),l({name:"",bay_numbering_order:Ph.LeftToRight,shelf_numbering_order:$h.TopDown,position_numbering_order:Rh.LeftToRight,container_numbering_order:Ah.BottomUp,num_bays:0,num_shelves:0,num_positions:0,num_containers:0}),p({})},M=N=>{i(N),l({...e.rack_config[N]}),p({})},P=()=>{i(null),l(null),p({})},$=N=>Object.values(e.rack_config).some(Y=>Y.name===N),I=()=>{const N={};return a.name.trim()?o===s&&$(a.name)&&(N.name="Rack name already exists"):N.name="Rack name is required",a?(a.num_bays<0&&(N.num_bays="Must be 0 or greater"),a.num_shelves<0&&(N.num_shelves="Must be 0 or greater"),a.num_positions<0&&(N.num_positions_per_shelf="Must be 0 or greater"),a.num_containers<0&&(N.num_containers_per_position="Must be 0 or greater"),p(N),Object.keys(N).length===0):!1},B=()=>{if(!I()||!a)return;const N={...e};o===s?(N.rack_config[o]=a,u(s+1)):o&&(delete N.rack_config[o],N.rack_config[o]=a),t(N),P()},O=N=>{const Y=e.rack_config[N].name;if(!confirm(`Are you sure you want to delete rack "${Y}"?`))return;const K={...e};delete K.rack_config[N],t(K)},A=(N,Y)=>{a&&l({...a,[N]:Y})};return d("div",{className:"spools-container",children:d("div",{className:"spools-controls",children:[!o&&d(ee,{children:[d("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4",children:[d("h2",{className:"text-2xl font-bold",children:"Storage Configuration"}),d("div",{className:"flex gap-2",children:[d("button",{onClick:w,disabled:g,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-base-200 disabled:opacity-50",children:[d(Gm,{size:18,className:g?"animate-spin":""}),"Reload/Undo Changes"]}),d("button",{onClick:C,disabled:h||!k(),className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-content rounded-lg font-medium hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed",children:[d(Bm,{size:18}),h?"Saving...":"Save Changes"]}),d("button",{onClick:L,className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-content rounded-lg font-medium hover:bg-primary/90",children:[d(Dm,{size:20}),"Add Rack"]})]})]}),v&&d("div",{className:`mb-4 p-3 rounded-lg ${v.type==="success"?"bg-success/10 text-success border border-success/20":"bg-error/10 text-error border border-error/20"}`,children:v.text}),k()&&!v&&d("div",{className:"mb-4 p-3 rounded-lg bg-warning/10 text-warning border border-warning/20",children:"You have unsaved changes"}),d("div",{className:"space-y-4",children:[Object.entries(e.rack_config).map(([N,Y])=>d("div",{className:"bg-base-100 rounded-lg border border-gray-300 dark:border-gray-600 overflow-hidden",children:d("div",{className:"p-4 flex justify-between items-center border-b border-gray-300 dark:border-gray-600",children:[d("div",{children:[d("h3",{className:"font-semibold text-lg",children:`${e.rack_config[N].name} (ID: ${N})`}),d("p",{className:"text-sm text-base-content/70",children:[Y.num_bays?`${Y.num_bays} bays`:"No bays"," |",Y.num_shelves?` ${Y.num_shelves} shelves${!!Y.num_shelves&&"/bay"}`:" No shelves"," ","|",Y.num_positions?` ${Y.num_positions} positions${!!Y.num_shelves&&"/shelf"||!!Y.num_bays&&"/bay"}`:" No positions"," ","|",Y.num_containers?` ${Y.num_containers} containers${!!Y.num_positions&&"/position"||!!Y.num_shelves&&"/shelf"||!!Y.num_bays&&"/bay"} `:" No containers "]})]}),d("div",{className:"flex gap-2",children:[d("button",{onClick:()=>M(Number(N)),className:"p-2 hover:bg-base-200 rounded-lg transition-colors",title:"Edit rack",children:d(Lm,{size:18})}),d("button",{onClick:()=>O(Number(N)),className:"p-2 hover:bg-error/10 text-error rounded-lg transition-colors",title:"Delete rack",children:d(sp,{size:18})})]})]})},N)),Object.keys(e).length===0&&d("div",{className:"text-center py-12 text-base-content/60",children:[d("p",{className:"text-lg font-medium mb-2",children:"No racks configured"}),d("p",{className:"text-sm",children:'Click "Add Rack" to create your first storage rack'})]})]})]}),o&&a&&d("div",{className:"space-y-4 p-2 pb-4",children:[d("div",{className:"flex items-center justify-between mb-4",children:d("h2",{className:"text-xl font-bold",children:o===s?`Add New Rack ID: ${o}`:`Edit Rack ID: ${o}`})}),d("div",{className:"form-field",children:[d("label",{className:"form-label",children:"Rack Name"}),d("input",{type:"text",className:`form-input ${f.name?"form-input-error":""}`,value:a.name,onInput:N=>l({...a,name:N.target.value}),placeholder:"e.g., Main Storage A"}),f.name&&d("p",{className:"form-error",children:f.name})]}),d("div",{className:"grid grid-cols-2 gap-4",children:[d("div",{className:"form-field",children:[d("label",{className:"form-label",children:"Number of Bays"}),d("input",{type:"number",className:`form-input ${f.num_bays?"form-input-error":""}`,value:a.num_bays||"",placeholder:"None",onInput:N=>A("num_bays",parseInt(N.target.value)||0),min:"0"}),f.num_shelves&&d("p",{className:"form-error",children:f.num_shelves})]}),d("div",{className:`form-field ${a.num_bays===0&&"invisible"}`,children:[d("label",{className:"form-label",children:"Bays Numbering Order"}),d("select",{className:"form-input",value:a.bay_numbering_order,onChange:N=>A("bay_numbering_order",N.target.value),children:[d("option",{value:"LeftToRight",children:"Left to Right"}),d("option",{value:"RightToLeft",children:"Right to Left"})]})]}),d("div",{className:"form-field",children:[d("label",{className:"form-label",children:a.num_bays?"Shelves per Bay":"Number of Shelves"}),d("input",{type:"number",className:`form-input ${f.num_shelves?"form-input-error":""}`,value:a.num_shelves||"",placeholder:"None",onInput:N=>A("num_shelves",parseInt(N.target.value)||0),min:"0"}),f.num_shelves&&d("p",{className:"form-error",children:f.num_shelves})]}),d("div",{className:`form-field ${a.num_shelves===0&&"invisible"}`,children:[d("label",{className:"form-label",children:"Shelves Numbering Order"}),d("select",{className:"form-input",value:a.shelf_numbering_order,onChange:N=>A("shelf_numbering_order",N.target.value),children:[d("option",{value:"TopDown",children:"Top Down"}),d("option",{value:"BottomUp",children:"Bottom Up"})]})]}),d("div",{className:"form-field",children:[d("label",{className:"form-label",children:a.num_shelves?"Positions per Shelf":a.num_bays?"Positions per Bay":"Number of Positions"}),d("input",{type:"number",className:`form-input ${f.num_positions_per_shelf?"form-input-error":""}`,value:a.num_positions||"",placeholder:"None",onInput:N=>A("num_positions",parseInt(N.target.value)||0),min:"0"}),f.num_positions_per_shelf&&d("p",{className:"form-error",children:f.num_positions_per_shelf})]}),d("div",{className:`form-field ${a.num_positions===0&&"invisible"}`,children:[d("label",{className:"form-label",children:"Positions Numbering Order"}),d("select",{className:"form-input",value:a.position_numbering_order,onChange:N=>A("position_numbering_order",N.target.value),children:[d("option",{value:"LeftToRight",children:"Left to Right"}),d("option",{value:"RightToLeft",children:"Right to Left"})]})]}),d("div",{className:"form-field",children:[d("label",{className:"form-label",children:a.num_positions?"Containers per Position":a.num_shelves?"Contaiers per Shelf":a.num_bays?"Containers per Bay":"Number of Containers"}),d("input",{type:"number",className:`form-input ${f.num_containers_per_position?"form-input-error":""}`,value:a.num_containers||"",placeholder:"None",onInput:N=>A("num_containers",parseInt(N.target.value)||0),min:"0"}),f.num_containers_per_position&&d("p",{className:"form-error",children:f.num_containers_per_position})]}),d("div",{className:`form-field ${a.num_containers===0&&"invisible"}`,children:[d("label",{className:"form-label",children:"Containers Numbering Order"}),d("select",{className:"form-input",value:a.container_numbering_order,onChange:N=>A("container_numbering_order",N.target.value),children:[d("option",{value:"Unordered",children:"Unordered"}),d("option",{value:"TopDown",children:"Top Down"}),d("option",{value:"BottomUp",children:"Bottom Up"}),d("option",{value:"FrontToBack",children:"Front to Back"}),d("option",{value:"BackToFront",children:"Back to Front"}),d("option",{value:"LeftToRight",children:"Left to Right"}),d("option",{value:"RightToLeft",children:"Right to Left"})]})]})]}),d("div",{className:"dialog-actions border-t border-gray-200 dark:border-gray-700 pt-4",children:[d("button",{onClick:P,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-base-200 transition-colors",children:"Cancel"}),d("button",{onClick:B,className:"px-4 py-2 bg-primary text-primary-content rounded-lg font-medium hover:bg-primary/90 transition-colors",children:o===s?"Add Rack":"Apply"})]})]})]})})}const Kx=e=>d("div",{className:"navbar bg-primary text-primary-content min-h-10",children:[d("div",{className:"flex-1",children:d("a",{href:"/inventory",className:"btn btn-ghost text-xl",children:"SpoolEase Inventory"})}),d("div",{className:"flex-none",children:d("a",{href:"/inventory/storage",className:"btn btn-square btn-ghost mr-5",children:d(lp,{})})})]});function Yx(){return d("div",{class:"w-screen h-screen flex flex-col bg-base-200",children:[d(Kx,{}),d(ip,{children:[d(PS,{path:"/inventory"}),d(Wx,{path:"/inventory/storage"})]})]})}let gl=null,Yh=!1;function Xh(){return gl||(gl=Qh().then(()=>{console.log("Wasm initialized"),window.securityKeyOnDerive="",window.encryptionKey=Vf("","example_salt"),Yh=!0})),gl}async function Xx(e,t={},n={}){const{retries:r=3,retryOnNetworkError:o=!0,retryOn400:i=!1,retryOn500:a=!0}=n;let l=null;for(let s=0;s<r;s++)try{const u=await fetch(e,t);if(l=u,!u.ok){const f=u.status;if(f>=500&&a||f>=400&&f<500&&i)continue}return u}catch(u){if(!o)throw u}return l}window.encryptedFetch=async(...e)=>{if(window.securityKey==="")throw new Error("No Security Key Set");Yh||await Xh();const[t,n={}]=e;n.body&&typeof n.body=="string"&&(n.body=Zh(Gf(),n.body));const r=await Xx(t,n,{retries:!n.method||n.method==="GET"?3:1,retryOnNetworkError:!0,retryOn500:!0}),o=await r.text();let i;if(o==="")i="";else{let a=Gf();i=o.split("|").filter(f=>f.length>0).map(f=>em(a,f)).join(""),pS(!0);const l=new URL(window.location.href),s=new URLSearchParams(l.hash.slice(1));s.delete("sk");const u=s.toString();history.replaceState(null,"",u?`#${u}`:window.location.pathname+window.location.search)}return new Response(i,{status:r.status,statusText:r.statusText,headers:r.headers})};function Gf(){const e=window.securityKey;return e!=window.securityKeyOnDerive&&(console.log("generating security key"),window.encryptionKey=Vf(e,"example_salt"),window.securityKeyOnDerive=e),window.encryptionKey}function Jx({onSecurityKeyChanged:e}){const{securityKey:t,setSecurityKey:n}=oe(nn),r=D(null),o=D(null);return d(Nr,{open:!0,onClose:()=>{},initialFocus:o,children:[d(Ar,{className:"dialog-backdrop"}),d("div",{className:"dialog-container",children:d("div",{className:"security-key-section",children:[d("h3",{children:"Security Key:"}),d(yt,{ref:o,placeholder:"Enter Security Key",className:"security-key-input",type:"text",value:t,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellcheck:!1,onChange:a=>{n(a.currentTarget.value),clearTimeout(r.current),r.current=setTimeout(()=>{e()},500)}})]})})]})}function Qx({children:e}){const{securityOk:t}=oe(nn);U(()=>{(async()=>await n())()},[t]);const n=async()=>{try{const r=ze("/api/test-key");return await(await encryptedFetch(r,{method:"POST",headers:{"Content-Type":"application/text"},body:JSON.stringify({test:"Hello"})})).text(),console.log("Authentication Succeeded"),"Ok"}catch{return console.log("Authentication Failed"),"Err"}};return t?d(ee,{children:e}):d(Jx,{onSecurityKeyChanged:n})}(async()=>(console.log("Initialize Wasm"),Xh(),Mn(d(dS,{children:d(Qx,{children:d(tS,{children:d(Yx,{})})})}),document.getElementById("app"))))();
