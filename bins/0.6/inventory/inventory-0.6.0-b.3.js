import Ym,{encrypt as Xm,decrypt as Jm,derive_key as Gf}from"/pkg/device_wasm.js";var _r,de,Vf,sn,hu,Bf,jf,Hf,ts,pa,ga,qf,gr={},zf=[],Qm=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,yr=Array.isArray;function Et(e,t){for(var n in t)e[n]=t[n];return e}function ns(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ke(e,t,n){var r,o,i,l={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:l[i]=t[i];if(arguments.length>2&&(l.children=arguments.length>3?_r.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)l[i]==null&&(l[i]=e.defaultProps[i]);return sr(e,l,r,o,null)}function sr(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++Vf,__i:-1,__u:0};return o==null&&de.vnode!=null&&de.vnode(i),i}function rs(){return{current:null}}function ae(e){return e.children}function at(e,t){this.props=e,this.context=t}function Mn(e,t){if(t==null)return e.__?Mn(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Mn(e):null}function Uf(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Uf(e)}}function ma(e){(!e.__d&&(e.__d=!0)&&sn.push(e)&&!Zr.__r++||hu!=de.debounceRendering)&&((hu=de.debounceRendering)||Bf)(Zr)}function Zr(){for(var e,t,n,r,o,i,l,a=1;sn.length;)sn.length>a&&sn.sort(jf),e=sn.shift(),a=sn.length,e.__d&&(n=void 0,o=(r=(t=e).__v).__e,i=[],l=[],t.__P&&((n=Et({},r)).__v=r.__v+1,de.vnode&&de.vnode(n),os(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[o]:null,i,o??Mn(r),!!(32&r.__u),l),n.__v=r.__v,n.__.__k[n.__i]=n,Yf(i,n,l),n.__e!=o&&Uf(n)));Zr.__r=0}function Wf(e,t,n,r,o,i,l,a,s,u,f){var p,g,d,m,h,v,b=r&&r.__k||zf,_=t.length;for(s=Zm(n,t,b,s,_),p=0;p<_;p++)(d=n.__k[p])!=null&&(g=d.__i==-1?gr:b[d.__i]||gr,d.__i=p,v=os(e,d,g,o,i,l,a,s,u,f),m=d.__e,d.ref&&g.ref!=d.ref&&(g.ref&&is(g.ref,null,d),f.push(d.ref,d.__c||m,d)),h==null&&m!=null&&(h=m),4&d.__u||g.__k===d.__k?s=Kf(d,s,e):typeof d.type=="function"&&v!==void 0?s=v:m&&(s=m.nextSibling),d.__u&=-7);return n.__e=h,s}function Zm(e,t,n,r,o){var i,l,a,s,u,f=n.length,p=f,g=0;for(e.__k=new Array(o),i=0;i<o;i++)(l=t[i])!=null&&typeof l!="boolean"&&typeof l!="function"?(s=i+g,(l=e.__k[i]=typeof l=="string"||typeof l=="number"||typeof l=="bigint"||l.constructor==String?sr(null,l,null,null,null):yr(l)?sr(ae,{children:l},null,null,null):l.constructor==null&&l.__b>0?sr(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):l).__=e,l.__b=e.__b+1,a=null,(u=l.__i=eh(l,n,s,p))!=-1&&(p--,(a=n[u])&&(a.__u|=2)),a==null||a.__v==null?(u==-1&&(o>f?g--:o<f&&g++),typeof l.type!="function"&&(l.__u|=4)):u!=s&&(u==s-1?g--:u==s+1?g++:(u>s?g--:g++,l.__u|=4))):e.__k[i]=null;if(p)for(i=0;i<f;i++)(a=n[i])!=null&&(2&a.__u)==0&&(a.__e==r&&(r=Mn(a)),Jf(a,a));return r}function Kf(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=Kf(r[o],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=Mn(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function st(e,t){return t=t||[],e==null||typeof e=="boolean"||(yr(e)?e.some(function(n){st(n,t)}):t.push(e)),t}function eh(e,t,n,r){var o,i,l=e.key,a=e.type,s=t[n];if(s===null&&e.key==null||s&&l==s.key&&a==s.type&&(2&s.__u)==0)return n;if(r>(s!=null&&(2&s.__u)==0?1:0))for(o=n-1,i=n+1;o>=0||i<t.length;){if(o>=0){if((s=t[o])&&(2&s.__u)==0&&l==s.key&&a==s.type)return o;o--}if(i<t.length){if((s=t[i])&&(2&s.__u)==0&&l==s.key&&a==s.type)return i;i++}}return-1}function vu(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||Qm.test(t)?n:n+"px"}function Gr(e,t,n,r,o){var i,l;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||vu(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||vu(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")i=t!=(t=t.replace(Hf,"$1")),l=t.toLowerCase(),t=l in e||t=="onFocusOut"||t=="onFocusIn"?l.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=ts,e.addEventListener(t,i?ga:pa,i)):e.removeEventListener(t,i?ga:pa,i);else{if(o=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function bu(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=ts++;else if(t.t<n.u)return;return n(de.event?de.event(t):t)}}}function os(e,t,n,r,o,i,l,a,s,u){var f,p,g,d,m,h,v,b,_,y,x,S,C,N,M,k,E,$=t.type;if(t.constructor!=null)return null;128&n.__u&&(s=!!(32&n.__u),i=[a=t.__e=n.__e]),(f=de.__b)&&f(t);e:if(typeof $=="function")try{if(b=t.props,_="prototype"in $&&$.prototype.render,y=(f=$.contextType)&&r[f.__c],x=f?y?y.props.value:f.__:r,n.__c?v=(p=t.__c=n.__c).__=p.__E:(_?t.__c=p=new $(b,x):(t.__c=p=new at(b,x),p.constructor=$,p.render=nh),y&&y.sub(p),p.props=b,p.state||(p.state={}),p.context=x,p.__n=r,g=p.__d=!0,p.__h=[],p._sb=[]),_&&p.__s==null&&(p.__s=p.state),_&&$.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=Et({},p.__s)),Et(p.__s,$.getDerivedStateFromProps(b,p.__s))),d=p.props,m=p.state,p.__v=t,g)_&&$.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),_&&p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(_&&$.getDerivedStateFromProps==null&&b!==d&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(b,x),!p.__e&&p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(b,p.__s,x)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(p.props=b,p.state=p.__s,p.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(I){I&&(I.__=t)}),S=0;S<p._sb.length;S++)p.__h.push(p._sb[S]);p._sb=[],p.__h.length&&l.push(p);break e}p.componentWillUpdate!=null&&p.componentWillUpdate(b,p.__s,x),_&&p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(d,m,h)})}if(p.context=x,p.props=b,p.__P=e,p.__e=!1,C=de.__r,N=0,_){for(p.state=p.__s,p.__d=!1,C&&C(t),f=p.render(p.props,p.state,p.context),M=0;M<p._sb.length;M++)p.__h.push(p._sb[M]);p._sb=[]}else do p.__d=!1,C&&C(t),f=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++N<25);p.state=p.__s,p.getChildContext!=null&&(r=Et(Et({},r),p.getChildContext())),_&&!g&&p.getSnapshotBeforeUpdate!=null&&(h=p.getSnapshotBeforeUpdate(d,m)),k=f,f!=null&&f.type===ae&&f.key==null&&(k=Xf(f.props.children)),a=Wf(e,yr(k)?k:[k],t,n,r,o,i,l,a,s,u),p.base=t.__e,t.__u&=-161,p.__h.length&&l.push(p),v&&(p.__E=p.__=null)}catch(I){if(t.__v=null,s||i!=null)if(I.then){for(t.__u|=s?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;i[i.indexOf(a)]=null,t.__e=a}else for(E=i.length;E--;)ns(i[E]);else t.__e=n.__e,t.__k=n.__k;de.__e(I,t,n)}else i==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):a=t.__e=th(n.__e,t,n,r,o,i,l,s,u);return(f=de.diffed)&&f(t),128&t.__u?void 0:a}function Yf(e,t,n){for(var r=0;r<n.length;r++)is(n[r],n[++r],n[++r]);de.__c&&de.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){de.__e(i,o.__v)}})}function Xf(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:yr(e)?e.map(Xf):Et({},e)}function th(e,t,n,r,o,i,l,a,s){var u,f,p,g,d,m,h,v=n.props,b=t.props,_=t.type;if(_=="svg"?o="http://www.w3.org/2000/svg":_=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),i!=null){for(u=0;u<i.length;u++)if((d=i[u])&&"setAttribute"in d==!!_&&(_?d.localName==_:d.nodeType==3)){e=d,i[u]=null;break}}if(e==null){if(_==null)return document.createTextNode(b);e=document.createElementNS(o,_,b.is&&b),a&&(de.__m&&de.__m(t,i),a=!1),i=null}if(_==null)v===b||a&&e.data==b||(e.data=b);else{if(i=i&&_r.call(e.childNodes),v=n.props||gr,!a&&i!=null)for(v={},u=0;u<e.attributes.length;u++)v[(d=e.attributes[u]).name]=d.value;for(u in v)if(d=v[u],u!="children"){if(u=="dangerouslySetInnerHTML")p=d;else if(!(u in b)){if(u=="value"&&"defaultValue"in b||u=="checked"&&"defaultChecked"in b)continue;Gr(e,u,null,d,o)}}for(u in b)d=b[u],u=="children"?g=d:u=="dangerouslySetInnerHTML"?f=d:u=="value"?m=d:u=="checked"?h=d:a&&typeof d!="function"||v[u]===d||Gr(e,u,d,v[u],o);if(f)a||p&&(f.__html==p.__html||f.__html==e.innerHTML)||(e.innerHTML=f.__html),t.__k=[];else if(p&&(e.innerHTML=""),Wf(t.type=="template"?e.content:e,yr(g)?g:[g],t,n,r,_=="foreignObject"?"http://www.w3.org/1999/xhtml":o,i,l,i?i[0]:n.__k&&Mn(n,0),a,s),i!=null)for(u=i.length;u--;)ns(i[u]);a||(u="value",_=="progress"&&m==null?e.removeAttribute("value"):m!=null&&(m!==e[u]||_=="progress"&&!m||_=="option"&&m!=v[u])&&Gr(e,u,m,v[u],o),u="checked",h!=null&&h!=e[u]&&Gr(e,u,h,v[u],o))}return e}function is(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(o){de.__e(o,n)}}function Jf(e,t,n){var r,o;if(de.unmount&&de.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||is(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){de.__e(i,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&Jf(r[o],t,n||typeof e.type!="function");n||ns(e.__e),e.__c=e.__=e.__e=void 0}function nh(e,t,n){return this.constructor(e,n)}function Ln(e,t,n){var r,o,i,l;t==document&&(t=document.documentElement),de.__&&de.__(e,t),o=(r=typeof n=="function")?null:n&&n.__k||t.__k,i=[],l=[],os(t,e=(!r&&n||t).__k=ke(ae,null,[e]),o||gr,gr,t.namespaceURI,!r&&n?[n]:o?null:t.firstChild?_r.call(t.childNodes):null,i,!r&&n?n:o?o.__e:t.firstChild,r,l),Yf(i,e,l)}function Qf(e,t){Ln(e,t,Qf)}function Zf(e,t,n){var r,o,i,l,a=Et({},e.props);for(i in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)i=="key"?r=t[i]:i=="ref"?o=t[i]:a[i]=t[i]==null&&l!=null?l[i]:t[i];return arguments.length>2&&(a.children=arguments.length>3?_r.call(arguments,2):n),sr(e.type,a,r||e.key,o||e.ref,null)}function be(e){function t(n){var r,o;return this.getChildContext||(r=new Set,(o={})[t.__c]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(i){this.props.value!=i.value&&r.forEach(function(l){l.__e=!0,ma(l)})},this.sub=function(i){r.add(i);var l=i.componentWillUnmount;i.componentWillUnmount=function(){r&&r.delete(i),l&&l.call(i)}}),n.children}return t.__c="__cC"+qf++,t.__=e,t.Provider=t.__l=(t.Consumer=function(n,r){return n.children(r)}).contextType=t,t}_r=zf.slice,de={__e:function(e,t,n,r){for(var o,i,l;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),l=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),l=o.__d),l)return o.__E=o}catch(a){e=a}throw e}},Vf=0,at.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Et({},this.state),typeof e=="function"&&(e=e(Et({},n),this.props)),e&&Et(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),ma(this))},at.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ma(this))},at.prototype.render=ae,sn=[],Bf=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,jf=function(e,t){return e.__v.__b-t.__v.__b},Zr.__r=0,Hf=/(PointerCapture)$|Capture$/i,ts=0,pa=bu(!1),ga=bu(!0),qf=0;var rh=0;function c(e,t,n,r,o,i){t||(t={});var l,a,s=t;if("ref"in s)for(a in s={},t)a=="ref"?l=t[a]:s[a]=t[a];var u={type:e,props:s,key:n,ref:l,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--rh,__i:-1,__u:0,__source:o,__self:i};if(typeof e=="function"&&(l=e.defaultProps))for(a in l)s[a]===void 0&&(s[a]=l[a]);return de.vnode&&de.vnode(u),u}var Dt,Ee,Ho,_u,Dn=0,ep=[],Ne=de,yu=Ne.__b,wu=Ne.__r,Su=Ne.diffed,xu=Ne.__c,Cu=Ne.unmount,Fu=Ne.__;function bn(e,t){Ne.__h&&Ne.__h(Ee,e,Dn||t),Dn=0;var n=Ee.__H||(Ee.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function A(e){return Dn=1,Vt(tp,e)}function Vt(e,t,n){var r=bn(Dt++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):tp(void 0,t),function(a){var s=r.__N?r.__N[0]:r.__[0],u=r.t(s,a);s!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=Ee,!Ee.__f)){var o=function(a,s,u){if(!r.__c.__H)return!0;var f=r.__c.__H.__.filter(function(g){return!!g.__c});if(f.every(function(g){return!g.__N}))return!i||i.call(this,a,s,u);var p=r.__c.props!==a;return f.forEach(function(g){if(g.__N){var d=g.__[0];g.__=g.__N,g.__N=void 0,d!==g.__[0]&&(p=!0)}}),i&&i.call(this,a,s,u)||p};Ee.__f=!0;var i=Ee.shouldComponentUpdate,l=Ee.componentWillUpdate;Ee.componentWillUpdate=function(a,s,u){if(this.__e){var f=i;i=void 0,o(a,s,u),i=f}l&&l.call(this,a,s,u)},Ee.shouldComponentUpdate=o}return r.__N||r.__}function Q(e,t){var n=bn(Dt++,3);!Ne.__s&&ss(n.__H,t)&&(n.__=e,n.u=t,Ee.__H.__h.push(n))}function vt(e,t){var n=bn(Dt++,4);!Ne.__s&&ss(n.__H,t)&&(n.__=e,n.u=t,Ee.__h.push(n))}function D(e){return Dn=5,G(function(){return{current:e}},[])}function ls(e,t,n){Dn=6,vt(function(){if(typeof e=="function"){var r=e(t());return function(){e(null),r&&typeof r=="function"&&r()}}if(e)return e.current=t(),function(){return e.current=null}},n==null?n:n.concat(e))}function G(e,t){var n=bn(Dt++,7);return ss(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function oe(e,t){return Dn=8,G(function(){return e},t)}function se(e){var t=Ee.context[e.__c],n=bn(Dt++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(Ee)),t.props.value):e.__}function as(e,t){Ne.useDebugValue&&Ne.useDebugValue(t?t(e):e)}function oh(e){var t=bn(Dt++,10),n=A();return t.__=e,Ee.componentDidCatch||(Ee.componentDidCatch=function(r,o){t.__&&t.__(r,o),n[1](r)}),[n[0],function(){n[1](void 0)}]}function $e(){var e=bn(Dt++,11);if(!e.__){for(var t=Ee.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function ih(){for(var e;e=ep.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Kr),e.__H.__h.forEach(ha),e.__H.__h=[]}catch(t){e.__H.__h=[],Ne.__e(t,e.__v)}}Ne.__b=function(e){Ee=null,yu&&yu(e)},Ne.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Fu&&Fu(e,t)},Ne.__r=function(e){wu&&wu(e),Dt=0;var t=(Ee=e.__c).__H;t&&(Ho===Ee?(t.__h=[],Ee.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(Kr),t.__h.forEach(ha),t.__h=[],Dt=0)),Ho=Ee},Ne.diffed=function(e){Su&&Su(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(ep.push(t)!==1&&_u===Ne.requestAnimationFrame||((_u=Ne.requestAnimationFrame)||lh)(ih)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),Ho=Ee=null},Ne.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Kr),n.__h=n.__h.filter(function(r){return!r.__||ha(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],Ne.__e(r,n.__v)}}),xu&&xu(e,t)},Ne.unmount=function(e){Cu&&Cu(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Kr(r)}catch(o){t=o}}),n.__H=void 0,t&&Ne.__e(t,n.__v))};var Eu=typeof requestAnimationFrame=="function";function lh(e){var t,n=function(){clearTimeout(r),Eu&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,35);Eu&&(t=requestAnimationFrame(n))}function Kr(e){var t=Ee,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),Ee=t}function ha(e){var t=Ee;e.__c=e.__(),Ee=t}function ss(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function tp(e,t){return typeof t=="function"?t(e):t}var ah={};function Vr(e,t){for(var n in t)e[n]=t[n];return e}function sh(e,t,n){var r,o=/(?:\?([^#]*))?(#.*)?$/,i=e.match(o),l={};if(i&&i[1])for(var a=i[1].split("&"),s=0;s<a.length;s++){var u=a[s].split("=");l[decodeURIComponent(u[0])]=decodeURIComponent(u.slice(1).join("="))}e=va(e.replace(o,"")),t=va(t||"");for(var f=Math.max(e.length,t.length),p=0;p<f;p++)if(t[p]&&t[p].charAt(0)===":"){var g=t[p].replace(/(^:|[+*?]+$)/g,""),d=(t[p].match(/[+*?]+$/)||ah)[0]||"",m=~d.indexOf("+"),h=~d.indexOf("*"),v=e[p]||"";if(!v&&!h&&(d.indexOf("?")<0||m)){r=!1;break}if(l[g]=decodeURIComponent(v),m||h){l[g]=e.slice(p).map(decodeURIComponent).join("/");break}}else if(t[p]!==e[p]){r=!1;break}return(n.default===!0||r!==!1)&&l}function uh(e,t){return e.rank<t.rank?1:e.rank>t.rank?-1:e.index-t.index}function ch(e,t){return e.index=t,e.rank=function(n){return n.props.default?0:va(n.props.path).map(dh).join("")}(e),e.props}function va(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function dh(e){return e.charAt(0)==":"?1+"*+?".indexOf(e.charAt(e.length-1))||4:5}var fh={},pn=[],Pu=[],et=null,np={url:us()},ph=be(np);function us(){var e;return""+((e=et&&et.location?et.location:et&&et.getCurrentLocation?et.getCurrentLocation():typeof location<"u"?location:fh).pathname||"")+(e.search||"")}function gh(e,t){return t===void 0&&(t=!1),typeof e!="string"&&e.url&&(t=e.replace,e=e.url),function(n){for(var r=pn.length;r--;)if(pn[r].canRoute(n))return!0;return!1}(e)&&function(n,r){r===void 0&&(r="push"),et&&et[r]?et[r](n):typeof history<"u"&&history[r+"State"]&&history[r+"State"](null,null,n)}(e,t?"replace":"push"),rp(e)}function rp(e){for(var t=!1,n=0;n<pn.length;n++)pn[n].routeTo(e)&&(t=!0);return t}function mh(e){if(e&&e.getAttribute){var t=e.getAttribute("href"),n=e.getAttribute("target");if(t&&t.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return gh(t)}}function hh(e){return e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),e.preventDefault(),!1}function vh(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||e.button)){var t=e.target;do if(t.localName==="a"&&t.getAttribute("href")){if(t.hasAttribute("data-native")||t.hasAttribute("native"))return;if(mh(t))return hh(e)}while(t=t.parentNode)}}var $u=!1;function op(e){e.history&&(et=e.history),this.state={url:e.url||us()}}Vr(op.prototype=new at,{shouldComponentUpdate:function(e){return e.static!==!0||e.url!==this.props.url||e.onChange!==this.props.onChange},canRoute:function(e){var t=st(this.props.children);return this.g(t,e)!==void 0},routeTo:function(e){this.setState({url:e});var t=this.canRoute(e);return this.p||this.forceUpdate(),t},componentWillMount:function(){this.p=!0},componentDidMount:function(){var e=this;$u||($u=!0,et||addEventListener("popstate",function(){rp(us())}),addEventListener("click",vh)),pn.push(this),et&&(this.u=et.listen(function(t){var n=t.location||t;e.routeTo(""+(n.pathname||"")+(n.search||""))})),this.p=!1},componentWillUnmount:function(){typeof this.u=="function"&&this.u(),pn.splice(pn.indexOf(this),1)},componentWillUpdate:function(){this.p=!0},componentDidUpdate:function(){this.p=!1},g:function(e,t){e=e.filter(ch).sort(uh);for(var n=0;n<e.length;n++){var r=e[n],o=sh(t,r.props.path,r.props);if(o)return[r,o]}},render:function(e,t){var n,r,o=e.onChange,i=t.url,l=this.c,a=this.g(st(e.children),i);if(a&&(r=Zf(a[0],Vr(Vr({url:i,matches:n=a[1]},n),{key:void 0,ref:void 0}))),i!==(l&&l.url)){Vr(np,l=this.c={url:i,previous:l&&l.url,current:r,path:r?r.props.path:null,matches:n}),l.router=this,l.active=r?[r]:[];for(var s=Pu.length;s--;)Pu[s]({});typeof o=="function"&&o(l)}return ke(ph.Provider,{value:l},r)}});/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bh=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Tu=e=>{const t=bh(e);return t.charAt(0).toUpperCase()+t.slice(1)},_h=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yh={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,children:o,iconNode:i,class:l="",...a})=>ke("svg",{...yh,width:String(t),height:t,stroke:e,"stroke-width":r?Number(n)*24/Number(t):n,class:["lucide",l].join(" "),...a},[...i.map(([s,u])=>ke(s,u)),...st(o)]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(e,t)=>{const n=({class:r="",children:o,...i})=>ke(wh,{...i,iconNode:t,class:_h(`lucide-${Ru(Tu(e))}`,`lucide-${Ru(e)}`,r)},o);return n.displayName=Tu(e),n};/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=Ae("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=Ae("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=Ae("case-lower",[["circle",{cx:"7",cy:"12",r:"3",key:"12clwm"}],["path",{d:"M10 9v6",key:"17i7lo"}],["circle",{cx:"17",cy:"12",r:"3",key:"gl7c2s"}],["path",{d:"M14 7v8",key:"dl84cr"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=Ae("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=Ae("container",[["path",{d:"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z",key:"1t2lqe"}],["path",{d:"M10 21.9V14L2.1 9.1",key:"o7czzq"}],["path",{d:"m10 14 11.9-6.9",key:"zm5e20"}],["path",{d:"M14 19.8v-8.1",key:"159ecu"}],["path",{d:"M18 17.5V9.4",key:"11uown"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=Ae("corner-down-left",[["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}],["path",{d:"m9 10-5 5 5 5",key:"1kshq7"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=Ae("delete",[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=Ae("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=Ae("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=Ae("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=Ae("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=Ae("link-2-off",[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=Ae("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=Ae("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=Ae("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=Ae("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=Ae("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=Ae("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=Ae("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=Ae("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=Ae("square-library",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 7v10",key:"d5nglc"}],["path",{d:"M11 7v10",key:"pptsnr"}],["path",{d:"m15 7 2 10",key:"1m7qm5"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=Ae("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=Ae("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-preact v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=Ae("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ap(e,t){for(var n in t)e[n]=t[n];return e}function _a(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function fo(e,t){var n=t(),r=A({t:{__:n,u:t}}),o=r[0].t,i=r[1];return vt(function(){o.__=n,o.u=t,qo(o)&&i({t:o})},[e,n,t]),Q(function(){return qo(o)&&i({t:o}),e(function(){qo(o)&&i({t:o})})},[e]),n}function qo(e){var t,n,r=e.u,o=e.__;try{var i=r();return!((t=o)===(n=i)&&(t!==0||1/t==1/n)||t!=t&&n!=n)}catch{return!0}}function cs(e){e()}function ds(e){return e}function fs(){return[!1,cs]}var ps=vt;function to(e,t){this.props=e,this.context=t}function sp(e,t){function n(o){var i=this.props.ref,l=i==o.ref;return!l&&i&&(i.call?i(null):i.current=null),t?!t(this.props,o)||!l:_a(this.props,o)}function r(o){return this.shouldComponentUpdate=n,ke(e,o)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(to.prototype=new at).isPureReactComponent=!0,to.prototype.shouldComponentUpdate=function(e,t){return _a(this.props,e)||_a(this.state,t)};var Au=de.__b;de.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Au&&Au(e)};var Vh=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function po(e){function t(n){var r=ap({},n);return delete r.ref,e(r,n.ref||null)}return t.$$typeof=Vh,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var Nu=function(e,t){return e==null?null:st(st(e).map(t))},up={map:Nu,forEach:Nu,count:function(e){return e?st(e).length:0},only:function(e){var t=st(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:st},Bh=de.__e;de.__e=function(e,t,n,r){if(e.then){for(var o,i=t;i=i.__;)if((o=i.__c)&&o.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),o.__c(e,t)}Bh(e,t,n,r)};var Ou=de.unmount;function cp(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=ap({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return cp(r,t,n)})),e}function dp(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return dp(r,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function ur(){this.__u=0,this.o=null,this.__b=null}function fp(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function pp(e){var t,n,r;function o(i){if(t||(t=e()).then(function(l){n=l.default||l},function(l){r=l}),r)throw r;if(!n)throw t;return ke(n,i)}return o.displayName="Lazy",o.__f=!0,o}function Tn(){this.i=null,this.l=null}de.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),Ou&&Ou(e)},(ur.prototype=new at).__c=function(e,t){var n=t.__c,r=this;r.o==null&&(r.o=[]),r.o.push(n);var o=fp(r.__v),i=!1,l=function(){i||(i=!0,n.__R=null,o?o(a):a())};n.__R=l;var a=function(){if(!--r.__u){if(r.state.__a){var s=r.state.__a;r.__v.__k[0]=dp(s,s.__c.__P,s.__c.__O)}var u;for(r.setState({__a:r.__b=null});u=r.o.pop();)u.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(l,l)},ur.prototype.componentWillUnmount=function(){this.o=[]},ur.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=cp(this.__b,n,r.__O=r.__P)}this.__b=null}var o=t.__a&&ke(ae,null,e.fallback);return o&&(o.__u&=-33),[ke(ae,null,t.__a?null:e.children),o]};var Iu=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function jh(e){return this.getChildContext=function(){return e.context},e.children}function Hh(e){var t=this,n=e.h;if(t.componentWillUnmount=function(){Ln(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),!t.v){for(var r=t.__v;r!==null&&!r.__m&&r.__!==null;)r=r.__;t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],__k:{__m:r.__m},contains:function(){return!0},insertBefore:function(o,i){this.childNodes.push(o),t.h.insertBefore(o,i)},removeChild:function(o){this.childNodes.splice(this.childNodes.indexOf(o)>>>1,1),t.h.removeChild(o)}}}Ln(ke(jh,{context:t.context},e.__v),t.v)}function go(e,t){var n=ke(Hh,{__v:e,h:t});return n.containerInfo=t,n}(Tn.prototype=new at).__a=function(e){var t=this,n=fp(t.__v),r=t.l.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),Iu(t,e,r)):o()};n?n(i):i()}},Tn.prototype.render=function(e){this.i=null,this.l=new Map;var t=st(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},Tn.prototype.componentDidUpdate=Tn.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){Iu(e,n,t)})};var gp=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,qh=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,zh=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Uh=/[A-Z0-9]/g,Wh=typeof document<"u",Kh=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function mp(e,t,n){return t.__k==null&&(t.textContent=""),Ln(e,t),typeof n=="function"&&n(),e?e.__c:null}function hp(e,t,n){return Qf(e,t),typeof n=="function"&&n(),e?e.__c:null}at.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(at.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var ku=de.event;function Yh(){}function Xh(){return this.cancelBubble}function Jh(){return this.defaultPrevented}de.event=function(e){return ku&&(e=ku(e)),e.persist=Yh,e.isPropagationStopped=Xh,e.isDefaultPrevented=Jh,e.nativeEvent=e};var gs,Qh={enumerable:!1,configurable:!0,get:function(){return this.class}},Mu=de.vnode;de.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,r=t.type,o={},i=r.indexOf("-")===-1;for(var l in n){var a=n[l];if(!(l==="value"&&"defaultValue"in n&&a==null||Wh&&l==="children"&&r==="noscript"||l==="class"||l==="className")){var s=l.toLowerCase();l==="defaultValue"&&"value"in n&&n.value==null?l="value":l==="download"&&a===!0?a="":s==="translate"&&a==="no"?a=!1:s[0]==="o"&&s[1]==="n"?s==="ondoubleclick"?l="ondblclick":s!=="onchange"||r!=="input"&&r!=="textarea"||Kh(n.type)?s==="onfocus"?l="onfocusin":s==="onblur"?l="onfocusout":zh.test(l)&&(l=s):s=l="oninput":i&&qh.test(l)?l=l.replace(Uh,"-$&").toLowerCase():a===null&&(a=void 0),s==="oninput"&&o[l=s]&&(l="oninputCapture"),o[l]=a}}r=="select"&&o.multiple&&Array.isArray(o.value)&&(o.value=st(n.children).forEach(function(u){u.props.selected=o.value.indexOf(u.props.value)!=-1})),r=="select"&&o.defaultValue!=null&&(o.value=st(n.children).forEach(function(u){u.props.selected=o.multiple?o.defaultValue.indexOf(u.props.value)!=-1:o.defaultValue==u.props.value})),n.class&&!n.className?(o.class=n.class,Object.defineProperty(o,"className",Qh)):(n.className&&!n.class||n.class&&n.className)&&(o.class=o.className=n.className),t.props=o}(e),e.$$typeof=gp,Mu&&Mu(e)};var Lu=de.__r;de.__r=function(e){Lu&&Lu(e),gs=e.__c};var Du=de.diffed;de.diffed=function(e){Du&&Du(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value),gs=null};var vp={ReactCurrentDispatcher:{current:{readContext:function(e){return gs.__n[e.__c].props.value},useCallback:oe,useContext:se,useDebugValue:as,useDeferredValue:ds,useEffect:Q,useId:$e,useImperativeHandle:ls,useInsertionEffect:ps,useLayoutEffect:vt,useMemo:G,useReducer:Vt,useRef:D,useState:A,useSyncExternalStore:fo,useTransition:fs}}},Zh="18.3.1";function bp(e){return ke.bind(null,e)}function jn(e){return!!e&&e.$$typeof===gp}function _p(e){return jn(e)&&e.type===ae}function yp(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function ms(e){return jn(e)?Zf.apply(null,arguments):e}function wp(e){return!!e.__k&&(Ln(null,e),!0)}function Sp(e){return e&&(e.base||e.nodeType===1&&e)||null}var xp=function(e,t){return e(t)},De=function(e,t){return e(t)},Cp=ae,Fp=jn,F={useState:A,useId:$e,useReducer:Vt,useEffect:Q,useLayoutEffect:vt,useInsertionEffect:ps,useTransition:fs,useDeferredValue:ds,useSyncExternalStore:fo,startTransition:cs,useRef:D,useImperativeHandle:ls,useMemo:G,useCallback:oe,useContext:se,useDebugValue:as,version:"18.3.1",Children:up,render:mp,hydrate:hp,unmountComponentAtNode:wp,createPortal:go,createElement:ke,createContext:be,createFactory:bp,cloneElement:ms,createRef:rs,Fragment:ae,isValidElement:jn,isElement:Fp,isFragment:_p,isMemo:yp,findDOMNode:Sp,Component:at,PureComponent:to,memo:sp,forwardRef:po,flushSync:De,unstable_batchedUpdates:xp,StrictMode:Cp,Suspense:ur,SuspenseList:Tn,lazy:pp,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:vp};const no=Object.freeze(Object.defineProperty({__proto__:null,Children:up,Component:at,Fragment:ae,PureComponent:to,StrictMode:Cp,Suspense:ur,SuspenseList:Tn,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:vp,cloneElement:ms,createContext:be,createElement:ke,createFactory:bp,createPortal:go,createRef:rs,default:F,findDOMNode:Sp,flushSync:De,forwardRef:po,hydrate:hp,isElement:Fp,isFragment:_p,isMemo:yp,isValidElement:jn,lazy:pp,memo:sp,render:mp,startTransition:cs,unmountComponentAtNode:wp,unstable_batchedUpdates:xp,useCallback:oe,useContext:se,useDebugValue:as,useDeferredValue:ds,useEffect:Q,useErrorBoundary:oh,useId:$e,useImperativeHandle:ls,useInsertionEffect:ps,useLayoutEffect:vt,useMemo:G,useReducer:Vt,useRef:D,useState:A,useSyncExternalStore:fo,useTransition:fs,version:Zh},Symbol.toStringTag,{value:"Module"}));/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function ev(){return{accessor:(e,t)=>typeof e=="function"?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e}}function qt(e,t){return typeof e=="function"?e(t):e}function ot(e,t){return n=>{t.setState(r=>({...r,[e]:qt(n,r[e])}))}}function mo(e){return e instanceof Function}function tv(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function nv(e,t){const n=[],r=o=>{o.forEach(i=>{n.push(i);const l=t(i);l!=null&&l.length&&r(l)})};return r(e),n}function ne(e,t,n){let r=[],o;return i=>{let l;n.key&&n.debug&&(l=Date.now());const a=e(i);if(!(a.length!==r.length||a.some((f,p)=>r[p]!==f)))return o;r=a;let u;if(n.key&&n.debug&&(u=Date.now()),o=t(...a),n==null||n.onChange==null||n.onChange(o),n.key&&n.debug&&n!=null&&n.debug()){const f=Math.round((Date.now()-l)*100)/100,p=Math.round((Date.now()-u)*100)/100,g=p/16,d=(m,h)=>{for(m=String(m);m.length<h;)m=" "+m;return m};console.info(`%câ± ${d(p,5)} /${d(f,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,n==null?void 0:n.key)}return o}}function re(e,t,n,r){return{debug:()=>{var o;return(o=e==null?void 0:e.debugAll)!=null?o:e[t]},key:!1,onChange:r}}function rv(e,t,n,r){const o=()=>{var l;return(l=i.getValue())!=null?l:e.options.renderFallbackValue},i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:o,getContext:ne(()=>[e,n,t,i],(l,a,s,u)=>({table:l,column:a,row:s,cell:u,getValue:u.getValue,renderValue:u.renderValue}),re(e.options,"debugCells"))};return e._features.forEach(l=>{l.createCell==null||l.createCell(i,n,t,e)},{}),i}function ov(e,t,n,r){var o,i;const a={...e._getDefaultColumnDef(),...t},s=a.accessorKey;let u=(o=(i=a.id)!=null?i:s?typeof String.prototype.replaceAll=="function"?s.replaceAll(".","_"):s.replace(/\./g,"_"):void 0)!=null?o:typeof a.header=="string"?a.header:void 0,f;if(a.accessorFn?f=a.accessorFn:s&&(s.includes(".")?f=g=>{let d=g;for(const h of s.split(".")){var m;d=(m=d)==null?void 0:m[h]}return d}:f=g=>g[a.accessorKey]),!u)throw new Error;let p={id:`${String(u)}`,accessorFn:f,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:ne(()=>[!0],()=>{var g;return[p,...(g=p.columns)==null?void 0:g.flatMap(d=>d.getFlatColumns())]},re(e.options,"debugColumns")),getLeafColumns:ne(()=>[e._getOrderColumnsFn()],g=>{var d;if((d=p.columns)!=null&&d.length){let m=p.columns.flatMap(h=>h.getLeafColumns());return g(m)}return[p]},re(e.options,"debugColumns"))};for(const g of e._features)g.createColumn==null||g.createColumn(p,e);return p}const je="debugHeaders";function Gu(e,t,n){var r;let i={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const l=[],a=s=>{s.subHeaders&&s.subHeaders.length&&s.subHeaders.map(a),l.push(s)};return a(i),l},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(l=>{l.createHeader==null||l.createHeader(i,e)}),i}const iv={createTable:e=>{e.getHeaderGroups=ne(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>{var i,l;const a=(i=r==null?void 0:r.map(p=>n.find(g=>g.id===p)).filter(Boolean))!=null?i:[],s=(l=o==null?void 0:o.map(p=>n.find(g=>g.id===p)).filter(Boolean))!=null?l:[],u=n.filter(p=>!(r!=null&&r.includes(p.id))&&!(o!=null&&o.includes(p.id)));return Br(t,[...a,...u,...s],e)},re(e.options,je)),e.getCenterHeaderGroups=ne(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,o)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(o!=null&&o.includes(i.id))),Br(t,n,e,"center")),re(e.options,je)),e.getLeftHeaderGroups=ne(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var o;const i=(o=r==null?void 0:r.map(l=>n.find(a=>a.id===l)).filter(Boolean))!=null?o:[];return Br(t,i,e,"left")},re(e.options,je)),e.getRightHeaderGroups=ne(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var o;const i=(o=r==null?void 0:r.map(l=>n.find(a=>a.id===l)).filter(Boolean))!=null?o:[];return Br(t,i,e,"right")},re(e.options,je)),e.getFooterGroups=ne(()=>[e.getHeaderGroups()],t=>[...t].reverse(),re(e.options,je)),e.getLeftFooterGroups=ne(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),re(e.options,je)),e.getCenterFooterGroups=ne(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),re(e.options,je)),e.getRightFooterGroups=ne(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),re(e.options,je)),e.getFlatHeaders=ne(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),re(e.options,je)),e.getLeftFlatHeaders=ne(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),re(e.options,je)),e.getCenterFlatHeaders=ne(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),re(e.options,je)),e.getRightFlatHeaders=ne(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),re(e.options,je)),e.getCenterLeafHeaders=ne(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),re(e.options,je)),e.getLeftLeafHeaders=ne(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),re(e.options,je)),e.getRightLeafHeaders=ne(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),re(e.options,je)),e.getLeafHeaders=ne(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var o,i,l,a,s,u;return[...(o=(i=t[0])==null?void 0:i.headers)!=null?o:[],...(l=(a=n[0])==null?void 0:a.headers)!=null?l:[],...(s=(u=r[0])==null?void 0:u.headers)!=null?s:[]].map(f=>f.getLeafHeaders()).flat()},re(e.options,je))}};function Br(e,t,n,r){var o,i;let l=0;const a=function(g,d){d===void 0&&(d=1),l=Math.max(l,d),g.filter(m=>m.getIsVisible()).forEach(m=>{var h;(h=m.columns)!=null&&h.length&&a(m.columns,d+1)},0)};a(e);let s=[];const u=(g,d)=>{const m={depth:d,id:[r,`${d}`].filter(Boolean).join("_"),headers:[]},h=[];g.forEach(v=>{const b=[...h].reverse()[0],_=v.column.depth===m.depth;let y,x=!1;if(_&&v.column.parent?y=v.column.parent:(y=v.column,x=!0),b&&(b==null?void 0:b.column)===y)b.subHeaders.push(v);else{const S=Gu(n,y,{id:[r,d,y.id,v==null?void 0:v.id].filter(Boolean).join("_"),isPlaceholder:x,placeholderId:x?`${h.filter(C=>C.column===y).length}`:void 0,depth:d,index:h.length});S.subHeaders.push(v),h.push(S)}m.headers.push(v),v.headerGroup=m}),s.push(m),d>0&&u(h,d-1)},f=t.map((g,d)=>Gu(n,g,{depth:l,index:d}));u(f,l-1),s.reverse();const p=g=>g.filter(m=>m.column.getIsVisible()).map(m=>{let h=0,v=0,b=[0];m.subHeaders&&m.subHeaders.length?(b=[],p(m.subHeaders).forEach(y=>{let{colSpan:x,rowSpan:S}=y;h+=x,b.push(S)})):h=1;const _=Math.min(...b);return v=v+_,m.colSpan=h,m.rowSpan=v,{colSpan:h,rowSpan:v}});return p((o=(i=s[0])==null?void 0:i.headers)!=null?o:[]),s}const hs=(e,t,n,r,o,i,l)=>{let a={id:t,index:r,original:n,depth:o,parentId:l,_valuesCache:{},_uniqueValuesCache:{},getValue:s=>{if(a._valuesCache.hasOwnProperty(s))return a._valuesCache[s];const u=e.getColumn(s);if(u!=null&&u.accessorFn)return a._valuesCache[s]=u.accessorFn(a.original,r),a._valuesCache[s]},getUniqueValues:s=>{if(a._uniqueValuesCache.hasOwnProperty(s))return a._uniqueValuesCache[s];const u=e.getColumn(s);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(a._uniqueValuesCache[s]=u.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[s]):(a._uniqueValuesCache[s]=[a.getValue(s)],a._uniqueValuesCache[s])},renderValue:s=>{var u;return(u=a.getValue(s))!=null?u:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>nv(a.subRows,s=>s.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let s=[],u=a;for(;;){const f=u.getParentRow();if(!f)break;s.push(f),u=f}return s.reverse()},getAllCells:ne(()=>[e.getAllLeafColumns()],s=>s.map(u=>rv(e,a,u,u.id)),re(e.options,"debugRows")),_getAllCellsByColumnId:ne(()=>[a.getAllCells()],s=>s.reduce((u,f)=>(u[f.column.id]=f,u),{}),re(e.options,"debugRows"))};for(let s=0;s<e._features.length;s++){const u=e._features[s];u==null||u.createRow==null||u.createRow(a,e)}return a},lv={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Ep=(e,t,n)=>{var r,o;const i=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((o=e.getValue(t))==null||(o=o.toString())==null||(o=o.toLowerCase())==null)&&o.includes(i))};Ep.autoRemove=e=>mt(e);const Pp=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};Pp.autoRemove=e=>mt(e);const $p=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};$p.autoRemove=e=>mt(e);const Rp=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};Rp.autoRemove=e=>mt(e);const Tp=(e,t,n)=>!n.some(r=>{var o;return!((o=e.getValue(t))!=null&&o.includes(r))});Tp.autoRemove=e=>mt(e)||!(e!=null&&e.length);const Ap=(e,t,n)=>n.some(r=>{var o;return(o=e.getValue(t))==null?void 0:o.includes(r)});Ap.autoRemove=e=>mt(e)||!(e!=null&&e.length);const Np=(e,t,n)=>e.getValue(t)===n;Np.autoRemove=e=>mt(e);const Op=(e,t,n)=>e.getValue(t)==n;Op.autoRemove=e=>mt(e);const vs=(e,t,n)=>{let[r,o]=n;const i=e.getValue(t);return i>=r&&i<=o};vs.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,o=typeof n!="number"?parseFloat(n):n,i=t===null||Number.isNaN(r)?-1/0:r,l=n===null||Number.isNaN(o)?1/0:o;if(i>l){const a=i;i=l,l=a}return[i,l]};vs.autoRemove=e=>mt(e)||mt(e[0])&&mt(e[1]);const Nt={includesString:Ep,includesStringSensitive:Pp,equalsString:$p,arrIncludes:Rp,arrIncludesAll:Tp,arrIncludesSome:Ap,equals:Np,weakEquals:Op,inNumberRange:vs};function mt(e){return e==null||e===""}const av={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:ot("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?Nt.includesString:typeof r=="number"?Nt.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Nt.equals:Array.isArray(r)?Nt.arrIncludes:Nt.weakEquals},e.getFilterFn=()=>{var n,r;return mo(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:Nt[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,o;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const o=e.getFilterFn(),i=r==null?void 0:r.find(f=>f.id===e.id),l=qt(n,i?i.value:void 0);if(Vu(o,l,e)){var a;return(a=r==null?void 0:r.filter(f=>f.id!==e.id))!=null?a:[]}const s={id:e.id,value:l};if(i){var u;return(u=r==null?void 0:r.map(f=>f.id===e.id?s:f))!=null?u:[]}return r!=null&&r.length?[...r,s]:[s]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=o=>{var i;return(i=qt(t,o))==null?void 0:i.filter(l=>{const a=n.find(s=>s.id===l.id);if(a){const s=a.getFilterFn();if(Vu(s,l.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Vu(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const sv=(e,t,n)=>n.reduce((r,o)=>{const i=o.getValue(e);return r+(typeof i=="number"?i:0)},0),uv=(e,t,n)=>{let r;return n.forEach(o=>{const i=o.getValue(e);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},cv=(e,t,n)=>{let r;return n.forEach(o=>{const i=o.getValue(e);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},dv=(e,t,n)=>{let r,o;return n.forEach(i=>{const l=i.getValue(e);l!=null&&(r===void 0?l>=l&&(r=o=l):(r>l&&(r=l),o<l&&(o=l)))}),[r,o]},fv=(e,t)=>{let n=0,r=0;if(t.forEach(o=>{let i=o.getValue(e);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},pv=(e,t)=>{if(!t.length)return;const n=t.map(i=>i.getValue(e));if(!tv(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),o=n.sort((i,l)=>i-l);return n.length%2!==0?o[r]:(o[r-1]+o[r])/2},gv=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),mv=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,hv=(e,t)=>t.length,zo={sum:sv,min:uv,max:cv,extent:dv,mean:fv,median:pv,unique:gv,uniqueCount:mv,count:hv},vv={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:ot("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((r=t.options.enableGrouping)!=null?r:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return zo.sum;if(Object.prototype.toString.call(r)==="[object Date]")return zo.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return mo(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:zo[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var o;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((o=n.subRows)!=null&&o.length)}}};function bv(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(i=>!t.includes(i.id));return n==="remove"?r:[...t.map(i=>e.find(l=>l.id===i)).filter(Boolean),...r]}const _v={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:ot("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=ne(n=>[cr(t,n)],n=>n.findIndex(r=>r.id===e.id),re(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var r;return((r=cr(t,n)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=n=>{var r;const o=cr(t,n);return((r=o[o.length-1])==null?void 0:r.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=ne(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>o=>{let i=[];if(!(t!=null&&t.length))i=o;else{const l=[...t],a=[...o];for(;a.length&&l.length;){const s=l.shift(),u=a.findIndex(f=>f.id===s);u>-1&&i.push(a.splice(u,1)[0])}i=[...i,...a]}return bv(i,n,r)},re(e.options,"debugTable"))}},Uo=()=>({left:[],right:[]}),yv={getInitialState:e=>({columnPinning:Uo(),...e}),getDefaultOptions:e=>({onColumnPinningChange:ot("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(o=>o.id).filter(Boolean);t.setColumnPinning(o=>{var i,l;if(n==="right"){var a,s;return{left:((a=o==null?void 0:o.left)!=null?a:[]).filter(p=>!(r!=null&&r.includes(p))),right:[...((s=o==null?void 0:o.right)!=null?s:[]).filter(p=>!(r!=null&&r.includes(p))),...r]}}if(n==="left"){var u,f;return{left:[...((u=o==null?void 0:o.left)!=null?u:[]).filter(p=>!(r!=null&&r.includes(p))),...r],right:((f=o==null?void 0:o.right)!=null?f:[]).filter(p=>!(r!=null&&r.includes(p)))}}return{left:((i=o==null?void 0:o.left)!=null?i:[]).filter(p=>!(r!=null&&r.includes(p))),right:((l=o==null?void 0:o.right)!=null?l:[]).filter(p=>!(r!=null&&r.includes(p)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var o,i,l;return((o=r.columnDef.enablePinning)!=null?o:!0)&&((i=(l=t.options.enableColumnPinning)!=null?l:t.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:o}=t.getState().columnPinning,i=n.some(a=>r==null?void 0:r.includes(a)),l=n.some(a=>o==null?void 0:o.includes(a));return i?"left":l?"right":!1},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();return o?(n=(r=t.getState().columnPinning)==null||(r=r[o])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=ne(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,o)=>{const i=[...r??[],...o??[]];return n.filter(l=>!i.includes(l.column.id))},re(t.options,"debugRows")),e.getLeftVisibleCells=ne(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(l=>l.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),re(t.options,"debugRows")),e.getRightVisibleCells=ne(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(l=>l.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),re(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?Uo():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:Uo())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var o,i;return!!((o=r.left)!=null&&o.length||(i=r.right)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=ne(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),re(e.options,"debugColumns")),e.getRightLeafColumns=ne(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(o=>o.id===r)).filter(Boolean),re(e.options,"debugColumns")),e.getCenterLeafColumns=ne(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const o=[...n??[],...r??[]];return t.filter(i=>!o.includes(i.id))},re(e.options,"debugColumns"))}};function wv(e){return e||(typeof document<"u"?document:null)}const jr={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Wo=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Sv={getDefaultColumnDef:()=>jr,getInitialState:e=>({columnSizing:{},columnSizingInfo:Wo(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:ot("columnSizing",e),onColumnSizingInfoChange:ot("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,o;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:jr.minSize,(r=i??e.columnDef.size)!=null?r:jr.size),(o=e.columnDef.maxSize)!=null?o:jr.maxSize)},e.getStart=ne(n=>[n,cr(t,n),t.getState().columnSizing],(n,r)=>r.slice(0,e.getIndex(n)).reduce((o,i)=>o+i.getSize(),0),re(t.options,"debugColumns")),e.getAfter=ne(n=>[n,cr(t,n),t.getState().columnSizing],(n,r)=>r.slice(e.getIndex(n)+1).reduce((o,i)=>o+i.getSize(),0),re(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...o}=n;return o})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=o=>{if(o.subHeaders.length)o.subHeaders.forEach(r);else{var i;n+=(i=o.column.getSize())!=null?i:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),o=r==null?void 0:r.getCanResize();return i=>{if(!r||!o||(i.persist==null||i.persist(),Ko(i)&&i.touches&&i.touches.length>1))return;const l=e.getSize(),a=e?e.getLeafHeaders().map(b=>[b.column.id,b.column.getSize()]):[[r.id,r.getSize()]],s=Ko(i)?Math.round(i.touches[0].clientX):i.clientX,u={},f=(b,_)=>{typeof _=="number"&&(t.setColumnSizingInfo(y=>{var x,S;const C=t.options.columnResizeDirection==="rtl"?-1:1,N=(_-((x=y==null?void 0:y.startOffset)!=null?x:0))*C,M=Math.max(N/((S=y==null?void 0:y.startSize)!=null?S:0),-.999999);return y.columnSizingStart.forEach(k=>{let[E,$]=k;u[E]=Math.round(Math.max($+$*M,0)*100)/100}),{...y,deltaOffset:N,deltaPercentage:M}}),(t.options.columnResizeMode==="onChange"||b==="end")&&t.setColumnSizing(y=>({...y,...u})))},p=b=>f("move",b),g=b=>{f("end",b),t.setColumnSizingInfo(_=>({..._,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},d=wv(n),m={moveHandler:b=>p(b.clientX),upHandler:b=>{d==null||d.removeEventListener("mousemove",m.moveHandler),d==null||d.removeEventListener("mouseup",m.upHandler),g(b.clientX)}},h={moveHandler:b=>(b.cancelable&&(b.preventDefault(),b.stopPropagation()),p(b.touches[0].clientX),!1),upHandler:b=>{var _;d==null||d.removeEventListener("touchmove",h.moveHandler),d==null||d.removeEventListener("touchend",h.upHandler),b.cancelable&&(b.preventDefault(),b.stopPropagation()),g((_=b.touches[0])==null?void 0:_.clientX)}},v=xv()?{passive:!1}:!1;Ko(i)?(d==null||d.addEventListener("touchmove",h.moveHandler,v),d==null||d.addEventListener("touchend",h.upHandler,v)):(d==null||d.addEventListener("mousemove",m.moveHandler,v),d==null||d.addEventListener("mouseup",m.upHandler,v)),t.setColumnSizingInfo(b=>({...b,startOffset:s,startSize:l,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?Wo():(n=e.initialState.columnSizingInfo)!=null?n:Wo())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,o)=>r+o.getSize(),0))!=null?t:0}}};let Hr=null;function xv(){if(typeof Hr=="boolean")return Hr;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return Hr=e,Hr}function Ko(e){return e.type==="touchstart"}const Cv={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:ot("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;const o=e.columns;return(n=o.length?o.some(i=>i.getIsVisible()):(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=ne(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),re(t.options,"debugRows")),e.getVisibleCells=ne(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,o)=>[...n,...r,...o],re(t.options,"debugRows"))},createTable:e=>{const t=(n,r)=>ne(()=>[r(),r().filter(o=>o.getIsVisible()).map(o=>o.id).join("_")],o=>o.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),re(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((o,i)=>({...o,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function cr(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Fv={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Ev={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:ot("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,r,o,i;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Nt.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return mo(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:Nt[r]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},Pv={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:ot("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var o,i;e.setExpanded(r?{}:(o=(i=e.initialState)==null?void 0:i.expanded)!=null?o:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(o=>!o.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const l=i.split(".");r=Math.max(r,l.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var o;const i=r===!0?!0:!!(r!=null&&r[e.id]);let l={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{l[a]=!0}):l=r,n=(o=n)!=null?o:!i,!i&&n)return{...l,[e.id]:!0};if(i&&!n){const{[e.id]:a,...s}=l;return s}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,o;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((o=e.subRows)!=null&&o.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},ya=0,wa=10,Yo=()=>({pageIndex:ya,pageSize:wa}),$v={getInitialState:e=>({...e,pagination:{...Yo(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:ot("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,o;if(!t){e._queue(()=>{t=!0});return}if((r=(o=e.options.autoResetAll)!=null?o:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const o=i=>qt(r,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(o)},e.resetPagination=r=>{var o;e.setPagination(r?Yo():(o=e.initialState.pagination)!=null?o:Yo())},e.setPageIndex=r=>{e.setPagination(o=>{let i=qt(r,o.pageIndex);const l=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,l)),{...o,pageIndex:i}})},e.resetPageIndex=r=>{var o,i;e.setPageIndex(r?ya:(o=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?o:ya)},e.resetPageSize=r=>{var o,i;e.setPageSize(r?wa:(o=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?o:wa)},e.setPageSize=r=>{e.setPagination(o=>{const i=Math.max(1,qt(r,o.pageSize)),l=o.pageSize*o.pageIndex,a=Math.floor(l/i);return{...o,pageIndex:a,pageSize:i}})},e.setPageCount=r=>e.setPagination(o=>{var i;let l=qt(r,(i=e.options.pageCount)!=null?i:-1);return typeof l=="number"&&(l=Math.max(-1,l)),{...o,pageCount:l}}),e.getPageOptions=ne(()=>[e.getPageCount()],r=>{let o=[];return r&&r>0&&(o=[...new Array(r)].fill(null).map((i,l)=>l)),o},re(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,o=e.getPageCount();return o===-1?!0:o===0?!1:r<o-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var r;return(r=e.options.rowCount)!=null?r:e.getPrePaginationRowModel().rows.length}}},Xo=()=>({top:[],bottom:[]}),Rv={getInitialState:e=>({rowPinning:Xo(),...e}),getDefaultOptions:e=>({onRowPinningChange:ot("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,r,o)=>{const i=r?e.getLeafRows().map(s=>{let{id:u}=s;return u}):[],l=o?e.getParentRows().map(s=>{let{id:u}=s;return u}):[],a=new Set([...l,e.id,...i]);t.setRowPinning(s=>{var u,f;if(n==="bottom"){var p,g;return{top:((p=s==null?void 0:s.top)!=null?p:[]).filter(h=>!(a!=null&&a.has(h))),bottom:[...((g=s==null?void 0:s.bottom)!=null?g:[]).filter(h=>!(a!=null&&a.has(h))),...Array.from(a)]}}if(n==="top"){var d,m;return{top:[...((d=s==null?void 0:s.top)!=null?d:[]).filter(h=>!(a!=null&&a.has(h))),...Array.from(a)],bottom:((m=s==null?void 0:s.bottom)!=null?m:[]).filter(h=>!(a!=null&&a.has(h)))}}return{top:((u=s==null?void 0:s.top)!=null?u:[]).filter(h=>!(a!=null&&a.has(h))),bottom:((f=s==null?void 0:s.bottom)!=null?f:[]).filter(h=>!(a!=null&&a.has(h)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:o}=t.options;return typeof r=="function"?r(e):(n=r??o)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:o}=t.getState().rowPinning,i=n.some(a=>r==null?void 0:r.includes(a)),l=n.some(a=>o==null?void 0:o.includes(a));return i?"top":l?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const o=e.getIsPinned();if(!o)return-1;const i=(n=o==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(l=>{let{id:a}=l;return a});return(r=i==null?void 0:i.indexOf(e.id))!=null?r:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?Xo():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:Xo())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var o,i;return!!((o=r.top)!=null&&o.length||(i=r.bottom)!=null&&i.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=(t,n,r)=>{var o;return((o=e.options.keepPinnedRows)==null||o?(n??[]).map(l=>{const a=e.getRow(l,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(l=>t.find(a=>a.id===l))).filter(Boolean).map(l=>({...l,position:r}))},e.getTopRows=ne(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),re(e.options,"debugRows")),e.getBottomRows=ne(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),re(e.options,"debugRows")),e.getCenterRows=ne(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const o=new Set([...n??[],...r??[]]);return t.filter(i=>!o.has(i.id))},re(e.options,"debugRows"))}},Tv={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:ot("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},o=e.getPreGroupedRowModel().flatRows;return t?o.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):o.forEach(i=>{delete r[i.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),o={...n};return e.getRowModel().rows.forEach(i=>{Sa(o,i.id,r,!0,e)}),o}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=ne(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Jo(e,n):{rows:[],flatRows:[],rowsById:{}},re(e.options,"debugTable")),e.getFilteredSelectedRowModel=ne(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Jo(e,n):{rows:[],flatRows:[],rowsById:{}},re(e.options,"debugTable")),e.getGroupedSelectedRowModel=ne(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Jo(e,n):{rows:[],flatRows:[],rowsById:{}},re(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(o=>o.getCanSelect()&&!n[o.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(o=>o.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(o=>!n[o.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const o=e.getIsSelected();t.setRowSelection(i=>{var l;if(n=typeof n<"u"?n:!o,e.getCanSelect()&&o===n)return i;const a={...i};return Sa(a,e.id,n,(l=r==null?void 0:r.selectChildren)!=null?l:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return bs(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return xa(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return xa(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var o;n&&e.toggleSelected((o=r.target)==null?void 0:o.checked)}}}},Sa=(e,t,n,r,o)=>{var i;const l=o.getRow(t,!0);n?(l.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),l.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(i=l.subRows)!=null&&i.length&&l.getCanSelectSubRows()&&l.subRows.forEach(a=>Sa(e,a.id,n,r,o))};function Jo(e,t){const n=e.getState().rowSelection,r=[],o={},i=function(l,a){return l.map(s=>{var u;const f=bs(s,n);if(f&&(r.push(s),o[s.id]=s),(u=s.subRows)!=null&&u.length&&(s={...s,subRows:i(s.subRows)}),f)return s}).filter(Boolean)};return{rows:i(t.rows),flatRows:r,rowsById:o}}function bs(e,t){var n;return(n=t[e.id])!=null?n:!1}function xa(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let o=!0,i=!1;return e.subRows.forEach(l=>{if(!(i&&!o)&&(l.getCanSelect()&&(bs(l,t)?i=!0:o=!1),l.subRows&&l.subRows.length)){const a=xa(l,t);a==="all"?i=!0:(a==="some"&&(i=!0),o=!1)}}),o?"all":i?"some":!1}const Ca=/([0-9]+)/gm,Av=(e,t,n)=>Ip(Kt(e.getValue(n)).toLowerCase(),Kt(t.getValue(n)).toLowerCase()),Nv=(e,t,n)=>Ip(Kt(e.getValue(n)),Kt(t.getValue(n))),Ov=(e,t,n)=>_s(Kt(e.getValue(n)).toLowerCase(),Kt(t.getValue(n)).toLowerCase()),Iv=(e,t,n)=>_s(Kt(e.getValue(n)),Kt(t.getValue(n))),kv=(e,t,n)=>{const r=e.getValue(n),o=t.getValue(n);return r>o?1:r<o?-1:0},Mv=(e,t,n)=>_s(e.getValue(n),t.getValue(n));function _s(e,t){return e===t?0:e>t?1:-1}function Kt(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Ip(e,t){const n=e.split(Ca).filter(Boolean),r=t.split(Ca).filter(Boolean);for(;n.length&&r.length;){const o=n.shift(),i=r.shift(),l=parseInt(o,10),a=parseInt(i,10),s=[l,a].sort();if(isNaN(s[0])){if(o>i)return 1;if(i>o)return-1;continue}if(isNaN(s[1]))return isNaN(l)?-1:1;if(l>a)return 1;if(a>l)return-1}return n.length-r.length}const Qn={alphanumeric:Av,alphanumericCaseSensitive:Nv,text:Ov,textCaseSensitive:Iv,datetime:kv,basic:Mv},Lv={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:ot("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const o of n){const i=o==null?void 0:o.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return Qn.datetime;if(typeof i=="string"&&(r=!0,i.split(Ca).length>1))return Qn.alphanumeric}return r?Qn.text:Qn.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return mo(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Qn[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const o=e.getNextSortingOrder(),i=typeof n<"u"&&n!==null;t.setSorting(l=>{const a=l==null?void 0:l.find(d=>d.id===e.id),s=l==null?void 0:l.findIndex(d=>d.id===e.id);let u=[],f,p=i?n:o==="desc";if(l!=null&&l.length&&e.getCanMultiSort()&&r?a?f="toggle":f="add":l!=null&&l.length&&s!==l.length-1?f="replace":a?f="toggle":f="replace",f==="toggle"&&(i||o||(f="remove")),f==="add"){var g;u=[...l,{id:e.id,desc:p}],u.splice(0,u.length-((g=t.options.maxMultiSortColCount)!=null?g:Number.MAX_SAFE_INTEGER))}else f==="toggle"?u=l.map(d=>d.id===e.id?{...d,desc:p}:d):f==="remove"?u=l.filter(d=>d.id!==e.id):u=[{id:e.id,desc:p}];return u})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,o;const i=e.getFirstSortDir(),l=e.getIsSorted();return l?l!==i&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(o=t.options.enableMultiRemove)!=null)||o)?!1:l==="desc"?"asc":"desc":i},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(o=>o.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(o=>o.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},Dv=[iv,Cv,_v,yv,lv,av,Fv,Ev,Lv,vv,Pv,$v,Rv,Tv,Sv];function Gv(e){var t,n;const r=[...Dv,...(t=e._features)!=null?t:[]];let o={_features:r};const i=o._features.reduce((g,d)=>Object.assign(g,d.getDefaultOptions==null?void 0:d.getDefaultOptions(o)),{}),l=g=>o.options.mergeOptions?o.options.mergeOptions(i,g):{...i,...g};let s={...{},...(n=e.initialState)!=null?n:{}};o._features.forEach(g=>{var d;s=(d=g.getInitialState==null?void 0:g.getInitialState(s))!=null?d:s});const u=[];let f=!1;const p={_features:r,options:{...i,...e},initialState:s,_queue:g=>{u.push(g),f||(f=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();f=!1}).catch(d=>setTimeout(()=>{throw d})))},reset:()=>{o.setState(o.initialState)},setOptions:g=>{const d=qt(g,o.options);o.options=l(d)},getState:()=>o.options.state,setState:g=>{o.options.onStateChange==null||o.options.onStateChange(g)},_getRowId:(g,d,m)=>{var h;return(h=o.options.getRowId==null?void 0:o.options.getRowId(g,d,m))!=null?h:`${m?[m.id,d].join("."):d}`},getCoreRowModel:()=>(o._getCoreRowModel||(o._getCoreRowModel=o.options.getCoreRowModel(o)),o._getCoreRowModel()),getRowModel:()=>o.getPaginationRowModel(),getRow:(g,d)=>{let m=(d?o.getPrePaginationRowModel():o.getRowModel()).rowsById[g];if(!m&&(m=o.getCoreRowModel().rowsById[g],!m))throw new Error;return m},_getDefaultColumnDef:ne(()=>[o.options.defaultColumn],g=>{var d;return g=(d=g)!=null?d:{},{header:m=>{const h=m.header.column.columnDef;return h.accessorKey?h.accessorKey:h.accessorFn?h.id:null},cell:m=>{var h,v;return(h=(v=m.renderValue())==null||v.toString==null?void 0:v.toString())!=null?h:null},...o._features.reduce((m,h)=>Object.assign(m,h.getDefaultColumnDef==null?void 0:h.getDefaultColumnDef()),{}),...g}},re(e,"debugColumns")),_getColumnDefs:()=>o.options.columns,getAllColumns:ne(()=>[o._getColumnDefs()],g=>{const d=function(m,h,v){return v===void 0&&(v=0),m.map(b=>{const _=ov(o,b,v,h),y=b;return _.columns=y.columns?d(y.columns,_,v+1):[],_})};return d(g)},re(e,"debugColumns")),getAllFlatColumns:ne(()=>[o.getAllColumns()],g=>g.flatMap(d=>d.getFlatColumns()),re(e,"debugColumns")),_getAllFlatColumnsById:ne(()=>[o.getAllFlatColumns()],g=>g.reduce((d,m)=>(d[m.id]=m,d),{}),re(e,"debugColumns")),getAllLeafColumns:ne(()=>[o.getAllColumns(),o._getOrderColumnsFn()],(g,d)=>{let m=g.flatMap(h=>h.getLeafColumns());return d(m)},re(e,"debugColumns")),getColumn:g=>o._getAllFlatColumnsById()[g]};Object.assign(o,p);for(let g=0;g<o._features.length;g++){const d=o._features[g];d==null||d.createTable==null||d.createTable(o)}return o}function Vv(){return e=>ne(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(o,i,l){i===void 0&&(i=0);const a=[];for(let u=0;u<o.length;u++){const f=hs(e,e._getRowId(o[u],u,l),o[u],u,i,void 0,l==null?void 0:l.id);if(n.flatRows.push(f),n.rowsById[f.id]=f,a.push(f),e.options.getSubRows){var s;f.originalSubRows=e.options.getSubRows(o[u],u),(s=f.originalSubRows)!=null&&s.length&&(f.subRows=r(f.originalSubRows,i+1,f))}}return a};return n.rows=r(t),n},re(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Bv(e){const t=[],n=r=>{var o;t.push(r),(o=r.subRows)!=null&&o.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function jv(e,t,n){return n.options.filterFromLeafRows?Hv(e,t,n):qv(e,t,n)}function Hv(e,t,n){var r;const o=[],i={},l=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(s,u){u===void 0&&(u=0);const f=[];for(let g=0;g<s.length;g++){var p;let d=s[g];const m=hs(n,d.id,d.original,d.index,d.depth,void 0,d.parentId);if(m.columnFilters=d.columnFilters,(p=d.subRows)!=null&&p.length&&u<l){if(m.subRows=a(d.subRows,u+1),d=m,t(d)&&!m.subRows.length){f.push(d),i[d.id]=d,o.push(d);continue}if(t(d)||m.subRows.length){f.push(d),i[d.id]=d,o.push(d);continue}}else d=m,t(d)&&(f.push(d),i[d.id]=d,o.push(d))}return f};return{rows:a(e),flatRows:o,rowsById:i}}function qv(e,t,n){var r;const o=[],i={},l=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,a=function(s,u){u===void 0&&(u=0);const f=[];for(let g=0;g<s.length;g++){let d=s[g];if(t(d)){var p;if((p=d.subRows)!=null&&p.length&&u<l){const h=hs(n,d.id,d.original,d.index,d.depth,void 0,d.parentId);h.subRows=a(d.subRows,u+1),d=h}f.push(d),o.push(d),i[d.id]=d}}return f};return{rows:a(e),flatRows:o,rowsById:i}}function zv(){return e=>ne(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,r)=>{if(!t.rows.length||!(n!=null&&n.length)&&!r){for(let g=0;g<t.flatRows.length;g++)t.flatRows[g].columnFilters={},t.flatRows[g].columnFiltersMeta={};return t}const o=[],i=[];(n??[]).forEach(g=>{var d;const m=e.getColumn(g.id);if(!m)return;const h=m.getFilterFn();h&&o.push({id:g.id,filterFn:h,resolvedValue:(d=h.resolveFilterValue==null?void 0:h.resolveFilterValue(g.value))!=null?d:g.value})});const l=(n??[]).map(g=>g.id),a=e.getGlobalFilterFn(),s=e.getAllLeafColumns().filter(g=>g.getCanGlobalFilter());r&&a&&s.length&&(l.push("__global__"),s.forEach(g=>{var d;i.push({id:g.id,filterFn:a,resolvedValue:(d=a.resolveFilterValue==null?void 0:a.resolveFilterValue(r))!=null?d:r})}));let u,f;for(let g=0;g<t.flatRows.length;g++){const d=t.flatRows[g];if(d.columnFilters={},o.length)for(let m=0;m<o.length;m++){u=o[m];const h=u.id;d.columnFilters[h]=u.filterFn(d,h,u.resolvedValue,v=>{d.columnFiltersMeta[h]=v})}if(i.length){for(let m=0;m<i.length;m++){f=i[m];const h=f.id;if(f.filterFn(d,h,f.resolvedValue,v=>{d.columnFiltersMeta[h]=v})){d.columnFilters.__global__=!0;break}}d.columnFilters.__global__!==!0&&(d.columnFilters.__global__=!1)}}const p=g=>{for(let d=0;d<l.length;d++)if(g.columnFilters[l[d]]===!1)return!1;return!0};return jv(t.rows,p,e)},re(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function Uv(e){return t=>ne(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:o,pageIndex:i}=n;let{rows:l,flatRows:a,rowsById:s}=r;const u=o*i,f=u+o;l=l.slice(u,f);let p;t.options.paginateExpandedRows?p={rows:l,flatRows:a,rowsById:s}:p=Bv({rows:l,flatRows:a,rowsById:s}),p.flatRows=[];const g=d=>{p.flatRows.push(d),d.subRows.length&&d.subRows.forEach(g)};return p.rows.forEach(g),p},re(t.options,"debugTable"))}function Wv(){return e=>ne(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,o=[],i=r.filter(s=>{var u;return(u=e.getColumn(s.id))==null?void 0:u.getCanSort()}),l={};i.forEach(s=>{const u=e.getColumn(s.id);u&&(l[s.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const a=s=>{const u=s.map(f=>({...f}));return u.sort((f,p)=>{for(let d=0;d<i.length;d+=1){var g;const m=i[d],h=l[m.id],v=h.sortUndefined,b=(g=m==null?void 0:m.desc)!=null?g:!1;let _=0;if(v){const y=f.getValue(m.id),x=p.getValue(m.id),S=y===void 0,C=x===void 0;if(S||C){if(v==="first")return S?-1:1;if(v==="last")return S?1:-1;_=S&&C?0:S?v:-v}}if(_===0&&(_=h.sortingFn(f,p,m.id)),_!==0)return b&&(_*=-1),h.invertSorting&&(_*=-1),_}return f.index-p.index}),u.forEach(f=>{var p;o.push(f),(p=f.subRows)!=null&&p.length&&(f.subRows=a(f.subRows))}),u};return{rows:a(n.rows),flatRows:o,rowsById:n.rowsById}},re(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Bu(e,t){return e?Kv(e)?ke(e,t):e:null}function Kv(e){return Yv(e)||typeof e=="function"||Xv(e)}function Yv(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function Xv(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function Jv(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=A(()=>({current:Gv(t)})),[r,o]=A(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...e,state:{...r,...e.state},onStateChange:l=>{o(l),e.onStateChange==null||e.onStateChange(l)}})),n.current}const Qv=e=>{if(e==null)return"";const t=String(e);return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t};function Fa(e,t="-"){return!e||e==0?t:e>500&&e%500===0?`${e/1e3}kg`:`${e}g`}function ro(e){if(!e)return"";const t=Ea(e),n=e.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"});return`${t} ${n}`}function Ea(e){if(!e)return"";const t=e.getFullYear().toString(),n=t.slice(-2);let r=e.toLocaleDateString();return r=r.replace(t,n),r}function An(e,t){return parseFloat(e.toFixed(t)).toString()}const Fn=e=>(t,n)=>kp(t.getValue(e),n.getValue(e)),kp=(e,t)=>{const n=e||"",r=t||"";return!n&&r?1:n&&!r?-1:n.localeCompare(r)},Zv=(e,t)=>{const n=e.original.printer_location,r=t.original.printer_location;if(n&&!r)return-1;if(!n&&r)return 1;if(n&&r){const l=n.localeCompare(r);return l===0?0:l}const o=e.original.actual_location??"",i=t.original.actual_location??"";return!o&&i?1:o&&!i?-1:!o&&!i?0:o.localeCompare(i)},Pa=(e,t)=>{var n,r;if(t.startsWith("#")){const o=t.indexOf("/",3),i=t.slice(3,o);return"#"+(((r=(n=e==null?void 0:e.rack_config)==null?void 0:n[Number(i)])==null?void 0:r.name)??`R:${i}`)+t.slice(o)}return t},e0=location.hostname==="localhost"||location.hostname==="127.0.0.1"||location.hostname==="192.168.10.114",Ue=e=>{const t=e.startsWith("/")?"":"/";return(e0?"http://consoledev.local":"")+t+e};function En(e){const t=e.trim();if(t==="")return null;const n=Number(t);return isNaN(n)?null:n}function ju(e){const t=e.length===8?e.slice(0,6):e;let n=parseInt(t.slice(0,2),16)/255,r=parseInt(t.slice(2,4),16)/255,o=parseInt(t.slice(4,6),16)/255;const i=Math.max(n,r,o),l=Math.min(n,r,o);let a=0,s=0,u=(i+l)/2;if(i!==l){const f=i-l;switch(s=u>.5?f/(2-i-l):f/(i+l),i){case n:a=((r-o)/f+(r<o?6:0))/6;break;case r:a=((o-n)/f+2)/6;break;case o:a=((n-r)/f+4)/6;break}}return{h:a*360,s:s*100,l:u*100}}function t0(e,t){if(e==="00000000")return 1;if(t==="00000000")return-1;const n=ju(e),r=ju(t),o=n.s<15,i=r.s<15;if(o&&!i)return 1;if(!o&&i)return-1;if(o&&i){if(n.l!==r.l)return n.l-r.l;const s=parseInt(e.slice(6,8),16),u=parseInt(t.slice(6,8),16);return s-u}if(n.h!==r.h)return n.h-r.h;if(n.s!==r.s)return n.s-r.s;if(n.l!==r.l)return n.l-r.l;const l=parseInt(e.slice(6,8),16),a=parseInt(t.slice(6,8),16);return l-a}function n0(e){const t=[];let n="",r=!1;for(let o=0;o<e.length;o++){const i=e[o],l=e[o+1];i==='"'&&r&&l==='"'?(n+='"',o++):i==='"'?r=!r:i===","&&!r?(t.push(n),n=""):n+=i}return t.push(n),t}function Hu(e){if(e=="")return 0;if(e.length!=6)return null;const t=atob(e),n=new ArrayBuffer(4),r=new Uint8Array(n);for(let o=0;o<4;o++)r[o]=t.charCodeAt(o);return new DataView(n).getFloat32(0,!0)}function Mp(e){e=e.replace("#","");const t=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return(t*299+n*587+r*114)/1e3>=128?"black":"white"}const $a=({spool:e,compact:t=!1})=>c("div",{className:t?"spool-card-compact":"spool-card",style:{backgroundColor:`#${e.color_code.substring(0,6)}`,color:Mp(e.color_code.substring(0,6))},children:[c("div",{className:"spool-card-header",children:c("div",{class:"space-x-2",children:[c("span",{className:"spool-material",children:[e.id,"."]}),c("span",{className:"spool-material",children:e.material_type}),c("span",{className:"spool-material",children:e.color_name}),c("span",{className:"spool-material",children:[e.weight_left?`${An(e.weight_left-e.consumed_since_weight,1)}g`:"-"," /"," ",Fa(e.weight_advertised)]})]})}),c("div",{className:"spool-card-content",children:[c("div",{className:"spool-card-row",children:[c("div",{className:"spool-field-inline",children:[c("span",{className:"spool-label",children:"Brand:"}),c("span",{children:e.brand?e.brand:"-"})]}),c("div",{className:"spool-field-inline",children:[c("span",{className:"spool-label",children:"Subtype:"}),c("span",{children:e.material_subtype?e.material_subtype:"-"})]}),c("div",{className:"spool-field-inline",children:[c("span",{className:"spool-label",children:"RGB:"}),c("span",{children:e.color_code})]}),c("div",{className:"spool-field-inline",children:[c("span",{className:"spool-label",children:"Tag ID:"}),e.tag_id?e.tag_id.startsWith("-")?c("span",{className:"line-through",children:e.tag_id.slice(1)}):c("span",{children:e.tag_id}):c("span",{children:"-"})]}),c("div",{className:"spool-field-inline",children:[c("span",{className:"spool-label",children:"Added:"}),c("span",{children:e.added_datetime?ro(e.added_datetime):"-"})]}),c("div",{className:"spool-field-inline",children:[c("span",{className:"spool-label",children:"Encoded:"}),c("span",{children:e.encoded_datetime?ro(e.encoded_datetime):"-"})]}),c("div",{className:"spool-field-inline",children:[c("span",{className:"spool-label",children:"Full Weight:"}),c("span",{children:e.weight_new?`${e.weight_new}g`:"-"})]}),c("div",{className:"spool-field-inline",children:[c("span",{className:"spool-label",children:"Latest Scale Weight:"}),c("span",{children:e.weight_current?`${e.weight_current}g`:"-"})]}),c("div",{className:"spool-field-inline",children:[c("span",{className:"spool-label",children:"Printed Since Added:"}),c("span",{children:e.consumed_since_add?`${An(e.consumed_since_add,1)}g`:"-"})]}),c("div",{className:"spool-field-inline",children:[c("span",{className:"spool-label",children:"Printed Since Weighted:"}),c("span",{children:e.consumed_since_weight?`${An(e.consumed_since_weight,1)}g`:"-"})]}),c("div",{className:"spool-field-inline",children:[c("span",{className:"spool-label",children:"Used:"}),c("span",{children:e.weight_used?`${An(e.weight_used+e.consumed_since_weight,1)}g`:"-"})]}),c("div",{className:"spool-field-inline",children:[c("span",{className:"spool-label",children:"Empty Weight:"}),c("span",{children:e.weight_core?`${e.weight_core}g`:"-"})]}),c("div",{className:"spool-field-inline",children:[c("span",{className:"spool-label",children:"Pressure Advance(K):"}),c("span",{children:`${e.k_setting?"Configured":"Not Configured"}`})]})]}),e.note&&c("div",{className:"spool-field-inline",children:[c("span",{className:"spool-label",children:"Note:"}),c("span",{children:e.note})]}),(e.data_origin||e.tag_type)&&c("div",{className:"spool-card-row",children:[c("div",{className:"spool-field-inline",children:[c("span",{className:"spool-label",children:"Data Origin:"}),c("span",{children:e.data_origin?e.data_origin:"-"})]}),c("div",{className:"spool-field-inline",children:[c("span",{className:"spool-label",children:"Linked Tag Type:"}),c("span",{children:e.tag_type?e.tag_type:"-"})]})]})]})]});function r0({isMobile:e,columnFilters:t,onSetColumnFilters:n}){var i,l;const r=a=>{const s=t.find(u=>u.id===a);return(s==null?void 0:s.value)||""},o=(a,s)=>{n(u=>{const f=u.filter(p=>p.id!==a);return s&&f.push({id:a,value:s}),f})};return c("div",{className:"filters-section",children:[c("h3",{children:["Filters"," ",c("span",{className:"filters-hint",children:e?"(Comma-seperated keywords)":"(Enter keywords (comma-separated, may include spaces)"}),c("button",{onClick:()=>n([]),className:"clear-filters-btn",children:`Clear${e?"":" Filters"}`})]}),c("div",{className:"filters-grid",children:[c("div",{className:"filter-group",children:[c("label",{children:"Material:"}),c("input",{type:"text",placeholder:"e.g. PLA, PETG",value:String(r("material_type")),onChange:a=>o("material_type",a.target.value),className:"filter-input"})]}),c("div",{className:"filter-group",children:[c("label",{children:"Subtype:"}),c("input",{type:"text",placeholder:"e.g. Plus, High Speed, Pro",value:String(r("material_subtype")),onChange:a=>o("material_subtype",a.target.value),className:"filter-input"})]}),c("div",{className:"filter-group",children:[c("label",{children:"Color:"}),c("input",{type:"text",placeholder:"e.g. Red Matte, Orange",value:String(r("color_name")),onChange:a=>o("color_name",a.target.value),className:"filter-input"})]}),c("div",{className:"filter-group",children:[c("label",{children:"Brand:"}),c("input",{type:"text",placeholder:"e.g. Bambu, Elegoo, Poly",value:String(r("brand")),onChange:a=>o("brand",a.target.value),className:"filter-input"})]}),c("div",{className:"filter-group",children:[c("label",{children:"Note:"}),c("input",{type:"text",placeholder:"e.g. good, art",value:String(r("note")),onChange:a=>o("note",a.target.value),className:"filter-input"})]}),c("div",{className:"filter-group weight-filter",children:[c("label",{children:"Left (g):"}),c("div",{className:"weight-inputs",children:[c("input",{type:"number",placeholder:"Min",value:((i=r("weight_left"))==null?void 0:i.min)||"",onChange:a=>{const s=r("weight_left")||{};o("weight_left",{...s,min:a.target.value?Number(a.target.value):void 0})},className:"weight-input"}),c("span",{children:"-"}),c("input",{type:"number",placeholder:"Max",value:((l=r("weight_left"))==null?void 0:l.max)||"",onChange:a=>{const s=r("weight_left")||{};o("weight_left",{...s,max:a.target.value?Number(a.target.value):void 0})},className:"weight-input"})]})]})]})]})}const Lp=typeof document<"u"?F.useLayoutEffect:()=>{};function o0(e){const t=D(null);return Lp(()=>{t.current=e},[e]),oe((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const Zt=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},cn=e=>e&&"window"in e&&e.window===e?e:Zt(e).defaultView||window;function i0(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function l0(e){return i0(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let a0=!1;function ys(){return a0}function Dp(e,t){if(!ys())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let n=t;for(;n!==null;){if(n===e)return!0;n.tagName==="SLOT"&&n.assignedSlot?n=n.assignedSlot.parentNode:l0(n)?n=n.host:n=n.parentNode}return!1}const Ra=(e=document)=>{var t;if(!ys())return e.activeElement;let n=e.activeElement;for(;n&&"shadowRoot"in n&&(!((t=n.shadowRoot)===null||t===void 0)&&t.activeElement);)n=n.shadowRoot.activeElement;return n};function Gp(e){return ys()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function s0(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function u0(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function Vp(e){let t=null;return()=>(t==null&&(t=e()),t)}const c0=Vp(function(){return u0(/^Mac/i)}),d0=Vp(function(){return s0(/Android/i)});function Bp(){let e=D(new Map),t=oe((o,i,l,a)=>{let s=a!=null&&a.once?(...u)=>{e.current.delete(l),l(...u)}:l;e.current.set(l,{type:i,eventTarget:o,fn:s,options:a}),o.addEventListener(i,s,a)},[]),n=oe((o,i,l,a)=>{var s;let u=((s=e.current.get(l))===null||s===void 0?void 0:s.fn)||l;o.removeEventListener(i,u,a),e.current.delete(l)},[]),r=oe(()=>{e.current.forEach((o,i)=>{n(o.eventTarget,o.type,i,o.options)})},[n]);return Q(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function f0(e){return e.mozInputSource===0&&e.isTrusted?!0:d0()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function jp(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function p0(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function Hp(e){let t=D({isFocused:!1,observer:null});Lp(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=o0(r=>{e==null||e(r)});return oe(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let o=r.target,i=l=>{if(t.current.isFocused=!1,o.disabled){let a=jp(l);n(a)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",i,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&o.disabled){var l;(l=t.current.observer)===null||l===void 0||l.disconnect();let a=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:a})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:a}))}}),t.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let g0=!1,wr=null,Ta=new Set,dr=new Map,mn=!1,Aa=!1;const m0={Tab:!0,Escape:!0};function ws(e,t){for(let n of Ta)n(e,t)}function h0(e){return!(e.metaKey||!c0()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function oo(e){mn=!0,h0(e)&&(wr="keyboard",ws("keyboard",e))}function In(e){wr="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(mn=!0,ws("pointer",e))}function qp(e){f0(e)&&(mn=!0,wr="virtual")}function zp(e){e.target===window||e.target===document||g0||!e.isTrusted||(!mn&&!Aa&&(wr="virtual",ws("virtual",e)),mn=!1,Aa=!1)}function Up(){mn=!1,Aa=!0}function Na(e){if(typeof window>"u"||typeof document>"u"||dr.get(cn(e)))return;const t=cn(e),n=Zt(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){mn=!0,r.apply(this,arguments)},n.addEventListener("keydown",oo,!0),n.addEventListener("keyup",oo,!0),n.addEventListener("click",qp,!0),t.addEventListener("focus",zp,!0),t.addEventListener("blur",Up,!1),typeof PointerEvent<"u"&&(n.addEventListener("pointerdown",In,!0),n.addEventListener("pointermove",In,!0),n.addEventListener("pointerup",In,!0)),t.addEventListener("beforeunload",()=>{Wp(e)},{once:!0}),dr.set(t,{focus:r})}const Wp=(e,t)=>{const n=cn(e),r=Zt(e);t&&r.removeEventListener("DOMContentLoaded",t),dr.has(n)&&(n.HTMLElement.prototype.focus=dr.get(n).focus,r.removeEventListener("keydown",oo,!0),r.removeEventListener("keyup",oo,!0),r.removeEventListener("click",qp,!0),n.removeEventListener("focus",zp,!0),n.removeEventListener("blur",Up,!1),typeof PointerEvent<"u"&&(r.removeEventListener("pointerdown",In,!0),r.removeEventListener("pointermove",In,!0),r.removeEventListener("pointerup",In,!0)),dr.delete(n))};function v0(e){const t=Zt(e);let n;return t.readyState!=="loading"?Na(e):(n=()=>{Na(e)},t.addEventListener("DOMContentLoaded",n)),()=>Wp(e,n)}typeof document<"u"&&v0();function Kp(){return wr!=="pointer"}const b0=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function _0(e,t,n){let r=Zt(n==null?void 0:n.target);const o=typeof window<"u"?cn(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,i=typeof window<"u"?cn(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,l=typeof window<"u"?cn(n==null?void 0:n.target).HTMLElement:HTMLElement,a=typeof window<"u"?cn(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||r.activeElement instanceof o&&!b0.has(r.activeElement.type)||r.activeElement instanceof i||r.activeElement instanceof l&&r.activeElement.isContentEditable,!(e&&t==="keyboard"&&n instanceof a&&!m0[n.key])}function y0(e,t,n){Na(),Q(()=>{let r=(o,i)=>{_0(!!(n!=null&&n.isTextInput),o,i)&&e(Kp())};return Ta.add(r),()=>{Ta.delete(r)}},t)}function w0(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:o}=e;const i=oe(s=>{if(s.target===s.currentTarget)return r&&r(s),o&&o(!1),!0},[r,o]),l=Hp(i),a=oe(s=>{const u=Zt(s.target),f=u?Ra(u):Ra();s.target===s.currentTarget&&f===Gp(s.nativeEvent)&&(n&&n(s),o&&o(!0),l(s))},[o,n,l]);return{focusProps:{onFocus:!t&&(n||o||r)?a:void 0,onBlur:!t&&(r||o)?i:void 0}}}function S0(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:o}=e,i=D({isFocusWithin:!1}),{addGlobalListener:l,removeAllGlobalListeners:a}=Bp(),s=oe(p=>{p.currentTarget.contains(p.target)&&i.current.isFocusWithin&&!p.currentTarget.contains(p.relatedTarget)&&(i.current.isFocusWithin=!1,a(),n&&n(p),o&&o(!1))},[n,o,i,a]),u=Hp(s),f=oe(p=>{if(!p.currentTarget.contains(p.target))return;const g=Zt(p.target),d=Ra(g);if(!i.current.isFocusWithin&&d===Gp(p.nativeEvent)){r&&r(p),o&&o(!0),i.current.isFocusWithin=!0,u(p);let m=p.currentTarget;l(g,"focus",h=>{if(i.current.isFocusWithin&&!Dp(m,h.target)){let v=new g.defaultView.FocusEvent("blur",{relatedTarget:h.target});p0(v,m);let b=jp(v);s(b)}},{capture:!0})}},[r,o,u,l,s]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:f,onBlur:s}}}let Oa=!1,Qo=0;function x0(){Oa=!0,setTimeout(()=>{Oa=!1},50)}function qu(e){e.pointerType==="touch"&&x0()}function C0(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",qu),Qo++,()=>{Qo--,!(Qo>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",qu)}}function en(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:o}=e,[i,l]=A(!1),a=D({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;Q(C0,[]);let{addGlobalListener:s,removeAllGlobalListeners:u}=Bp(),{hoverProps:f,triggerHoverEnd:p}=G(()=>{let g=(h,v)=>{if(a.pointerType=v,o||v==="touch"||a.isHovered||!h.currentTarget.contains(h.target))return;a.isHovered=!0;let b=h.currentTarget;a.target=b,s(Zt(h.target),"pointerover",_=>{a.isHovered&&a.target&&!Dp(a.target,_.target)&&d(_,_.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:b,pointerType:v}),n&&n(!0),l(!0)},d=(h,v)=>{let b=a.target;a.pointerType="",a.target=null,!(v==="touch"||!a.isHovered||!b)&&(a.isHovered=!1,u(),r&&r({type:"hoverend",target:b,pointerType:v}),n&&n(!1),l(!1))},m={};return typeof PointerEvent<"u"&&(m.onPointerEnter=h=>{Oa&&h.pointerType==="mouse"||g(h,h.pointerType)},m.onPointerLeave=h=>{!o&&h.currentTarget.contains(h.target)&&d(h,h.pointerType)}),{hoverProps:m,triggerHoverEnd:d}},[t,n,r,o,a,s,u]);return Q(()=>{o&&p({currentTarget:a.target},a.pointerType)},[o]),{hoverProps:f,isHovered:i}}function Bt(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,o=D({isFocused:!1,isFocusVisible:t||Kp()}),[i,l]=A(!1),[a,s]=A(()=>o.current.isFocused&&o.current.isFocusVisible),u=oe(()=>s(o.current.isFocused&&o.current.isFocusVisible),[]),f=oe(d=>{o.current.isFocused=d,l(d),u()},[u]);y0(d=>{o.current.isFocusVisible=d,u()},[],{isTextInput:n});let{focusProps:p}=w0({isDisabled:r,onFocusChange:f}),{focusWithinProps:g}=S0({isDisabled:!r,onFocusWithinChange:f});return{isFocused:i,isFocusVisible:a,focusProps:r?g:p}}var F0=Object.defineProperty,E0=(e,t,n)=>t in e?F0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zo=(e,t,n)=>(E0(e,typeof t!="symbol"?t+"":t,n),n);let P0=class{constructor(){Zo(this,"current",this.detect()),Zo(this,"handoffState","pending"),Zo(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},gn=new P0;function jt(e){var t,n;return gn.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(n=(t=e.current)==null?void 0:t.ownerDocument)!=null?n:document:null:document}function Sr(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function dt(){let e=[],t={addEventListener(n,r,o,i){return n.addEventListener(r,o,i),t.add(()=>n.removeEventListener(r,o,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Sr(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,o){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:o}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=dt();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let o of e.splice(r,1))o()}},dispose(){for(let n of e.splice(0))n()}};return t}function tn(){let[e]=A(dt);return Q(()=>()=>e.dispose(),[e]),e}let ge=(e,t)=>{gn.isServer?Q(e,t):vt(e,t)};function nt(e){let t=D(e);return ge(()=>{t.current=e},[e]),t}let V=function(e){let t=nt(e);return F.useCallback((...n)=>t.current(...n),[t])};function $0(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function R0(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function xr({disabled:e=!1}={}){let t=D(null),[n,r]=A(!1),o=tn(),i=V(()=>{t.current=null,r(!1),o.dispose()}),l=V(a=>{if(o.dispose(),t.current===null){t.current=a.currentTarget,r(!0);{let s=jt(a.currentTarget);o.addEventListener(s,"pointerup",i,!1),o.addEventListener(s,"pointermove",u=>{if(t.current){let f=$0(u);r(R0(f,t.current.getBoundingClientRect()))}},!1),o.addEventListener(s,"pointercancel",i,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:l,onPointerUp:i,onClick:i}}}let Yp=be(void 0);function nn(){return se(Yp)}function T0({value:e,children:t}){return F.createElement(Yp.Provider,{value:e},t)}function Ia(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function xe(e,t,...n){if(e in t){let o=t[e];return typeof o=="function"?o(...n):o}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,xe),r}var ut=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(ut||{}),zt=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(zt||{});function _e(){let e=N0();return oe(t=>A0({mergeRefs:e,...t}),[e])}function A0({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:o,visible:i=!0,name:l,mergeRefs:a}){a=a??O0;let s=Xp(t,e);if(i)return qr(s,n,r,l,a);let u=o??0;if(u&2){let{static:f=!1,...p}=s;if(f)return qr(p,n,r,l,a)}if(u&1){let{unmount:f=!0,...p}=s;return xe(f?0:1,{0(){return null},1(){return qr({...p,hidden:!0,style:{display:"none"}},n,r,l,a)}})}return qr(s,n,r,l,a)}function qr(e,t={},n,r,o){let{as:i=n,children:l,refName:a="ref",...s}=ei(e,["unmount","static"]),u=e.ref!==void 0?{[a]:e.ref}:{},f=typeof l=="function"?l(t):l;"className"in s&&s.className&&typeof s.className=="function"&&(s.className=s.className(t)),s["aria-labelledby"]&&s["aria-labelledby"]===s.id&&(s["aria-labelledby"]=void 0);let p={};if(t){let g=!1,d=[];for(let[m,h]of Object.entries(t))typeof h=="boolean"&&(g=!0),h===!0&&d.push(m.replace(/([A-Z])/g,v=>`-${v.toLowerCase()}`));if(g){p["data-headlessui-state"]=d.join(" ");for(let m of d)p[`data-${m}`]=""}}if(i===ae&&(Object.keys(Ht(s)).length>0||Object.keys(Ht(p)).length>0))if(!jn(f)||Array.isArray(f)&&f.length>1){if(Object.keys(Ht(s)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Ht(s)).concat(Object.keys(Ht(p))).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`))}else{let g=f.props,d=g==null?void 0:g.className,m=typeof d=="function"?(...b)=>Ia(d(...b),s.className):Ia(d,s.className),h=m?{className:m}:{},v=Xp(f.props,Ht(ei(s,["ref"])));for(let b in p)b in v&&delete p[b];return ms(f,Object.assign({},v,p,u,{ref:o(I0(f),u.ref)},h))}return ke(i,Object.assign({},ei(s,["ref"]),i!==ae&&u,i!==ae&&p),f)}function N0(){let e=D([]),t=oe(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function O0(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function Xp(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[o=>{var i;return(i=o==null?void 0:o.preventDefault)==null?void 0:i.call(o)}]);for(let r in n)Object.assign(t,{[r](o,...i){let l=n[r];for(let a of l){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;a(o,...i)}}});return t}function ct(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];for(let r in n)Object.assign(t,{[r](...o){let i=n[r];for(let l of i)l==null||l(...o)}});return t}function me(e){var t;return Object.assign(po(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Ht(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function ei(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function I0(e){return F.version.split(".")[0]>="19"?e.props.ref:e.ref}let k0="button";function M0(e,t){var n;let r=nn(),{disabled:o=r||!1,autoFocus:i=!1,...l}=e,{isFocusVisible:a,focusProps:s}=Bt({autoFocus:i}),{isHovered:u,hoverProps:f}=en({isDisabled:o}),{pressed:p,pressProps:g}=xr({disabled:o}),d=ct({ref:t,type:(n=l.type)!=null?n:"button",disabled:o||void 0,autoFocus:i},s,f,g),m=G(()=>({disabled:o,hover:u,focus:a,active:p,autofocus:i}),[o,u,a,p,i]);return _e()({ourProps:d,theirProps:l,slot:m,defaultTag:k0,name:"Button"})}let Fe=me(M0);function Jp(e,t,n){let[r,o]=A(n),i=e!==void 0,l=D(i),a=D(!1),s=D(!1);return i&&!l.current&&!a.current?(a.current=!0,l.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&l.current&&!s.current&&(s.current=!0,l.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?e:r,V(u=>(i||o(u),t==null?void 0:t(u)))]}function Qp(e){let[t]=A(e);return t}function Zp(e={},t=null,n=[]){for(let[r,o]of Object.entries(e))tg(n,eg(t,r),o);return n}function eg(e,t){return e?e+"["+t+"]":t}function tg(e,t,n){if(Array.isArray(n))for(let[r,o]of n.entries())tg(e,eg(t,r.toString()),o);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):Zp(n,t,e)}function L0(e){var t,n;let r=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(r){for(let o of r.elements)if(o!==e&&(o.tagName==="INPUT"&&o.type==="submit"||o.tagName==="BUTTON"&&o.type==="submit"||o.nodeName==="INPUT"&&o.type==="image")){o.click();return}(n=r.requestSubmit)==null||n.call(r)}}let D0="span";var Yt=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Yt||{});function G0(e,t){var n;let{features:r=1,...o}=e,i={ref:t,"aria-hidden":(r&2)===2?!0:(n=o["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return _e()({ourProps:i,theirProps:o,slot:{},defaultTag:D0,name:"Hidden"})}let Xt=me(G0),ng=be(null);function V0(e){let[t,n]=A(null);return F.createElement(ng.Provider,{value:{target:t}},e.children,F.createElement(Xt,{features:Yt.Hidden,ref:n}))}function B0({children:e}){let t=se(ng);if(!t)return F.createElement(F.Fragment,null,e);let{target:n}=t;return n?go(F.createElement(F.Fragment,null,e),n):null}function rg({data:e,form:t,disabled:n,onReset:r,overrides:o}){let[i,l]=A(null),a=tn();return Q(()=>{if(r&&i)return a.addEventListener(i,"reset",r)},[i,t,r]),F.createElement(B0,null,F.createElement(j0,{setForm:l,formId:t}),Zp(e).map(([s,u])=>F.createElement(Xt,{features:Yt.Hidden,...Ht({key:s,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:n,name:s,value:u,...o})})))}function j0({setForm:e,formId:t}){return Q(()=>{if(t){let n=document.getElementById(t);n&&e(n)}},[e,t]),t?null:F.createElement(Xt,{features:Yt.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&e(r)}})}let og=be(void 0);function Cr(){return se(og)}function H0({id:e,children:t}){return F.createElement(og.Provider,{value:e},t)}function Ss(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function Mt(e){return Ss(e)&&"tagName"in e}function Xe(e){return Mt(e)&&"accessKey"in e}function gt(e){return Mt(e)&&"tabIndex"in e}function q0(e){return Mt(e)&&"style"in e}function z0(e){return Xe(e)&&e.nodeName==="IFRAME"}function io(e){return Xe(e)&&e.nodeName==="INPUT"}function zu(e){return Xe(e)&&e.nodeName==="LABEL"}function U0(e){return Xe(e)&&e.nodeName==="FIELDSET"}function ig(e){return Xe(e)&&e.nodeName==="LEGEND"}function W0(e){return Mt(e)?e.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function xs(e){let t=e.parentElement,n=null;for(;t&&!U0(t);)ig(t)&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&K0(n)?!1:r}function K0(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(ig(t))return!1;t=t.previousElementSibling}return!0}let lg=Symbol();function ag(e,t=!0){return Object.assign(e,{[lg]:t})}function Ce(...e){let t=D(e);Q(()=>{t.current=e},[e]);let n=V(r=>{for(let o of t.current)o!=null&&(typeof o=="function"?o(r):o.current=r)});return e.every(r=>r==null||(r==null?void 0:r[lg]))?void 0:n}let ho=be(null);ho.displayName="DescriptionContext";function sg(){let e=se(ho);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,sg),t}return e}function vo(){var e,t;return(t=(e=se(ho))==null?void 0:e.value)!=null?t:void 0}function ug(){let[e,t]=A([]);return[e.length>0?e.join(" "):void 0,G(()=>function(n){let r=V(i=>(t(l=>[...l,i]),()=>t(l=>{let a=l.slice(),s=a.indexOf(i);return s!==-1&&a.splice(s,1),a}))),o=G(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return F.createElement(ho.Provider,{value:o},n.children)},[t])]}let Y0="p";function X0(e,t){let n=$e(),r=nn(),{id:o=`headlessui-description-${n}`,...i}=e,l=sg(),a=Ce(t);ge(()=>l.register(o),[o,l.register]);let s=r||!1,u=G(()=>({...l.slot,disabled:s}),[l.slot,s]),f={ref:a,...l.props,id:o};return _e()({ourProps:f,theirProps:i,slot:u,defaultTag:Y0,name:l.name||"Description"})}let J0=me(X0),Cs=Object.assign(J0,{});var le=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(le||{});let bo=be(null);bo.displayName="LabelContext";function cg(){let e=se(bo);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,cg),t}return e}function _n(e){var t,n,r;let o=(n=(t=se(bo))==null?void 0:t.value)!=null?n:void 0;return((r=e==null?void 0:e.length)!=null?r:0)>0?[o,...e].filter(Boolean).join(" "):o}function Fs({inherit:e=!1}={}){let t=_n(),[n,r]=A([]),o=e?[t,...n].filter(Boolean):n;return[o.length>0?o.join(" "):void 0,G(()=>function(i){let l=V(s=>(r(u=>[...u,s]),()=>r(u=>{let f=u.slice(),p=f.indexOf(s);return p!==-1&&f.splice(p,1),f}))),a=G(()=>({register:l,slot:i.slot,name:i.name,props:i.props,value:i.value}),[l,i.slot,i.name,i.props,i.value]);return F.createElement(bo.Provider,{value:a},i.children)},[r])]}let Q0="label";function Z0(e,t){var n;let r=$e(),o=cg(),i=Cr(),l=nn(),{id:a=`headlessui-label-${r}`,htmlFor:s=i??((n=o.props)==null?void 0:n.htmlFor),passive:u=!1,...f}=e,p=Ce(t);ge(()=>o.register(a),[a,o.register]);let g=V(v=>{let b=v.currentTarget;if(!(v.target!==v.currentTarget&&W0(v.target))&&(zu(b)&&v.preventDefault(),o.props&&"onClick"in o.props&&typeof o.props.onClick=="function"&&o.props.onClick(v),zu(b))){let _=document.getElementById(b.htmlFor);if(_){let y=_.getAttribute("disabled");if(y==="true"||y==="")return;let x=_.getAttribute("aria-disabled");if(x==="true"||x==="")return;(io(_)&&(_.type==="file"||_.type==="radio"||_.type==="checkbox")||_.role==="radio"||_.role==="checkbox"||_.role==="switch")&&_.click(),_.focus({preventScroll:!0})}}}),d=l||!1,m=G(()=>({...o.slot,disabled:d}),[o.slot,d]),h={ref:p,...o.props,id:a,htmlFor:s,onClick:g};return u&&("onClick"in h&&(delete h.htmlFor,delete h.onClick),"onClick"in f&&delete f.onClick),_e()({ourProps:h,theirProps:f,slot:m,defaultTag:s?Q0:"div",name:o.name||"Label"})}let eb=me(Z0),ze=Object.assign(eb,{}),tb=be(()=>{});function dg({value:e,children:t}){return F.createElement(tb.Provider,{value:e},t)}function Pn(e,t,n){let r=n.initialDeps??[],o;function i(){var l,a,s,u;let f;n.key&&((l=n.debug)!=null&&l.call(n))&&(f=Date.now());const p=e();if(!(p.length!==r.length||p.some((m,h)=>r[h]!==m)))return o;r=p;let d;if(n.key&&((a=n.debug)!=null&&a.call(n))&&(d=Date.now()),o=t(...p),n.key&&((s=n.debug)!=null&&s.call(n))){const m=Math.round((Date.now()-f)*100)/100,h=Math.round((Date.now()-d)*100)/100,v=h/16,b=(_,y)=>{for(_=String(_);_.length<y;)_=" "+_;return _};console.info(`%câ± ${b(h,5)} /${b(m,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*v,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(u=n==null?void 0:n.onChange)==null||u.call(n,o),o}return i.updateDeps=l=>{r=l},i}function Uu(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const nb=(e,t)=>Math.abs(e-t)<=1,rb=(e,t,n)=>{let r;return function(...o){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,o),n)}},Wu=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},ob=e=>e,ib=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let o=t;o<=n;o++)r.push(o);return r},lb=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const o=l=>{const{width:a,height:s}=l;t({width:Math.round(a),height:Math.round(s)})};if(o(Wu(n)),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver(l=>{const a=()=>{const s=l[0];if(s!=null&&s.borderBoxSize){const u=s.borderBoxSize[0];if(u){o({width:u.inlineSize,height:u.blockSize});return}}o(Wu(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()});return i.observe(n,{box:"border-box"}),()=>{i.unobserve(n)}},Ku={passive:!0},Yu=typeof window>"u"?!0:"onscrollend"in window,ab=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let o=0;const i=e.options.useScrollendEvent&&Yu?()=>{}:rb(r,()=>{t(o,!1)},e.options.isScrollingResetDelay),l=f=>()=>{const{horizontal:p,isRtl:g}=e.options;o=p?n.scrollLeft*(g&&-1||1):n.scrollTop,i(),t(o,f)},a=l(!0),s=l(!1);s(),n.addEventListener("scroll",a,Ku);const u=e.options.useScrollendEvent&&Yu;return u&&n.addEventListener("scrollend",s,Ku),()=>{n.removeEventListener("scroll",a),u&&n.removeEventListener("scrollend",s)}},sb=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},ub=(e,{adjustments:t=0,behavior:n},r)=>{var o,i;const l=e+t;(i=(o=r.scrollElement)==null?void 0:o.scrollTo)==null||i.call(o,{[r.options.horizontal?"left":"top"]:l,behavior:n})};class cb{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(o=>{o.forEach(i=>{const l=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()})}));return{disconnect:()=>{var o;(o=r())==null||o.disconnect(),n=null},observe:o=>{var i;return(i=r())==null?void 0:i.observe(o,{box:"border-box"})},unobserve:o=>{var i;return(i=r())==null?void 0:i.unobserve(o)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,o])=>{typeof o>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:ob,rangeExtractor:ib,onChange:()=>{},measureElement:sb,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,o;(o=(r=this.options).onChange)==null||o.call(r,this,n)},this.maybeNotify=Pn(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(o=>{this.observer.observe(o)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(o,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const o=new Map,i=new Map;for(let l=r-1;l>=0;l--){const a=n[l];if(o.has(a.lane))continue;const s=i.get(a.lane);if(s==null||a.end>s.end?i.set(a.lane,a):a.end<s.end&&o.set(a.lane,!0),o.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((l,a)=>l.end===a.end?l.index-a.index:l.end-a.end)[0]:void 0},this.getMeasurementOptions=Pn(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,o,i,l)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:o,getItemKey:i,enabled:l}),{key:!1}),this.getMeasurements=Pn(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:o,getItemKey:i,enabled:l},a)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const s=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,s);for(let f=s;f<n;f++){const p=i(f),g=this.options.lanes===1?u[f-1]:this.getFurthestMeasurement(u,f),d=g?g.end+this.options.gap:r+o,m=a.get(p),h=typeof m=="number"?m:this.options.estimateSize(f),v=d+h,b=g?g.lane:f%this.options.lanes;u[f]={index:f,start:d,size:h,end:v,key:p,lane:b}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Pn(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,o,i)=>this.range=n.length>0&&r>0?db({measurements:n,outerSize:r,scrollOffset:o,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Pn(()=>{let n=null,r=null;const o=this.calculateRange();return o&&(n=o.startIndex,r=o.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,o,i,l)=>i===null||l===null?[]:n({startIndex:i,endIndex:l,overscan:r,count:o}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,o=n.getAttribute(r);return o?parseInt(o,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const o=this.indexFromElement(n),i=this.measurementsCache[o];if(!i)return;const l=i.key,a=this.elementsCache.get(l);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(l,n)),n.isConnected&&this.resizeItem(o,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const o=this.measurementsCache[n];if(!o)return;const i=this.itemSizeCache.get(o.key)??o.size,l=r-i;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,l,this):this.scrollDirection==="backward"&&o.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,o)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(o))});return}this._measureElement(n,void 0)},this.getVirtualItems=Pn(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const o=[];for(let i=0,l=n.length;i<l;i++){const a=n[i],s=r[a];o.push(s)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return Uu(r[fg(0,r.length-1,o=>Uu(r[o]).start,n)])},this.getOffsetForAlignment=(n,r,o=0)=>{const i=this.getSize(),l=this.getScrollOffset();r==="auto"&&(r=n>=l+i?"end":"start"),r==="center"?n+=(o-i)/2:r==="end"&&(n-=i);const a=this.getTotalSize()-i;return Math.max(Math.min(a,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const o=this.measurementsCache[n];if(!o)return;const i=this.getSize(),l=this.getScrollOffset();if(r==="auto")if(o.end>=l+i-this.options.scrollPaddingEnd)r="end";else if(o.start<=l+this.options.scrollPaddingStart)r="start";else return[l,r];const a=r==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,r,o.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:o})},this.scrollToIndex=(n,{align:r="auto",behavior:o}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const i=this.getOffsetForIndex(n,r);if(!i)return;const[l,a]=i;this._scrollToOffset(l,{adjustments:void 0,behavior:o}),o!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const u=this.getOffsetForIndex(n,a);if(!u)return;const[f]=u,p=this.getScrollOffset();nb(f,p)||this.scrollToIndex(n,{align:a,behavior:o})}else this.scrollToIndex(n,{align:a,behavior:o})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let o;if(r.length===0)o=this.options.paddingStart;else if(this.options.lanes===1)o=((n=r[r.length-1])==null?void 0:n.end)??0;else{const i=Array(this.options.lanes).fill(null);let l=r.length-1;for(;l>=0&&i.some(a=>a===null);){const a=r[l];i[a.lane]===null&&(i[a.lane]=a.end),l--}o=Math.max(...i.filter(a=>a!==null))}return Math.max(o-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:o})=>{this.options.scrollToFn(n,{behavior:o,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const fg=(e,t,n,r)=>{for(;e<=t;){const o=(e+t)/2|0,i=n(o);if(i<r)e=o+1;else if(i>r)t=o-1;else return o}return e>0?e-1:0};function db({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const o=e.length-1,i=s=>e[s].start;if(e.length<=r)return{startIndex:0,endIndex:o};let l=fg(0,o,i,n),a=l;if(r===1)for(;a<o&&e[a].end<n+t;)a++;else if(r>1){const s=Array(r).fill(0);for(;a<o&&s.some(f=>f<n+t);){const f=e[a];s[f.lane]=f.end,a++}const u=Array(r).fill(n+t);for(;l>=0&&u.some(f=>f>=n);){const f=e[l];u[f.lane]=f.start,l--}l=Math.max(0,l-l%r),a=Math.min(o,a+(r-1-a%r))}return{startIndex:l,endIndex:a}}const Xu=typeof document<"u"?vt:Q;function fb(e){const t=Vt(()=>({}),{})[1],n={...e,onChange:(o,i)=>{var l;i?De(t):t(),(l=e.onChange)==null||l.call(e,o,i)}},[r]=A(()=>new cb(n));return r.setOptions(n),Xu(()=>r._didMount(),[]),Xu(()=>r._willUpdate()),r}function pb(e){return fb({observeElementRect:lb,observeElementOffset:ab,scrollToFn:ub,...e})}function gb(e,t){return e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&"id"in e&&"id"in t?e.id===t.id:e===t}function pg(e=gb){return oe((t,n)=>{if(typeof e=="string"){let r=e;return(t==null?void 0:t[r])===(n==null?void 0:n[r])}return e(t,n)},[e])}function mb(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function ka(e,t=!1){let[n,r]=Vt(()=>({}),{}),o=G(()=>mb(e),[e,n]);return ge(()=>{if(!e)return;let i=new ResizeObserver(r);return i.observe(e),()=>{i.disconnect()}},[e]),t?{width:`${o.width}px`,height:`${o.height}px`}:o}let gg=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};var hb=Object.defineProperty,vb=(e,t,n)=>t in e?hb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bb=(e,t,n)=>(vb(e,t+"",n),n),mg=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},it=(e,t,n)=>(mg(e,t,"read from private field"),n?n.call(e):t.get(e)),ti=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Ju=(e,t,n,r)=>(mg(e,t,"write to private field"),t.set(e,n),n),St,nr,rr;let Es=class{constructor(t){ti(this,St,{}),ti(this,nr,new gg(()=>new Set)),ti(this,rr,new Set),bb(this,"disposables",dt()),Ju(this,St,t)}dispose(){this.disposables.dispose()}get state(){return it(this,St)}subscribe(t,n){let r={selector:t,callback:n,current:t(it(this,St))};return it(this,rr).add(r),this.disposables.add(()=>{it(this,rr).delete(r)})}on(t,n){return it(this,nr).get(t).add(n),this.disposables.add(()=>{it(this,nr).get(t).delete(n)})}send(t){let n=this.reduce(it(this,St),t);if(n!==it(this,St)){Ju(this,St,n);for(let r of it(this,rr)){let o=r.selector(it(this,St));hg(r.current,o)||(r.current=o,r.callback(o))}for(let r of it(this,nr).get(t.type))r(it(this,St),t)}}};St=new WeakMap,nr=new WeakMap,rr=new WeakMap;function hg(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:ni(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:ni(e.entries(),t.entries()):Qu(e)&&Qu(t)?ni(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function ni(e,t){do{let n=e.next(),r=t.next();if(n.done&&r.done)return!0;if(n.done||r.done||!Object.is(n.value,r.value))return!1}while(!0)}function Qu(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}function ri(e){let[t,n]=e(),r=dt();return(...o)=>{t(...o),r.dispose(),r.microTask(n)}}var _b=Object.defineProperty,yb=(e,t,n)=>t in e?_b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zu=(e,t,n)=>(yb(e,typeof t!="symbol"?t+"":t,n),n),Ps=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(Ps||{});let wb={0(e,t){let n=t.id,r=e.stack,o=e.stack.indexOf(n);if(o!==-1){let i=e.stack.slice();return i.splice(o,1),i.push(n),r=i,{...e,stack:r}}return{...e,stack:[...e.stack,n]}},1(e,t){let n=t.id,r=e.stack.indexOf(n);if(r===-1)return e;let o=e.stack.slice();return o.splice(r,1),{...e,stack:o}}},Sb=class vg extends Es{constructor(){super(...arguments),Zu(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),Zu(this,"selectors",{isTop:(t,n)=>t.stack[t.stack.length-1]===n,inStack:(t,n)=>t.stack.includes(n)})}static new(){return new vg({stack:[]})}reduce(t,n){return xe(n.type,wb,t,n)}};const Hn=new gg(()=>Sb.new());var zr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Cb(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var oi={exports:{}},ii={};const Fb=Cb(no);/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ec;function Eb(){if(ec)return ii;ec=1;var e=Fb;function t(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,o=e.useRef,i=e.useEffect,l=e.useMemo,a=e.useDebugValue;return ii.useSyncExternalStoreWithSelector=function(s,u,f,p,g){var d=o(null);if(d.current===null){var m={hasValue:!1,value:null};d.current=m}else m=d.current;d=l(function(){function v(S){if(!b){if(b=!0,_=S,S=p(S),g!==void 0&&m.hasValue){var C=m.value;if(g(C,S))return y=C}return y=S}if(C=y,n(_,S))return C;var N=p(S);return g!==void 0&&g(C,N)?(_=S,C):(_=S,y=N)}var b=!1,_,y,x=f===void 0?null:f;return[function(){return v(u())},x===null?void 0:function(){return v(x())}]},[u,f,p,g]);var h=r(s,d[0],d[1]);return i(function(){m.hasValue=!0,m.value=h},[h]),a(h),h},ii}var tc;function Pb(){return tc||(tc=1,oi.exports=Eb()),oi.exports}var $b=Pb();function Se(e,t,n=hg){return $b.useSyncExternalStoreWithSelector(V(r=>e.subscribe(Rb,r)),V(()=>e.state),V(()=>e.state),V(t),n)}function Rb(e){return e}function Fr(e,t){let n=$e(),r=Hn.get(t),[o,i]=Se(r,oe(l=>[r.selectors.isTop(l,n),r.selectors.inStack(l,n)],[r,n]));return ge(()=>{if(e)return r.actions.push(n),()=>r.actions.pop(n)},[r,e,n]),e?i?o:!0:!1}let Ma=new Map,fr=new Map;function nc(e){var t;let n=(t=fr.get(e))!=null?t:0;return fr.set(e,n+1),n!==0?()=>rc(e):(Ma.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>rc(e))}function rc(e){var t;let n=(t=fr.get(e))!=null?t:1;if(n===1?fr.delete(e):fr.set(e,n-1),n!==1)return;let r=Ma.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,Ma.delete(e))}function $s(e,{allowed:t,disallowed:n}={}){let r=Fr(e,"inert-others");ge(()=>{var o,i;if(!r)return;let l=dt();for(let s of(o=n==null?void 0:n())!=null?o:[])s&&l.add(nc(s));let a=(i=t==null?void 0:t())!=null?i:[];for(let s of a){if(!s)continue;let u=jt(s);if(!u)continue;let f=s.parentElement;for(;f&&f!==u.body;){for(let p of f.children)a.some(g=>p.contains(g))||l.add(nc(p));f=f.parentElement}}return l.dispose},[r,t,n])}function Rs(e,t,n){let r=nt(o=>{let i=o.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&n()});Q(()=>{if(!e)return;let o=t===null?null:Xe(t)?t:t.current;if(!o)return;let i=dt();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>r.current(o));l.observe(o),i.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>r.current(o));l.observe(o),i.add(()=>l.disconnect())}return()=>i.dispose()},[t,r,e])}let lo=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Tb=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Ie=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Ie||{}),dn=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(dn||{}),Ab=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Ab||{});function bg(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(lo)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function Nb(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Tb)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Ts=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Ts||{});function _g(e,t=0){var n;return e===((n=jt(e))==null?void 0:n.body)?!1:xe(t,{0(){return e.matches(lo)},1(){let r=e;for(;r!==null;){if(r.matches(lo))return!0;r=r.parentElement}return!1}})}var Ob=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Ob||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Lt(e){e==null||e.focus({preventScroll:!0})}let Ib=["textarea","input"].join(",");function kb(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Ib))!=null?n:!1}function Ut(e,t=n=>n){return e.slice().sort((n,r)=>{let o=t(n),i=t(r);if(o===null||i===null)return 0;let l=o.compareDocumentPosition(i);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Mb(e,t){return lt(bg(),t,{relativeTo:e})}function lt(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:o=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,l=Array.isArray(e)?n?Ut(e):e:t&64?Nb(e):bg(e);o.length>0&&l.length>1&&(l=l.filter(d=>!o.some(m=>m!=null&&"current"in m?(m==null?void 0:m.current)===d:m===d))),r=r??i.activeElement;let a=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),s=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(r))-1;if(t&4)return Math.max(0,l.indexOf(r))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},f=0,p=l.length,g;do{if(f>=p||f+p<=0)return 0;let d=s+f;if(t&16)d=(d+p)%p;else{if(d<0)return 3;if(d>=p)return 1}g=l[d],g==null||g.focus(u),f+=a}while(g!==i.activeElement);return t&6&&kb(g)&&g.select(),2}function yg(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Lb(){return/Android/gi.test(window.navigator.userAgent)}function La(){return yg()||Lb()}function Nn(e,t,n,r){let o=nt(n);Q(()=>{if(!e)return;function i(l){o.current(l)}return document.addEventListener(t,i,r),()=>document.removeEventListener(t,i,r)},[e,t,r])}function wg(e,t,n,r){let o=nt(n);Q(()=>{if(!e)return;function i(l){o.current(l)}return window.addEventListener(t,i,r),()=>window.removeEventListener(t,i,r)},[e,t,r])}const oc=30;function As(e,t,n){let r=nt(n),o=oe(function(a,s){if(a.defaultPrevented)return;let u=s(a);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let f=function p(g){return typeof g=="function"?p(g()):Array.isArray(g)||g instanceof Set?g:[g]}(t);for(let p of f)if(p!==null&&(p.contains(u)||a.composed&&a.composedPath().includes(p)))return;return!_g(u,Ts.Loose)&&u.tabIndex!==-1&&a.preventDefault(),r.current(a,u)},[r,t]),i=D(null);Nn(e,"pointerdown",a=>{var s,u;La()||(i.current=((u=(s=a.composedPath)==null?void 0:s.call(a))==null?void 0:u[0])||a.target)},!0),Nn(e,"pointerup",a=>{if(La()||!i.current)return;let s=i.current;return i.current=null,o(a,()=>s)},!0);let l=D({x:0,y:0});Nn(e,"touchstart",a=>{l.current.x=a.touches[0].clientX,l.current.y=a.touches[0].clientY},!0),Nn(e,"touchend",a=>{let s={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(s.x-l.current.x)>=oc||Math.abs(s.y-l.current.y)>=oc))return o(a,()=>gt(a.target)?a.target:null)},!0),wg(e,"blur",a=>o(a,()=>z0(window.document.activeElement)?window.document.activeElement:null),!0)}function Gt(...e){return G(()=>jt(...e),[...e])}var Db=(e=>(e[e.Ignore=0]="Ignore",e[e.Select=1]="Select",e[e.Close=2]="Close",e))(Db||{});const It={Ignore:{kind:0},Select:e=>({kind:1,target:e}),Close:{kind:2}},Gb=200;function Sg(e,{trigger:t,action:n,close:r,select:o}){let i=D(null);Nn(e&&t!==null,"pointerdown",l=>{Ss(l==null?void 0:l.target)&&t!=null&&t.contains(l.target)&&(i.current=new Date)}),Nn(e&&t!==null,"pointerup",l=>{if(i.current===null||!gt(l.target))return;let a=n(l),s=new Date().getTime()-i.current.getTime();switch(i.current=null,a.kind){case 0:return;case 1:{s>Gb&&(o(a.target),r());break}case 2:{r();break}}},{capture:!0})}function Ns(e,t,n,r){let o=nt(n);Q(()=>{e=e??window;function i(l){o.current(l)}return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)},[e,t,r])}function xg(e){let t=D({value:"",selectionStart:null,selectionEnd:null});return Ns(e,"blur",n=>{let r=n.target;io(r)&&(t.current={value:r.value,selectionStart:r.selectionStart,selectionEnd:r.selectionEnd})}),V(()=>{if(document.activeElement!==e&&io(e)&&e.isConnected){if(e.focus({preventScroll:!0}),e.value!==t.current.value)e.setSelectionRange(e.value.length,e.value.length);else{let{selectionStart:n,selectionEnd:r}=t.current;n!==null&&r!==null&&e.setSelectionRange(n,r)}t.current={value:"",selectionStart:null,selectionEnd:null}}})}function _o(e,t){return G(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function Vb(e){return fo(e.subscribe,e.getSnapshot,e.getSnapshot)}function Bb(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(o){return r.add(o),()=>r.delete(o)},dispatch(o,...i){let l=t[o].call(n,...i);l&&(n=l,r.forEach(a=>a()))}}}function jb(){let e;return{before({doc:t}){var n;let r=t.documentElement,o=(n=t.defaultView)!=null?n:window;e=Math.max(0,o.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,o=Math.max(0,r.clientWidth-r.offsetWidth),i=Math.max(0,e-o);n.style(r,"paddingRight",`${i}px`)}}}function Hb(){return yg()?{before({doc:e,d:t,meta:n}){function r(o){return n.containers.flatMap(i=>i()).some(i=>i.contains(o))}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let a=dt();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let i=(o=window.scrollY)!=null?o:window.pageYOffset,l=null;t.addEventListener(e,"click",a=>{if(gt(a.target))try{let s=a.target.closest("a");if(!s)return;let{hash:u}=new URL(s.href),f=e.querySelector(u);gt(f)&&!r(f)&&(l=f)}catch{}},!0),t.addEventListener(e,"touchstart",a=>{if(gt(a.target)&&q0(a.target))if(r(a.target)){let s=a.target;for(;s.parentElement&&r(s.parentElement);)s=s.parentElement;t.style(s,"overscrollBehavior","contain")}else t.style(a.target,"touchAction","none")}),t.addEventListener(e,"touchmove",a=>{if(gt(a.target)){if(io(a.target))return;if(r(a.target)){let s=a.target;for(;s.parentElement&&s.dataset.headlessuiPortal!==""&&!(s.scrollHeight>s.clientHeight||s.scrollWidth>s.clientWidth);)s=s.parentElement;s.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),t.add(()=>{var a;let s=(a=window.scrollY)!=null?a:window.pageYOffset;i!==s&&window.scrollTo(0,i),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function qb(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function zb(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let fn=Bb(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:dt(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:zb(n)},o=[Hb(),jb(),qb()];o.forEach(({before:i})=>i==null?void 0:i(r)),o.forEach(({after:i})=>i==null?void 0:i(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});fn.subscribe(()=>{let e=fn.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",o=n.count!==0;(o&&!r||!o&&r)&&fn.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&fn.dispatch("TEARDOWN",n)}});function Ub(e,t,n=()=>({containers:[]})){let r=Vb(fn),o=t?r.get(t):void 0,i=o?o.count>0:!1;return ge(()=>{if(!(!t||!e))return fn.dispatch("PUSH",t,n),()=>fn.dispatch("POP",t,n)},[e,t]),i}function Os(e,t,n=()=>[document.body]){let r=Fr(e,"scroll-lock");Ub(r,t,o=>{var i;return{containers:[...(i=o.containers)!=null?i:[],n]}})}function ic(e){return[e.screenX,e.screenY]}function Cg(){let e=D([-1,-1]);return{wasMoved(t){let n=ic(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=ic(t)}}}function Wb(e=0){let[t,n]=A(e),r=oe(s=>n(s),[t]),o=oe(s=>n(u=>u|s),[t]),i=oe(s=>(t&s)===s,[t]),l=oe(s=>n(u=>u&~s),[n]),a=oe(s=>n(u=>u^s),[n]);return{flags:t,setFlag:r,addFlag:o,hasFlag:i,removeFlag:l,toggleFlag:a}}var Kb={},lc,ac;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((lc=process==null?void 0:Kb)==null?void 0:lc.NODE_ENV)==="test"&&typeof((ac=Element==null?void 0:Element.prototype)==null?void 0:ac.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Yb=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(Yb||{});function yo(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function wo(e,t,n,r){let[o,i]=A(n),{hasFlag:l,addFlag:a,removeFlag:s}=Wb(e&&o?3:0),u=D(!1),f=D(!1),p=tn();return ge(()=>{var g;if(e){if(n&&i(!0),!t){n&&a(3);return}return(g=r==null?void 0:r.start)==null||g.call(r,n),Xb(t,{inFlight:u,prepare(){f.current?f.current=!1:f.current=u.current,u.current=!0,!f.current&&(n?(a(3),s(4)):(a(4),s(2)))},run(){f.current?n?(s(3),a(4)):(s(4),a(3)):n?s(1):a(1)},done(){var d;f.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(u.current=!1,s(7),n||i(!1),(d=r==null?void 0:r.end)==null||d.call(r,n))}})}},[e,n,t,p]),e?[o,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Xb(e,{prepare:t,run:n,done:r,inFlight:o}){let i=dt();return Qb(e,{prepare:t,inFlight:o}),i.nextFrame(()=>{n(),i.requestAnimationFrame(()=>{i.add(Jb(e,r))})}),i.dispose}function Jb(e,t){var n,r;let o=dt();if(!e)return o.dispose;let i=!1;o.add(()=>{i=!0});let l=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(a=>a instanceof CSSTransition))!=null?r:[];return l.length===0?(t(),o.dispose):(Promise.allSettled(l.map(a=>a.finished)).then(()=>{i||t()}),o.dispose)}function Qb(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function Zb(e,{container:t,accept:n,walk:r}){let o=D(n),i=D(r);Q(()=>{o.current=n,i.current=r},[n,r]),ge(()=>{if(!t||!e)return;let l=jt(t);if(!l)return;let a=o.current,s=i.current,u=Object.assign(p=>a(p),{acceptNode:a}),f=l.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;f.nextNode();)s(f.currentNode)},[t,e,o,i])}function mr(e,t){let n=D([]),r=V(e);Q(()=>{let o=[...n.current];for(let[i,l]of t.entries())if(n.current[i]!==l){let a=r(t,o);return n.current=t,a}},[r,...t])}function So(){return typeof window<"u"}function qn(e){return Fg(e)?(e.nodeName||"").toLowerCase():"#document"}function rt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Tt(e){var t;return(t=(Fg(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Fg(e){return So()?e instanceof Node||e instanceof rt(e).Node:!1}function We(e){return So()?e instanceof Element||e instanceof rt(e).Element:!1}function Rt(e){return So()?e instanceof HTMLElement||e instanceof rt(e).HTMLElement:!1}function sc(e){return!So()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof rt(e).ShadowRoot}function Er(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=ht(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function e_(e){return["table","td","th"].includes(qn(e))}function xo(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Is(e){const t=ks(),n=We(e)?ht(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function t_(e){let t=Jt(e);for(;Rt(t)&&!Gn(t);){if(Is(t))return t;if(xo(t))return null;t=Jt(t)}return null}function ks(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Gn(e){return["html","body","#document"].includes(qn(e))}function ht(e){return rt(e).getComputedStyle(e)}function Co(e){return We(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Jt(e){if(qn(e)==="html")return e;const t=e.assignedSlot||e.parentNode||sc(e)&&e.host||Tt(e);return sc(t)?t.host:t}function Eg(e){const t=Jt(e);return Gn(t)?e.ownerDocument?e.ownerDocument.body:e.body:Rt(t)&&Er(t)?t:Eg(t)}function hr(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Eg(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),l=rt(o);if(i){const a=Da(l);return t.concat(l,l.visualViewport||[],Er(o)?o:[],a&&n?hr(a):[])}return t.concat(o,hr(o,[],n))}function Da(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function n_(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}const hn=Math.min,He=Math.max,vr=Math.round,Ur=Math.floor,$t=e=>({x:e,y:e}),r_={left:"right",right:"left",bottom:"top",top:"bottom"},o_={start:"end",end:"start"};function uc(e,t,n){return He(e,hn(t,n))}function zn(e,t){return typeof e=="function"?e(t):e}function Qt(e){return e.split("-")[0]}function Pr(e){return e.split("-")[1]}function Pg(e){return e==="x"?"y":"x"}function $g(e){return e==="y"?"height":"width"}function kt(e){return["top","bottom"].includes(Qt(e))?"y":"x"}function Rg(e){return Pg(kt(e))}function i_(e,t,n){n===void 0&&(n=!1);const r=Pr(e),o=Rg(e),i=$g(o);let l=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=ao(l)),[l,ao(l)]}function l_(e){const t=ao(e);return[Ga(e),t,Ga(t)]}function Ga(e){return e.replace(/start|end/g,t=>o_[t])}function a_(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:l;default:return[]}}function s_(e,t,n,r){const o=Pr(e);let i=a_(Qt(e),n==="start",r);return o&&(i=i.map(l=>l+"-"+o),t&&(i=i.concat(i.map(Ga)))),i}function ao(e){return e.replace(/left|right|bottom|top/g,t=>r_[t])}function u_(e){return{top:0,right:0,bottom:0,left:0,...e}}function c_(e){return typeof e!="number"?u_(e):{top:e,right:e,bottom:e,left:e}}function so(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function cc(e,t,n){let{reference:r,floating:o}=e;const i=kt(t),l=Rg(t),a=$g(l),s=Qt(t),u=i==="y",f=r.x+r.width/2-o.width/2,p=r.y+r.height/2-o.height/2,g=r[a]/2-o[a]/2;let d;switch(s){case"top":d={x:f,y:r.y-o.height};break;case"bottom":d={x:f,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:p};break;case"left":d={x:r.x-o.width,y:p};break;default:d={x:r.x,y:r.y}}switch(Pr(t)){case"start":d[l]-=g*(n&&u?-1:1);break;case"end":d[l]+=g*(n&&u?-1:1);break}return d}const d_=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:l}=n,a=i.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(t));let u=await l.getElementRects({reference:e,floating:t,strategy:o}),{x:f,y:p}=cc(u,r,s),g=r,d={},m=0;for(let h=0;h<a.length;h++){const{name:v,fn:b}=a[h],{x:_,y,data:x,reset:S}=await b({x:f,y:p,initialPlacement:r,placement:g,strategy:o,middlewareData:d,rects:u,platform:l,elements:{reference:e,floating:t}});f=_??f,p=y??p,d={...d,[v]:{...d[v],...x}},S&&m<=50&&(m++,typeof S=="object"&&(S.placement&&(g=S.placement),S.rects&&(u=S.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:o}):S.rects),{x:f,y:p}=cc(u,g,s)),h=-1)}return{x:f,y:p,placement:g,strategy:o,middlewareData:d}};async function Fo(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:l,elements:a,strategy:s}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:g=!1,padding:d=0}=zn(t,e),m=c_(d),v=a[g?p==="floating"?"reference":"floating":p],b=so(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(v)))==null||n?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:s})),_=p==="floating"?{x:r,y:o,width:l.floating.width,height:l.floating.height}:l.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),x=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},S=so(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:y,strategy:s}):_);return{top:(b.top-S.top+m.top)/x.y,bottom:(S.bottom-b.bottom+m.bottom)/x.y,left:(b.left-S.left+m.left)/x.x,right:(S.right-b.right+m.right)/x.x}}const f_=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:l,initialPlacement:a,platform:s,elements:u}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:h=!0,...v}=zn(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=Qt(o),_=kt(a),y=Qt(a)===a,x=await(s.isRTL==null?void 0:s.isRTL(u.floating)),S=g||(y||!h?[ao(a)]:l_(a)),C=m!=="none";!g&&C&&S.push(...s_(a,h,m,x));const N=[a,...S],M=await Fo(t,v),k=[];let E=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&k.push(M[b]),p){const z=i_(o,l,x);k.push(M[z[0]],M[z[1]])}if(E=[...E,{placement:o,overflows:k}],!k.every(z=>z<=0)){var $,I;const z=((($=i.flip)==null?void 0:$.index)||0)+1,L=N[z];if(L&&(!(p==="alignment"?_!==kt(L):!1)||E.every(Y=>Y.overflows[0]>0&&kt(Y.placement)===_)))return{data:{index:z,overflows:E},reset:{placement:L}};let R=(I=E.filter(K=>K.overflows[0]<=0).sort((K,Y)=>K.overflows[1]-Y.overflows[1])[0])==null?void 0:I.placement;if(!R)switch(d){case"bestFit":{var H;const K=(H=E.filter(Y=>{if(C){const ee=kt(Y.placement);return ee===_||ee==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(ee=>ee>0).reduce((ee,q)=>ee+q,0)]).sort((Y,ee)=>Y[1]-ee[1])[0])==null?void 0:H[0];K&&(R=K);break}case"initialPlacement":R=a;break}if(o!==R)return{reset:{placement:R}}}return{}}}};async function p_(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),l=Qt(n),a=Pr(n),s=kt(n)==="y",u=["left","top"].includes(l)?-1:1,f=i&&s?-1:1,p=zn(t,e);let{mainAxis:g,crossAxis:d,alignmentAxis:m}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof m=="number"&&(d=a==="end"?m*-1:m),s?{x:d*f,y:g*u}:{x:g*u,y:d*f}}const g_=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:l,middlewareData:a}=t,s=await p_(t,e);return l===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+s.x,y:i+s.y,data:{...s,placement:l}}}}},m_=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:l=!1,limiter:a={fn:v=>{let{x:b,y:_}=v;return{x:b,y:_}}},...s}=zn(e,t),u={x:n,y:r},f=await Fo(t,s),p=kt(Qt(o)),g=Pg(p);let d=u[g],m=u[p];if(i){const v=g==="y"?"top":"left",b=g==="y"?"bottom":"right",_=d+f[v],y=d-f[b];d=uc(_,d,y)}if(l){const v=p==="y"?"top":"left",b=p==="y"?"bottom":"right",_=m+f[v],y=m-f[b];m=uc(_,m,y)}const h=a.fn({...t,[g]:d,[p]:m});return{...h,data:{x:h.x-n,y:h.y-r,enabled:{[g]:i,[p]:l}}}}}},h_=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:l,elements:a}=t,{apply:s=()=>{},...u}=zn(e,t),f=await Fo(t,u),p=Qt(o),g=Pr(o),d=kt(o)==="y",{width:m,height:h}=i.floating;let v,b;p==="top"||p==="bottom"?(v=p,b=g===(await(l.isRTL==null?void 0:l.isRTL(a.floating))?"start":"end")?"left":"right"):(b=p,v=g==="end"?"top":"bottom");const _=h-f.top-f.bottom,y=m-f.left-f.right,x=hn(h-f[v],_),S=hn(m-f[b],y),C=!t.middlewareData.shift;let N=x,M=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(M=y),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=_),C&&!g){const E=He(f.left,0),$=He(f.right,0),I=He(f.top,0),H=He(f.bottom,0);d?M=m-2*(E!==0||$!==0?E+$:He(f.left,f.right)):N=h-2*(I!==0||H!==0?I+H:He(f.top,f.bottom))}await s({...t,availableWidth:M,availableHeight:N});const k=await l.getDimensions(a.floating);return m!==k.width||h!==k.height?{reset:{rects:!0}}:{}}}};function Tg(e){const t=ht(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Rt(e),i=o?e.offsetWidth:n,l=o?e.offsetHeight:r,a=vr(n)!==i||vr(r)!==l;return a&&(n=i,r=l),{width:n,height:r,$:a}}function Ms(e){return We(e)?e:e.contextElement}function kn(e){const t=Ms(e);if(!Rt(t))return $t(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Tg(t);let l=(i?vr(n.width):n.width)/r,a=(i?vr(n.height):n.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!a||!Number.isFinite(a))&&(a=1),{x:l,y:a}}const v_=$t(0);function Ag(e){const t=rt(e);return!ks()||!t.visualViewport?v_:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function b_(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==rt(e)?!1:t}function vn(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=Ms(e);let l=$t(1);t&&(r?We(r)&&(l=kn(r)):l=kn(e));const a=b_(i,n,r)?Ag(i):$t(0);let s=(o.left+a.x)/l.x,u=(o.top+a.y)/l.y,f=o.width/l.x,p=o.height/l.y;if(i){const g=rt(i),d=r&&We(r)?rt(r):r;let m=g,h=Da(m);for(;h&&r&&d!==m;){const v=kn(h),b=h.getBoundingClientRect(),_=ht(h),y=b.left+(h.clientLeft+parseFloat(_.paddingLeft))*v.x,x=b.top+(h.clientTop+parseFloat(_.paddingTop))*v.y;s*=v.x,u*=v.y,f*=v.x,p*=v.y,s+=y,u+=x,m=rt(h),h=Da(m)}}return so({width:f,height:p,x:s,y:u})}function Ls(e,t){const n=Co(e).scrollLeft;return t?t.left+n:vn(Tt(e)).left+n}function Ng(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-(n?0:Ls(e,r)),i=r.top+t.scrollTop;return{x:o,y:i}}function __(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",l=Tt(r),a=t?xo(t.floating):!1;if(r===l||a&&i)return n;let s={scrollLeft:0,scrollTop:0},u=$t(1);const f=$t(0),p=Rt(r);if((p||!p&&!i)&&((qn(r)!=="body"||Er(l))&&(s=Co(r)),Rt(r))){const d=vn(r);u=kn(r),f.x=d.x+r.clientLeft,f.y=d.y+r.clientTop}const g=l&&!p&&!i?Ng(l,s,!0):$t(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-s.scrollLeft*u.x+f.x+g.x,y:n.y*u.y-s.scrollTop*u.y+f.y+g.y}}function y_(e){return Array.from(e.getClientRects())}function w_(e){const t=Tt(e),n=Co(e),r=e.ownerDocument.body,o=He(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=He(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Ls(e);const a=-n.scrollTop;return ht(r).direction==="rtl"&&(l+=He(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:l,y:a}}function S_(e,t){const n=rt(e),r=Tt(e),o=n.visualViewport;let i=r.clientWidth,l=r.clientHeight,a=0,s=0;if(o){i=o.width,l=o.height;const u=ks();(!u||u&&t==="fixed")&&(a=o.offsetLeft,s=o.offsetTop)}return{width:i,height:l,x:a,y:s}}function x_(e,t){const n=vn(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Rt(e)?kn(e):$t(1),l=e.clientWidth*i.x,a=e.clientHeight*i.y,s=o*i.x,u=r*i.y;return{width:l,height:a,x:s,y:u}}function dc(e,t,n){let r;if(t==="viewport")r=S_(e,n);else if(t==="document")r=w_(Tt(e));else if(We(t))r=x_(t,n);else{const o=Ag(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return so(r)}function Og(e,t){const n=Jt(e);return n===t||!We(n)||Gn(n)?!1:ht(n).position==="fixed"||Og(n,t)}function C_(e,t){const n=t.get(e);if(n)return n;let r=hr(e,[],!1).filter(a=>We(a)&&qn(a)!=="body"),o=null;const i=ht(e).position==="fixed";let l=i?Jt(e):e;for(;We(l)&&!Gn(l);){const a=ht(l),s=Is(l);!s&&a.position==="fixed"&&(o=null),(i?!s&&!o:!s&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Er(l)&&!s&&Og(e,l))?r=r.filter(f=>f!==l):o=a,l=Jt(l)}return t.set(e,r),r}function F_(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const l=[...n==="clippingAncestors"?xo(t)?[]:C_(t,this._c):[].concat(n),r],a=l[0],s=l.reduce((u,f)=>{const p=dc(t,f,o);return u.top=He(p.top,u.top),u.right=hn(p.right,u.right),u.bottom=hn(p.bottom,u.bottom),u.left=He(p.left,u.left),u},dc(t,a,o));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function E_(e){const{width:t,height:n}=Tg(e);return{width:t,height:n}}function P_(e,t,n){const r=Rt(t),o=Tt(t),i=n==="fixed",l=vn(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const s=$t(0);function u(){s.x=Ls(o)}if(r||!r&&!i)if((qn(t)!=="body"||Er(o))&&(a=Co(t)),r){const d=vn(t,!0,i,t);s.x=d.x+t.clientLeft,s.y=d.y+t.clientTop}else o&&u();i&&!r&&o&&u();const f=o&&!r&&!i?Ng(o,a):$t(0),p=l.left+a.scrollLeft-s.x-f.x,g=l.top+a.scrollTop-s.y-f.y;return{x:p,y:g,width:l.width,height:l.height}}function li(e){return ht(e).position==="static"}function fc(e,t){if(!Rt(e)||ht(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Tt(e)===n&&(n=n.ownerDocument.body),n}function Ig(e,t){const n=rt(e);if(xo(e))return n;if(!Rt(e)){let o=Jt(e);for(;o&&!Gn(o);){if(We(o)&&!li(o))return o;o=Jt(o)}return n}let r=fc(e,t);for(;r&&e_(r)&&li(r);)r=fc(r,t);return r&&Gn(r)&&li(r)&&!Is(r)?n:r||t_(e)||n}const $_=async function(e){const t=this.getOffsetParent||Ig,n=this.getDimensions,r=await n(e.floating);return{reference:P_(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function R_(e){return ht(e).direction==="rtl"}const T_={convertOffsetParentRelativeRectToViewportRelativeRect:__,getDocumentElement:Tt,getClippingRect:F_,getOffsetParent:Ig,getElementRects:$_,getClientRects:y_,getDimensions:E_,getScale:kn,isElement:We,isRTL:R_};function kg(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function A_(e,t){let n=null,r;const o=Tt(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function l(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),i();const u=e.getBoundingClientRect(),{left:f,top:p,width:g,height:d}=u;if(a||t(),!g||!d)return;const m=Ur(p),h=Ur(o.clientWidth-(f+g)),v=Ur(o.clientHeight-(p+d)),b=Ur(f),y={rootMargin:-m+"px "+-h+"px "+-v+"px "+-b+"px",threshold:He(0,hn(1,s))||1};let x=!0;function S(C){const N=C[0].intersectionRatio;if(N!==s){if(!x)return l();N?l(!1,N):r=setTimeout(()=>{l(!1,1e-7)},1e3)}N===1&&!kg(u,e.getBoundingClientRect())&&l(),x=!1}try{n=new IntersectionObserver(S,{...y,root:o.ownerDocument})}catch{n=new IntersectionObserver(S,y)}n.observe(e)}return l(!0),i}function N_(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=r,u=Ms(e),f=o||i?[...u?hr(u):[],...hr(t)]:[];f.forEach(b=>{o&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const p=u&&a?A_(u,n):null;let g=-1,d=null;l&&(d=new ResizeObserver(b=>{let[_]=b;_&&_.target===u&&d&&(d.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var y;(y=d)==null||y.observe(t)})),n()}),u&&!s&&d.observe(u),d.observe(t));let m,h=s?vn(e):null;s&&v();function v(){const b=vn(e);h&&!kg(h,b)&&n(),h=b,m=requestAnimationFrame(v)}return n(),()=>{var b;f.forEach(_=>{o&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),p==null||p(),(b=d)==null||b.disconnect(),d=null,s&&cancelAnimationFrame(m)}}const ai=Fo,O_=g_,I_=m_,k_=f_,M_=h_,L_=(e,t,n)=>{const r=new Map,o={platform:T_,...n},i={...o.platform,_c:r};return d_(e,t,{...o,platform:i})};var D_=typeof document<"u",G_=function(){},Yr=D_?vt:G_;function uo(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!uo(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!uo(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Mg(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function pc(e,t){const n=Mg(e);return Math.round(t*n)/n}function si(e){const t=D(e);return Yr(()=>{t.current=e}),t}function V_(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:l}={},transform:a=!0,whileElementsMounted:s,open:u}=e,[f,p]=A({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,d]=A(r);uo(g,r)||d(r);const[m,h]=A(null),[v,b]=A(null),_=oe(Y=>{Y!==C.current&&(C.current=Y,h(Y))},[]),y=oe(Y=>{Y!==N.current&&(N.current=Y,b(Y))},[]),x=i||m,S=l||v,C=D(null),N=D(null),M=D(f),k=s!=null,E=si(s),$=si(o),I=si(u),H=oe(()=>{if(!C.current||!N.current)return;const Y={placement:t,strategy:n,middleware:g};$.current&&(Y.platform=$.current),L_(C.current,N.current,Y).then(ee=>{const q={...ee,isPositioned:I.current!==!1};z.current&&!uo(M.current,q)&&(M.current=q,De(()=>{p(q)}))})},[g,t,n,$,I]);Yr(()=>{u===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,p(Y=>({...Y,isPositioned:!1})))},[u]);const z=D(!1);Yr(()=>(z.current=!0,()=>{z.current=!1}),[]),Yr(()=>{if(x&&(C.current=x),S&&(N.current=S),x&&S){if(E.current)return E.current(x,S,H);H()}},[x,S,H,E,k]);const L=G(()=>({reference:C,floating:N,setReference:_,setFloating:y}),[_,y]),R=G(()=>({reference:x,floating:S}),[x,S]),K=G(()=>{const Y={position:n,left:0,top:0};if(!R.floating)return Y;const ee=pc(R.floating,f.x),q=pc(R.floating,f.y);return a?{...Y,transform:"translate("+ee+"px, "+q+"px)",...Mg(R.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ee,top:q}},[n,a,R.floating,f.x,f.y]);return G(()=>({...f,update:H,refs:L,elements:R,floatingStyles:K}),[f,H,L,R,K])}const Lg=(e,t)=>({...O_(e),options:[e,t]}),B_=(e,t)=>({...I_(e),options:[e,t]}),j_=(e,t)=>({...k_(e),options:[e,t]}),H_=(e,t)=>({...M_(e),options:[e,t]}),Dg={...no},q_=Dg.useInsertionEffect,z_=q_||(e=>e());function Gg(e){const t=D(()=>{});return z_(()=>{t.current=e}),oe(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}var Va=typeof document<"u"?vt:Q;let gc=!1,U_=0;const mc=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+U_++;function W_(){const[e,t]=A(()=>gc?mc():void 0);return Va(()=>{e==null&&t(mc())},[]),Q(()=>{gc=!0},[]),e}const K_=Dg.useId,Y_=K_||W_;function X_(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const J_=be(null),Q_=be(null),Z_=()=>{var e;return((e=se(J_))==null?void 0:e.id)||null},ey=()=>se(Q_),ty="data-floating-ui-focusable";function ny(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=Y_(),i=D({}),[l]=A(()=>X_()),a=Z_()!=null,[s,u]=A(r.reference),f=Gg((d,m,h)=>{i.current.openEvent=d?m:void 0,l.emit("openchange",{open:d,event:m,reason:h,nested:a}),n==null||n(d,m,h)}),p=G(()=>({setPositionReference:u}),[]),g=G(()=>({reference:s||r.reference||null,floating:r.floating||null,domReference:r.reference}),[s,r.reference,r.floating]);return G(()=>({dataRef:i,open:t,onOpenChange:f,elements:g,events:l,floatingId:o,refs:p}),[t,f,g,l,o,p])}function ry(e){e===void 0&&(e={});const{nodeId:t}=e,n=ny({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[i,l]=A(null),[a,s]=A(null),f=(o==null?void 0:o.domReference)||i,p=D(null),g=ey();Va(()=>{f&&(p.current=f)},[f]);const d=V_({...e,elements:{...o,...a&&{reference:a}}}),m=oe(y=>{const x=We(y)?{getBoundingClientRect:()=>y.getBoundingClientRect(),contextElement:y}:y;s(x),d.refs.setReference(x)},[d.refs]),h=oe(y=>{(We(y)||y===null)&&(p.current=y,l(y)),(We(d.refs.reference.current)||d.refs.reference.current===null||y!==null&&!We(y))&&d.refs.setReference(y)},[d.refs]),v=G(()=>({...d.refs,setReference:h,setPositionReference:m,domReference:p}),[d.refs,h,m]),b=G(()=>({...d.elements,domReference:f}),[d.elements,f]),_=G(()=>({...d,...r,refs:v,elements:b,nodeId:t}),[d,v,b,t,r]);return Va(()=>{r.dataRef.current.floatingContext=_;const y=g==null?void 0:g.nodesRef.current.find(x=>x.id===t);y&&(y.context=_)}),G(()=>({...d,context:_,refs:v,elements:b}),[d,v,b,_])}const hc="active",vc="selected";function ui(e,t,n){const r=new Map,o=n==="item";let i=e;if(o&&e){const{[hc]:l,[vc]:a,...s}=e;i=s}return{...n==="floating"&&{tabIndex:-1,[ty]:""},...i,...t.map(l=>{const a=l?l[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((l,a)=>(a&&Object.entries(a).forEach(s=>{let[u,f]=s;if(!(o&&[hc,vc].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof f=="function"){var p;(p=r.get(u))==null||p.push(f),l[u]=function(){for(var g,d=arguments.length,m=new Array(d),h=0;h<d;h++)m[h]=arguments[h];return(g=r.get(u))==null?void 0:g.map(v=>v(...m)).find(v=>v!==void 0)}}}else l[u]=f}),l),{})}}function oy(e){e===void 0&&(e=[]);const t=e.map(a=>a==null?void 0:a.reference),n=e.map(a=>a==null?void 0:a.floating),r=e.map(a=>a==null?void 0:a.item),o=oe(a=>ui(a,e,"reference"),t),i=oe(a=>ui(a,e,"floating"),n),l=oe(a=>ui(a,e,"item"),r);return G(()=>({getReferenceProps:o,getFloatingProps:i,getItemProps:l}),[o,i,l])}function bc(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const iy=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:o,offset:i=0,index:l=0,minItemsVisible:a=4,referenceOverflowThreshold:s=0,scrollRef:u,...f}=zn(e,t),{rects:p,elements:{floating:g}}=t,d=n.current[l],m=(u==null?void 0:u.current)||g,h=g.clientTop||m.clientTop,v=g.clientTop!==0,b=m.clientTop!==0,_=g===m;if(!d)return{};const y={...t,...await Lg(-d.offsetTop-g.clientTop-p.reference.height/2-d.offsetHeight/2-i).fn(t)},x=await ai(bc(y,m.scrollHeight+h+g.clientTop),f),S=await ai(y,{...f,elementContext:"reference"}),C=He(0,x.top),N=y.y+C,E=(m.scrollHeight>m.clientHeight?$=>$:vr)(He(0,m.scrollHeight+(v&&_||b?h*2:0)-C-He(0,x.bottom)));if(m.style.maxHeight=E+"px",m.scrollTop=C,o){const $=m.offsetHeight<d.offsetHeight*hn(a,n.current.length)-1||S.top>=-s||S.bottom>=-s;De(()=>o($))}return r&&(r.current=await ai(bc({...y,y:N},m.offsetHeight+h+g.clientTop),f)),{y:N}}});function ly(e,t){const{open:n,elements:r}=e,{enabled:o=!0,overflowRef:i,scrollRef:l,onChange:a}=t,s=Gg(a),u=D(!1),f=D(null),p=D(null);Q(()=>{if(!o)return;function d(h){if(h.ctrlKey||!m||i.current==null)return;const v=h.deltaY,b=i.current.top>=-.5,_=i.current.bottom>=-.5,y=m.scrollHeight-m.clientHeight,x=v<0?-1:1,S=v<0?"max":"min";m.scrollHeight<=m.clientHeight||(!b&&v>0||!_&&v<0?(h.preventDefault(),De(()=>{s(C=>C+Math[S](v,y*x))})):/firefox/i.test(n_())&&(m.scrollTop+=v))}const m=(l==null?void 0:l.current)||r.floating;if(n&&m)return m.addEventListener("wheel",d),requestAnimationFrame(()=>{f.current=m.scrollTop,i.current!=null&&(p.current={...i.current})}),()=>{f.current=null,p.current=null,m.removeEventListener("wheel",d)}},[o,n,r.floating,i,l,s]);const g=G(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const d=(l==null?void 0:l.current)||r.floating;if(!(!i.current||!d||!u.current)){if(f.current!==null){const m=d.scrollTop-f.current;(i.current.bottom<-.5&&m<-1||i.current.top<-.5&&m>1)&&De(()=>s(h=>h+m))}requestAnimationFrame(()=>{f.current=d.scrollTop})}}}),[r.floating,s,i,l]);return G(()=>o?{floating:g}:{},[o,g])}let Un=be({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Un.displayName="FloatingContext";let Ds=be(null);Ds.displayName="PlacementContext";function Vg(e){return G(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function Bg(){return se(Un).setReference}function ay(){return se(Un).getReferenceProps}function jg(){let{getFloatingProps:e,slot:t}=se(Un);return oe((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function Hg(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=se(Ds),n=G(()=>e,[JSON.stringify(e,(o,i)=>{var l;return(l=i==null?void 0:i.outerHTML)!=null?l:i})]);ge(()=>{t==null||t(n??null)},[t,n]);let r=se(Un);return G(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let _c=4;function qg({children:e,enabled:t=!0}){let[n,r]=A(null),[o,i]=A(0),l=D(null),[a,s]=A(null);sy(a);let u=t&&n!==null&&a!==null,{to:f="bottom",gap:p=0,offset:g=0,padding:d=0,inner:m}=uy(n,a),[h,v="center"]=f.split(" ");ge(()=>{u&&i(0)},[u]);let{refs:b,floatingStyles:_,context:y}=ry({open:u,placement:h==="selection"?v==="center"?"bottom":`bottom-${v}`:v==="center"?`${h}`:`${h}-${v}`,strategy:"absolute",transform:!1,middleware:[Lg({mainAxis:h==="selection"?0:p,crossAxis:g}),B_({padding:d}),h!=="selection"&&j_({padding:d}),h==="selection"&&m?iy({...m,padding:d,overflowRef:l,offset:o,minItemsVisible:_c,referenceOverflowThreshold:d,onFallbackChange($){var I,H;if(!$)return;let z=y.elements.floating;if(!z)return;let L=parseFloat(getComputedStyle(z).scrollPaddingBottom)||0,R=Math.min(_c,z.childElementCount),K=0,Y=0;for(let ee of(H=(I=y.elements.floating)==null?void 0:I.childNodes)!=null?H:[])if(Xe(ee)){let q=ee.offsetTop,O=q+ee.clientHeight+L,Z=z.scrollTop,U=Z+z.clientHeight;if(q>=Z&&O<=U)R--;else{Y=Math.max(0,Math.min(O,U)-Math.max(q,Z)),K=ee.clientHeight;break}}R>=1&&i(ee=>{let q=K*R-Y+L;return ee>=q?ee:q})}}):null,H_({padding:d,apply({availableWidth:$,availableHeight:I,elements:H}){Object.assign(H.floating.style,{overflow:"auto",maxWidth:`${$}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${I}px)`})}})].filter(Boolean),whileElementsMounted:N_}),[x=h,S=v]=y.placement.split("-");h==="selection"&&(x="selection");let C=G(()=>({anchor:[x,S].filter(Boolean).join(" ")}),[x,S]),N=ly(y,{overflowRef:l,onChange:i}),{getReferenceProps:M,getFloatingProps:k}=oy([N]),E=V($=>{s($),b.setFloating($)});return ke(Ds.Provider,{value:r},ke(Un.Provider,{value:{setFloating:E,setReference:b.setReference,styles:_,getReferenceProps:M,getFloatingProps:k,slot:C}},e))}function sy(e){ge(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,r=parseFloat(n);if(isNaN(r))return;let o=parseInt(n);isNaN(o)||r!==o&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function uy(e,t){var n,r,o;let i=ci((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),l=ci((r=e==null?void 0:e.offset)!=null?r:"var(--anchor-offset, 0)",t),a=ci((o=e==null?void 0:e.padding)!=null?o:"var(--anchor-padding, 0)",t);return{...e,gap:i,offset:l,padding:a}}function ci(e,t,n=void 0){let r=tn(),o=V((s,u)=>{if(s==null)return[n,null];if(typeof s=="number")return[s,null];if(typeof s=="string"){if(!u)return[n,null];let f=yc(s,u);return[f,p=>{let g=zg(s);{let d=g.map(m=>window.getComputedStyle(u).getPropertyValue(m));r.requestAnimationFrame(function m(){r.nextFrame(m);let h=!1;for(let[b,_]of g.entries()){let y=window.getComputedStyle(u).getPropertyValue(_);if(d[b]!==y){d[b]=y,h=!0;break}}if(!h)return;let v=yc(s,u);f!==v&&(p(v),f=v)})}return r.dispose}]}return[n,null]}),i=G(()=>o(e,t)[0],[e,t]),[l=i,a]=A();return ge(()=>{let[s,u]=o(e,t);if(a(s),!!u)return u(a)},[e,t]),l}function zg(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),o=t[1].slice(n+1).trim();return o?[r,...zg(o)]:[r]}return[]}function yc(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}function cy({children:e,freeze:t}){let n=co(t,e);return F.createElement(F.Fragment,null,n)}function co(e,t){let[n,r]=A(t);return!e&&n!==t&&r(t),e?n:t}let Eo=be(null);Eo.displayName="OpenClosedContext";var Oe=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Oe||{});function yn(){return se(Eo)}function Po({value:e,children:t}){return F.createElement(Eo.Provider,{value:e},t)}function Ug({children:e}){return F.createElement(Eo.Provider,{value:null},e)}function dy(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Ft=[];dy(()=>{function e(t){if(!gt(t.target)||t.target===document.body||Ft[0]===t.target)return;let n=t.target;n=n.closest(lo),Ft.unshift(n??t.target),Ft=Ft.filter(r=>r!=null&&r.isConnected),Ft.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function fy(e){throw new Error("Unexpected object: "+e)}var ce=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(ce||{});function On(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),o=r??-1;switch(e.focus){case 0:{for(let i=0;i<n.length;++i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 1:{o===-1&&(o=n.length);for(let i=o-1;i>=0;--i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 2:{for(let i=o+1;i<n.length;++i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 3:{for(let i=n.length-1;i>=0;--i)if(!t.resolveDisabled(n[i],i,n))return i;return r}case 4:{for(let i=0;i<n.length;++i)if(t.resolveId(n[i],i,n)===e.id)return i;return r}case 5:return null;default:fy(e)}}var Gs=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(Gs||{});function $o(e){let t=V(e),n=D(!1);Q(()=>(n.current=!1,()=>{n.current=!0,Sr(()=>{n.current&&t()})}),[t])}function py(){let e=typeof document>"u";return"useSyncExternalStore"in no?(t=>t.useSyncExternalStore)(no)(()=>()=>{},()=>!1,()=>!e):!1}function $r(){let e=py(),[t,n]=A(gn.isHandoffComplete);return t&&gn.isHandoffComplete===!1&&n(!1),Q(()=>{t!==!0&&n(!0)},[t]),Q(()=>gn.handoff(),[]),e?!1:t}let Wg=be(!1);function gy(){return se(Wg)}function wc(e){return F.createElement(Wg.Provider,{value:e.force},e.children)}function my(e){let t=gy(),n=se(Yg),[r,o]=A(()=>{var i;if(!t&&n!==null)return(i=n.current)!=null?i:null;if(gn.isServer)return null;let l=e==null?void 0:e.getElementById("headlessui-portal-root");if(l)return l;if(e===null)return null;let a=e.createElement("div");return a.setAttribute("id","headlessui-portal-root"),e.body.appendChild(a)});return Q(()=>{r!==null&&(e!=null&&e.body.contains(r)||e==null||e.body.appendChild(r))},[r,e]),Q(()=>{t||n!==null&&o(n.current)},[n,o,t]),r}let Kg=ae,hy=me(function(e,t){let{ownerDocument:n=null,...r}=e,o=D(null),i=Ce(ag(d=>{o.current=d}),t),l=Gt(o),a=n??l,s=my(a),[u]=A(()=>{var d;return gn.isServer?null:(d=a==null?void 0:a.createElement("div"))!=null?d:null}),f=se(Ba),p=$r();ge(()=>{!s||!u||s.contains(u)||(u.setAttribute("data-headlessui-portal",""),s.appendChild(u))},[s,u]),ge(()=>{if(u&&f)return f.register(u)},[f,u]),$o(()=>{var d;!s||!u||(Ss(u)&&s.contains(u)&&s.removeChild(u),s.childNodes.length<=0&&((d=s.parentElement)==null||d.removeChild(s)))});let g=_e();return p?!s||!u?null:go(g({ourProps:{ref:i},theirProps:r,slot:{},defaultTag:Kg,name:"Portal"}),u):null});function vy(e,t){let n=Ce(t),{enabled:r=!0,ownerDocument:o,...i}=e,l=_e();return r?F.createElement(hy,{...i,ownerDocument:o,ref:n}):l({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:Kg,name:"Portal"})}let by=ae,Yg=be(null);function _y(e,t){let{target:n,...r}=e,o={ref:Ce(t)},i=_e();return F.createElement(Yg.Provider,{value:n},i({ourProps:o,theirProps:r,defaultTag:by,name:"Popover.Group"}))}let Ba=be(null);function yy(){let e=se(Ba),t=D([]),n=V(i=>(t.current.push(i),e&&e.register(i),()=>r(i))),r=V(i=>{let l=t.current.indexOf(i);l!==-1&&t.current.splice(l,1),e&&e.unregister(i)}),o=G(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,G(()=>function({children:i}){return F.createElement(Ba.Provider,{value:o},i)},[o])]}let wy=me(vy),Xg=me(_y),Vs=Object.assign(wy,{Group:Xg});var Sy=Object.defineProperty,xy=(e,t,n)=>t in e?Sy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Sc=(e,t,n)=>(xy(e,typeof t!="symbol"?t+"":t,n),n),ve=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ve||{}),tt=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(tt||{}),Wt=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(Wt||{}),Jg=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.SetTyping=3]="SetTyping",e[e.RegisterOption=4]="RegisterOption",e[e.UnregisterOption=5]="UnregisterOption",e[e.DefaultToFirstOption=6]="DefaultToFirstOption",e[e.SetActivationTrigger=7]="SetActivationTrigger",e[e.UpdateVirtualConfiguration=8]="UpdateVirtualConfiguration",e[e.SetInputElement=9]="SetInputElement",e[e.SetButtonElement=10]="SetButtonElement",e[e.SetOptionsElement=11]="SetOptionsElement",e))(Jg||{});function di(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=t(e.options.slice()),o=r.length>0&&r[0].dataRef.current.order!==null?r.sort((l,a)=>l.dataRef.current.order-a.dataRef.current.order):Ut(r,l=>l.dataRef.current.domRef.current),i=n?o.indexOf(n):null;return i===-1&&(i=null),{options:o,activeOptionIndex:i}}let Cy={1(e){var t;return(t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,__demoMode:!1}},0(e){var t,n;if((t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===0)return e;if((n=e.dataRef.current)!=null&&n.value){let r=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(r!==-1)return{...e,activeOptionIndex:r,comboboxState:0,__demoMode:!1}}return{...e,comboboxState:0,__demoMode:!1}},3(e,t){return e.isTyping===t.isTyping?e:{...e,isTyping:t.isTyping}},2(e,t){var n,r,o,i;if((n=e.dataRef.current)!=null&&n.disabled||e.optionsElement&&!((r=e.dataRef.current)!=null&&r.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let{options:u,disabled:f}=e.virtual,p=t.focus===ce.Specific?t.idx:On(t,{resolveItems:()=>u,resolveActiveIndex:()=>{var d,m;return(m=(d=e.activeOptionIndex)!=null?d:u.findIndex(h=>!f(h)))!=null?m:null},resolveDisabled:f,resolveId(){throw new Error("Function not implemented.")}}),g=(o=t.trigger)!=null?o:2;return e.activeOptionIndex===p&&e.activationTrigger===g?e:{...e,activeOptionIndex:p,activationTrigger:g,isTyping:!1,__demoMode:!1}}let l=di(e);if(l.activeOptionIndex===null){let u=l.options.findIndex(f=>!f.dataRef.current.disabled);u!==-1&&(l.activeOptionIndex=u)}let a=t.focus===ce.Specific?t.idx:On(t,{resolveItems:()=>l.options,resolveActiveIndex:()=>l.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled}),s=(i=t.trigger)!=null?i:2;return e.activeOptionIndex===a&&e.activationTrigger===s?e:{...e,...l,isTyping:!1,activeOptionIndex:a,activationTrigger:s,__demoMode:!1}},4:(e,t)=>{var n,r,o,i;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:[...e.options,t.payload]};let l=t.payload,a=di(e,u=>(u.push(l),u));e.activeOptionIndex===null&&(o=(r=e.dataRef.current).isSelected)!=null&&o.call(r,t.payload.dataRef.current.value)&&(a.activeOptionIndex=a.options.indexOf(l));let s={...e,...a,activationTrigger:2};return(i=e.dataRef.current)!=null&&i.__demoMode&&e.dataRef.current.value===void 0&&(s.activeOptionIndex=0),s},5:(e,t)=>{var n;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:e.options.filter(o=>o.id!==t.id)};let r=di(e,o=>{let i=o.findIndex(l=>l.id===t.id);return i!==-1&&o.splice(i,1),o});return{...e,...r,activationTrigger:2}},6:(e,t)=>e.defaultToFirstOption===t.value?e:{...e,defaultToFirstOption:t.value},7:(e,t)=>e.activationTrigger===t.trigger?e:{...e,activationTrigger:t.trigger},8:(e,t)=>{var n,r;if(e.virtual===null)return{...e,virtual:{options:t.options,disabled:(n=t.disabled)!=null?n:()=>!1}};if(e.virtual.options===t.options&&e.virtual.disabled===t.disabled)return e;let o=e.activeOptionIndex;if(e.activeOptionIndex!==null){let i=t.options.indexOf(e.virtual.options[e.activeOptionIndex]);i!==-1?o=i:o=null}return{...e,activeOptionIndex:o,virtual:{options:t.options,disabled:(r=t.disabled)!=null?r:()=>!1}}},9:(e,t)=>e.inputElement===t.element?e:{...e,inputElement:t.element},10:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},11:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element}},Fy=class Qg extends Es{constructor(t){super(t),Sc(this,"actions",{onChange:n=>{let{onChange:r,compare:o,mode:i,value:l}=this.state.dataRef.current;return xe(i,{0:()=>r==null?void 0:r(n),1:()=>{let a=l.slice(),s=a.findIndex(u=>o(u,n));return s===-1?a.push(n):a.splice(s,1),r==null?void 0:r(a)}})},registerOption:(n,r)=>(this.send({type:4,payload:{id:n,dataRef:r}}),()=>{this.state.activeOptionIndex===this.state.dataRef.current.calculateIndex(r.current.value)&&this.send({type:6,value:!0}),this.send({type:5,id:n})}),goToOption:(n,r)=>(this.send({type:6,value:!1}),this.send({type:2,...n,trigger:r})),setIsTyping:n=>{this.send({type:3,isTyping:n})},closeCombobox:()=>{var n,r;this.send({type:1}),this.send({type:6,value:!1}),(r=(n=this.state.dataRef.current).onClose)==null||r.call(n)},openCombobox:()=>{this.send({type:0}),this.send({type:6,value:!0})},setActivationTrigger:n=>{this.send({type:7,trigger:n})},selectActiveOption:()=>{let n=this.selectors.activeOptionIndex(this.state);if(n!==null){if(this.actions.setIsTyping(!1),this.state.virtual)this.actions.onChange(this.state.virtual.options[n]);else{let{dataRef:r}=this.state.options[n];this.actions.onChange(r.current.value)}this.actions.goToOption({focus:ce.Specific,idx:n})}},setInputElement:n=>{this.send({type:9,element:n})},setButtonElement:n=>{this.send({type:10,element:n})},setOptionsElement:n=>{this.send({type:11,element:n})}}),Sc(this,"selectors",{activeDescendantId:n=>{var r,o;let i=this.selectors.activeOptionIndex(n);if(i!==null)return n.virtual?(o=n.options.find(l=>!l.dataRef.current.disabled&&n.dataRef.current.compare(l.dataRef.current.value,n.virtual.options[i])))==null?void 0:o.id:(r=n.options[i])==null?void 0:r.id},activeOptionIndex:n=>{if(n.defaultToFirstOption&&n.activeOptionIndex===null&&(n.virtual?n.virtual.options.length>0:n.options.length>0)){if(n.virtual){let{options:o,disabled:i}=n.virtual,l=o.findIndex(a=>{var s;return!((s=i==null?void 0:i(a))!=null&&s)});if(l!==-1)return l}let r=n.options.findIndex(o=>!o.dataRef.current.disabled);if(r!==-1)return r}return n.activeOptionIndex},activeOption:n=>{var r,o;let i=this.selectors.activeOptionIndex(n);return i===null?null:n.virtual?n.virtual.options[i??0]:(o=(r=n.options[i])==null?void 0:r.dataRef.current.value)!=null?o:null},isActive:(n,r,o)=>{var i;let l=this.selectors.activeOptionIndex(n);return l===null?!1:n.virtual?l===n.dataRef.current.calculateIndex(r):((i=n.options[l])==null?void 0:i.id)===o},shouldScrollIntoView:(n,r,o)=>!(n.virtual||n.__demoMode||n.comboboxState!==0||n.activationTrigger===0||!this.selectors.isActive(n,r,o))});{let n=this.state.id,r=Hn.get(null);this.disposables.add(r.on(Ps.Push,o=>{!r.selectors.isTop(o,n)&&this.state.comboboxState===0&&this.actions.closeCombobox()})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}}static new({id:t,virtual:n=null,__demoMode:r=!1}){var o;return new Qg({id:t,dataRef:{current:{}},comboboxState:r?0:1,isTyping:!1,options:[],virtual:n?{options:n.options,disabled:(o=n.disabled)!=null?o:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:r})}reduce(t,n){return xe(n.type,Cy,t,n)}};const Zg=be(null);function Rr(e){let t=se(Zg);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,em),n}return t}function em({id:e,virtual:t=null,__demoMode:n=!1}){let r=G(()=>Fy.new({id:e,virtual:t,__demoMode:n}),[]);return $o(()=>r.dispose()),r}let br=be(null);br.displayName="ComboboxDataContext";function Wn(e){let t=se(br);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Wn),n}return t}let tm=be(null);function Ey(e){let t=Rr("VirtualProvider"),n=Wn("VirtualProvider"),{options:r}=n.virtual,o=Se(t,d=>d.optionsElement),[i,l]=G(()=>{let d=o;if(!d)return[0,0];let m=window.getComputedStyle(d);return[parseFloat(m.paddingBlockStart||m.paddingTop),parseFloat(m.paddingBlockEnd||m.paddingBottom)]},[o]),a=pb({enabled:r.length!==0,scrollPaddingStart:i,scrollPaddingEnd:l,count:r.length,estimateSize(){return 40},getScrollElement(){return t.state.optionsElement},overscan:12}),[s,u]=A(0);ge(()=>{u(d=>d+1)},[r]);let f=a.getVirtualItems(),p=Se(t,d=>d.activationTrigger===Wt.Pointer),g=Se(t,t.selectors.activeOptionIndex);return f.length===0?null:F.createElement(tm.Provider,{value:a},F.createElement("div",{style:{position:"relative",width:"100%",height:`${a.getTotalSize()}px`},ref:d=>{d&&(p||g!==null&&r.length>g&&a.scrollToIndex(g))}},f.map(d=>{var m;return F.createElement(ae,{key:d.key},F.cloneElement((m=e.children)==null?void 0:m.call(e,{...e.slot,option:r[d.index]}),{key:`${s}-${d.key}`,"data-index":d.index,"aria-setsize":r.length,"aria-posinset":d.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${d.start}px)`,overflowAnchor:"none"}}))})))}let Py=ae;function $y(e,t){let n=$e(),r=nn(),{value:o,defaultValue:i,onChange:l,form:a,name:s,by:u,invalid:f=!1,disabled:p=r||!1,onClose:g,__demoMode:d=!1,multiple:m=!1,immediate:h=!1,virtual:v=null,nullable:b,..._}=e,y=Qp(i),[x=m?[]:void 0,S]=Jp(o,l,y),C=em({id:n,virtual:v,__demoMode:d}),N=D({static:!1,hold:!1}),M=pg(u),k=V(X=>v?u===null?v.options.indexOf(X):v.options.findIndex(fe=>M(fe,X)):C.state.options.findIndex(fe=>M(fe.dataRef.current.value,X))),E=oe(X=>xe(H.mode,{[tt.Multi]:()=>x.some(fe=>M(fe,X)),[tt.Single]:()=>M(x,X)}),[x]),$=Se(C,X=>X.virtual),I=V(()=>g==null?void 0:g()),H=G(()=>({__demoMode:d,immediate:h,optionsPropsRef:N,value:x,defaultValue:y,disabled:p,invalid:f,mode:m?tt.Multi:tt.Single,virtual:v?$:null,onChange:S,isSelected:E,calculateIndex:k,compare:M,onClose:I}),[x,y,p,f,m,S,E,d,C,v,$,I]);ge(()=>{var X;v&&C.send({type:Jg.UpdateVirtualConfiguration,options:v.options,disabled:(X=v.disabled)!=null?X:null})},[v,v==null?void 0:v.options,v==null?void 0:v.disabled]),ge(()=>{C.state.dataRef.current=H},[H]);let[z,L,R,K]=Se(C,X=>[X.comboboxState,X.buttonElement,X.inputElement,X.optionsElement]),Y=Hn.get(null),ee=Se(Y,oe(X=>Y.selectors.isTop(X,n),[Y,n]));As(ee,[L,R,K],()=>C.actions.closeCombobox());let q=Se(C,C.selectors.activeOptionIndex),O=Se(C,C.selectors.activeOption),Z=G(()=>({open:z===ve.Open,disabled:p,invalid:f,activeIndex:q,activeOption:O,value:x}),[H,p,x,f,O,z]),[U,j]=Fs(),we=t===null?{}:{ref:t},ue=oe(()=>{if(y!==void 0)return S==null?void 0:S(y)},[S,y]),W=_e();return F.createElement(j,{value:U,props:{htmlFor:R==null?void 0:R.id},slot:{open:z===ve.Open,disabled:p}},F.createElement(qg,null,F.createElement(br.Provider,{value:H},F.createElement(Zg.Provider,{value:C},F.createElement(Po,{value:xe(z,{[ve.Open]:Oe.Open,[ve.Closed]:Oe.Closed})},s!=null&&F.createElement(rg,{disabled:p,data:x!=null?{[s]:x}:{},form:a,onReset:ue}),W({ourProps:we,theirProps:_,slot:Z,defaultTag:Py,name:"Combobox"}))))))}let Ry="input";function Ty(e,t){var n,r;let o=Rr("Combobox.Input"),i=Wn("Combobox.Input"),l=$e(),a=Cr(),{id:s=a||`headlessui-combobox-input-${l}`,onChange:u,displayValue:f,disabled:p=i.disabled||!1,autoFocus:g=!1,type:d="text",...m}=e,[h]=Se(o,j=>[j.inputElement]),v=D(null),b=Ce(v,t,Bg(),o.actions.setInputElement),_=Gt(h),[y,x]=Se(o,j=>[j.comboboxState,j.isTyping]),S=tn(),C=V(()=>{o.actions.onChange(null),o.state.optionsElement&&(o.state.optionsElement.scrollTop=0),o.actions.goToOption({focus:ce.Nothing})}),N=G(()=>{var j;return typeof f=="function"&&i.value!==void 0?(j=f(i.value))!=null?j:"":typeof i.value=="string"?i.value:""},[i.value,f]);mr(([j,we],[ue,W])=>{if(o.state.isTyping)return;let X=v.current;X&&((W===ve.Open&&we===ve.Closed||j!==ue)&&(X.value=j),requestAnimationFrame(()=>{if(o.state.isTyping||!X||(_==null?void 0:_.activeElement)!==X)return;let{selectionStart:fe,selectionEnd:ye}=X;Math.abs((ye??0)-(fe??0))===0&&fe===0&&X.setSelectionRange(X.value.length,X.value.length)}))},[N,y,_,x]),mr(([j],[we])=>{if(j===ve.Open&&we===ve.Closed){if(o.state.isTyping)return;let ue=v.current;if(!ue)return;let W=ue.value,{selectionStart:X,selectionEnd:fe,selectionDirection:ye}=ue;ue.value="",ue.value=W,ye!==null?ue.setSelectionRange(X,fe,ye):ue.setSelectionRange(X,fe)}},[y]);let M=D(!1),k=V(()=>{M.current=!0}),E=V(()=>{S.nextFrame(()=>{M.current=!1})}),$=V(j=>{switch(o.actions.setIsTyping(!0),j.key){case le.Enter:if(o.state.comboboxState!==ve.Open||M.current)return;if(j.preventDefault(),j.stopPropagation(),o.selectors.activeOptionIndex(o.state)===null){o.actions.closeCombobox();return}o.actions.selectActiveOption(),i.mode===tt.Single&&o.actions.closeCombobox();break;case le.ArrowDown:return j.preventDefault(),j.stopPropagation(),xe(o.state.comboboxState,{[ve.Open]:()=>o.actions.goToOption({focus:ce.Next}),[ve.Closed]:()=>o.actions.openCombobox()});case le.ArrowUp:return j.preventDefault(),j.stopPropagation(),xe(o.state.comboboxState,{[ve.Open]:()=>o.actions.goToOption({focus:ce.Previous}),[ve.Closed]:()=>{De(()=>o.actions.openCombobox()),i.value||o.actions.goToOption({focus:ce.Last})}});case le.Home:if(j.shiftKey)break;return j.preventDefault(),j.stopPropagation(),o.actions.goToOption({focus:ce.First});case le.PageUp:return j.preventDefault(),j.stopPropagation(),o.actions.goToOption({focus:ce.First});case le.End:if(j.shiftKey)break;return j.preventDefault(),j.stopPropagation(),o.actions.goToOption({focus:ce.Last});case le.PageDown:return j.preventDefault(),j.stopPropagation(),o.actions.goToOption({focus:ce.Last});case le.Escape:return o.state.comboboxState!==ve.Open?void 0:(j.preventDefault(),o.state.optionsElement&&!i.optionsPropsRef.current.static&&j.stopPropagation(),i.mode===tt.Single&&i.value===null&&C(),o.actions.closeCombobox());case le.Tab:if(o.state.comboboxState!==ve.Open)return;i.mode===tt.Single&&o.state.activationTrigger!==Wt.Focus&&o.actions.selectActiveOption(),o.actions.closeCombobox();break}}),I=V(j=>{u==null||u(j),i.mode===tt.Single&&j.target.value===""&&C(),o.actions.openCombobox()}),H=V(j=>{var we,ue,W;let X=(we=j.relatedTarget)!=null?we:Ft.find(fe=>fe!==j.currentTarget);if(!((ue=o.state.optionsElement)!=null&&ue.contains(X))&&!((W=o.state.buttonElement)!=null&&W.contains(X))&&o.state.comboboxState===ve.Open)return j.preventDefault(),i.mode===tt.Single&&i.value===null&&C(),o.actions.closeCombobox()}),z=V(j=>{var we,ue,W;let X=(we=j.relatedTarget)!=null?we:Ft.find(fe=>fe!==j.currentTarget);(ue=o.state.buttonElement)!=null&&ue.contains(X)||(W=o.state.optionsElement)!=null&&W.contains(X)||i.disabled||i.immediate&&o.state.comboboxState!==ve.Open&&S.microTask(()=>{De(()=>o.actions.openCombobox()),o.actions.setActivationTrigger(Wt.Focus)})}),L=_n(),R=vo(),{isFocused:K,focusProps:Y}=Bt({autoFocus:g}),{isHovered:ee,hoverProps:q}=en({isDisabled:p}),O=Se(o,j=>j.optionsElement),Z=G(()=>({open:y===ve.Open,disabled:p,invalid:i.invalid,hover:ee,focus:K,autofocus:g}),[i,ee,K,g,p,i.invalid]),U=ct({ref:b,id:s,role:"combobox",type:d,"aria-controls":O==null?void 0:O.id,"aria-expanded":y===ve.Open,"aria-activedescendant":Se(o,o.selectors.activeDescendantId),"aria-labelledby":L,"aria-describedby":R,"aria-autocomplete":"list",defaultValue:(r=(n=e.defaultValue)!=null?n:i.defaultValue!==void 0?f==null?void 0:f(i.defaultValue):null)!=null?r:i.defaultValue,disabled:p||void 0,autoFocus:g,onCompositionStart:k,onCompositionEnd:E,onKeyDown:$,onChange:I,onFocus:z,onBlur:H},Y,q);return _e()({ourProps:U,theirProps:m,slot:Z,defaultTag:Ry,name:"Combobox.Input"})}let Ay="button";function Ny(e,t){let n=Rr("Combobox.Button"),r=Wn("Combobox.Button"),[o,i]=A(null),l=Ce(t,i,n.actions.setButtonElement),a=$e(),{id:s=`headlessui-combobox-button-${a}`,disabled:u=r.disabled||!1,autoFocus:f=!1,...p}=e,[g,d,m]=Se(n,I=>[I.comboboxState,I.inputElement,I.optionsElement]),h=xg(d),v=g===ve.Open;Sg(v,{trigger:o,action:oe(I=>{if(o!=null&&o.contains(I.target)||d!=null&&d.contains(I.target))return It.Ignore;let H=I.target.closest('[role="option"]:not([data-disabled])');return Xe(H)?It.Select(H):m!=null&&m.contains(I.target)?It.Ignore:It.Close},[o,d,m]),close:n.actions.closeCombobox,select:n.actions.selectActiveOption});let b=V(I=>{switch(I.key){case le.Space:case le.Enter:I.preventDefault(),I.stopPropagation(),n.state.comboboxState===ve.Closed&&De(()=>n.actions.openCombobox()),h();return;case le.ArrowDown:I.preventDefault(),I.stopPropagation(),n.state.comboboxState===ve.Closed&&(De(()=>n.actions.openCombobox()),n.state.dataRef.current.value||n.actions.goToOption({focus:ce.First})),h();return;case le.ArrowUp:I.preventDefault(),I.stopPropagation(),n.state.comboboxState===ve.Closed&&(De(()=>n.actions.openCombobox()),n.state.dataRef.current.value||n.actions.goToOption({focus:ce.Last})),h();return;case le.Escape:if(n.state.comboboxState!==ve.Open)return;I.preventDefault(),n.state.optionsElement&&!r.optionsPropsRef.current.static&&I.stopPropagation(),De(()=>n.actions.closeCombobox()),h();return;default:return}}),_=V(I=>{I.preventDefault(),!xs(I.currentTarget)&&(I.button===Gs.Left&&(n.state.comboboxState===ve.Open?n.actions.closeCombobox():n.actions.openCombobox()),h())}),y=_n([s]),{isFocusVisible:x,focusProps:S}=Bt({autoFocus:f}),{isHovered:C,hoverProps:N}=en({isDisabled:u}),{pressed:M,pressProps:k}=xr({disabled:u}),E=G(()=>({open:g===ve.Open,active:M||g===ve.Open,disabled:u,invalid:r.invalid,value:r.value,hover:C,focus:x}),[r,C,x,M,u,g]),$=ct({ref:l,id:s,type:_o(e,o),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":m==null?void 0:m.id,"aria-expanded":g===ve.Open,"aria-labelledby":y,disabled:u||void 0,autoFocus:f,onPointerDown:_,onKeyDown:b},S,N,k);return _e()({ourProps:$,theirProps:p,slot:E,defaultTag:Ay,name:"Combobox.Button"})}let Oy="div",Iy=ut.RenderStrategy|ut.Static;function ky(e,t){var n,r,o;let i=$e(),{id:l=`headlessui-combobox-options-${i}`,hold:a=!1,anchor:s,portal:u=!1,modal:f=!0,transition:p=!1,...g}=e,d=Rr("Combobox.Options"),m=Wn("Combobox.Options"),h=Vg(s);h&&(u=!0);let[v,b]=Hg(h),[_,y]=A(null),x=jg(),S=Ce(t,h?v:null,d.actions.setOptionsElement,y),[C,N,M,k,E]=Se(d,ye=>[ye.comboboxState,ye.inputElement,ye.buttonElement,ye.optionsElement,ye.activationTrigger]),$=Gt(N||M),I=Gt(k),H=yn(),[z,L]=wo(p,_,H!==null?(H&Oe.Open)===Oe.Open:C===ve.Open);Rs(z,N,d.actions.closeCombobox);let R=m.__demoMode?!1:f&&C===ve.Open;Os(R,I);let K=m.__demoMode?!1:f&&C===ve.Open;$s(K,{allowed:oe(()=>[N,M,k],[N,M,k])}),ge(()=>{var ye;m.optionsPropsRef.current.static=(ye=e.static)!=null?ye:!1},[m.optionsPropsRef,e.static]),ge(()=>{m.optionsPropsRef.current.hold=a},[m.optionsPropsRef,a]),Zb(C===ve.Open,{container:k,accept(ye){return ye.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:ye.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(ye){ye.setAttribute("role","none")}});let Y=_n([M==null?void 0:M.id]),ee=G(()=>({open:C===ve.Open,option:void 0}),[C]),q=V(()=>{d.actions.setActivationTrigger(Wt.Pointer)}),O=V(ye=>{ye.preventDefault(),d.actions.setActivationTrigger(Wt.Pointer)}),Z=ct(h?x():{},{"aria-labelledby":Y,role:"listbox","aria-multiselectable":m.mode===tt.Multi?!0:void 0,id:l,ref:S,style:{...g.style,...b,"--input-width":ka(N,!0).width,"--button-width":ka(M,!0).width},onWheel:E===Wt.Pointer?void 0:q,onMouseDown:O,...yo(L)}),U=z&&C===ve.Closed,j=co(U,(n=m.virtual)==null?void 0:n.options),we=co(U,m.value),ue=V(ye=>m.compare(we,ye)),W=G(()=>{if(!m.virtual)return m;if(j===void 0)throw new Error("Missing `options` in virtual mode");return j!==m.virtual.options?{...m,virtual:{...m.virtual,options:j}}:m},[m,j,(r=m.virtual)==null?void 0:r.options]);m.virtual&&Object.assign(g,{children:F.createElement(br.Provider,{value:W},F.createElement(Ey,{slot:ee},g.children))});let X=_e(),fe=G(()=>m.mode===tt.Multi?m:{...m,isSelected:ue},[m,ue]);return F.createElement(Vs,{enabled:u?e.static||z:!1,ownerDocument:$},F.createElement(br.Provider,{value:fe},X({ourProps:Z,theirProps:{...g,children:F.createElement(cy,{freeze:U},typeof g.children=="function"?(o=g.children)==null?void 0:o.call(g,ee):g.children)},slot:ee,defaultTag:Oy,features:Iy,visible:z,name:"Combobox.Options"})))}let My="div";function Ly(e,t){var n,r,o;let i=Wn("Combobox.Option"),l=Rr("Combobox.Option"),a=$e(),{id:s=`headlessui-combobox-option-${a}`,value:u,disabled:f=(o=(r=(n=i.virtual)==null?void 0:n.disabled)==null?void 0:r.call(n,u))!=null?o:!1,order:p=null,...g}=e,[d]=Se(l,L=>[L.inputElement]),m=xg(d),h=Se(l,oe(L=>l.selectors.isActive(L,u,s),[u,s])),v=i.isSelected(u),b=D(null),_=nt({disabled:f,value:u,domRef:b,order:p}),y=se(tm),x=Ce(t,b,y?y.measureElement:null),S=V(()=>{l.actions.setIsTyping(!1),l.actions.onChange(u)});ge(()=>l.actions.registerOption(s,_),[_,s]);let C=Se(l,oe(L=>l.selectors.shouldScrollIntoView(L,u,s),[u,s]));ge(()=>{if(C)return dt().requestAnimationFrame(()=>{var L,R;(R=(L=b.current)==null?void 0:L.scrollIntoView)==null||R.call(L,{block:"nearest"})})},[C,b]);let N=V(L=>{L.preventDefault(),L.button===Gs.Left&&(f||(S(),La()||requestAnimationFrame(()=>m()),i.mode===tt.Single&&l.actions.closeCombobox()))}),M=V(()=>{if(f)return l.actions.goToOption({focus:ce.Nothing});let L=i.calculateIndex(u);l.actions.goToOption({focus:ce.Specific,idx:L})}),k=Cg(),E=V(L=>k.update(L)),$=V(L=>{if(!k.wasMoved(L)||f||h)return;let R=i.calculateIndex(u);l.actions.goToOption({focus:ce.Specific,idx:R},Wt.Pointer)}),I=V(L=>{k.wasMoved(L)&&(f||h&&(i.optionsPropsRef.current.hold||l.actions.goToOption({focus:ce.Nothing})))}),H=G(()=>({active:h,focus:h,selected:v,disabled:f}),[h,v,f]),z={id:s,ref:x,role:"option",tabIndex:f===!0?void 0:-1,"aria-disabled":f===!0?!0:void 0,"aria-selected":v,disabled:void 0,onMouseDown:N,onFocus:M,onPointerEnter:E,onMouseEnter:E,onPointerMove:$,onMouseMove:$,onPointerLeave:I,onMouseLeave:I};return _e()({ourProps:z,theirProps:g,slot:H,defaultTag:My,name:"Combobox.Option"})}let Dy=me($y),ja=me(Ny),Ha=me(Ty),Gy=ze,qa=me(ky),za=me(Ly),xc=Object.assign(Dy,{Input:Ha,Button:ja,Label:Gy,Options:qa,Option:za});function Vy(e,t=typeof document<"u"?document.defaultView:null,n){let r=Fr(e,"escape");Ns(t,"keydown",o=>{r&&(o.defaultPrevented||o.key===le.Escape&&n(o))})}function By(){var e;let[t]=A(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=A((e=t==null?void 0:t.matches)!=null?e:!1);return ge(()=>{if(!t)return;function o(i){r(i.matches)}return t.addEventListener("change",o),()=>t.removeEventListener("change",o)},[t]),n}function jy({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=Gt(n),o=V(()=>{var i,l;let a=[];for(let s of e)s!==null&&(Mt(s)?a.push(s):"current"in s&&Mt(s.current)&&a.push(s.current));if(t!=null&&t.current)for(let s of t.current)a.push(s);for(let s of(i=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?i:[])s!==document.body&&s!==document.head&&Mt(s)&&s.id!=="headlessui-portal-root"&&(n&&(s.contains(n)||s.contains((l=n==null?void 0:n.getRootNode())==null?void 0:l.host))||a.some(u=>s.contains(u))||a.push(s));return a});return{resolveContainers:o,contains:V(i=>o().some(l=>l.contains(i)))}}let nm=be(null);function Cc({children:e,node:t}){let[n,r]=A(null),o=rm(t??n);return F.createElement(nm.Provider,{value:o},e,o===null&&F.createElement(Xt,{features:Yt.Hidden,ref:i=>{var l,a;if(i){for(let s of(a=(l=jt(i))==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?a:[])if(s!==document.body&&s!==document.head&&Mt(s)&&s!=null&&s.contains(i)){r(s);break}}}}))}function rm(e=null){var t;return(t=se(nm))!=null?t:e}function Ro(){let e=D(!1);return ge(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var or=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(or||{});function Hy(){let e=D(0);return wg(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function om(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)Mt(n.current)&&t.add(n.current);return t}let qy="div";var un=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(un||{});function zy(e,t){let n=D(null),r=Ce(n,t),{initialFocus:o,initialFocusFallback:i,containers:l,features:a=15,...s}=e;$r()||(a=0);let u=Gt(n);Yy(a,{ownerDocument:u});let f=Xy(a,{ownerDocument:u,container:n,initialFocus:o,initialFocusFallback:i});Jy(a,{ownerDocument:u,container:n,containers:l,previousActiveElement:f});let p=Hy(),g=V(_=>{if(!Xe(n.current))return;let y=n.current;(x=>x())(()=>{xe(p.current,{[or.Forwards]:()=>{lt(y,Ie.First,{skipElements:[_.relatedTarget,i]})},[or.Backwards]:()=>{lt(y,Ie.Last,{skipElements:[_.relatedTarget,i]})}})})}),d=Fr(!!(a&2),"focus-trap#tab-lock"),m=tn(),h=D(!1),v={ref:r,onKeyDown(_){_.key=="Tab"&&(h.current=!0,m.requestAnimationFrame(()=>{h.current=!1}))},onBlur(_){if(!(a&4))return;let y=om(l);Xe(n.current)&&y.add(n.current);let x=_.relatedTarget;gt(x)&&x.dataset.headlessuiFocusGuard!=="true"&&(im(y,x)||(h.current?lt(n.current,xe(p.current,{[or.Forwards]:()=>Ie.Next,[or.Backwards]:()=>Ie.Previous})|Ie.WrapAround,{relativeTo:_.target}):gt(_.target)&&Lt(_.target)))}},b=_e();return F.createElement(F.Fragment,null,d&&F.createElement(Xt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:Yt.Focusable}),b({ourProps:v,theirProps:s,defaultTag:qy,name:"FocusTrap"}),d&&F.createElement(Xt,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:Yt.Focusable}))}let Uy=me(zy),Wy=Object.assign(Uy,{features:un});function Ky(e=!0){let t=D(Ft.slice());return mr(([n],[r])=>{r===!0&&n===!1&&Sr(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Ft.slice())},[e,Ft,t]),V(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function Yy(e,{ownerDocument:t}){let n=!!(e&8),r=Ky(n);mr(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&Lt(r())},[n]),$o(()=>{n&&Lt(r())})}function Xy(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:o}){let i=D(null),l=Fr(!!(e&1),"focus-trap#initial-focus"),a=Ro();return mr(()=>{if(e===0)return;if(!l){o!=null&&o.current&&Lt(o.current);return}let s=n.current;s&&Sr(()=>{if(!a.current)return;let u=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){i.current=u;return}}else if(s.contains(u)){i.current=u;return}if(r!=null&&r.current)Lt(r.current);else{if(e&16){if(lt(s,Ie.First|Ie.AutoFocus)!==dn.Error)return}else if(lt(s,Ie.First)!==dn.Error)return;if(o!=null&&o.current&&(Lt(o.current),(t==null?void 0:t.activeElement)===o.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}i.current=t==null?void 0:t.activeElement})},[o,l,e]),i}function Jy(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:o}){let i=Ro(),l=!!(e&4);Ns(t==null?void 0:t.defaultView,"focus",a=>{if(!l||!i.current)return;let s=om(r);Xe(n.current)&&s.add(n.current);let u=o.current;if(!u)return;let f=a.target;Xe(f)?im(s,f)?(o.current=f,Lt(f)):(a.preventDefault(),a.stopPropagation(),Lt(u)):Lt(o.current)},!0)}function im(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function lm(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:sm)!==ae||F.Children.count(e.children)===1}let To=be(null);To.displayName="TransitionContext";var Qy=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Qy||{});function Zy(){let e=se(To);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function ew(){let e=se(Ao);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Ao=be(null);Ao.displayName="NestingContext";function No(e){return"children"in e?No(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function am(e,t){let n=nt(e),r=D([]),o=Ro(),i=tn(),l=V((d,m=zt.Hidden)=>{let h=r.current.findIndex(({el:v})=>v===d);h!==-1&&(xe(m,{[zt.Unmount](){r.current.splice(h,1)},[zt.Hidden](){r.current[h].state="hidden"}}),i.microTask(()=>{var v;!No(r)&&o.current&&((v=n.current)==null||v.call(n))}))}),a=V(d=>{let m=r.current.find(({el:h})=>h===d);return m?m.state!=="visible"&&(m.state="visible"):r.current.push({el:d,state:"visible"}),()=>l(d,zt.Unmount)}),s=D([]),u=D(Promise.resolve()),f=D({enter:[],leave:[]}),p=V((d,m,h)=>{s.current.splice(0),t&&(t.chains.current[m]=t.chains.current[m].filter(([v])=>v!==d)),t==null||t.chains.current[m].push([d,new Promise(v=>{s.current.push(v)})]),t==null||t.chains.current[m].push([d,new Promise(v=>{Promise.all(f.current[m].map(([b,_])=>_)).then(()=>v())})]),m==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>h(m)):h(m)}),g=V((d,m,h)=>{Promise.all(f.current[m].splice(0).map(([v,b])=>b)).then(()=>{var v;(v=s.current.shift())==null||v()}).then(()=>h(m))});return G(()=>({children:r,register:a,unregister:l,onStart:p,onStop:g,wait:u,chains:f}),[a,l,r,p,g,f,u])}let sm=ae,um=ut.RenderStrategy;function tw(e,t){var n,r;let{transition:o=!0,beforeEnter:i,afterEnter:l,beforeLeave:a,afterLeave:s,enter:u,enterFrom:f,enterTo:p,entered:g,leave:d,leaveFrom:m,leaveTo:h,...v}=e,[b,_]=A(null),y=D(null),x=lm(e),S=Ce(...x?[y,t,_]:t===null?[]:[t]),C=(n=v.unmount)==null||n?zt.Unmount:zt.Hidden,{show:N,appear:M,initial:k}=Zy(),[E,$]=A(N?"visible":"hidden"),I=ew(),{register:H,unregister:z}=I;ge(()=>H(y),[H,y]),ge(()=>{if(C===zt.Hidden&&y.current){if(N&&E!=="visible"){$("visible");return}return xe(E,{hidden:()=>z(y),visible:()=>H(y)})}},[E,y,H,z,N,C]);let L=$r();ge(()=>{if(x&&L&&E==="visible"&&y.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[y,E,L,x]);let R=k&&!M,K=M&&N&&k,Y=D(!1),ee=am(()=>{Y.current||($("hidden"),z(y))},I),q=V(W=>{Y.current=!0;let X=W?"enter":"leave";ee.onStart(y,X,fe=>{fe==="enter"?i==null||i():fe==="leave"&&(a==null||a())})}),O=V(W=>{let X=W?"enter":"leave";Y.current=!1,ee.onStop(y,X,fe=>{fe==="enter"?l==null||l():fe==="leave"&&(s==null||s())}),X==="leave"&&!No(ee)&&($("hidden"),z(y))});Q(()=>{x&&o||(q(N),O(N))},[N,x,o]);let Z=!(!o||!x||!L||R),[,U]=wo(Z,b,N,{start:q,end:O}),j=Ht({ref:S,className:((r=Ia(v.className,K&&u,K&&f,U.enter&&u,U.enter&&U.closed&&f,U.enter&&!U.closed&&p,U.leave&&d,U.leave&&!U.closed&&m,U.leave&&U.closed&&h,!U.transition&&N&&g))==null?void 0:r.trim())||void 0,...yo(U)}),we=0;E==="visible"&&(we|=Oe.Open),E==="hidden"&&(we|=Oe.Closed),N&&E==="hidden"&&(we|=Oe.Opening),!N&&E==="visible"&&(we|=Oe.Closing);let ue=_e();return F.createElement(Ao.Provider,{value:ee},F.createElement(Po,{value:we},ue({ourProps:j,theirProps:v,defaultTag:sm,features:um,visible:E==="visible",name:"Transition.Child"})))}function nw(e,t){let{show:n,appear:r=!1,unmount:o=!0,...i}=e,l=D(null),a=lm(e),s=Ce(...a?[l,t]:t===null?[]:[t]);$r();let u=yn();if(n===void 0&&u!==null&&(n=(u&Oe.Open)===Oe.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[f,p]=A(n?"visible":"hidden"),g=am(()=>{n||p("hidden")}),[d,m]=A(!0),h=D([n]);ge(()=>{d!==!1&&h.current[h.current.length-1]!==n&&(h.current.push(n),m(!1))},[h,n]);let v=G(()=>({show:n,appear:r,initial:d}),[n,r,d]);ge(()=>{n?p("visible"):!No(g)&&l.current!==null&&p("hidden")},[n,g]);let b={unmount:o},_=V(()=>{var S;d&&m(!1),(S=e.beforeEnter)==null||S.call(e)}),y=V(()=>{var S;d&&m(!1),(S=e.beforeLeave)==null||S.call(e)}),x=_e();return F.createElement(Ao.Provider,{value:g},F.createElement(To.Provider,{value:v},x({ourProps:{...b,as:ae,children:F.createElement(cm,{ref:s,...b,...i,beforeEnter:_,beforeLeave:y})},theirProps:{},defaultTag:ae,features:um,visible:f==="visible",name:"Transition"})))}function rw(e,t){let n=se(To)!==null,r=yn()!==null;return F.createElement(F.Fragment,null,!n&&r?F.createElement(Ua,{ref:t,...e}):F.createElement(cm,{ref:t,...e}))}let Ua=me(nw),cm=me(tw),Bs=me(rw),ow=Object.assign(Ua,{Child:Bs,Root:Ua});var iw=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(iw||{}),lw=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(lw||{});let aw={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},js=be(null);js.displayName="DialogContext";function Oo(e){let t=se(js);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Oo),n}return t}function sw(e,t){return xe(t.type,aw,e,t)}let Fc=me(function(e,t){let n=$e(),{id:r=`headlessui-dialog-${n}`,open:o,onClose:i,initialFocus:l,role:a="dialog",autoFocus:s=!0,__demoMode:u=!1,unmount:f=!1,...p}=e,g=D(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(g.current||(g.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let d=yn();o===void 0&&d!==null&&(o=(d&Oe.Open)===Oe.Open);let m=D(null),h=Ce(m,t),v=Gt(m),b=o?0:1,[_,y]=Vt(sw,{titleId:null,descriptionId:null,panelRef:rs()}),x=V(()=>i(!1)),S=V(U=>y({type:0,id:U})),C=$r()?b===0:!1,[N,M]=yy(),k={get current(){var U;return(U=_.panelRef.current)!=null?U:m.current}},E=rm(),{resolveContainers:$}=jy({mainTreeNode:E,portals:N,defaultContainers:[k]}),I=d!==null?(d&Oe.Closing)===Oe.Closing:!1;$s(u||I?!1:C,{allowed:V(()=>{var U,j;return[(j=(U=m.current)==null?void 0:U.closest("[data-headlessui-portal]"))!=null?j:null]}),disallowed:V(()=>{var U;return[(U=E==null?void 0:E.closest("body > *:not(#headlessui-portal-root)"))!=null?U:null]})});let H=Hn.get(null);ge(()=>{if(C)return H.actions.push(r),()=>H.actions.pop(r)},[H,r,C]);let z=Se(H,oe(U=>H.selectors.isTop(U,r),[H,r]));As(z,$,U=>{U.preventDefault(),x()}),Vy(z,v==null?void 0:v.defaultView,U=>{U.preventDefault(),U.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),x()}),Os(u||I?!1:C,v,$),Rs(C,m,x);let[L,R]=ug(),K=G(()=>[{dialogState:b,close:x,setTitleId:S,unmount:f},_],[b,_,x,S,f]),Y=G(()=>({open:b===0}),[b]),ee={ref:h,id:r,role:a,tabIndex:-1,"aria-modal":u?void 0:b===0?!0:void 0,"aria-labelledby":_.titleId,"aria-describedby":L,unmount:f},q=!By(),O=un.None;C&&!u&&(O|=un.RestoreFocus,O|=un.TabLock,s&&(O|=un.AutoFocus),q&&(O|=un.InitialFocus));let Z=_e();return F.createElement(Ug,null,F.createElement(wc,{force:!0},F.createElement(Vs,null,F.createElement(js.Provider,{value:K},F.createElement(Xg,{target:m},F.createElement(wc,{force:!1},F.createElement(R,{slot:Y},F.createElement(M,null,F.createElement(Wy,{initialFocus:l,initialFocusFallback:m,containers:$,features:O},F.createElement(dg,{value:x},Z({ourProps:ee,theirProps:p,slot:Y,defaultTag:uw,features:cw,visible:b===0,name:"Dialog"})))))))))))}),uw="div",cw=ut.RenderStrategy|ut.Static;function dw(e,t){let{transition:n=!1,open:r,...o}=e,i=yn(),l=e.hasOwnProperty("open")||i!==null,a=e.hasOwnProperty("onClose");if(!l&&!a)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!l)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!a)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!o.static?F.createElement(Cc,null,F.createElement(ow,{show:r,transition:n,unmount:o.unmount},F.createElement(Fc,{ref:t,...o}))):F.createElement(Cc,null,F.createElement(Fc,{ref:t,open:r,...o}))}let fw="div";function pw(e,t){let n=$e(),{id:r=`headlessui-dialog-panel-${n}`,transition:o=!1,...i}=e,[{dialogState:l,unmount:a},s]=Oo("Dialog.Panel"),u=Ce(t,s.panelRef),f=G(()=>({open:l===0}),[l]),p=V(v=>{v.stopPropagation()}),g={ref:u,id:r,onClick:p},d=o?Bs:ae,m=o?{unmount:a}:{},h=_e();return F.createElement(d,{...m},h({ourProps:g,theirProps:i,slot:f,defaultTag:fw,name:"Dialog.Panel"}))}let gw="div";function mw(e,t){let{transition:n=!1,...r}=e,[{dialogState:o,unmount:i}]=Oo("Dialog.Backdrop"),l=G(()=>({open:o===0}),[o]),a={ref:t,"aria-hidden":!0},s=n?Bs:ae,u=n?{unmount:i}:{},f=_e();return F.createElement(s,{...u},f({ourProps:a,theirProps:r,slot:l,defaultTag:gw,name:"Dialog.Backdrop"}))}let hw="h2";function vw(e,t){let n=$e(),{id:r=`headlessui-dialog-title-${n}`,...o}=e,[{dialogState:i,setTitleId:l}]=Oo("Dialog.Title"),a=Ce(t);Q(()=>(l(r),()=>l(null)),[r,l]);let s=G(()=>({open:i===0}),[i]),u={ref:a,id:r};return _e()({ourProps:u,theirProps:o,slot:s,defaultTag:hw,name:"Dialog.Title"})}let bw=me(dw),Tr=me(pw),Ar=me(mw),Nr=me(vw),Or=Object.assign(bw,{Panel:Tr,Title:Nr,Description:Cs});var Ec;let _w=(Ec=F.startTransition)!=null?Ec:function(e){e()};var yw=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(yw||{}),ww=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.SetButtonElement=4]="SetButtonElement",e[e.SetPanelElement=5]="SetPanelElement",e))(ww||{});let Sw={0:e=>({...e,disclosureState:xe(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}},4(e,t){return e.buttonElement===t.element?e:{...e,buttonElement:t.element}},5(e,t){return e.panelElement===t.element?e:{...e,panelElement:t.element}}},Hs=be(null);Hs.displayName="DisclosureContext";function qs(e){let t=se(Hs);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,qs),n}return t}let zs=be(null);zs.displayName="DisclosureAPIContext";function dm(e){let t=se(zs);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,dm),n}return t}let Us=be(null);Us.displayName="DisclosurePanelContext";function xw(){return se(Us)}function Cw(e,t){return xe(t.type,Sw,e,t)}let Fw=ae;function Ew(e,t){let{defaultOpen:n=!1,...r}=e,o=D(null),i=Ce(t,ag(h=>{o.current=h},e.as===void 0||e.as===ae)),l=Vt(Cw,{disclosureState:n?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:a,buttonId:s},u]=l,f=V(h=>{u({type:1});let v=jt(o);if(!v||!s)return;let b=h?gt(h)?h:"current"in h&&gt(h.current)?h.current:v.getElementById(s):v.getElementById(s);b==null||b.focus()}),p=G(()=>({close:f}),[f]),g=G(()=>({open:a===0,close:f}),[a,f]),d={ref:i},m=_e();return F.createElement(Hs.Provider,{value:l},F.createElement(zs.Provider,{value:p},F.createElement(dg,{value:f},F.createElement(Po,{value:xe(a,{0:Oe.Open,1:Oe.Closed})},m({ourProps:d,theirProps:r,slot:g,defaultTag:Fw,name:"Disclosure"})))))}let Pw="button";function $w(e,t){let n=$e(),{id:r=`headlessui-disclosure-button-${n}`,disabled:o=!1,autoFocus:i=!1,...l}=e,[a,s]=qs("Disclosure.Button"),u=xw(),f=u===null?!1:u===a.panelId,p=D(null),g=Ce(p,t,V(k=>{if(!f)return s({type:4,element:k})}));Q(()=>{if(!f)return s({type:2,buttonId:r}),()=>{s({type:2,buttonId:null})}},[r,s,f]);let d=V(k=>{var E;if(f){if(a.disclosureState===1)return;switch(k.key){case le.Space:case le.Enter:k.preventDefault(),k.stopPropagation(),s({type:0}),(E=a.buttonElement)==null||E.focus();break}}else switch(k.key){case le.Space:case le.Enter:k.preventDefault(),k.stopPropagation(),s({type:0});break}}),m=V(k=>{switch(k.key){case le.Space:k.preventDefault();break}}),h=V(k=>{var E;xs(k.currentTarget)||o||(f?(s({type:0}),(E=a.buttonElement)==null||E.focus()):s({type:0}))}),{isFocusVisible:v,focusProps:b}=Bt({autoFocus:i}),{isHovered:_,hoverProps:y}=en({isDisabled:o}),{pressed:x,pressProps:S}=xr({disabled:o}),C=G(()=>({open:a.disclosureState===0,hover:_,active:x,disabled:o,focus:v,autofocus:i}),[a,_,x,v,o,i]),N=_o(e,a.buttonElement),M=ct(f?{ref:g,type:N,disabled:o||void 0,autoFocus:i,onKeyDown:d,onClick:h}:{ref:g,id:r,type:N,"aria-expanded":a.disclosureState===0,"aria-controls":a.panelElement?a.panelId:void 0,disabled:o||void 0,autoFocus:i,onKeyDown:d,onKeyUp:m,onClick:h},b,y,S);return _e()({ourProps:M,theirProps:l,slot:C,defaultTag:Pw,name:"Disclosure.Button"})}let Rw="div",Tw=ut.RenderStrategy|ut.Static;function Aw(e,t){let n=$e(),{id:r=`headlessui-disclosure-panel-${n}`,transition:o=!1,...i}=e,[l,a]=qs("Disclosure.Panel"),{close:s}=dm("Disclosure.Panel"),[u,f]=A(null),p=Ce(t,V(_=>{_w(()=>a({type:5,element:_}))}),f);Q(()=>(a({type:3,panelId:r}),()=>{a({type:3,panelId:null})}),[r,a]);let g=yn(),[d,m]=wo(o,u,g!==null?(g&Oe.Open)===Oe.Open:l.disclosureState===0),h=G(()=>({open:l.disclosureState===0,close:s}),[l.disclosureState,s]),v={ref:p,id:r,...yo(m)},b=_e();return F.createElement(Ug,null,F.createElement(Us.Provider,{value:l.panelId},b({ourProps:v,theirProps:i,slot:h,defaultTag:Rw,features:Tw,visible:d,name:"Disclosure.Panel"})))}let Nw=me(Ew),Xr=me($w),Jr=me(Aw),fi=Object.assign(Nw,{Button:Xr,Panel:Jr}),Ow="div";function Iw(e,t){let n=`headlessui-control-${$e()}`,[r,o]=Fs(),[i,l]=ug(),a=nn(),{disabled:s=a||!1,...u}=e,f=G(()=>({disabled:s}),[s]),p={ref:t,disabled:s||void 0,"aria-disabled":s||void 0},g=_e();return F.createElement(T0,{value:s},F.createElement(o,{value:r},F.createElement(l,{value:i},F.createElement(H0,{id:n},g({ourProps:p,theirProps:{...u,children:F.createElement(V0,null,typeof u.children=="function"?u.children(f):u.children)},slot:f,defaultTag:Ow,name:"Field"})))))}let Ze=me(Iw),kw="input";function Mw(e,t){let n=$e(),r=Cr(),o=nn(),{id:i=r||`headlessui-input-${n}`,disabled:l=o||!1,autoFocus:a=!1,invalid:s=!1,...u}=e,f=_n(),p=vo(),{isFocused:g,focusProps:d}=Bt({autoFocus:a}),{isHovered:m,hoverProps:h}=en({isDisabled:l}),v=ct({ref:t,id:i,"aria-labelledby":f,"aria-describedby":p,"aria-invalid":s?"true":void 0,disabled:l||void 0,autoFocus:a},d,h),b=G(()=>({disabled:l,invalid:s,hover:m,focus:g,autofocus:a}),[l,s,m,g,a]);return _e()({ourProps:v,theirProps:u,slot:b,defaultTag:kw,name:"Input"})}let xt=me(Mw);function Lw(e,t){let n=D({left:0,top:0});if(ge(()=>{if(!t)return;let o=t.getBoundingClientRect();o&&(n.current=o)},[e,t]),t==null||!e||t===document.activeElement)return!1;let r=t.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let Pc=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function $c(e){var t,n;let r=(t=e.innerText)!=null?t:"",o=e.cloneNode(!0);if(!Xe(o))return r;let i=!1;for(let a of o.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),i=!0;let l=i?(n=o.innerText)!=null?n:"":r;return Pc.test(l)&&(l=l.replace(Pc,"")),l}function Dw(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(o=>{let i=document.getElementById(o);if(i){let l=i.getAttribute("aria-label");return typeof l=="string"?l.trim():$c(i).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return $c(e).trim()}function Gw(e){let t=D(""),n=D("");return V(()=>{let r=e.current;if(!r)return"";let o=r.innerText;if(t.current===o)return n.current;let i=Dw(r).trim().toLowerCase();return t.current=o,n.current=i,i})}var Vw=Object.defineProperty,Bw=(e,t,n)=>t in e?Vw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rc=(e,t,n)=>(Bw(e,typeof t!="symbol"?t+"":t,n),n),Le=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Le||{}),Pt=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Pt||{}),Wa=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Wa||{}),fm=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOptions=5]="RegisterOptions",e[e.UnregisterOptions=6]="UnregisterOptions",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetOptionsElement=8]="SetOptionsElement",e[e.SortOptions=9]="SortOptions",e))(fm||{});function Tc(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=Ut(t(e.options.slice()),i=>i.dataRef.current.domRef.current),o=n?r.indexOf(n):null;return o===-1&&(o=null),{options:r,activeOptionIndex:o}}let jw={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,pendingFocus:{focus:ce.Nothing},listboxState:1,__demoMode:!1}},0(e,t){if(e.dataRef.current.disabled||e.listboxState===0)return e;let n=e.activeOptionIndex,{isSelected:r}=e.dataRef.current,o=e.options.findIndex(i=>r(i.dataRef.current.value));return o!==-1&&(n=o),{...e,pendingFocus:t.focus,listboxState:0,activeOptionIndex:n,__demoMode:!1}},2(e,t){var n,r,o,i,l;if(e.dataRef.current.disabled||e.listboxState===1)return e;let a={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===ce.Nothing)return{...a,activeOptionIndex:null};if(t.focus===ce.Specific)return{...a,activeOptionIndex:e.options.findIndex(f=>f.id===t.id)};if(t.focus===ce.Previous){let f=e.activeOptionIndex;if(f!==null){let p=e.options[f].dataRef.current.domRef,g=On(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});if(g!==null){let d=e.options[g].dataRef.current.domRef;if(((r=p.current)==null?void 0:r.previousElementSibling)===d.current||((o=d.current)==null?void 0:o.previousElementSibling)===null)return{...a,activeOptionIndex:g}}}}else if(t.focus===ce.Next){let f=e.activeOptionIndex;if(f!==null){let p=e.options[f].dataRef.current.domRef,g=On(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});if(g!==null){let d=e.options[g].dataRef.current.domRef;if(((i=p.current)==null?void 0:i.nextElementSibling)===d.current||((l=d.current)==null?void 0:l.nextElementSibling)===null)return{...a,activeOptionIndex:g}}}}let s=Tc(e),u=On(t,{resolveItems:()=>s.options,resolveActiveIndex:()=>s.activeOptionIndex,resolveId:f=>f.id,resolveDisabled:f=>f.dataRef.current.disabled});return{...a,...s,activeOptionIndex:u}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),o=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(l=>{var a;return!l.dataRef.current.disabled&&((a=l.dataRef.current.textValue)==null?void 0:a.startsWith(r))}),i=o?e.options.indexOf(o):-1;return i===-1||i===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:i,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let n=e.options.concat(t.options),r=e.activeOptionIndex;if(e.pendingFocus.focus!==ce.Nothing&&(r=On(e.pendingFocus,{resolveItems:()=>n,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled})),e.activeOptionIndex===null){let{isSelected:o}=e.dataRef.current;if(o){let i=n.findIndex(l=>o==null?void 0:o(l.dataRef.current.value));i!==-1&&(r=i)}}return{...e,options:n,activeOptionIndex:r,pendingFocus:{focus:ce.Nothing},pendingShouldSort:!0}},6:(e,t)=>{let n=e.options,r=[],o=new Set(t.options);for(let[i,l]of n.entries())if(o.has(l.id)&&(r.push(i),o.delete(l.id),o.size===0))break;if(r.length>0){n=n.slice();for(let i of r.reverse())n.splice(i,1)}return{...e,options:n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element},9:e=>e.pendingShouldSort?{...e,...Tc(e),pendingShouldSort:!1}:e},Hw=class pm extends Es{constructor(t){super(t),Rc(this,"actions",{onChange:n=>{let{onChange:r,compare:o,mode:i,value:l}=this.state.dataRef.current;return xe(i,{0:()=>r==null?void 0:r(n),1:()=>{let a=l.slice(),s=a.findIndex(u=>o(u,n));return s===-1?a.push(n):a.splice(s,1),r==null?void 0:r(a)}})},registerOption:ri(()=>{let n=[],r=new Set;return[(o,i)=>{r.has(i)||(r.add(i),n.push({id:o,dataRef:i}))},()=>(r.clear(),this.send({type:5,options:n.splice(0)}))]}),unregisterOption:ri(()=>{let n=[];return[r=>n.push(r),()=>{this.send({type:6,options:n.splice(0)})}]}),goToOption:ri(()=>{let n=null;return[(r,o)=>{n={type:2,...r,trigger:o}},()=>n&&this.send(n)]}),closeListbox:()=>{this.send({type:1})},openListbox:n=>{this.send({type:0,focus:n})},selectActiveOption:()=>{if(this.state.activeOptionIndex!==null){let{dataRef:n,id:r}=this.state.options[this.state.activeOptionIndex];this.actions.onChange(n.current.value),this.send({type:2,focus:ce.Specific,id:r})}},selectOption:n=>{let r=this.state.options.find(o=>o.id===n);r&&this.actions.onChange(r.dataRef.current.value)},search:n=>{this.send({type:3,value:n})},clearSearch:()=>{this.send({type:4})},setButtonElement:n=>{this.send({type:7,element:n})},setOptionsElement:n=>{this.send({type:8,element:n})}}),Rc(this,"selectors",{activeDescendantId(n){var r;let o=n.activeOptionIndex,i=n.options;return o===null||(r=i[o])==null?void 0:r.id},isActive(n,r){var o;let i=n.activeOptionIndex,l=n.options;return i!==null?((o=l[i])==null?void 0:o.id)===r:!1},shouldScrollIntoView(n,r){return n.__demoMode||n.listboxState!==0||n.activationTrigger===0?!1:this.isActive(n,r)}}),this.on(5,()=>{requestAnimationFrame(()=>{this.send({type:9})})});{let n=this.state.id,r=Hn.get(null);this.disposables.add(r.on(Ps.Push,o=>{!r.selectors.isTop(o,n)&&this.state.listboxState===0&&this.actions.closeListbox()})),this.on(0,()=>r.actions.push(n)),this.on(1,()=>r.actions.pop(n))}}static new({id:t,__demoMode:n=!1}){return new pm({id:t,dataRef:{current:{}},listboxState:n?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,buttonElement:null,optionsElement:null,pendingShouldSort:!1,pendingFocus:{focus:ce.Nothing},__demoMode:n})}reduce(t,n){return xe(n.type,jw,t,n)}};const gm=be(null);function Ws(e){let t=se(gm);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,mm),n}return t}function mm({id:e,__demoMode:t=!1}){let n=G(()=>Hw.new({id:e,__demoMode:t}),[]);return $o(()=>n.dispose()),n}let Io=be(null);Io.displayName="ListboxDataContext";function Ir(e){let t=se(Io);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ir),n}return t}let qw=ae;function zw(e,t){let n=$e(),r=nn(),{value:o,defaultValue:i,form:l,name:a,onChange:s,by:u,invalid:f=!1,disabled:p=r||!1,horizontal:g=!1,multiple:d=!1,__demoMode:m=!1,...h}=e;const v=g?"horizontal":"vertical";let b=Ce(t),_=Qp(i),[y=d?[]:void 0,x]=Jp(o,s,_),S=mm({id:n,__demoMode:m}),C=D({static:!1,hold:!1}),N=D(new Map),M=pg(u),k=oe(Z=>xe(E.mode,{[Pt.Multi]:()=>y.some(U=>M(U,Z)),[Pt.Single]:()=>M(y,Z)}),[y]),E=G(()=>({value:y,disabled:p,invalid:f,mode:d?Pt.Multi:Pt.Single,orientation:v,onChange:x,compare:M,isSelected:k,optionsPropsRef:C,listRef:N}),[y,p,f,d,v,x,M,k,C,N]);ge(()=>{S.state.dataRef.current=E},[E]);let $=Se(S,Z=>Z.listboxState),I=Hn.get(null),H=Se(I,oe(Z=>I.selectors.isTop(Z,n),[I,n])),[z,L]=Se(S,Z=>[Z.buttonElement,Z.optionsElement]);As(H,[z,L],(Z,U)=>{S.send({type:fm.CloseListbox}),_g(U,Ts.Loose)||(Z.preventDefault(),z==null||z.focus())});let R=G(()=>({open:$===Le.Open,disabled:p,invalid:f,value:y}),[$,p,f,y]),[K,Y]=Fs({inherit:!0}),ee={ref:b},q=oe(()=>{if(_!==void 0)return x==null?void 0:x(_)},[x,_]),O=_e();return F.createElement(Y,{value:K,props:{htmlFor:z==null?void 0:z.id},slot:{open:$===Le.Open,disabled:p}},F.createElement(qg,null,F.createElement(gm.Provider,{value:S},F.createElement(Io.Provider,{value:E},F.createElement(Po,{value:xe($,{[Le.Open]:Oe.Open,[Le.Closed]:Oe.Closed})},a!=null&&y!=null&&F.createElement(rg,{disabled:p,data:{[a]:y},form:l,onReset:q}),O({ourProps:ee,theirProps:h,slot:R,defaultTag:qw,name:"Listbox"}))))))}let Uw="button";function Ww(e,t){let n=$e(),r=Cr(),o=Ir("Listbox.Button"),i=Ws("Listbox.Button"),{id:l=r||`headlessui-listbox-button-${n}`,disabled:a=o.disabled||!1,autoFocus:s=!1,...u}=e,f=Ce(t,Bg(),i.actions.setButtonElement),p=ay(),[g,d,m]=Se(i,L=>[L.listboxState,L.buttonElement,L.optionsElement]),h=g===Le.Open;Sg(h,{trigger:d,action:oe(L=>{if(d!=null&&d.contains(L.target))return It.Ignore;let R=L.target.closest('[role="option"]:not([data-disabled])');return Xe(R)?It.Select(R):m!=null&&m.contains(L.target)?It.Ignore:It.Close},[d,m]),close:i.actions.closeListbox,select:i.actions.selectActiveOption});let v=V(L=>{switch(L.key){case le.Enter:L0(L.currentTarget);break;case le.Space:case le.ArrowDown:L.preventDefault(),i.actions.openListbox({focus:o.value?ce.Nothing:ce.First});break;case le.ArrowUp:L.preventDefault(),i.actions.openListbox({focus:o.value?ce.Nothing:ce.Last});break}}),b=V(L=>{switch(L.key){case le.Space:L.preventDefault();break}}),_=V(L=>{var R;if(L.button===0){if(xs(L.currentTarget))return L.preventDefault();i.state.listboxState===Le.Open?(De(()=>i.actions.closeListbox()),(R=i.state.buttonElement)==null||R.focus({preventScroll:!0})):(L.preventDefault(),i.actions.openListbox({focus:ce.Nothing}))}}),y=V(L=>L.preventDefault()),x=_n([l]),S=vo(),{isFocusVisible:C,focusProps:N}=Bt({autoFocus:s}),{isHovered:M,hoverProps:k}=en({isDisabled:a}),{pressed:E,pressProps:$}=xr({disabled:a}),I=G(()=>({open:g===Le.Open,active:E||g===Le.Open,disabled:a,invalid:o.invalid,value:o.value,hover:M,focus:C,autofocus:s}),[g,o.value,a,M,C,E,o.invalid,s]),H=Se(i,L=>L.listboxState===Le.Open),z=ct(p(),{ref:f,id:l,type:_o(e,d),"aria-haspopup":"listbox","aria-controls":m==null?void 0:m.id,"aria-expanded":H,"aria-labelledby":x,"aria-describedby":S,disabled:a||void 0,autoFocus:s,onKeyDown:v,onKeyUp:b,onKeyPress:y,onPointerDown:_},N,k,$);return _e()({ourProps:z,theirProps:u,slot:I,defaultTag:Uw,name:"Listbox.Button"})}let hm=be(!1),Kw="div",Yw=ut.RenderStrategy|ut.Static;function Xw(e,t){let n=$e(),{id:r=`headlessui-listbox-options-${n}`,anchor:o,portal:i=!1,modal:l=!0,transition:a=!1,...s}=e,u=Vg(o),[f,p]=A(null);u&&(i=!0);let g=Ir("Listbox.Options"),d=Ws("Listbox.Options"),[m,h,v,b]=Se(d,W=>[W.listboxState,W.buttonElement,W.optionsElement,W.__demoMode]),_=Gt(h),y=Gt(v),x=yn(),[S,C]=wo(a,f,x!==null?(x&Oe.Open)===Oe.Open:m===Le.Open);Rs(S,h,d.actions.closeListbox);let N=b?!1:l&&m===Le.Open;Os(N,y);let M=b?!1:l&&m===Le.Open;$s(M,{allowed:oe(()=>[h,v],[h,v])});let k=m!==Le.Open,E=Lw(k,h)?!1:S,$=S&&m===Le.Closed,I=co($,g.value),H=V(W=>g.compare(I,W)),z=Se(d,W=>{var X;if(u==null||!((X=u==null?void 0:u.to)!=null&&X.includes("selection")))return null;let fe=W.options.findIndex(ye=>H(ye.dataRef.current.value));return fe===-1&&(fe=0),fe}),L=(()=>{if(u==null)return;if(z===null)return{...u,inner:void 0};let W=Array.from(g.listRef.current.values());return{...u,inner:{listRef:{current:W},index:z}}})(),[R,K]=Hg(L),Y=jg(),ee=Ce(t,u?R:null,d.actions.setOptionsElement,p),q=tn();Q(()=>{var W;let X=v;X&&m===Le.Open&&X!==((W=jt(X))==null?void 0:W.activeElement)&&(X==null||X.focus({preventScroll:!0}))},[m,v]);let O=V(W=>{var X,fe;switch(q.dispose(),W.key){case le.Space:if(d.state.searchQuery!=="")return W.preventDefault(),W.stopPropagation(),d.actions.search(W.key);case le.Enter:if(W.preventDefault(),W.stopPropagation(),d.state.activeOptionIndex!==null){let{dataRef:ye}=d.state.options[d.state.activeOptionIndex];d.actions.onChange(ye.current.value)}g.mode===Pt.Single&&(De(()=>d.actions.closeListbox()),(X=d.state.buttonElement)==null||X.focus({preventScroll:!0}));break;case xe(g.orientation,{vertical:le.ArrowDown,horizontal:le.ArrowRight}):return W.preventDefault(),W.stopPropagation(),d.actions.goToOption({focus:ce.Next});case xe(g.orientation,{vertical:le.ArrowUp,horizontal:le.ArrowLeft}):return W.preventDefault(),W.stopPropagation(),d.actions.goToOption({focus:ce.Previous});case le.Home:case le.PageUp:return W.preventDefault(),W.stopPropagation(),d.actions.goToOption({focus:ce.First});case le.End:case le.PageDown:return W.preventDefault(),W.stopPropagation(),d.actions.goToOption({focus:ce.Last});case le.Escape:W.preventDefault(),W.stopPropagation(),De(()=>d.actions.closeListbox()),(fe=d.state.buttonElement)==null||fe.focus({preventScroll:!0});return;case le.Tab:W.preventDefault(),W.stopPropagation(),De(()=>d.actions.closeListbox()),Mb(d.state.buttonElement,W.shiftKey?Ie.Previous:Ie.Next);break;default:W.key.length===1&&(d.actions.search(W.key),q.setTimeout(()=>d.actions.clearSearch(),350));break}}),Z=Se(d,W=>{var X;return(X=W.buttonElement)==null?void 0:X.id}),U=G(()=>({open:m===Le.Open}),[m]),j=ct(u?Y():{},{id:r,ref:ee,"aria-activedescendant":Se(d,d.selectors.activeDescendantId),"aria-multiselectable":g.mode===Pt.Multi?!0:void 0,"aria-labelledby":Z,"aria-orientation":g.orientation,onKeyDown:O,role:"listbox",tabIndex:m===Le.Open?0:void 0,style:{...s.style,...K,"--button-width":ka(h,!0).width},...yo(C)}),we=_e(),ue=G(()=>g.mode===Pt.Multi?g:{...g,isSelected:H},[g,H]);return F.createElement(Vs,{enabled:i?e.static||S:!1,ownerDocument:_},F.createElement(Io.Provider,{value:ue},we({ourProps:j,theirProps:s,slot:U,defaultTag:Kw,features:Yw,visible:E,name:"Listbox.Options"})))}let Jw="div";function Qw(e,t){let n=$e(),{id:r=`headlessui-listbox-option-${n}`,disabled:o=!1,value:i,...l}=e,a=se(hm)===!0,s=Ir("Listbox.Option"),u=Ws("Listbox.Option"),f=Se(u,E=>u.selectors.isActive(E,r)),p=s.isSelected(i),g=D(null),d=Gw(g),m=nt({disabled:o,value:i,domRef:g,get textValue(){return d()}}),h=Ce(t,g,E=>{E?s.listRef.current.set(r,E):s.listRef.current.delete(r)}),v=Se(u,E=>u.selectors.shouldScrollIntoView(E,r));ge(()=>{if(v)return dt().requestAnimationFrame(()=>{var E,$;($=(E=g.current)==null?void 0:E.scrollIntoView)==null||$.call(E,{block:"nearest"})})},[v,g]),ge(()=>{if(!a)return u.actions.registerOption(r,m),()=>u.actions.unregisterOption(r)},[m,r,a]);let b=V(E=>{var $;if(o)return E.preventDefault();u.actions.onChange(i),s.mode===Pt.Single&&(De(()=>u.actions.closeListbox()),($=u.state.buttonElement)==null||$.focus({preventScroll:!0}))}),_=V(()=>{if(o)return u.actions.goToOption({focus:ce.Nothing});u.actions.goToOption({focus:ce.Specific,id:r})}),y=Cg(),x=V(E=>{y.update(E),!o&&(f||u.actions.goToOption({focus:ce.Specific,id:r},Wa.Pointer))}),S=V(E=>{y.wasMoved(E)&&(o||f||u.actions.goToOption({focus:ce.Specific,id:r},Wa.Pointer))}),C=V(E=>{y.wasMoved(E)&&(o||f&&u.actions.goToOption({focus:ce.Nothing}))}),N=G(()=>({active:f,focus:f,selected:p,disabled:o,selectedOption:p&&a}),[f,p,o,a]),M=a?{}:{id:r,ref:h,role:"option",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-selected":p,disabled:void 0,onClick:b,onFocus:_,onPointerEnter:x,onMouseEnter:x,onPointerMove:S,onMouseMove:S,onPointerLeave:C,onMouseLeave:C},k=_e();return!p&&a?null:k({ourProps:M,theirProps:l,slot:N,defaultTag:Jw,name:"Listbox.Option"})}let Zw=ae;function e1(e,t){let{options:n,placeholder:r,...o}=e,i={ref:Ce(t)},l=Ir("ListboxSelectedOption"),a=G(()=>({}),[]),s=l.value===void 0||l.value===null||l.mode===Pt.Multi&&Array.isArray(l.value)&&l.value.length===0,u=_e();return F.createElement(hm.Provider,{value:!0},u({ourProps:i,theirProps:{...o,children:F.createElement(F.Fragment,null,r&&s?r:n)},slot:a,defaultTag:Zw,name:"ListboxSelectedOption"}))}let t1=me(zw),$n=me(Ww),n1=ze,Rn=me(Xw),an=me(Qw),r1=me(e1),Zn=Object.assign(t1,{Button:$n,Label:n1,Options:Rn,Option:an,SelectedOption:r1});function o1({onFocus:e}){let[t,n]=A(!0),r=Ro();return t?F.createElement(Xt,{as:"button",type:"button",features:Yt.Focusable,onFocus:o=>{o.preventDefault();let i,l=50;function a(){if(l--<=0){i&&cancelAnimationFrame(i);return}if(e()){if(cancelAnimationFrame(i),!r.current)return;n(!1);return}i=requestAnimationFrame(a)}i=requestAnimationFrame(a)}}):null}const vm=be(null);function i1(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let o=(n=r.get(t))!=null?n:0;r.set(t,o+1);let i=Array.from(r.keys()).indexOf(t);function l(){let a=r.get(t);a>1?r.set(t,a-1):r.delete(t)}return[i,l]}}}function l1({children:e}){let t=D(i1());return ke(vm.Provider,{value:t},e)}function bm(e){let t=se(vm);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=$e(),[r,o]=t.current.get(e,n);return Q(()=>o,[]),r}var a1=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(a1||{}),s1=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(s1||{}),u1=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(u1||{});let c1={0(e,t){var n;let r=Ut(e.tabs,f=>f.current),o=Ut(e.panels,f=>f.current),i=r.filter(f=>{var p;return!((p=f.current)!=null&&p.hasAttribute("disabled"))}),l={...e,tabs:r,panels:o};if(t.index<0||t.index>r.length-1){let f=xe(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>xe(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(i.length===0)return l;let p=xe(f,{0:()=>r.indexOf(i[0]),1:()=>r.indexOf(i[i.length-1])});return{...l,selectedIndex:p===-1?e.selectedIndex:p}}let a=r.slice(0,t.index),s=[...r.slice(t.index),...a].find(f=>i.includes(f));if(!s)return l;let u=(n=r.indexOf(s))!=null?n:e.selectedIndex;return u===-1&&(u=e.selectedIndex),{...l,selectedIndex:u}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=Ut([...e.tabs,t.tab],i=>i.current),o=e.selectedIndex;return e.info.current.isControlled||(o=r.indexOf(n),o===-1&&(o=e.selectedIndex)),{...e,tabs:r,selectedIndex:o}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:Ut([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},Ks=be(null);Ks.displayName="TabsDataContext";function Vn(e){let t=se(Ks);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Vn),n}return t}let Ys=be(null);Ys.displayName="TabsActionsContext";function Xs(e){let t=se(Ys);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Xs),n}return t}function d1(e,t){return xe(t.type,c1,e,t)}let f1="div";function p1(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:o=!1,onChange:i,selectedIndex:l=null,...a}=e;const s=r?"vertical":"horizontal",u=o?"manual":"auto";let f=l!==null,p=nt({isControlled:f}),g=Ce(t),[d,m]=Vt(d1,{info:p,selectedIndex:l??n,tabs:[],panels:[]}),h=G(()=>({selectedIndex:d.selectedIndex}),[d.selectedIndex]),v=nt(i||(()=>{})),b=nt(d.tabs),_=G(()=>({orientation:s,activation:u,...d}),[s,u,d]),y=V(E=>(m({type:1,tab:E}),()=>m({type:2,tab:E}))),x=V(E=>(m({type:3,panel:E}),()=>m({type:4,panel:E}))),S=V(E=>{C.current!==E&&v.current(E),f||m({type:0,index:E})}),C=nt(f?e.selectedIndex:d.selectedIndex),N=G(()=>({registerTab:y,registerPanel:x,change:S}),[]);ge(()=>{m({type:0,index:l??n})},[l]),ge(()=>{if(C.current===void 0||d.tabs.length<=0)return;let E=Ut(d.tabs,$=>$.current);E.some(($,I)=>d.tabs[I]!==$)&&S(E.indexOf(d.tabs[C.current]))});let M={ref:g},k=_e();return F.createElement(l1,null,F.createElement(Ys.Provider,{value:N},F.createElement(Ks.Provider,{value:_},_.tabs.length<=0&&F.createElement(o1,{onFocus:()=>{var E,$;for(let I of b.current)if(((E=I.current)==null?void 0:E.tabIndex)===0)return($=I.current)==null||$.focus(),!0;return!1}}),k({ourProps:M,theirProps:a,slot:h,defaultTag:f1,name:"Tabs"}))))}let g1="div";function m1(e,t){let{orientation:n,selectedIndex:r}=Vn("Tab.List"),o=Ce(t),i=G(()=>({selectedIndex:r}),[r]),l=e,a={ref:o,role:"tablist","aria-orientation":n};return _e()({ourProps:a,theirProps:l,slot:i,defaultTag:g1,name:"Tabs.List"})}let h1="button";function v1(e,t){var n,r;let o=$e(),{id:i=`headlessui-tabs-tab-${o}`,disabled:l=!1,autoFocus:a=!1,...s}=e,{orientation:u,activation:f,selectedIndex:p,tabs:g,panels:d}=Vn("Tab"),m=Xs("Tab"),h=Vn("Tab"),[v,b]=A(null),_=D(null),y=Ce(_,t,b);ge(()=>m.registerTab(_),[m,_]);let x=bm("tabs"),S=g.indexOf(_);S===-1&&(S=x);let C=S===p,N=V(q=>{var O;let Z=q();if(Z===dn.Success&&f==="auto"){let U=(O=jt(_))==null?void 0:O.activeElement,j=h.tabs.findIndex(we=>we.current===U);j!==-1&&m.change(j)}return Z}),M=V(q=>{let O=g.map(Z=>Z.current).filter(Boolean);if(q.key===le.Space||q.key===le.Enter){q.preventDefault(),q.stopPropagation(),m.change(S);return}switch(q.key){case le.Home:case le.PageUp:return q.preventDefault(),q.stopPropagation(),N(()=>lt(O,Ie.First));case le.End:case le.PageDown:return q.preventDefault(),q.stopPropagation(),N(()=>lt(O,Ie.Last))}if(N(()=>xe(u,{vertical(){return q.key===le.ArrowUp?lt(O,Ie.Previous|Ie.WrapAround):q.key===le.ArrowDown?lt(O,Ie.Next|Ie.WrapAround):dn.Error},horizontal(){return q.key===le.ArrowLeft?lt(O,Ie.Previous|Ie.WrapAround):q.key===le.ArrowRight?lt(O,Ie.Next|Ie.WrapAround):dn.Error}}))===dn.Success)return q.preventDefault()}),k=D(!1),E=V(()=>{var q;k.current||(k.current=!0,(q=_.current)==null||q.focus({preventScroll:!0}),m.change(S),Sr(()=>{k.current=!1}))}),$=V(q=>{q.preventDefault()}),{isFocusVisible:I,focusProps:H}=Bt({autoFocus:a}),{isHovered:z,hoverProps:L}=en({isDisabled:l}),{pressed:R,pressProps:K}=xr({disabled:l}),Y=G(()=>({selected:C,hover:z,active:R,focus:I,autofocus:a,disabled:l}),[C,z,I,R,a,l]),ee=ct({ref:y,onKeyDown:M,onMouseDown:$,onClick:E,id:i,role:"tab",type:_o(e,v),"aria-controls":(r=(n=d[S])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":C,tabIndex:C?0:-1,disabled:l||void 0,autoFocus:a},H,L,K);return _e()({ourProps:ee,theirProps:s,slot:Y,defaultTag:h1,name:"Tabs.Tab"})}let b1="div";function _1(e,t){let{selectedIndex:n}=Vn("Tab.Panels"),r=Ce(t),o=G(()=>({selectedIndex:n}),[n]),i=e,l={ref:r};return _e()({ourProps:l,theirProps:i,slot:o,defaultTag:b1,name:"Tabs.Panels"})}let y1="div",w1=ut.RenderStrategy|ut.Static;function S1(e,t){var n,r,o,i;let l=$e(),{id:a=`headlessui-tabs-panel-${l}`,tabIndex:s=0,...u}=e,{selectedIndex:f,tabs:p,panels:g}=Vn("Tab.Panel"),d=Xs("Tab.Panel"),m=D(null),h=Ce(m,t);ge(()=>d.registerPanel(m),[d,m]);let v=bm("panels"),b=g.indexOf(m);b===-1&&(b=v);let _=b===f,{isFocusVisible:y,focusProps:x}=Bt(),S=G(()=>({selected:_,focus:y}),[_,y]),C=ct({ref:h,id:a,role:"tabpanel","aria-labelledby":(r=(n=p[b])==null?void 0:n.current)==null?void 0:r.id,tabIndex:_?s:-1},x),N=_e();return!_&&((o=u.unmount)==null||o)&&!((i=u.static)!=null&&i)?F.createElement(Xt,{"aria-hidden":"true",...C}):N({ourProps:C,theirProps:u,slot:S,defaultTag:y1,features:w1,visible:_,name:"Tabs.Panel"})}let x1=me(v1),_m=me(p1),ym=me(m1),wm=me(_1),Qr=me(S1),pi=Object.assign(x1,{Group:_m,List:ym,Panels:wm,Panel:Qr}),C1="textarea";function F1(e,t){let n=$e(),r=Cr(),o=nn(),{id:i=r||`headlessui-textarea-${n}`,disabled:l=o||!1,autoFocus:a=!1,invalid:s=!1,...u}=e,f=_n(),p=vo(),{isFocused:g,focusProps:d}=Bt({autoFocus:a}),{isHovered:m,hoverProps:h}=en({isDisabled:l}),v=ct({ref:t,id:i,"aria-labelledby":f,"aria-describedby":p,"aria-invalid":s?"true":void 0,disabled:l||void 0,autoFocus:a},d,h),b=G(()=>({disabled:l,invalid:s,hover:m,focus:g,autofocus:a}),[l,s,m,g,a]);return _e()({ourProps:v,theirProps:u,slot:b,defaultTag:C1,name:"Textarea"})}let E1=me(F1);function ko(){return(ko=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Sm(e,t){if(e==null)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}function Ka(e){var t=D(e),n=D(function(r){t.current&&t.current(r)});return t.current=e,n.current}var Bn=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},pr=function(e){return"touches"in e},Ya=function(e){return e&&e.ownerDocument.defaultView||self},Ac=function(e,t,n){var r=e.getBoundingClientRect(),o=pr(t)?function(i,l){for(var a=0;a<i.length;a++)if(i[a].identifier===l)return i[a];return i[0]}(t.touches,n):t;return{left:Bn((o.pageX-(r.left+Ya(e).pageXOffset))/r.width),top:Bn((o.pageY-(r.top+Ya(e).pageYOffset))/r.height)}},Nc=function(e){!pr(e)&&e.preventDefault()},Js=F.memo(function(e){var t=e.onMove,n=e.onKey,r=Sm(e,["onMove","onKey"]),o=D(null),i=Ka(t),l=Ka(n),a=D(null),s=D(!1),u=G(function(){var d=function(v){Nc(v),(pr(v)?v.touches.length>0:v.buttons>0)&&o.current?i(Ac(o.current,v,a.current)):h(!1)},m=function(){return h(!1)};function h(v){var b=s.current,_=Ya(o.current),y=v?_.addEventListener:_.removeEventListener;y(b?"touchmove":"mousemove",d),y(b?"touchend":"mouseup",m)}return[function(v){var b=v.nativeEvent,_=o.current;if(_&&(Nc(b),!function(x,S){return S&&!pr(x)}(b,s.current)&&_)){if(pr(b)){s.current=!0;var y=b.changedTouches||[];y.length&&(a.current=y[0].identifier)}_.focus(),i(Ac(_,b,a.current)),h(!0)}},function(v){var b=v.which||v.keyCode;b<37||b>40||(v.preventDefault(),l({left:b===39?.05:b===37?-.05:0,top:b===40?.05:b===38?-.05:0}))},h]},[l,i]),f=u[0],p=u[1],g=u[2];return Q(function(){return g},[g]),F.createElement("div",ko({},r,{onTouchStart:f,onMouseDown:f,className:"react-colorful__interactive",ref:o,onKeyDown:p,tabIndex:0,role:"slider"}))}),Mo=function(e){return e.filter(Boolean).join(" ")},Qs=function(e){var t=e.color,n=e.left,r=e.top,o=r===void 0?.5:r,i=Mo(["react-colorful__pointer",e.className]);return F.createElement("div",{className:i,style:{top:100*o+"%",left:100*n+"%"}},F.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Ge=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},P1=function(e){return A1(Xa(e))},Xa=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Ge(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?Ge(parseInt(e.substring(6,8),16)/255,2):1}},$1=function(e){return T1(R1(e))},xm=function(e){var t=e.s,n=e.v,r=e.a,o=(200-t)*n/100;return{h:Ge(e.h),s:Ge(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:Ge(o/2),a:Ge(r,2)}},Ja=function(e){var t=xm(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},gi=function(e){var t=xm(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},R1=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var i=Math.floor(t),l=r*(1-n),a=r*(1-(t-i)*n),s=r*(1-(1-t+i)*n),u=i%6;return{r:Ge(255*[r,a,l,l,s,r][u]),g:Ge(255*[s,r,r,a,l,l][u]),b:Ge(255*[l,l,s,r,r,a][u]),a:Ge(o,2)}},Wr=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},T1=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=o<1?Wr(Ge(255*o)):"";return"#"+Wr(t)+Wr(n)+Wr(r)+i},A1=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,i=Math.max(t,n,r),l=i-Math.min(t,n,r),a=l?i===t?(n-r)/l:i===n?2+(r-t)/l:4+(t-n)/l:0;return{h:Ge(60*(a<0?a+6:a)),s:Ge(i?l/i*100:0),v:Ge(i/255*100),a:o}},N1=F.memo(function(e){var t=e.hue,n=e.onChange,r=Mo(["react-colorful__hue",e.className]);return F.createElement("div",{className:r},F.createElement(Js,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:Bn(t+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":Ge(t),"aria-valuemax":"360","aria-valuemin":"0"},F.createElement(Qs,{className:"react-colorful__hue-pointer",left:t/360,color:Ja({h:t,s:100,v:100,a:1})})))}),O1=F.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:Ja({h:t.h,s:100,v:100,a:1})};return F.createElement("div",{className:"react-colorful__saturation",style:r},F.createElement(Js,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:Bn(t.s+100*o.left,0,100),v:Bn(t.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Ge(t.s)+"%, Brightness "+Ge(t.v)+"%"},F.createElement(Qs,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:Ja(t)})))}),Cm=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},I1=function(e,t){return e.toLowerCase()===t.toLowerCase()||Cm(Xa(e),Xa(t))};function k1(e,t,n){var r=Ka(n),o=A(function(){return e.toHsva(t)}),i=o[0],l=o[1],a=D({color:t,hsva:i});Q(function(){if(!e.equal(t,a.current.color)){var u=e.toHsva(t);a.current={hsva:u,color:t},l(u)}},[t,e]),Q(function(){var u;Cm(i,a.current.hsva)||e.equal(u=e.fromHsva(i),a.current.color)||(a.current={hsva:i,color:u},r(u))},[i,e,r]);var s=oe(function(u){l(function(f){return Object.assign({},f,u)})},[]);return[i,s]}var M1=typeof window<"u"?vt:Q,L1=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},Oc=new Map,D1=function(e){M1(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!Oc.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,Oc.set(t,n);var r=L1();r&&n.setAttribute("nonce",r),t.head.appendChild(n)}},[])},G1=function(e){var t=e.className,n=e.hsva,r=e.onChange,o={backgroundImage:"linear-gradient(90deg, "+gi(Object.assign({},n,{a:0}))+", "+gi(Object.assign({},n,{a:1}))+")"},i=Mo(["react-colorful__alpha",t]),l=Ge(100*n.a);return F.createElement("div",{className:i},F.createElement("div",{className:"react-colorful__alpha-gradient",style:o}),F.createElement(Js,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:Bn(n.a+a.left)})},"aria-label":"Alpha","aria-valuetext":l+"%","aria-valuenow":l,"aria-valuemin":"0","aria-valuemax":"100"},F.createElement(Qs,{className:"react-colorful__alpha-pointer",left:n.a,color:gi(n)})))},V1=function(e){var t=e.className,n=e.colorModel,r=e.color,o=r===void 0?n.defaultColor:r,i=e.onChange,l=Sm(e,["className","colorModel","color","onChange"]),a=D(null);D1(a);var s=k1(n,o,i),u=s[0],f=s[1],p=Mo(["react-colorful",t]);return F.createElement("div",ko({},l,{ref:a,className:p}),F.createElement(O1,{hsva:u,onChange:f}),F.createElement(N1,{hue:u.h,onChange:f}),F.createElement(G1,{hsva:u,onChange:f,className:"react-colorful__last-control"}))},B1={defaultColor:"0001",toHsva:P1,fromHsva:$1,equal:I1},j1=function(e){return F.createElement(V1,ko({},e,{colorModel:B1}))};function H1(e){return Object.keys(e.printers).length===0}var Fm=(e=>(e.LeftToRight="LeftToRight",e.RightToLeft="RightToLeft",e))(Fm||{}),Em=(e=>(e.TopDown="TopDown",e.BottomUp="BottomUp",e))(Em||{}),Pm=(e=>(e.LeftToRight="LeftToRight",e.RightToLeft="RightToLeft",e))(Pm||{}),$m=(e=>(e.Unordered="Unordered",e.TopDown="TopDown",e.BottomUp="BottomUp",e.FrontToBack="FrontToBack",e.BackToFront="BackToFront",e.LeftToRight="LeftToRight",e.RightToLeft="RightToLeft",e))($m||{});const q1=`material,filament_info,temp_min,temp_high
ABS,GFB99,240,280
ABS-GF,GFB50,240,280
ABS-S,GFS06,240,270
ASA,GFB98,240,280
ASA-AERO,GFB02,240,280
ASA-CF,GFB51,240,280
BVOH,GFS97,190,240
EVA,GFR99,190,240
HIPS,GFS98,220,270
PA,GFN99,260,300
PA-CF,GFN98,260,300
PA-GF,GFN08,260,300
PA-S,GFS01,260,300
PA6-CF,GFN05,260,300
PC,GFC99,260,290
PCTG,GFG97,220,260
PE,GFP99,190,240
PE-CF,GFP98,190,240
PET-CF,GFT01,220,260
PETG,GFG99,220,260
PETG-CF,GFG98,220,260
PHA,GFR98,190,240
PLA,GFL99,190,240
PLA-AERO,GFA11,190,240
PLA-CF,GFL98,190,240
PLA-S,GFS00,190,240
PP,GFP97,220,250
PP-CF,GFP96,220,250
PP-GF,GFP95,220,250
PPA-CF,GFN97,280,320
PPA-GF,GFN96,280,320
PPS,GFT97,300,340
PPS-CF,GFT98,300,340
PVA,GFS99,190,240
TPU,GFU99,200,250
TPU-AMS,GFU98,200,250
`,z1=["PLA","PETG","ABS","TPU","ASA",...q1.split(`
`).slice(1).map(e=>e.split(",")[0].trim()).filter(e=>e.length>0)],U1=`Beige,F5F5DCFF
Black,000000FF
Blue,0000FFFF
Brown,8B4513FF
Cyan,00FFFFFF
Dark Blue,00008BFF
Dark Green,006400FF
Dark Red,8B0000FF
Gray,808080FF
Green,008000FF
Light Blue,ADD8E6FF
Light Green,90EE90FF
Light Red,FF7F7FFF
Magenta,FF00FFFF
Olive,808000FF
Orange,FFA500FF
Pink,EE79A8FF
Purple,800080FF
Red,FF0000FF
Teal,008080FF
Violet,EE82EEFF
White,FFFFFFFF
Yellow,FFFF00FF
Gold,FFD700FF
Silver,C0C0C0FF
Light Wood,A5886EFF,
Wood,705A4EFF,
Dark Wood,56413E,
Bronze,7B6245FF,
Copper,8F4D2EFF,
Transparent,FFFFFF00,
`;function W1({children:e,title:t,message:n,onConfirm:r,confirmText:o="Confirm",cancelText:i="Cancel"}){const[l,a]=A(!1);return c(ae,{children:[c("span",{onClick:()=>a(!0),children:e}),c(Or,{open:l,onClose:()=>a(!1),className:"fixed inset-0 z-50 flex items-center justify-center",children:[c(Ar,{className:"dialog-backdrop"}),c("div",{className:"p-4 rounded shadow max-w-lg w-full",children:c(Tr,{className:"spool-dialog-panel",children:[c(Nr,{className:"dialog-title",children:[t,c(Fe,{onClick:()=>a(!1),className:"p-1.5 hover:bg-base-200 rounded-md transition-colors",type:"button",children:c(Ot,{className:"w-4 h-4"})})]}),c(Cs,{className:"dialog-description text-warning ",children:n}),c("div",{className:"mt-4 flex justify-end gap-2",children:[c("button",{className:"btn btn-outline",onClick:()=>a(!1),children:i}),c("button",{className:"btn btn-primary",onClick:()=>{r(),a(!1)},children:o})]})]})})]})]})}function K1({storageConfig:e,onCancel:t,onSelect:n,onClear:r,initialLocation:o,closeOnPressOutside:i=!0}){if(!e)return c(ae,{});const l=D(null);Q(()=>{if(!i||!t)return;function O(Z){l.current&&!l.current.contains(Z.target)&&t()}return document.addEventListener("mousedown",O),()=>document.removeEventListener("click",O)},[t]);const[a,s]=A((o==null?void 0:o.rack)||null),[u,f]=A((o==null?void 0:o.bay)||null),[p,g]=A((o==null?void 0:o.shelf)||null),[d,m]=A((o==null?void 0:o.position)||null),[h,v]=A((o==null?void 0:o.container)||null),[b,_]=A(null);Q(()=>{s(o==null?void 0:o.rack),f(o==null?void 0:o.bay),g(o==null?void 0:o.shelf),m(o==null?void 0:o.position),v(o==null?void 0:o.container),o&&(o.container?_("6complete"):o.position?_("5container"):o.shelf?_("4position"):o.bay?_("3shelf"):o.rack?_("2bay"):_("1rack"))},[o]);const[y,x]=A(""),[S,C]=A(""),N=e?Object.entries(e.rack_config).map(([O,Z])=>({rackId:Number(O),name:Z.name})):[];Q(()=>{o&&(s(o.rack),f(o.bay),g(o.shelf),m(o.position),v(o.container||null))},[o]);const M=(O,Z)=>O.num_shelves,k=(O,Z,U)=>O.num_positions,E=(O,Z,U,j)=>O.num_containers;Q(()=>{if(!a||!e)return;const O=e.rack_config[a].num_bays;b=="2bay"&&O<=1&&I(O)},[b]),Q(()=>{if(!a)return;const O=M(e.rack_config[a]);b=="3shelf"&&O<=1&&H(O)},[b]),Q(()=>{if(!a)return;const O=k(e.rack_config[a]);b=="4position"&&O<=1&&z(O)},[b]),Q(()=>{if(!a)return;const O=E(e.rack_config[a]);b=="5container"&&O<=1&&R(O)},[b]);const $=O=>{s(O),g(null),m(null),v(null),x(""),_("2bay")},I=O=>{f(O),g(null),m(null),v(null),x(""),_("3shelf")},H=O=>{g(O),m(null),v(null),x(""),C(""),_("4position")},z=O=>{m(O),v(null),x(""),C(""),_("5container")},L=O=>{const Z=parseInt(y);if(Z>O){C(`Must be between 1 and ${O}`);return}Y(Z,O),C("")},R=O=>{v(O),_("6complete")},K=O=>{switch(O){case"1rack":s(null),f(null),g(null),m(null),v(null),x(""),_("1rack");break;case"2bay":f(null),g(null),m(null),v(null),x(""),_("2bay");break;case"3shelf":g(null),m(null),v(null),x(""),_("3shelf");break;case"4position":m(null),v(null),x(""),_("4position");break;case"5container":v(null),_("5container");break}},Y=(O,Z)=>{O<=Z&&(b==="2bay"&&a?I(O):b==="3shelf"&&a?H(O):b==="4position"&&a?z(O):b==="5container"&&a&&R(O))},ee=(O,Z)=>{O==="backspace"?x(U=>U.slice(0,-1)):O==="confirm"?L(Z):x(U=>U+O)},q=O=>{const Z=ue=>U?ue>O:!y&&ue===0||parseInt(y+ue)>O,U=O<10,j=[];for(let ue=1;ue<=9;ue++){const W=Z(ue);j.push(c("button",{onClick:()=>U?Y(ue,O):ee(ue.toString(),O),disabled:W,className:`px-2 py-4 text-xl font-semibold rounded-lg border border-gray-300 dark:border-gray-600 
            ${W?"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed":"bg-base-100 hover:bg-base-200 active:bg-base-300"} transition-colors`,children:ue},ue))}const we=Z(0);return c(ae,{children:[!U&&c("div",{className:"mb-4",children:[c("div",{className:"flex items-center gap-2 mb-2",children:[c("span",{className:"text-sm text-base-content/70",children:"Enter:"}),c("div",{className:"px-4 py-2 bg-base-100 border border-gray-300 dark:border-gray-600 rounded-lg font-mono text-lg min-w-[100px]",children:y||"_"}),y&&c("button",{onClick:()=>x(""),className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-base-200",children:"Clear"})]}),S&&c("p",{className:"text-sm text-error",children:S})]}),c("div",{className:"grid grid-cols-3 gap-3 max-w-xs mx-auto",children:[j,U?c("button",{disabled:!0,className:"col-span-3 px-2 py-4 text-lg font-semibold rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed",children:"0"}):c(ae,{children:[c("button",{onClick:()=>ee("backspace",O),className:"px-2 py-4 text-lg font-semibold rounded-lg border border-gray-300 dark:border-gray-600 bg-base-100 hover:bg-base-200 active:bg-base-300 transition-colors flex items-center justify-center",children:c(Eh,{size:24})}),c("button",{disabled:we,onClick:()=>ee("0",O),className:`px-2 py-4 text-xl font-semibold rounded-lg border border-gray-300 dark:border-gray-600 
            ${we?"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed":"bg-base-100 hover:bg-base-200 active:bg-base-300"} transition-colors`,children:"0"}),c("button",{onClick:()=>ee("confirm",O),className:"px-2 py-4 text-lg font-semibold rounded-lg border border-gray-300 dark:border-gray-600 bg-base-100 hover:bg-base-200 active:bg-base-300 transition-colors flex items-center justify-center",children:c(Fh,{size:24})})]})]})]})};return N.length===0?c("div",{className:"text-center py-12 text-base-content/60",children:[c("p",{className:"text-lg font-medium mb-2",children:"No storage configured"}),c("p",{className:"text-sm",children:"Please configure storage racks first"})]}):c("div",{ref:l,className:"space-y-2",children:[c("div",{children:a?c("div",{className:"flex items-center gap-2 mb-2",children:[c("span",{className:"text-sm font-medium text-base-content/70",children:"Rack:"}),c("span",{className:"font-medium",children:e.rack_config[a].name}),c("button",{onClick:()=>K("1rack"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:c(Ot,{size:16})})]}):c(ae,{children:[c("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:"Select Rack:"}),c("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:N.map(O=>c("button",{onClick:()=>$(O.rackId),className:"px-4 py-3 bg-base-100 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-base-200 hover:border-gray-400 dark:hover:border-gray-500 transition-colors text-left font-medium",children:O.name},O.rackId))})]})}),a&&b>="2bay"&&c("div",{children:u?c("div",{className:"flex items-center gap-2 mb-2",children:[c("span",{className:"text-sm font-medium text-base-content/70",children:"Bay:"}),c("span",{className:"font-medium",children:u}),c("button",{onClick:()=>K("2bay"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:c(Ot,{size:16})})]}):b==="2bay"&&c(ae,{children:[c("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:["Which bay? (1-",e.rack_config[a].num_bays,")"]}),q(e.rack_config[a].num_bays)]})}),a&&b>="3shelf"&&c("div",{children:p?c("div",{className:"flex items-center gap-2 mb-2",children:[c("span",{className:"text-sm font-medium text-base-content/70",children:"Shelf:"}),c("span",{className:"font-medium",children:p}),c("button",{onClick:()=>K("3shelf"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:c(Ot,{size:16})})]}):b==="3shelf"&&c(ae,{children:[c("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:["Which shelf? (1-",e.rack_config[a].num_shelves,")"]}),q(e.rack_config[a].num_shelves)]})}),a&&b>="4position"&&c("div",{children:d?c("div",{className:"flex items-center gap-2 mb-2",children:[c("span",{className:"text-sm font-medium text-base-content/70",children:"Position:"}),c("span",{className:"font-medium",children:d}),c("button",{onClick:()=>K("4position"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:c(Ot,{size:16})})]}):b==="4position"&&c(ae,{children:[c("div",{className:"text-sm font-medium text-base-content/70 mb-2 flex items-center gap-2",children:["Which position? (1-",k(e.rack_config[a]),")",(()=>{const O=e.rack_config[a].num_positions,Z=k(e.rack_config[a]);return O!==Z?c("span",{className:"text-xs text-primary flex items-center gap-1",children:[c(Th,{size:14}),"This shelf has ",Z," positions"]}):null})()]}),q(k(e.rack_config[a]))]})}),a&&b>="5container"&&c("div",{children:h?c("div",{className:"flex items-center gap-2 mb-2",children:[c("span",{className:"text-sm font-medium text-base-content/70",children:"Container:"}),c("span",{className:"font-medium",children:h}),c("button",{onClick:()=>K("5container"),className:"ml-auto p-1 hover:bg-base-200 rounded",children:c(Ot,{size:16})})]}):b==="5container"&&c(ae,{children:[c("div",{className:"text-sm font-medium text-base-content/70 mb-3",children:["Which container? (1-",E(e.rack_config[a]),")"]}),q(E(e.rack_config[a]))]})}),a&&c("div",{className:"bg-primary/10 border border-primary rounded-lg p-4",children:c("div",{className:"flex items-start gap-2",children:[c("span",{className:`${b!="6complete"&&"invisible"} text-primary font-bold text-4xl`,children:"âœ“"}),c("div",{children:[c("p",{className:"font-medium text-base-content",children:"Selected Location:"}),c("p",{className:"text-sm text-base-content/80",children:[e.rack_config[a].name,!!u&&` / Bay ${u}`,!!p&&` / Shelf ${p}`,!!d&&` / Position ${d}`,!!h&&` / Container ${h}`]})]})]})}),c("div",{className:"dialog-actions",children:[r&&c(Fe,{className:"btn btn-outline",onClick:()=>r&&r(),children:"Clear"}),c(Fe,{className:"btn btn-outline",onClick:()=>t&&t(),children:"Cancel"}),c(Fe,{className:"btn btn-outline",onClick:()=>n&&n({rack:a,bay:u,shelf:p,position:d,container:h}),disabled:a==null||S!="",children:"Ok"})]})]})}const Rm=be(null);async function Y1(){try{const e=Ue("api/storage-config");return await(await encryptedFetch(e,{method:"GET"})).json()}catch{return{rack_config:{}}}}async function X1(e){const t=Ue("api/storage-config");return await(await encryptedFetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json()}function J1({children:e}){const[t,n]=A(null),[r,o]=A(!1),i=oe(async()=>{o(!0),n(await Y1()),o(!1)},[]),l=oe(async a=>{o(!0);try{n(await X1(a))}catch(s){throw s}finally{o(!1)}},[]);return Q(()=>{(async()=>await i())()},[]),c(Rm.Provider,{value:{storageConfig:t,setStorageConfig:n,loadingStorgeConfig:r,reloadStorageConfig:i,saveStorageConfig:l},children:e})}const Zs=()=>se(Rm),Ic=po(({title:e,locationValue:t,onUpdateData:n,complete:r,onShowLocationPicker:o,storageConfig:i},l)=>c(Ze,{className:"form-field",children:[c(ze,{className:"form-label",children:e}),c("div",{ref:l,className:"tag-id-group",children:[c("div",{className:"relative w-full",children:[(t==null?void 0:t.charAt(0))=="#"?c(eo,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400"}):c(ba,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400"}),c(xt,{disabled:r||(t==null?void 0:t.charAt(0))=="#",className:"!pl-9 form-note-textarea !rounded-r-none",value:Pa(i,t).slice(1),onChange:a=>n((a.target.value?"@":"")+a.target.value),placeholder:"Enter free text or use storage configuration"})]}),c(Fe,{className:"location-button !rounded-r-none",onClick:()=>{o()},disabled:r,children:c(eo,{})}),c(Fe,{className:"location-button",onClick:()=>n(""),disabled:r,children:c(Ot,{})})]})]})),kc=[{label:"Unspecified",value:""},{label:"Full Unused",value:"y"},{label:"Used",value:"n"}],Qa=[{label:"Unspecified",grams:0},{label:"1kg",grams:1e3},{label:"200g",grams:200},{label:"250g",grams:250},{label:"500g",grams:500},{label:"750g",grams:750},{label:"800g",grams:800},{label:"900g/2lbs",grams:900},{label:"1.1kg",grams:1100},{label:"2kg",grams:2e3},{label:"5lbs",grams:2268},{label:"2.5kg",grams:2500},{label:"3kg",grams:3e3}],Za=e=>{const t=e||0,n=Qa.find(r=>r.grams===t);return n?n.label:"Unspecified"};function Q1(e){return e.trim().split(`
`).map((t,n)=>{const[r,o]=t.split(",");return{id:n+1,rgba:o,name:r}}).sort((t,n)=>t.name.localeCompare(n.name))}const er=Q1(U1);function Z1(e){const t={printers:{}};for(const[n,r]of Object.entries(e.printers))for(const[o,i]of Object.entries(r.extruders))for(const[l,a]of Object.entries(i.diameters))for(const[s,u]of Object.entries(a.nozzles))u!==null&&(t.printers[n]||(t.printers[n]={extruders:{}}),t.printers[n].extruders[o]||(t.printers[n].extruders[o]={diameters:{}}),t.printers[n].extruders[o].diameters[l]||(t.printers[n].extruders[o].diameters[l]={nozzles:{}}),t.printers[n].extruders[o].diameters[l].nozzles[s]=u);return t}function eS({isMobile:e,info:t,materials:n,cores:r,slicerFilaments:o,filamentBrands:i,unsortedFilamentBrands:l,onSave:a,onCancel:s,onAddSimilar:u,onAddNew:f,onRefresh:p}){var fu,pu;const[g,d]=A({id:"",tagId:"",rgba:"000000FF",colorName:"",material:"",subtype:"",brand:"",label:Za(null),labelGrams:null,coreGrams:null,note:"",slicerFilamentCode:"",fullUnused:"",assignedLocation:"",actualLocation:""});Q(()=>{T()},[g]);const[m,h]=A(""),[v,b]=A(!1),[_,y]=A(""),[x,S]=A({}),C=D(null),[N,M]=A(""),[k,E]=A(""),$=D(null),I=D(null),H=D(null),{storageConfig:z}=Zs(),[L,R]=A(null),[K,Y]=A(""),ee=er.filter(P=>P.name.toLowerCase().includes(K.toLowerCase())),[q,O]=A(0),[Z,U]=A(0),[j,we]=A(0),[ue,W]=A({}),[X,fe]=A({}),[ye,rn]=A(!1),[Kn,Yn]=A({printers:{}}),[on,he]=A({printers:{}}),bt=async P=>{if(!g.slicerFilamentCode){fe({}),W({});return}try{const B=Ue("api/printers-filament-pa"),pe={slicer_filament_code:P},Qe=await(await encryptedFetch(B,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(pe)})).json();W(Qe.printers),rn(!0)}catch{console.log("Error fetching printers filaments pressure advancee")}};Q(()=>{(async()=>await bt(g.slicerFilamentCode))()},[g.slicerFilamentCode]);const ie=async P=>{if(!g.id){he({printers:{}});return}try{const B=Ue("api/spool-kinfo"),pe={id:P},Qe=await(await encryptedFetch(B,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(pe)})).json();Qe.k_info?(Yn(Qe.k_info),he(structuredClone(Qe.k_info)),rn(!0)):he({printers:{}})}catch(B){he({printers:{}}),console.log("Error fetching kinfo for spool",B)}};Q(()=>{(async()=>await ie(g.id))()},[g.id]),Q(()=>{if(ye){const P=nS(ue,Kn);fe(P),rn(!1)}},[ye]);const _t=D(null);Q(()=>{t.open&&t.spool?d(t.spool):t.open&&t.mode==="add"&&d({id:"",tagId:"",rgba:"000000FF",colorName:"",material:"",subtype:"",brand:"",label:Za(null),labelGrams:null,coreGrams:null,note:"",slicerFilamentCode:"",fullUnused:"",assignedLocation:"",actualLocation:""}),S({})},[t.open,t.spool,t.mode]),Q(()=>{const P=B=>{C.current&&!C.current.contains(B.target)&&b(!1)};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[]);const ft=P=>/^([A-Fa-f0-9]{6}|[A-Fa-f0-9]{8})$/.test(P),w=P=>{const B=P.startsWith("#")?P.slice(1).toUpperCase():P.toUpperCase();return B.length===6?B+"FF":B},T=()=>{},J=P=>{d(B=>({...B,rgba:P}))},te=P=>{const B=w(P);d(pe=>({...pe,rgba:B}))},Re=P=>{const B=Qa.find(pe=>pe.label===P);d(pe=>({...pe,label:P,labelGrams:(B==null?void 0:B.grams)||0}))},Pe=P=>{d(B=>({...B,fullUnused:P}))},Ve=()=>{const P=er.find(B=>B.name===g.colorName);P&&d(B=>({...B,rgba:P.rgba}))},Je=P=>{R(P)},qe=()=>L=="assigned"?I:L=="actual"?H:null,xn=P=>{const B=P.rack?`R:${P.rack}`:null,pe=P.bay?`B:${P.bay}`:null,wt=P.shelf?`S:${P.shelf}`:null,Qe=P.position?`P:${P.position}`:null,ln=P.container?`C:${P.container}`:null,gu=[B,pe,wt,Qe,ln].filter(Jn=>Jn!=null).join("/"),mu=gu!=""?"#"+gu:"";switch(L){case"assigned":d(Jn=>({...Jn,assignedLocation:mu}));break;case"actual":d(Jn=>({...Jn,actualLocation:mu}));break}},Xn=r.filter(P=>P.name.toLowerCase().includes(m.toLowerCase())),Lr=o.filter(P=>P.name.toLowerCase().includes(N.toLowerCase())),Dr=i.filter(P=>P.displayName.toLowerCase().startsWith(k.toLowerCase())),pt=n.filter(P=>P.toLowerCase().includes(_.toLowerCase())),yt=P=>{const pe=o.find(ln=>ln.code===P).name.toLowerCase(),Qe=l.find(ln=>pe.toLowerCase().startsWith(ln.displayName.toLowerCase()))||l.find(ln=>pe.toLowerCase().includes(ln.displayName.toLowerCase()));return(Qe==null?void 0:Qe.fillName)??null},Km=()=>{const P={};{if(ft(g.rgba)?d(pe=>({...pe,rgba:w(pe.rgba).toUpperCase()})):P.rgba="Invalid hex color format",g.material.trim()||(P.material="Material is required"),g.labelGrams||(P.labelGrams="Label W. Required"),Object.keys(P).length>0){S(P);return}S({})}const B=H1(on)?null:on;a({...g,rgba:w(g.rgba).toUpperCase()},B)},du=ft(g.rgba)?g.rgba.substring(0,8):"000000FF",Ke=!1,Cn=t.tray_id?t.tray_id<998:!1,Be=t.tray_id?t.tray_id===-1:!1,Me=t.complete==="successDone";return c(Or,{open:t.open,onClose:()=>{},initialFocus:_t,children:[c(Ar,{className:"dialog-backdrop"}),c("div",{className:"dialog-container",children:c(Tr,{className:"spool-dialog-panel w-[32.2rem] h-[58.2rem]",children:[c(Nr,{className:"dialog-title",children:[t.mode==="add"?"Add a New Spool":t.mode==="edit"?"Edit Spool Information":"Edit Encode Information",t.mode=="encode"&&c(Fe,{className:"btn",onClick:()=>p(),children:"Refresh"}),t.mode!=="encode"&&c(Fe,{onClick:s,className:"p-1.5 hover:bg-base-200 rounded-md transition-colors",type:"button",children:c(Ot,{className:"w-4 h-4"})})]}),Be&&c("div",{className:"form-error",children:"Encode flow not started â€” start in console, then refresh."}),c(_m,{selectedIndex:j,onChange:we,className:"flex flex-col flex-1 xxxoverflow-auto",children:[c(ym,{className:"tab-list",children:[c(pi,{className:"tab-button",children:"Filament Info"}),c(pi,{className:"tab-button",children:"PA Profile (K)"}),c(pi,{className:"tab-button",children:"Location"})]}),c(wm,{className:"tab-panels-container",children:[c(Qr,{className:"h-full",children:c("div",{className:"spool-form",children:[c("div",{className:"form-row grid-cols-2",children:[c(Ze,{className:"form-field",children:[c(ze,{className:"form-label",children:"ID"}),c(xt,{className:"form-input",value:g.id,readOnly:!0,disabled:!0})]}),c(Ze,{className:"form-field",children:[c(ze,{className:"form-label",children:"Tag ID"}),c("div",{className:"tag-id-group",children:[c(xt,{className:`form-input ${g.tagId?"!rounded-r-none":""} ${g.tagId.startsWith("-")?"!text-orange-400":""}`,value:g.tagId.startsWith("-")?"Unlink Tag On Save!!":g.tagId,readOnly:!0,disabled:!0}),g.tagId&&c(Fe,{className:"spool-tag-unlink",onClick:()=>d({...g,tagId:g.tagId.startsWith("-")?g.tagId.slice(1):"-"+g.tagId}),children:g.tagId.startsWith("-")?c(Nh,{}):c(Ah,{})})]})]})]}),c(Ze,{className:"form-field",children:[c(ze,{className:"form-label",children:"Slicer Filament"}),c(Zn,{value:g.slicerFilamentCode||"",onChange:P=>{const B=yt(g.slicerFilamentCode),pe=!g.brand||g.brand===B?yt(P):g.brand;d(wt=>({...wt,material:o.find(Qe=>Qe.code===P).material,slicerFilamentCode:P,brand:pe}))},children:c("div",{className:"relative",children:[c($n,{tabindex:0,disabled:Be||Ke||Cn||Me,className:"listbox-button  w-full flex items-center justify-between",children:[c("span",{className:"flex-1 text-left",children:g.slicerFilamentCode?((fu=o.find(P=>P.code===g.slicerFilamentCode))==null?void 0:fu.name)||"Unknown":"Select slicer filament..."}),c(Ct,{className:"listbox-icon"})]}),c(Rn,{className:"listbox-options max-h-130",children:[c("div",{className:"listbox-search",children:c(xt,{className:"form-input",placeholder:"Type to filter filaments...",value:N,onKeyDown:P=>{P.key===" "&&P.stopPropagation()},onChange:P=>M(P.target.value)})}),Lr.map(P=>c(an,{value:P.code,className:"listbox-option",children:[P.name," "]},P.code))]})]})})]}),c("div",{className:"form-row grid-cols-[1fr_9rem]",children:[c(Ze,{className:"form-field",children:[c(ze,{className:"form-label",children:"Filament Brand"}),c("div",{className:"flex",children:c(xc,{value:g.brand,onChange:P=>{const B=i.find(pe=>pe.displayName===P);d(pe=>({...pe,brand:B.fillName}))},children:({open:P})=>c("div",{className:"listbox-container",children:[c(Ha,{disabled:Be||Ke||Me,className:"form-input",value:g.brand,onKeyDown:B=>{B.key==="Backspace"&&O(q+er.length)},onChange:B=>{const pe=B.target.value;E(pe),U(Z+i.length),d(wt=>({...wt,brand:pe}))},placeholder:"Enter/select filament brand"}),c(ja,{disabled:Be||Ke||Me,className:"combobox-button",children:c(Ct,{className:"listbox-icon"})}),c(qa,{className:"listbox-options max-h-110",children:Dr.map(B=>c(za,{value:B.displayName,className:"listbox-option",children:c("div",{className:"flex items-center gap-2",children:B.displayName})},B.displayName+q))})]})})})]}),c(Ze,{className:"form-field",children:[c(ze,{className:"form-label",children:"Label Weight*"}),c(Zn,{value:g.label,onChange:Re,children:c("div",{className:"listbox-container",children:[c($n,{tabindex:0,disabled:Be||Ke||Me,className:`listbox-button ${x.labelGrams?"form-input-error":""}`,children:[c("span",{className:"listbox-selected",children:g.label}),c(Ct,{className:"listbox-icon"})]}),c(Rn,{className:"listbox-options max-h-60",children:Qa.map(P=>c(an,{value:P.label,className:"listbox-option",children:P.label},P.label))})]})})]})]}),c("div",{className:"fields-section !mb-4",children:c("div",{className:"form-row grid-cols-[11rem_1fr]",children:[c(Ze,{className:"form-field",children:[c(ze,{className:"form-label",children:"Material *"}),c(Zn,{value:g.material,onChange:P=>d(B=>({...B,material:P})),children:c("div",{className:"listbox-container",children:[c($n,{tabindex:0,disabled:Be||Ke||Cn||Me||g.slicerFilamentCode!==""&&![void 0,""].includes(g.material),className:`listbox-button ${x.material?"form-input-error":""}`,children:[c("span",{className:"listbox-selected",children:g.material||"Select material..."}),c(Ct,{className:"listbox-icon"})]}),c(Rn,{className:"listbox-options max-h-85",children:[c("div",{className:"listbox-search",children:c(xt,{className:"form-input",placeholder:"Type to filter...",value:_,onChange:P=>y(P.target.value)})}),pt.map(P=>c(an,{value:P,className:"listbox-option",children:P},P)),_&&!pt.includes(_)&&c(an,{value:_,className:"listbox-option listbox-option-new",children:['Add "',_,'"']})]})]})})]}),c(Ze,{className:"form-field",children:[c(ze,{className:"form-label",children:"Subtype"}),c(xt,{disabled:Be||Ke||Me,className:"form-input",autocorrect:"false",spellcheck:!1,autoCapitalize:"none",value:g.subtype,onChange:P=>d(B=>({...B,subtype:P.target.value})),placeholder:"Enter subtype"})]})]})}),c("div",{className:"fields-section",children:[c("div",{className:"color-preview",children:[c("div",{className:"absolute inset-0",style:{backgroundColor:`#${du}`}}),c("div",{className:"color-preview-text",children:"Color Preview"})]}),c("div",{className:"color-controls",children:[c(Ze,{className:"form-field",children:[c(ze,{className:"form-label",children:"RGBA Color"}),c("div",{className:"color-input-group",children:[c(xt,{disabled:Be||Ke||Cn||Me,maxLength:8,className:`form-input z-1 !rounded-r-none !border-r-0  ${x.rgba?"form-input-error !border-r-2":""}`,value:g.rgba,onChange:P=>J(P.target.value),placeholder:"FF0000FF"}),c(Fe,{disabled:Be||Ke||Cn||Me,className:"color-picker-button",onClick:()=>b(!v),children:c(Oh,{className:"color-picker-icon"})}),v&&c("div",{className:"color-picker-container",ref:C,children:c(j1,{color:du,onChange:te})})]})]}),c(Ze,{className:"form-field",children:[c(ze,{className:"form-label",children:"Color Name"}),c("div",{className:"flex",children:[c(Fe,{disabled:Be||Ke||Me||Cn,className:"color-set-rgba-button",onClick:Ve,children:c("div",{class:"relative w-4 h-4",children:[c(xh,{className:"color-set-rgba-icon absolute top-1/8 left-1/4 -translate-y-1/2"}),c(Sh,{className:"color-set-rgba-icon absolute top-1/4 left-1/8 -translate-x-1/2"})]})}),c(xc,{value:g.colorName,onChange:P=>{d(B=>({...B,colorName:P}))},children:({open:P})=>c("div",{className:"listbox-container",children:[c(Ha,{disabled:Be||Ke||Me,className:"form-input !rounded-l-none !border-l-0",value:g.colorName,onKeyDown:B=>{if(B.key==="Backspace"&&O(q+er.length),B.key==="Enter"&&!P){const pe=B.target.value;!Cn&&g.colorName&&pe===g.colorName&&Ve()}},onChange:B=>{const pe=B.target.value;Y(pe),pe==""&&O(q+er.length),d(wt=>({...wt,colorName:pe}))},placeholder:"Enter/select color name"}),c(ja,{disabled:Be||Ke||Me,className:"combobox-button",children:c(Ct,{className:"listbox-icon"})}),c(qa,{className:"listbox-options max-h-48",children:ee.map(B=>c(za,{value:B.name,className:"listbox-option",children:c("div",{className:"flex items-center gap-2",children:[c("div",{className:"w-4 h-4 rounded border border-gray-300 dark:border-gray-600",style:{backgroundColor:`#${B.rgba.slice(0,6)}`}}),B.name]})},B.id+q))})]})})]})]})]})]}),c("div",{className:`form-row ${t.mode!=="encode"?"grid-cols-[9rem_1fr]":""}`,children:[t.mode!=="encode"&&c(Ze,{className:"form-field",children:[c(ze,{className:"form-label",children:"Full When Added"}),c(Zn,{value:g.fullUnused,onChange:Pe,children:c("div",{className:"relative",children:[c($n,{tabindex:0,disabled:Be||Ke||Me,className:`listbox-button ${x.material?"form-input-error":""}`,children:[c("span",{className:"listbox-selected",children:(pu=kc.find(P=>P.value===g.fullUnused))==null?void 0:pu.label}),c(Ct,{className:"listbox-icon"})]}),c(Rn,{className:"listbox-options max-h-60",children:kc.map(P=>c(an,{value:P.value,className:"listbox-option",children:P.label},P.value))})]})})]}),c(Ze,{className:"form-field",children:[c(ze,{className:"form-label",children:"Empty Weight(g)"}),c(Zn,{value:"",onChange:P=>{const B=r.find(pe=>pe.name===P);B&&d(pe=>({...pe,coreGrams:B.grams}))},children:c("div",{className:"relative",children:[c("div",{className:"listbox-button child-input-focus-ring  w-full flex items-center",children:[c(xt,{disabled:Be||Ke||Me,className:"w-full bg-transparent border-none p-0 m-0 outline-none focus:ring-0 focus:outline-none",value:g.coreGrams||"",onChange:P=>{const B=P.target.value;d(pe=>({...pe,coreGrams:B?parseInt(B):null}))},placeholder:"Enter weight in grams"}),c($n,{disabled:Be||Ke||Me,children:c(Ct,{className:"listbox-icon"})})]}),c(Rn,{className:"listbox-options max-h-45",children:[c("div",{className:"listbox-search",children:c(xt,{className:"form-input",placeholder:"Type to filter spool types...",value:m,onChange:P=>h(P.target.value)})}),Xn.map(P=>c(an,{value:P.name,className:"listbox-option",children:P.name},P.name))]})]})})]})]}),c(Ze,{className:"form-field",children:[c(ze,{className:"form-label",children:"Note"}),c(E1,{disabled:Be||Me,className:"form-note-textarea",value:g.note,onChange:P=>d(B=>({...B,note:P.target.value})),placeholder:"Enter any additional notes...",rows:1})]})]})}),c(Qr,{as:"div",className:"h-full overflow-auto",children:c("div",{className:"pressure-advance-form max-h-[100px]",children:c(tS,{filamentId:g.slicerFilamentCode,printerData:X,selections:on,onSelectionsChange:he})})}),c(Qr,{as:"div",className:"h-full",children:c("div",{className:"spool-form",children:[c(Ic,{ref:I,title:"Assigned Location",locationValue:g.assignedLocation,complete:Me,onShowLocationPicker:()=>Je("assigned"),onUpdateData:P=>d(B=>({...B,assignedLocation:P})),storageConfig:z}),c(Ic,{ref:H,title:"Actual Location",locationValue:g.actualLocation,complete:Me,onShowLocationPicker:()=>Je("actual"),onUpdateData:P=>d(B=>({...B,actualLocation:P})),storageConfig:z}),L!=null&&c("div",{ref:$,id:"location-picker-popup",className:"fixed bg-gray-700 rounded-md p-2 mt-2",style:{top:`${qe().current.getBoundingClientRect().bottom}px`,width:`${qe().current.getBoundingClientRect().width}px`},children:c(K1,{storageConfig:z,onCancel:()=>R(null),onSelect:P=>{xn(P),R(null)}})})]})})]})]}),c("div",{className:"dialog-actions",children:t.complete==null||t.complete=="successContinue"?c(ae,{children:[c("div",{className:"self-center",children:Mc(t,x)}),t.mode!=="encode"&&c(ae,{children:[c(Fe,{className:"btn btn-outline",onClick:s,children:"Cancel"}),g.id!=""&&c(Fe,{className:"btn btn-outline",onClick:u,children:"Add Similar"})]}),c(Fe,{className:"btn btn-primary",onClick:Km,disabled:Be||Me,children:t.mode==="add"?"Add Spool":"Save Changes"})]}):c(ae,{children:[c("div",{className:"self-center text-green-800",children:Mc(t,x)}),t.mode==="add"&&c(ae,{children:[c(Fe,{className:"btn btn-outline",onClick:u,children:"Add Similar"}),c(Fe,{className:"btn btn-outline",onClick:f,children:"Add New"})]}),c(Fe,{className:"btn btn-primary",onClick:s,children:"Close"})]})})]})})]})}function Mc(e,t){var n,r;if(t&&Object.keys(t).length>0)return"âŒ Form Validation Errors";switch(e.complete){case"successContinue":case"successDone":switch(e.mode){case"add":return`âœ… Spool ${(n=e.spool)==null?void 0:n.id} Added`;case"edit":return`âœ… Spool ${(r=e.spool)==null?void 0:r.id} Updated`;case"encode":return"Encode Information Updated"}case"fail":switch(e.mode){case"add":return"âŒ Failed to Add Spool";case"edit":return"âŒ Failed to Update Spool";case"encode":return"âŒ Failed to Update Encode Information"}}}function tS({filamentId:e,printerData:t,selections:n,onSelectionsChange:r}){const i=(()=>{const f={};return Object.entries(t).forEach(([p,g])=>{f[p]={name:g.name,extruders:g.extruders,extruderData:{}},g.pressure_advance.forEach(d=>{f[p].extruderData[d.extruder]||(f[p].extruderData[d.extruder]={}),f[p].extruderData[d.extruder][d.diameter]||(f[p].extruderData[d.extruder][d.diameter]={}),f[p].extruderData[d.extruder][d.diameter][d.nozzle_id]||(f[p].extruderData[d.extruder][d.diameter][d.nozzle_id]=[]),f[p].extruderData[d.extruder][d.diameter][d.nozzle_id].push(d)})}),f})(),l=(f,p,g,d,m)=>{const h={...n};h.printers[f]||(h.printers[f]={extruders:{}}),h.printers[f].extruders[p]||(h.printers[f].extruders[p]={diameters:{}}),h.printers[f].extruders[p].diameters[g]||(h.printers[f].extruders[p].diameters[g]={nozzles:{}});const v=m?{name:m.name,k_value:m.k_value,cali_idx:m.cali_idx,setting_id:m.setting_id}:null;h.printers[f].extruders[p].diameters[g].nozzles[d]=v;const b=Z1(h);r(b)},a=(f,p,g,d)=>{var m,h,v,b,_,y,x;return((x=(y=(_=(b=(v=(h=(m=n.printers)==null?void 0:m[f])==null?void 0:h.extruders)==null?void 0:v[p])==null?void 0:b.diameters)==null?void 0:_[g])==null?void 0:y.nozzles)==null?void 0:x[d])||null},s=f=>Object.values(f).some(p=>Object.keys(p).some(g=>g!==""));return c("div",{className:"pressure-advance-container",children:Object.keys(t).length===0?c("div",{className:"empty-state",children:c("p",{className:"no-data-message",children:"No slicer filament selected or no printers available."})}):Object.entries(i).map(([f,p])=>c(fi,{defaultOpen:!0,children:[c(Xr,{className:"printer-accordion-button",children:[c(Ct,{className:"printer-accordion-icon"}),c("span",{className:"printer-accordion-title",children:[p.name," (",f,")"]})]}),c(Jr,{className:"printer-accordion-content",children:Object.keys(p.extruderData).length===0?c("div",{className:"no-data-message",children:"No pressure advance profiles available in printer(s) for selected slicer filament."}):c("div",{className:`extruders-container ${p.extruders>1?"multiple-extruders":""}`,children:Object.entries(p.extruderData).map(([g,d])=>c("div",{className:`extruder-section ${p.extruders>1?"extruder-card":""}`,children:[p.extruders>1&&c("h4",{className:"extruder-title",children:[g==="0"?"Right":"Left"," Extruder (",g,")"]}),c("div",{className:"hierarchy-tree",children:Object.entries(d).map(([m,h])=>c(fi,{defaultOpen:!0,children:c("div",{className:`diameter-section ${p.extruders>1?"inside-extruder":"direct-under-printer"}`,children:[c(Xr,{className:"diameter-disclosure-button",children:[c(Ct,{className:"disclosure-icon"}),c("span",{className:"diameter-title",children:["Nozzle Diameter: ",m,"mm"]})]}),c(Jr,{className:"diameter-disclosure-content",children:s(d)?Object.entries(h).map(([v,b])=>c(fi,{defaultOpen:!0,children:c("div",{className:"nozzle-section",children:[c(Xr,{className:"nozzle-disclosure-button",children:[c(Ct,{className:"disclosure-icon"}),c("span",{className:"nozzle-title",children:["Nozzle Type:"," ",v[1]==="S"?"Standard ":"High Flow ","(",v||"Default",")"]})]}),c(Jr,{className:"nozzle-disclosure-content",children:c("div",{className:"settings-list",children:b.map((_,y)=>u(y,f,p.name,g,m,v,_,e,p))})})]})},v)):c("div",{className:"settings-list",children:h[""].map((v,b)=>u(b,f,p.name,g,m,"",v,e,p))})})]})},m))})]},g))})})]},f))});function u(f,p,g,d,m,h,v,b,_){const y=a(p,d,m,h),x=(y==null?void 0:y.name)===v.name;return c("label",{className:"setting-item",children:[c("input",{type:"checkbox",checked:x,onChange:S=>{const C=S.target.checked;l(p,d,m,h,C?{name:v.name,k_value:v.k_value,cali_idx:v.cali_idx,setting_id:v.setting_id}:null)},className:"setting-checkbox"}),c("span",{className:`setting-text ${v.spool_only?"setting-text-not-in-printer":""}`,children:[v.name," (K=",v.k_value,")",v.spool_only&&c(ae,{children:[" - (Not in printer ",c(W1,{title:"Add This Pressure Advance Setting?",message:c(ae,{children:["Printer: ",g," (",p,")",c("br",{}),_.extruders>1&&c(ae,{children:["Extruder ID: ",d," ",c("br",{})," "]}),"Nozzle: ",v.diameter," ",c("br",{}),h&&c(ae,{children:["Nozzle ID: ",h," ",c("br",{})," "]}),"Name: ",v.name,c("br",{}),"K: ",v.k_value,c("br",{}),"âš ï¸ Important: Check the Documentation for More Info on this!"]}),onConfirm:async()=>{try{const S=Ue("api/add-printer-pa"),C={printer_serial:p,filament_id:b,pressure_advance_entry:{extruder:Number(d),diameter:m,nozzle_id:h,name:v.name,k_value:v.k_value,cali_idx:-1,setting_id:v.setting_id}},M=await(await encryptedFetch(S,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)})).json()}catch{console.log("Error fetching printers filaments pressure advancee")}},confirmText:"Yes, Add",cancelText:"NOOO !!!",children:c(Fe,{className:"btn btn-secondary relative -top-[2-px] h-[1.5em] p-1",children:"Add"})}),")"]})]})]},f)}}function nS(e,t){const n={};for(const[o,i]of Object.entries(e))n[o]={name:i.name,extruders:i.extruders,pressure_advance:i.pressure_advance.map(l=>({...l,spool_only:!1}))};function r(o,i,l,a,s){const u=e[o];return u?u.pressure_advance.some(f=>f.extruder===i&&f.diameter===l&&f.nozzle_id===a&&f.name===s):!1}for(const[o,i]of Object.entries(t.printers))for(const[l,a]of Object.entries(i.extruders)){const s=parseInt(l,10);for(const[u,f]of Object.entries(a.diameters))for(const[p,g]of Object.entries(f.nozzles))if(g!==null&&!r(o,s,u,p,g.name)){n[o]||(n[o]={name:`Printer ${o}`,extruders:1,pressure_advance:[]});const d={extruder:s,diameter:u,nozzle_id:p,name:g.name,k_value:g.k_value,spool_only:!0,setting_id:g.setting_id,cali_idx:g.cali_idx};n[o].pressure_advance.push(d)}}return n}function rS({isMobile:e,info:t,onOk:n,onCancel:r}){return c(Or,{open:t.open,onClose:()=>{},children:[c(Ar,{className:"dialog-backdrop"}),c("div",{className:"dialog-container",children:c(Tr,{className:"dialog-panel",children:[c(Nr,{className:"dialog-title",children:"Delete Spool"}),c(Cs,{className:"dialog-description text-warning ",children:"Are you sure you want to delete spool"}),t.spool&&c($a,{spool:t.spool},t.spool.id),c("div",{className:"flex justify-end gap-3 pt-4",children:[c(Fe,{className:"btn btn-outline",onClick:r,children:"NOOO !!!"}),c(Fe,{className:"btn btn-warning",onClick:n,children:"Yes, Delete"})]})]})})]})}function oS(){const[e,t]=A(!1);return Q(()=>{const n=()=>{t(window.innerWidth<768)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}const iS={securityKey:"",setSecurityKey:()=>{},securityOk:!1,setSecurityOk:()=>{}},wn=be(iS),lS=({children:e})=>{const t=new URLSearchParams(window.location.hash.slice(1)).get("sk")||""||new URLSearchParams(window.location.hash.slice(1)).get("_sk")||"",[n,r]=A(t),[o,i]=A(!1);return window.securityKey=n,Q(()=>{aS(i)},[]),c(wn.Provider,{value:{securityKey:n,setSecurityKey:r,securityOk:o,setSecurityOk:i},children:e})};let es=null;function aS(e){es=e}function sS(e){es&&es(e)}function uS(){const{securityOk:e}=se(wn),[t,n]=A([]);return Q(()=>{(async()=>{if(!e)return;const r=Ue("/spools-catalog"),i=await(await fetch(r)).text(),l=Ue("/api/spools-config"),u=(await(await encryptedFetch(l)).json()).spools,d=`Unspecified,0
`+`â•â•â•â• My Spools List â•â•â•â•,0
`+u+`
`+`â•â•â•â• Spools Catalog â•â•â•â•,0
`+i;n(cS(d))})()},[e]),t}function cS(e){var n,r;const t=[];for(const o of e.split(`
`)){const i=o.split(",");for(let l=0;l<i.length-1;l++){const a=(n=i[l])==null?void 0:n.trim(),s=(r=i[l+1])==null?void 0:r.trim(),u=parseInt(s,10);a&&!isNaN(u)&&(t.push({name:a,grams:u}),l++)}}return t}const dS=`GFA00,Bambu PLA Basic,190,240,PLA
GFA01,Bambu PLA Matte,190,240,PLA
GFA02,Bambu PLA Metal,190,240,PLA
GFA05,Bambu PLA Silk,190,240,PLA
GFA06,Bambu PLA Silk+,190,240,PLA
GFA07,Bambu PLA Marble,190,240,PLA
GFA08,Bambu PLA Sparkle,190,240,PLA
GFA09,Bambu PLA Tough,190,240,PLA
GFA10,Bambu PLA Tough+,220,250,PLA
GFA11,Bambu PLA Aero,210,260,PLA-AERO
GFA12,Bambu PLA Glow,190,240,PLA
GFA13,Bambu PLA Dynamic,190,240,PLA
GFA15,Bambu PLA Galaxy,190,240,PLA
GFA16,Bambu PLA Wood,190,240,PLA
GFA17,Bambu PLA Translucent,190,240,PLA
GFA18,Bambu PLA Lite,190,240,PLA
GFA50,Bambu PLA-CF,210,250,PLA-CF
GFB00,Bambu ABS,240,280,ABS
GFB01,Bambu ASA,240,280,ASA
GFB02,Bambu ASA-Aero,240,280,ASA-AERO
GFB50,Bambu ABS-GF,240,280,ABS-GF
GFB51,Bambu ASA-CF,250,280,ASA-CF
GFB60,PolyLite ABS,240,280,ABS
GFB61,PolyLite ASA,240,280,ASA
GFB98,Generic ASA,240,280,ASA
GFB99,Generic ABS,240,280,ABS
GFC00,Bambu PC,260,290,PC
GFC01,Bambu PC FR,260,290,PC
GFC99,Generic PC,260,290,PC
GFG00,Bambu PETG Basic,230,270,PETG
GFG01,Bambu PETG Translucent,230,270,PETG
GFG02,Bambu PETG HF,230,270,PETG
GFG50,Bambu PETG-CF,240,270,PETG-CF
GFG60,PolyLite PETG,220,260,PETG
GFG96,Generic PETG HF,220,270,PETG
GFG97,Generic PCTG,240,270,PCTG
GFG98,Generic PETG-CF,240,270,PETG-CF
GFG99,Generic PETG,220,270,PETG
GFL00,PolyLite PLA,190,240,PLA
GFL01,PolyTerra PLA,190,240,PLA
GFL03,eSUN PLA+,190,240,PLA
GFL04,Overture PLA,190,240,PLA
GFL05,Overture Matte PLA,190,240,PLA
GFL06,Fiberon PETG-ESD,250,290,PETG
GFL50,Fiberon PA6-CF,280,300,PA6-CF
GFL51,Fiberon PA6-GF,280,300,PA-GF
GFL52,Fiberon PA12-CF,260,300,PA-CF
GFL53,Fiberon PA612-CF,260,300,PA
GFL54,Fiberon PET-CF,270,300,PET-CF
GFL55,Fiberon PETG-rCF,240,270,PETG-CF
GFL95,Generic PLA High Speed,190,240,PLA
GFL96,Generic PLA Silk,190,240,PLA
GFL98,Generic PLA-CF,190,240,PLA-CF
GFL99,Generic PLA,190,240,PLA
GFN03,Bambu PA-CF,260,300,PA-CF
GFN04,Bambu PAHT-CF,260,300,PA-CF
GFN05,Bambu PA6-CF,260,300,PA6-CF
GFN06,Bambu PPA-CF,280,320,PPA-CF
GFN08,Bambu PA6-GF,260,300,PA-GF
GFN96,Generic PPA-GF,280,320,PPA-GF
GFN97,Generic PPA-CF,280,320,PPA-CF
GFN98,Generic PA-CF,260,300,PA-CF
GFN99,Generic PA,240,280,PA
GFP95,Generic PP-GF,220,250,PP-GF
GFP96,Generic PP-CF,220,250,PP-CF
GFP97,Generic PP,220,250,PP
GFP98,Generic PE-CF,175,220,PE-CF
GFP99,Generic PE,175,220,PE
GFR98,Generic PHA,190,240,PHA
GFR99,Generic EVA,175,220,EVA
GFS00,Bambu Support W,190,240,PLA-S
GFS01,Bambu Support G,260,300,PA-S
GFS02,Bambu Support For PLA,190,240,PLA-S
GFS03,Bambu Support For PA/PET,260,300,PA-S
GFS04,Bambu PVA,210,250,PVA
GFS05,Bambu Support For PLA/PETG,190,240,PLA-S
GFS06,Bambu Support for ABS,240,270,ABS-S
GFS97,Generic BVOH,190,240,BVOH
GFS98,Generic HIPS,220,270,HIPS
GFS99,Generic PVA,190,240,PVA
GFSNL02,SUNLU PLA Matte,205,245,PLA
GFSNL03,SUNLU PLA+,190,240,PLA
GFSNL04,SUNLU PLA+ 2.0,190,240,PLA
GFSNL05,SUNLU Silk PLA+,190,240,PLA
GFSNL06,SUNLU PLA Marble,190,260,PLA
GFSNL07,SUNLU Wood PLA,195,260,PLA
GFSNL08,SUNLU PETG,230,280,PETG
GFT01,Bambu PET-CF,260,290,PET-CF
GFT02,Bambu PPS-CF,310,340,PPS-CF
GFT97,Generic PPS,300,340,PPS
GFT98,Generic PPS-CF,310,340,PPS-CF
GFU00,Bambu TPU 95A HF,200,250,TPU
GFU01,Bambu TPU 95A,200,250,TPU
GFU02,Bambu TPU for AMS,220,240,TPU-AMS
GFU03,Bambu TPU 90A,200,240,TPU
GFU04,Bambu TPU 85A,200,240,TPU
GFU98,Generic TPU for AMS,200,250,TPU-AMS
GFU99,Generic TPU,200,250,TPU
`;function fS(){const{securityOk:e}=se(wn),[t,n]=A([]);return Q(()=>{(async()=>{const r=Ue("/api/filaments-config"),l=(await(await encryptedFetch(r)).json()).custom_filaments,a=(f,p)=>f!=null&&f.trim()?f.trim().split(`
`).map(g=>{const[d,m,,,h]=g.trim().split(","),v=d.trim(),b=m.trim(),_=h.trim();return{code:v,name:`${b} ${p}`,material:_}}):[],s=[...a(l," (Custom)"),...a(dS,"")].sort((f,p)=>f.name.localeCompare(p.name)),u=[{name:"Unspecified / Clear Selection",code:"",material:""},...s];n(u)})()},[e]),t}function pS(e,t="table-column-config",n){const[r,o]=A(!1),[i,l]=A(null),[a,s]=A(null),[u,f]=A(null),p=G(()=>e.map((S,C)=>({id:S.accessorKey||S.id,header:typeof S.header=="string"?S.header:S.id,visible:!0,order:C,required:S.accessorKey==="id"||S.id==="actions",originalColumn:S})),[e]);Q(()=>{try{const S=localStorage.getItem(t);if(S){const C=JSON.parse(S),N=p.map(M=>{const k=C.find(E=>E.id===M.id);return k?{...M,visible:k.visible,order:k.order}:M});N.sort((M,k)=>M.order-k.order),l(N)}else l(p.map(C=>n.find(M=>M===C.id)?{...C,visible:!1}:C))}catch{l(p)}},[p,t]);function g(S){return S.reduce((C,N)=>(C[N.id]=N.visible,C),{})}function d(S){return S.slice().sort((C,N)=>C.order-N.order).map(C=>C.id)}const m=G(()=>i?g(i):{},[i,e]),h=G(()=>i?d(i):[],[i,e]),v=()=>{f(i?[...i]:[...p]),s(i?[...i]:[...p]),o(!0)};return Q(()=>{a&&r&&l([...a])},[a,r]),{columnVisibility:m,columnOrder:h,isConfigOpen:r,openConfig:v,saveAndApplyConfig:()=>{if(a)try{const S=a.map(({id:C,visible:N,order:M,required:k})=>({id:C,visible:N,order:M,required:k}));localStorage.setItem(t,JSON.stringify(S)),l([...a]),o(!1)}catch{}},applyTempConfig:()=>{a&&(l([...a]),o(!1))},resetToDefault:()=>{localStorage.removeItem(t);const S=p.map(C=>n.find(M=>M===C.id)?{...C,visible:!1}:C);s(S),l(S),f(S)},discardAndClose:()=>{u&&l([...u]),o(!1),s(null),f(null)},workingConfig:a,setWorkingConfig:s}}function gS({items:e,onReorder:t,renderItem:n}){const[r,o]=A(null),[i,l]=A(null),a=D(null),s=D(null),u=D(null),f=(p,g)=>{g.preventDefault(),o(p),s.current=p;const d=h=>{if(a.current){const v=Array.from(a.current.children);let b=p;for(let _=0;_<v.length;_++){const y=v[_].getBoundingClientRect(),x=y.top+y.height/2;if(h.clientY<x){b=_;break}b=_+1}b=Math.max(0,Math.min(b,v.length)),l(b),u.current=b}},m=()=>{if(s.current!==null&&u.current!==null&&s.current!==u.current){const h=u.current>s.current?u.current-1:u.current;t(s.current,h)}o(null),l(null),s.current=null,u.current=null,document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",m)};document.addEventListener("mousemove",d),document.addEventListener("mouseup",m)};return c("div",{ref:a,className:"space-y-2",children:[e.map((p,g)=>c("div",{className:`
            relative transition-all duration-200 ease-in-out
            ${r===g?"opacity-60 scale-[0.98] shadow-lg z-10 bg-primary/5 border-primary/20":"hover:shadow-md"}
            ${i===g?"mt-8":""}
            ${i===g+1?"mb-8":""}
          `,style:{transform:r===g?"rotate(2deg)":"none"},children:[i===g&&c("div",{className:"absolute -top-4 left-0 right-0 h-2 bg-primary/20 rounded-full animate-pulse"}),n(p,g,f)]},p.id)),i===e.length&&c("div",{className:"h-2 bg-primary/20 rounded-full animate-pulse"})]})}function mS({isOpen:e,workingConfig:t,setWorkingConfig:n,onSaveAndApply:r,onApplyTemp:o,onReset:i,onClose:l}){if(!t)return null;const a=f=>{n(p=>p?p.map(g=>g.id===f&&!g.required?{...g,visible:!g.visible}:g):[])};return c(Or,{open:e,onClose:l,className:"relative z-50",children:[c(Ar,{className:"fixed inset-0 bg-black/10"}),c("div",{className:"columns-dialog-container",children:c(Tr,{className:"dialog-panel w-full max-w-md shadow-2xl",children:[c(Nr,{className:"dialog-title",children:[c("div",{className:"flex items-center gap-2",children:[c(ip,{className:"w-5 h-5 text-primary"}),"Column Configuration"]}),c("button",{onClick:l,className:"p-1.5 hover:bg-base-200 rounded-md transition-colors",type:"button",children:c(Ot,{className:"w-4 h-4"})})]}),c("div",{className:"space-y-4",children:[c("p",{className:"text-sm text-base-content/70 bg-info/10 p-3 rounded-lg border border-info/20",children:"ðŸ’¡ Toggle column visibility and drag to reorder"}),c("div",{className:"max-h-96 overflow-y-auto",children:c(gS,{items:t,onReorder:(f,p)=>{f!==p&&n(g=>{if(!g)return[];const d=[...g],[m]=d.splice(f,1);return d.splice(p,0,m),d.map((v,b)=>({...v,order:b}))})},renderItem:(f,p,g)=>c("div",{className:`
      flex items-center gap-3 p-4 pt-1 pb-1 bg-base-100 rounded-lg border border-gray-300 dark:border-gray-600 
      transition-all duration-200 select-none
      ${t&&t[p]&&p===t.findIndex(d=>d.id===f.id)?"hover:bg-base-200 hover:shadow-md cursor-default":"hover:bg-base-200"}
    `,children:[c("div",{onMouseDown:d=>g(p,d),className:"cursor-grab active:cursor-grabbing p-2 hover:bg-base-300 rounded-md transition-colors",style:{touchAction:"none"},children:c(Rh,{className:"w-4 h-4 text-base-content/60 hover:text-base-content"})}),c("button",{onClick:()=>a(f.id),disabled:f.required,className:`
          p-2 rounded-md transition-all duration-200
          ${f.required?"opacity-50 cursor-not-allowed":"hover:bg-base-300 cursor-pointer hover:scale-105"}
        `,type:"button",children:f.visible?c($h,{className:"w-5 h-5 text-success hover:text-success/80"}):c(Ph,{className:"w-5 h-5 text-base-content/40 hover:text-base-content/60"})}),c("span",{className:`
        flex-1 text-sm font-medium transition-all duration-200
        ${f.visible?"text-base-content":"text-base-content/50"}
        ${f.required?"italic":""}
      `,children:[f.header,f.required&&c("span",{className:"text-xs ml-2 bg-base-300 px-2 py-0.5 rounded-full",children:"required"})]})]})})}),c("div",{className:"dialog-actions-multi-rows",children:[c("div",{className:"dialog-actions-row",children:c(Fe,{onClick:i,className:"btn btn-outline flex-1",children:[c(Lh,{className:"w-4 h-4"}),"Reset to Default (Irreversible)"]})}),c("div",{className:"dialog-actions-row",children:[c(Fe,{onClick:l,className:"btn btn-outline",children:"Close"}),c(Fe,{onClick:o,className:"btn btn-outline",children:"Apply for Now"}),c(Fe,{onClick:r,className:"btn btn-primary",children:"Apply & Keep"})]})]})]})]})})]})}function hS({onClick:e}){return c(Fe,{onClick:e,className:"flex items-center gap-2 px-4 py-2 bg-base-200 text-base-content rounded-lg border border-gray-300 dark:border-gray-600 font-medium transition-all duration-200 hover:bg-base-300 hover:border-gray-400 dark:hover:border-gray-500 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-1",children:"Columns"})}function vS(){const{securityOk:e}=se(wn),[t,n]=A([]),[r,o]=A([]);return Q(()=>{(async()=>{if(!e)return;const i=Ue("/filament-brands"),a=await(await fetch(i)).text(),s=bS(a);n(s);const u=_S(a);o(u)})()},[e]),{filamentBrands:t,unsortedFilamentBrands:r}}function bS(e){const t=[];for(const n of e.split(/\r?\n/).filter(r=>r.trim()!==""&&!r.startsWith("#")).sort()){const r=n.split(","),o=r[0],i=r.length>1?r[1]:o;t.push({displayName:o,fillName:i})}return t}function _S(e){const t=[];for(const n of e.split(/\r?\n/).filter(r=>r.trim()!==""&&!r.startsWith("#"))){const r=n.split(","),o=r[0],i=r.length>1?r[1]:o;t.push({displayName:o,fillName:i})}return t}const yS=(e,t,n)=>{var x;const r=n0(e),o=En(r[8]),i=En(r[9]),l=En(r[10]),a=En(r[11]),s=En(r[13]),u=s?new Date(s*1e3):null,f=En(r[14]),p=f?new Date(f*1e3):null,g=r[15],d=Hu(r[16]),m=Hu(r[17]),h=r[18]==="y",v=r[19],b=r[20],_=r[21],y=r[22];return{id:r[0],tag_id:r[1],material_type:r[2],material_subtype:r[3],color_name:r[4],color_code:r[5],note:r[6],brand:r[7],weight_advertised:o,weight_core:i,weight_new:l,weight_current:a,weight_left:a&&i?a-i:a&&o&&l?a-(l-o):null,weight_used:l&&a?l-a:a&&o&&i?o+i-a:null,slicer_filament:r[12],slicer_filament_name:r[12]?((x=n==null?void 0:n.find(S=>S.code==r[12]))==null?void 0:x.name)??""??null:"",added_datetime:u,encoded_datetime:p,full_unused:g,consumed_since_add:d,consumed_since_weight:m,k_setting:h,data_origin:v,tag_type:b,printer_location:t!=null&&t.get(r[0])?"!"+(t==null?void 0:t.get(r[0])):null,assigned_location:_,actual_location:y}},Te=ev(),Ye=(e,t,n)=>{if(!n)return!0;const r=String(e.getValue(t)||"").toLowerCase();return n.toLowerCase().split(",").map(i=>i.trim()).filter(i=>i).some(i=>r.includes(i))},tr=(e,t,n)=>{if(!n||!n.min&&!n.max)return!0;const r=e.getValue(t);if(r==null)return!1;const o=Number(r);return!(isNaN(o)||n.min!==void 0&&o<n.min||n.max!==void 0&&o>n.max)};function wS({}){const e=["consumed_since_add","consumed_since_weight","weight_new","data_origin","tag_type","full_unused"],t=["id","color_code","material_type","color_name","weight_left","actions"],{storageConfig:n}=Zs(),[r,o]=A([]),[i,l]=A(new Map),a=uS(),s=fS(),{filamentBrands:u,unsortedFilamentBrands:f}=vS(),{securityOk:p}=se(wn),[g,d]=A("full"),[m,h]=A({open:!1,spool:null}),[v,b]=A({open:!1,mode:"add",spool:null,complete:null}),[_,y]=A([{desc:!0,id:"id"}]),[x,S]=A([]),[C,N]=A({pageIndex:0,pageSize:15}),[M,k]=A(new Set),E=async()=>{const w=await on(),T=new Blob([w],{type:"text/plain;charset=utf-8;"}),J=URL.createObjectURL(T),te=document.createElement("a");te.href=J;const Re=new Date().toISOString().slice(0,19).replace(/[-:]/g,"").replace("T","-");te.download=`SpoolEase-SpoolsBackup-${Re}.txt`,te.click(),URL.revokeObjectURL(J)},$=()=>{const w=["id","material_type","material_subtype","color_name","color_code","brand","weight_advertised","weight_core","weight_new","weight_current","weight_left","weight_used","note","tag_id","added_datetime"],T=r.map(Ve=>w.map(Je=>Qv(Ve[Je])).join(",")),J=[w.join(","),...T].join(`
`),te=new Blob([J],{type:"text/csv;charset=utf-8;"}),Re=URL.createObjectURL(te),Pe=document.createElement("a");Pe.href=Re,Pe.download="spools.csv",Pe.click(),URL.revokeObjectURL(Re)},I=oS();Q(()=>{I&&g==="full"&&d("compact"),!I&&g==="compact"&&d("full")},[I]);const H=G(()=>[Te.accessor("id",{header:"ID",cell:w=>w.getValue(),filterFn:Ye,sortingFn:(w,T)=>{const J=parseInt(w.getValue("id"),10),te=parseInt(T.getValue("id"),10);return J-te}}),Te.accessor("added_datetime",{header:"Added",cell:w=>c("div",{className:"tooltip","data-tip":ro(w.getValue()),children:Ea(w.getValue())})}),Te.accessor("encoded_datetime",{header:"Encoded",cell:w=>c("div",{className:"tooltip","data-tip":ro(w.getValue()),children:Ea(w.getValue())})}),Te.accessor("color_code",{header:"RGBA",cell:w=>{const T=w.getValue();return c("span",{style:{backgroundColor:`#${T.slice(0,6)}`,padding:"0px 4px",borderRadius:"4px",display:"inline-block"},children:T})},sortingFn:(w,T,J)=>t0(w.getValue(J),T.getValue(J)),meta:{getCellProps:w=>{const T=w.getValue();return{style:{background:`
    linear-gradient(to right, rgba(${parseInt(T.slice(0,2),16)}, ${parseInt(T.slice(2,4),16)}, ${parseInt(T.slice(4,6),16)}, ${parseInt(T.slice(6,8),16)/255}) 0%, rgba(${parseInt(T.slice(0,2),16)}, ${parseInt(T.slice(2,4),16)}, ${parseInt(T.slice(4,6),16)}, ${parseInt(T.slice(6,8),16)/255}) 100%),
    repeating-conic-gradient(#ccc 0% 25%, #fff 0% 50%) 50% / 10px 10px
  `,backgroundSize:"100% 100%, 20px 20px",backgroundPosition:"0 0, 0 0",color:Mp(T.slice(0,6)),fontFamily:"monospace"}}}}}),Te.accessor("material_type",{header:"Material",cell:w=>w.getValue(),filterFn:Ye}),Te.accessor("material_subtype",{header:"Subtype",cell:w=>w.getValue(),filterFn:Ye,sortingFn:Fn("material_subtype")}),Te.accessor("color_name",{header:"Color",cell:w=>w.getValue(),filterFn:Ye,sortingFn:Fn("color_name")}),Te.accessor("brand",{header:"Brand",cell:w=>w.getValue(),filterFn:Ye,sortingFn:Fn("brand")}),Te.accessor("slicer_filament_name",{header:"Slicer Filament",cell:w=>w.getValue(),filterFn:Ye,sortingFn:Fn("slicer_filament_name")}),Te.accessor(w=>w.printer_location??Pa(n,w.actual_location),{id:"actual_location",header:"Actual Location",cell:w=>{var T,J,te;return c("div",{class:"flex items-center gap-2",children:[((T=w.getValue())==null?void 0:T.charAt(0))=="#"&&c(eo,{class:"w-4 h-4 text-gray-400"}),((J=w.getValue())==null?void 0:J.charAt(0))=="@"&&c(ba,{class:"w-4 h-4 text-gray-400"}),((te=w.getValue())==null?void 0:te.charAt(0))=="!"&&c(Ch,{class:"w-4 h-4 text-blue-500"}),c("span",{children:w.getValue().slice(1)})]})},filterFn:Ye,sortingFn:Zv}),Te.accessor("assigned_location",{header:"Assigned Location",cell:w=>{var T,J;return c("div",{class:"flex items-center gap-2",children:[((T=w.getValue())==null?void 0:T.charAt(0))=="#"&&c(eo,{class:"w-4 h-4 text-gray-400"}),((J=w.getValue())==null?void 0:J.charAt(0))=="@"&&c(ba,{class:"w-4 h-4 text-gray-400"}),c("span",{children:Pa(n,w.getValue()).slice(1)})]})},filterFn:Ye,sortingFn:Fn("assigned_location")}),Te.accessor("weight_advertised",{header:"Label",cell:w=>{const T=w.getValue();return Fa(T,"")},filterFn:tr}),Te.accessor("full_unused",{header:"When Added",cell:w=>{switch(w.getValue()){case"y":return"Full Unused";case"n":return"Used"}}}),Te.accessor("weight_left",{header:"Net",cell:w=>{const T=w.getValue(),J=w.row.getValue("consumed_since_weight");if(T)return`${An(T-J,1)}g`;const te=w.row.getValue("tag_id"),Re=w.row.getValue("full_unused"),Pe=w.row.getValue("weight_advertised"),Ve=!te&&te[0]!=""&&Re=="y"&&Pe;return T?`${T}g`:Ve?`(${Fa(Pe)})`:""},filterFn:tr,sortingFn:(w,T)=>{const J=w.getValue("weight_left"),te=T.getValue("weight_left");if(J&te)return J>te?1:-1;const Re=w.getValue("tag_id"),Pe=T.getValue("tag_id"),Ve=w.getValue("weight_advertised"),Je=T.getValue("weight_advertised"),qe=!Re&&Re[0]!=""&&Ve,xn=!Pe&&Pe[0]!=""&&Je;return(J||(qe?Ve:J))>(te||(xn?Je:te))?1:-1}}),Te.accessor("weight_current",{header:"Gross",cell:w=>{const T=w.getValue();return T!==null?`${T}g`:""},filterFn:tr}),Te.accessor("weight_new",{header:"Full",cell:w=>{const T=w.getValue();return T!==null?`${T}g`:""},filterFn:tr}),Te.accessor("weight_used",{header:"Used",cell:w=>{const T=w.getValue(),J=w.row.getValue("consumed_since_weight");return T!==null?`${An(T+J,1)}g`:""},filterFn:tr}),Te.accessor("consumed_since_add",{header:"Printed Total",cell:w=>parseFloat(w.getValue().toFixed(2)).toString(),filterFn:Ye}),Te.accessor("consumed_since_weight",{header:"Printed Since Weight",cell:w=>parseFloat(w.getValue().toFixed(2)).toString(),filterFn:Ye}),Te.accessor("note",{header:"Note",cell:w=>c("div",{className:"tooltip w-full","data-tip":w.getValue(),children:c("div",{className:"truncate",children:w.getValue()})}),filterFn:Ye,meta:{grow:!0},sortingFn:Fn("note")}),Te.accessor("k_setting",{header:"PA(K)",cell:w=>c("div",{className:"text-center",children:[" ",w.getValue()===!0?"âœ“":""]}),filterFn:Ye}),Te.accessor("tag_id",{header:"Tag ID",cell:w=>{const T=w.getValue();return T.startsWith("-")?c("span",{className:"line-through",children:T.slice(1)}):T},sortingFn:(w,T)=>{const J=qe=>qe.startsWith("-")?qe.slice(1):qe,te=w.getValue("tag_id"),Re=T.getValue("tag_id"),Pe=J(te),Ve=J(Re),Je=kp(Pe,Ve);return Je!==0?Je:te.startsWith("-")?1:-1}}),Te.accessor("data_origin",{header:"Data Origin",cell:w=>w.getValue(),filterFn:Ye}),Te.accessor("tag_type",{header:"Linked Tag Type",cell:w=>w.getValue(),filterFn:Ye}),{id:"actions",cell:({row:w})=>c("div",{className:"flex gap-3",children:[c(Fe,{className:"cursor-pointer",onClick:()=>h({open:!0,spool:w.original}),children:c(lp,{className:"w-[1em] h-[1em] relative top-[1px]"})}),c(Fe,{className:"cursor-pointer",onClick:()=>ue(w.original),children:c(Gh,{className:"w-[1em] h-[1em] relative top-[1px]"})})]}),meta:{stickyClass:"sticky-right"}}],[n]),{columnVisibility:z,columnOrder:L,isConfigOpen:R,openConfig:K,saveAndApplyConfig:Y,applyTempConfig:ee,resetToDefault:q,discardAndClose:O,workingConfig:Z,setWorkingConfig:U}=pS(H,"spools-column-config",e),j=()=>{b({open:!0,mode:"add",spool:null,complete:null})},we=()=>{b({open:!0,mode:"add",spool:{...v.spool,id:"",tagId:""},complete:null})},ue=w=>{const T={id:w.id,tagId:w.tag_id,rgba:w.color_code,colorName:w.color_name,material:w.material_type,subtype:w.material_subtype,brand:w.brand,label:Za(w.weight_advertised),labelGrams:w.weight_advertised,coreGrams:w.weight_core,note:w.note,slicerFilamentCode:w.slicer_filament,fullUnused:w.full_unused,assignedLocation:w.assigned_location,actualLocation:w.actual_location};b({open:!0,mode:"edit",spool:T,complete:null})},W=()=>{b({open:!1,mode:"add",spool:null,complete:null})},X=(w,T)=>{b(J=>({...J,spool:w?{...w,id:T}:null}))},fe=()=>{b(w=>({...w,complete:"successDone"}))},ye=async w=>{try{const T=Ue("api/spools/delete"),te=await(await encryptedFetch(T,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:w})})).text();bt(te,null)}catch(T){console.log("Error in deleteSpool: ",T)}},rn=async(w,T)=>{try{const J=Ue("api/spools/add-edit");let te=JSON.stringify({id:w.id,rgba:w.rgba,color_name:w.colorName,material:w.material,subtype:w.subtype,brand:w.brand,label_weight:Number(w.labelGrams?w.labelGrams:0),core_weight:Number(w.coreGrams?w.coreGrams:0),note:w.note,slicer_filament:w.slicerFilamentCode,full_unused:w.fullUnused,k_info:T,assigned_location:w.assignedLocation,actual_location:w.actualLocation});const Pe=await(await encryptedFetch(J,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tag_id:w.tagId.startsWith("-")?"":w.tagId,id:w.id,rgba:w.rgba,color_name:w.colorName,material:w.material,subtype:w.subtype,brand:w.brand,label_weight:Number(w.labelGrams?w.labelGrams:0),core_weight:Number(w.coreGrams?w.coreGrams:0),note:w.note,slicer_filament:w.slicerFilamentCode,full_unused:w.fullUnused,k_info:T,assigned_location:w.assignedLocation,actual_location:w.actualLocation})})).json();X(w,Pe.id),bt(Pe.csv,null)}catch(J){console.log("Error in addEditSpool: ",J)}},Kn=async()=>{let w,T=Ue("/api/spools");if(w=await(await encryptedFetch(T)).text(),w!="")return w},Yn=async()=>{let w,T=Ue("/api/spools-in-printers");if(w=await(await encryptedFetch(T)).text(),w!="")return w},on=async()=>{let w,T=Ue("/api/store-backup");if(w=await(await encryptedFetch(T)).text(),w!="")return w},he=async()=>{let w;try{w=await Kn()}catch(J){return console.error("Failed to fetch spools data:",J),""}let T=null;try{T=await Yn()}catch(J){console.error("Failed to fetch spools in printers:",J)}bt(w,T)},bt=(w,T)=>{let J=null,te=null;if(T){const Ve=JSON.parse(T);te=new Map(Object.entries(Ve.spools)),J=te}else J=i;const Pe=w.trim().split(`
`).map(Ve=>yS(Ve,J,s));o(Pe),te&&l(te)};Q(()=>{he()},[s]);const ie=Jv({data:r,columns:H,state:{sorting:_,columnFilters:x,pagination:C,columnVisibility:z,columnOrder:L},onSortingChange:y,onColumnFiltersChange:S,onPaginationChange:N,getCoreRowModel:Vv(),getPaginationRowModel:Uv(),getSortedRowModel:Wv(),getFilteredRowModel:zv(),enableMultiSort:!0}),_t=w=>{const T=new Set(M);T.has(w)?T.delete(w):T.add(w),k(T)},ft=w=>{N(T=>({...T,pageIndex:0,pageSize:w===-1?r.length:w}))};return c("div",{className:"spools-container",children:[v.open&&c(eS,{isMobile:I,info:v,materials:z1,cores:a,slicerFilaments:s,filamentBrands:u,unsortedFilamentBrands:f,onSave:async(w,T)=>{await rn(w,T),fe()},onCancel:()=>{W()},onAddNew:j,onAddSimilar:we}),c(rS,{isMobile:I,info:m,onOk:async()=>{await ye(m.spool.id),h({open:!1,spool:null})},onCancel:()=>{h({open:!1,spool:null})}}),c("div",{className:"spools-controls",children:c(r0,{isMobile:I,columnFilters:x,onSetColumnFilters:S})}),c("div",{className:"spools-controls-row",children:[c("div",{className:"view-mode-toggle",children:[c("button",{className:`view-btn ${g==="compact"||g==="full"?"active":""}`,onClick:()=>d(I?"compact":"full"),children:"Table"}),c("button",{className:`view-btn ${g==="cards"?"active":""}`,onClick:()=>d("cards"),children:"Cards"}),c("button",{className:"refresh-data-btn",onClick:()=>he(),children:"Refresh"}),!I&&g!="cards"&&c(hS,{onClick:K}),c("div",{class:"w-px h-11 bg-gray-500"}),!I&&c("button",{className:"download-data-btn",onClick:()=>$(),children:"CSV"}),!I&&c("button",{className:"download-data-btn",onClick:()=>E(),children:"Backup"})]}),c("div",{className:"spools-controls-hint-paging",children:[c("div",{className:"flex items-center",children:c("span",{className:"multi-sort-hint",children:g!="cards"?I?"Press column headers to sort":"Hold Shift + Click column headers for multi-sort":null})}),p&&c("button",{className:"add-spool-btn",onClick:()=>{j()},children:"Add Spool"})]})]}),g==="cards"?c("div",{className:"cards-grid",children:ie.getRowModel().rows.map(w=>c($a,{spool:w.original},w.id))}):c("div",{className:"table-container",children:c("table",{className:"spools-table",children:[c("thead",{children:ie.getHeaderGroups().map(w=>c("tr",{children:w.headers.map(T=>{var J,te;return g==="compact"&&!t.includes(T.id)?null:c("th",{className:`${T.column.getCanSort()?"sortable":""} ${(J=T.column.columnDef.meta)!=null&&J.grow?"min-w-0":""} ${(te=T.column.columnDef.meta)==null?void 0:te.stickyClass}`.trim(),onClick:T.column.getToggleSortingHandler(),children:c("div",{className:"header-content",children:[T.isPlaceholder?null:Bu(T.column.columnDef.header,T.getContext()),T.column.getIsSorted()&&c("span",{className:"sort-indicator",children:T.column.getIsSorted()==="desc"?" â†“":" â†‘"})]})},T.id)})},w.id))}),c("tbody",{className:"relative",children:[ie.getRowModel().rows.map(w=>c(ae,{children:[c("tr",{className:`data-row ${g==="compact"?"clickable-row":""}`,onClick:()=>g==="compact"&&_t(w.id),children:w.getVisibleCells().map(T=>{var J,te,Re,Pe;return g==="compact"&&!t.includes(T.column.id)?null:c("td",{class:`${(J=T.column.columnDef.meta)!=null&&J.grow?"w-full max-w-0":"whitespace-nowrap"} ${(te=T.column.columnDef.meta)==null?void 0:te.stickyClass}`,...((Pe=(Re=T.column.columnDef.meta)==null?void 0:Re.getCellProps)==null?void 0:Pe.call(Re,T))??{},children:Bu(T.column.columnDef.cell,T.getContext())},T.id)})},w.id),g==="compact"&&M.has(w.id)&&c("tr",{className:"expanded-row",children:c("td",{colSpan:t.length,children:c($a,{spool:w.original,compact:!0})})})]})),R&&c(mS,{isOpen:R,workingConfig:Z,setWorkingConfig:U,onSaveAndApply:Y,onApplyTemp:ee,onReset:q,onClose:O})]})]})}),c("div",{className:"pagination",children:[c("div",{className:"pagination-info",children:["Showing ",C.pageIndex*C.pageSize+1," to"," ",Math.min((C.pageIndex+1)*C.pageSize,ie.getFilteredRowModel().rows.length)," ","of ",ie.getFilteredRowModel().rows.length," entries",ie.getFilteredRowModel().rows.length!==r.length&&c("span",{children:[" (filtered from ",r.length," total)"]})]}),c("div",{className:"page-size-control",children:[c("label",{children:"Show:"}),c("select",{value:C.pageSize===r.length?-1:C.pageSize,onChange:w=>ft(Number(w.target.value)),className:"page-size-select",children:[c("option",{value:10,children:"10"}),c("option",{value:15,children:"15"}),c("option",{value:25,children:"25"}),c("option",{value:50,children:"50"}),c("option",{value:100,children:"100"}),c("option",{value:200,children:"200"}),c("option",{value:-1,children:"All"})]})]}),c("div",{className:"pagination-controls",children:[c("button",{onClick:()=>ie.setPageIndex(0),disabled:!ie.getCanPreviousPage(),className:"pagination-btn",children:"Â«Â«"}),c("button",{onClick:()=>ie.previousPage(),disabled:!ie.getCanPreviousPage(),className:"pagination-btn",children:"â€¹"}),c("span",{className:"page-info",children:["Page ",C.pageIndex+1," of ",ie.getPageCount()]}),c("button",{onClick:()=>ie.nextPage(),disabled:!ie.getCanNextPage(),className:"pagination-btn",children:"â€º"}),c("button",{onClick:()=>ie.setPageIndex(ie.getPageCount()-1),disabled:!ie.getCanNextPage(),className:"pagination-btn",children:"Â»Â»"})]})]})]})}var mi,Lc;function SS(){if(Lc)return mi;Lc=1;function e(){this.__data__=[],this.size=0}return mi=e,mi}var hi,Dc;function Tm(){if(Dc)return hi;Dc=1;function e(t,n){return t===n||t!==t&&n!==n}return hi=e,hi}var vi,Gc;function Lo(){if(Gc)return vi;Gc=1;var e=Tm();function t(n,r){for(var o=n.length;o--;)if(e(n[o][0],r))return o;return-1}return vi=t,vi}var bi,Vc;function xS(){if(Vc)return bi;Vc=1;var e=Lo(),t=Array.prototype,n=t.splice;function r(o){var i=this.__data__,l=e(i,o);if(l<0)return!1;var a=i.length-1;return l==a?i.pop():n.call(i,l,1),--this.size,!0}return bi=r,bi}var _i,Bc;function CS(){if(Bc)return _i;Bc=1;var e=Lo();function t(n){var r=this.__data__,o=e(r,n);return o<0?void 0:r[o][1]}return _i=t,_i}var yi,jc;function FS(){if(jc)return yi;jc=1;var e=Lo();function t(n){return e(this.__data__,n)>-1}return yi=t,yi}var wi,Hc;function ES(){if(Hc)return wi;Hc=1;var e=Lo();function t(n,r){var o=this.__data__,i=e(o,n);return i<0?(++this.size,o.push([n,r])):o[i][1]=r,this}return wi=t,wi}var Si,qc;function Do(){if(qc)return Si;qc=1;var e=SS(),t=xS(),n=CS(),r=FS(),o=ES();function i(l){var a=-1,s=l==null?0:l.length;for(this.clear();++a<s;){var u=l[a];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,Si=i,Si}var xi,zc;function PS(){if(zc)return xi;zc=1;var e=Do();function t(){this.__data__=new e,this.size=0}return xi=t,xi}var Ci,Uc;function $S(){if(Uc)return Ci;Uc=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return Ci=e,Ci}var Fi,Wc;function RS(){if(Wc)return Fi;Wc=1;function e(t){return this.__data__.get(t)}return Fi=e,Fi}var Ei,Kc;function TS(){if(Kc)return Ei;Kc=1;function e(t){return this.__data__.has(t)}return Ei=e,Ei}var Pi,Yc;function Am(){if(Yc)return Pi;Yc=1;var e=typeof zr=="object"&&zr&&zr.Object===Object&&zr;return Pi=e,Pi}var $i,Xc;function At(){if(Xc)return $i;Xc=1;var e=Am(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return $i=n,$i}var Ri,Jc;function eu(){if(Jc)return Ri;Jc=1;var e=At(),t=e.Symbol;return Ri=t,Ri}var Ti,Qc;function AS(){if(Qc)return Ti;Qc=1;var e=eu(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,o=e?e.toStringTag:void 0;function i(l){var a=n.call(l,o),s=l[o];try{l[o]=void 0;var u=!0}catch{}var f=r.call(l);return u&&(a?l[o]=s:delete l[o]),f}return Ti=i,Ti}var Ai,Zc;function NS(){if(Zc)return Ai;Zc=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Ai=n,Ai}var Ni,ed;function Go(){if(ed)return Ni;ed=1;var e=eu(),t=AS(),n=NS(),r="[object Null]",o="[object Undefined]",i=e?e.toStringTag:void 0;function l(a){return a==null?a===void 0?o:r:i&&i in Object(a)?t(a):n(a)}return Ni=l,Ni}var Oi,td;function kr(){if(td)return Oi;td=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Oi=e,Oi}var Ii,nd;function Nm(){if(nd)return Ii;nd=1;var e=Go(),t=kr(),n="[object AsyncFunction]",r="[object Function]",o="[object GeneratorFunction]",i="[object Proxy]";function l(a){if(!t(a))return!1;var s=e(a);return s==r||s==o||s==n||s==i}return Ii=l,Ii}var ki,rd;function OS(){if(rd)return ki;rd=1;var e=At(),t=e["__core-js_shared__"];return ki=t,ki}var Mi,od;function IS(){if(od)return Mi;od=1;var e=OS(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return Mi=n,Mi}var Li,id;function Om(){if(id)return Li;id=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Li=n,Li}var Di,ld;function kS(){if(ld)return Di;ld=1;var e=Nm(),t=IS(),n=kr(),r=Om(),o=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,l=Function.prototype,a=Object.prototype,s=l.toString,u=a.hasOwnProperty,f=RegExp("^"+s.call(u).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!n(g)||t(g))return!1;var d=e(g)?f:i;return d.test(r(g))}return Di=p,Di}var Gi,ad;function MS(){if(ad)return Gi;ad=1;function e(t,n){return t==null?void 0:t[n]}return Gi=e,Gi}var Vi,sd;function Sn(){if(sd)return Vi;sd=1;var e=kS(),t=MS();function n(r,o){var i=t(r,o);return e(i)?i:void 0}return Vi=n,Vi}var Bi,ud;function tu(){if(ud)return Bi;ud=1;var e=Sn(),t=At(),n=e(t,"Map");return Bi=n,Bi}var ji,cd;function Vo(){if(cd)return ji;cd=1;var e=Sn(),t=e(Object,"create");return ji=t,ji}var Hi,dd;function LS(){if(dd)return Hi;dd=1;var e=Vo();function t(){this.__data__=e?e(null):{},this.size=0}return Hi=t,Hi}var qi,fd;function DS(){if(fd)return qi;fd=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return qi=e,qi}var zi,pd;function GS(){if(pd)return zi;pd=1;var e=Vo(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function o(i){var l=this.__data__;if(e){var a=l[i];return a===t?void 0:a}return r.call(l,i)?l[i]:void 0}return zi=o,zi}var Ui,gd;function VS(){if(gd)return Ui;gd=1;var e=Vo(),t=Object.prototype,n=t.hasOwnProperty;function r(o){var i=this.__data__;return e?i[o]!==void 0:n.call(i,o)}return Ui=r,Ui}var Wi,md;function BS(){if(md)return Wi;md=1;var e=Vo(),t="__lodash_hash_undefined__";function n(r,o){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=e&&o===void 0?t:o,this}return Wi=n,Wi}var Ki,hd;function jS(){if(hd)return Ki;hd=1;var e=LS(),t=DS(),n=GS(),r=VS(),o=BS();function i(l){var a=-1,s=l==null?0:l.length;for(this.clear();++a<s;){var u=l[a];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,Ki=i,Ki}var Yi,vd;function HS(){if(vd)return Yi;vd=1;var e=jS(),t=Do(),n=tu();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Yi=r,Yi}var Xi,bd;function qS(){if(bd)return Xi;bd=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Xi=e,Xi}var Ji,_d;function Bo(){if(_d)return Ji;_d=1;var e=qS();function t(n,r){var o=n.__data__;return e(r)?o[typeof r=="string"?"string":"hash"]:o.map}return Ji=t,Ji}var Qi,yd;function zS(){if(yd)return Qi;yd=1;var e=Bo();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return Qi=t,Qi}var Zi,wd;function US(){if(wd)return Zi;wd=1;var e=Bo();function t(n){return e(this,n).get(n)}return Zi=t,Zi}var el,Sd;function WS(){if(Sd)return el;Sd=1;var e=Bo();function t(n){return e(this,n).has(n)}return el=t,el}var tl,xd;function KS(){if(xd)return tl;xd=1;var e=Bo();function t(n,r){var o=e(this,n),i=o.size;return o.set(n,r),this.size+=o.size==i?0:1,this}return tl=t,tl}var nl,Cd;function YS(){if(Cd)return nl;Cd=1;var e=HS(),t=zS(),n=US(),r=WS(),o=KS();function i(l){var a=-1,s=l==null?0:l.length;for(this.clear();++a<s;){var u=l[a];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=o,nl=i,nl}var rl,Fd;function XS(){if(Fd)return rl;Fd=1;var e=Do(),t=tu(),n=YS(),r=200;function o(i,l){var a=this.__data__;if(a instanceof e){var s=a.__data__;if(!t||s.length<r-1)return s.push([i,l]),this.size=++a.size,this;a=this.__data__=new n(s)}return a.set(i,l),this.size=a.size,this}return rl=o,rl}var ol,Ed;function JS(){if(Ed)return ol;Ed=1;var e=Do(),t=PS(),n=$S(),r=RS(),o=TS(),i=XS();function l(a){var s=this.__data__=new e(a);this.size=s.size}return l.prototype.clear=t,l.prototype.delete=n,l.prototype.get=r,l.prototype.has=o,l.prototype.set=i,ol=l,ol}var il,Pd;function QS(){if(Pd)return il;Pd=1;function e(t,n){for(var r=-1,o=t==null?0:t.length;++r<o&&n(t[r],r,t)!==!1;);return t}return il=e,il}var ll,$d;function ZS(){if($d)return ll;$d=1;var e=Sn(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return ll=t,ll}var al,Rd;function Im(){if(Rd)return al;Rd=1;var e=ZS();function t(n,r,o){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:o,writable:!0}):n[r]=o}return al=t,al}var sl,Td;function km(){if(Td)return sl;Td=1;var e=Im(),t=Tm(),n=Object.prototype,r=n.hasOwnProperty;function o(i,l,a){var s=i[l];(!(r.call(i,l)&&t(s,a))||a===void 0&&!(l in i))&&e(i,l,a)}return sl=o,sl}var ul,Ad;function jo(){if(Ad)return ul;Ad=1;var e=km(),t=Im();function n(r,o,i,l){var a=!i;i||(i={});for(var s=-1,u=o.length;++s<u;){var f=o[s],p=l?l(i[f],r[f],f,i,r):void 0;p===void 0&&(p=r[f]),a?t(i,f,p):e(i,f,p)}return i}return ul=n,ul}var cl,Nd;function ex(){if(Nd)return cl;Nd=1;function e(t,n){for(var r=-1,o=Array(t);++r<t;)o[r]=n(r);return o}return cl=e,cl}var dl,Od;function Mr(){if(Od)return dl;Od=1;function e(t){return t!=null&&typeof t=="object"}return dl=e,dl}var fl,Id;function tx(){if(Id)return fl;Id=1;var e=Go(),t=Mr(),n="[object Arguments]";function r(o){return t(o)&&e(o)==n}return fl=r,fl}var pl,kd;function nx(){if(kd)return pl;kd=1;var e=tx(),t=Mr(),n=Object.prototype,r=n.hasOwnProperty,o=n.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(l){return t(l)&&r.call(l,"callee")&&!o.call(l,"callee")};return pl=i,pl}var gl,Md;function nu(){if(Md)return gl;Md=1;var e=Array.isArray;return gl=e,gl}var ir={exports:{}},ml,Ld;function rx(){if(Ld)return ml;Ld=1;function e(){return!1}return ml=e,ml}ir.exports;var Dd;function Mm(){return Dd||(Dd=1,function(e,t){var n=At(),r=rx(),o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,l=i&&i.exports===o,a=l?n.Buffer:void 0,s=a?a.isBuffer:void 0,u=s||r;e.exports=u}(ir,ir.exports)),ir.exports}var hl,Gd;function ox(){if(Gd)return hl;Gd=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,o){var i=typeof r;return o=o??e,!!o&&(i=="number"||i!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<o}return hl=n,hl}var vl,Vd;function Lm(){if(Vd)return vl;Vd=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return vl=t,vl}var bl,Bd;function ix(){if(Bd)return bl;Bd=1;var e=Go(),t=Lm(),n=Mr(),r="[object Arguments]",o="[object Array]",i="[object Boolean]",l="[object Date]",a="[object Error]",s="[object Function]",u="[object Map]",f="[object Number]",p="[object Object]",g="[object RegExp]",d="[object Set]",m="[object String]",h="[object WeakMap]",v="[object ArrayBuffer]",b="[object DataView]",_="[object Float32Array]",y="[object Float64Array]",x="[object Int8Array]",S="[object Int16Array]",C="[object Int32Array]",N="[object Uint8Array]",M="[object Uint8ClampedArray]",k="[object Uint16Array]",E="[object Uint32Array]",$={};$[_]=$[y]=$[x]=$[S]=$[C]=$[N]=$[M]=$[k]=$[E]=!0,$[r]=$[o]=$[v]=$[i]=$[b]=$[l]=$[a]=$[s]=$[u]=$[f]=$[p]=$[g]=$[d]=$[m]=$[h]=!1;function I(H){return n(H)&&t(H.length)&&!!$[e(H)]}return bl=I,bl}var _l,jd;function ru(){if(jd)return _l;jd=1;function e(t){return function(n){return t(n)}}return _l=e,_l}var lr={exports:{}};lr.exports;var Hd;function ou(){return Hd||(Hd=1,function(e,t){var n=Am(),r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,l=i&&n.process,a=function(){try{var s=o&&o.require&&o.require("util").types;return s||l&&l.binding&&l.binding("util")}catch{}}();e.exports=a}(lr,lr.exports)),lr.exports}var yl,qd;function lx(){if(qd)return yl;qd=1;var e=ix(),t=ru(),n=ou(),r=n&&n.isTypedArray,o=r?t(r):e;return yl=o,yl}var wl,zd;function Dm(){if(zd)return wl;zd=1;var e=ex(),t=nx(),n=nu(),r=Mm(),o=ox(),i=lx(),l=Object.prototype,a=l.hasOwnProperty;function s(u,f){var p=n(u),g=!p&&t(u),d=!p&&!g&&r(u),m=!p&&!g&&!d&&i(u),h=p||g||d||m,v=h?e(u.length,String):[],b=v.length;for(var _ in u)(f||a.call(u,_))&&!(h&&(_=="length"||d&&(_=="offset"||_=="parent")||m&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||o(_,b)))&&v.push(_);return v}return wl=s,wl}var Sl,Ud;function iu(){if(Ud)return Sl;Ud=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,o=typeof r=="function"&&r.prototype||e;return n===o}return Sl=t,Sl}var xl,Wd;function Gm(){if(Wd)return xl;Wd=1;function e(t,n){return function(r){return t(n(r))}}return xl=e,xl}var Cl,Kd;function ax(){if(Kd)return Cl;Kd=1;var e=Gm(),t=e(Object.keys,Object);return Cl=t,Cl}var Fl,Yd;function sx(){if(Yd)return Fl;Yd=1;var e=iu(),t=ax(),n=Object.prototype,r=n.hasOwnProperty;function o(i){if(!e(i))return t(i);var l=[];for(var a in Object(i))r.call(i,a)&&a!="constructor"&&l.push(a);return l}return Fl=o,Fl}var El,Xd;function Vm(){if(Xd)return El;Xd=1;var e=Nm(),t=Lm();function n(r){return r!=null&&t(r.length)&&!e(r)}return El=n,El}var Pl,Jd;function lu(){if(Jd)return Pl;Jd=1;var e=Dm(),t=sx(),n=Vm();function r(o){return n(o)?e(o):t(o)}return Pl=r,Pl}var $l,Qd;function ux(){if(Qd)return $l;Qd=1;var e=jo(),t=lu();function n(r,o){return r&&e(o,t(o),r)}return $l=n,$l}var Rl,Zd;function cx(){if(Zd)return Rl;Zd=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return Rl=e,Rl}var Tl,ef;function dx(){if(ef)return Tl;ef=1;var e=kr(),t=iu(),n=cx(),r=Object.prototype,o=r.hasOwnProperty;function i(l){if(!e(l))return n(l);var a=t(l),s=[];for(var u in l)u=="constructor"&&(a||!o.call(l,u))||s.push(u);return s}return Tl=i,Tl}var Al,tf;function au(){if(tf)return Al;tf=1;var e=Dm(),t=dx(),n=Vm();function r(o){return n(o)?e(o,!0):t(o)}return Al=r,Al}var Nl,nf;function fx(){if(nf)return Nl;nf=1;var e=jo(),t=au();function n(r,o){return r&&e(o,t(o),r)}return Nl=n,Nl}var ar={exports:{}};ar.exports;var rf;function px(){return rf||(rf=1,function(e,t){var n=At(),r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,l=i?n.Buffer:void 0,a=l?l.allocUnsafe:void 0;function s(u,f){if(f)return u.slice();var p=u.length,g=a?a(p):new u.constructor(p);return u.copy(g),g}e.exports=s}(ar,ar.exports)),ar.exports}var Ol,of;function gx(){if(of)return Ol;of=1;function e(t,n){var r=-1,o=t.length;for(n||(n=Array(o));++r<o;)n[r]=t[r];return n}return Ol=e,Ol}var Il,lf;function mx(){if(lf)return Il;lf=1;function e(t,n){for(var r=-1,o=t==null?0:t.length,i=0,l=[];++r<o;){var a=t[r];n(a,r,t)&&(l[i++]=a)}return l}return Il=e,Il}var kl,af;function Bm(){if(af)return kl;af=1;function e(){return[]}return kl=e,kl}var Ml,sf;function su(){if(sf)return Ml;sf=1;var e=mx(),t=Bm(),n=Object.prototype,r=n.propertyIsEnumerable,o=Object.getOwnPropertySymbols,i=o?function(l){return l==null?[]:(l=Object(l),e(o(l),function(a){return r.call(l,a)}))}:t;return Ml=i,Ml}var Ll,uf;function hx(){if(uf)return Ll;uf=1;var e=jo(),t=su();function n(r,o){return e(r,t(r),o)}return Ll=n,Ll}var Dl,cf;function jm(){if(cf)return Dl;cf=1;function e(t,n){for(var r=-1,o=n.length,i=t.length;++r<o;)t[i+r]=n[r];return t}return Dl=e,Dl}var Gl,df;function Hm(){if(df)return Gl;df=1;var e=Gm(),t=e(Object.getPrototypeOf,Object);return Gl=t,Gl}var Vl,ff;function qm(){if(ff)return Vl;ff=1;var e=jm(),t=Hm(),n=su(),r=Bm(),o=Object.getOwnPropertySymbols,i=o?function(l){for(var a=[];l;)e(a,n(l)),l=t(l);return a}:r;return Vl=i,Vl}var Bl,pf;function vx(){if(pf)return Bl;pf=1;var e=jo(),t=qm();function n(r,o){return e(r,t(r),o)}return Bl=n,Bl}var jl,gf;function zm(){if(gf)return jl;gf=1;var e=jm(),t=nu();function n(r,o,i){var l=o(r);return t(r)?l:e(l,i(r))}return jl=n,jl}var Hl,mf;function bx(){if(mf)return Hl;mf=1;var e=zm(),t=su(),n=lu();function r(o){return e(o,n,t)}return Hl=r,Hl}var ql,hf;function _x(){if(hf)return ql;hf=1;var e=zm(),t=qm(),n=au();function r(o){return e(o,n,t)}return ql=r,ql}var zl,vf;function yx(){if(vf)return zl;vf=1;var e=Sn(),t=At(),n=e(t,"DataView");return zl=n,zl}var Ul,bf;function wx(){if(bf)return Ul;bf=1;var e=Sn(),t=At(),n=e(t,"Promise");return Ul=n,Ul}var Wl,_f;function Sx(){if(_f)return Wl;_f=1;var e=Sn(),t=At(),n=e(t,"Set");return Wl=n,Wl}var Kl,yf;function xx(){if(yf)return Kl;yf=1;var e=Sn(),t=At(),n=e(t,"WeakMap");return Kl=n,Kl}var Yl,wf;function uu(){if(wf)return Yl;wf=1;var e=yx(),t=tu(),n=wx(),r=Sx(),o=xx(),i=Go(),l=Om(),a="[object Map]",s="[object Object]",u="[object Promise]",f="[object Set]",p="[object WeakMap]",g="[object DataView]",d=l(e),m=l(t),h=l(n),v=l(r),b=l(o),_=i;return(e&&_(new e(new ArrayBuffer(1)))!=g||t&&_(new t)!=a||n&&_(n.resolve())!=u||r&&_(new r)!=f||o&&_(new o)!=p)&&(_=function(y){var x=i(y),S=x==s?y.constructor:void 0,C=S?l(S):"";if(C)switch(C){case d:return g;case m:return a;case h:return u;case v:return f;case b:return p}return x}),Yl=_,Yl}var Xl,Sf;function Cx(){if(Sf)return Xl;Sf=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var o=r.length,i=new r.constructor(o);return o&&typeof r[0]=="string"&&t.call(r,"index")&&(i.index=r.index,i.input=r.input),i}return Xl=n,Xl}var Jl,xf;function Fx(){if(xf)return Jl;xf=1;var e=At(),t=e.Uint8Array;return Jl=t,Jl}var Ql,Cf;function cu(){if(Cf)return Ql;Cf=1;var e=Fx();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return Ql=t,Ql}var Zl,Ff;function Ex(){if(Ff)return Zl;Ff=1;var e=cu();function t(n,r){var o=r?e(n.buffer):n.buffer;return new n.constructor(o,n.byteOffset,n.byteLength)}return Zl=t,Zl}var ea,Ef;function Px(){if(Ef)return ea;Ef=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return ea=t,ea}var ta,Pf;function $x(){if(Pf)return ta;Pf=1;var e=eu(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(o){return n?Object(n.call(o)):{}}return ta=r,ta}var na,$f;function Rx(){if($f)return na;$f=1;var e=cu();function t(n,r){var o=r?e(n.buffer):n.buffer;return new n.constructor(o,n.byteOffset,n.length)}return na=t,na}var ra,Rf;function Tx(){if(Rf)return ra;Rf=1;var e=cu(),t=Ex(),n=Px(),r=$x(),o=Rx(),i="[object Boolean]",l="[object Date]",a="[object Map]",s="[object Number]",u="[object RegExp]",f="[object Set]",p="[object String]",g="[object Symbol]",d="[object ArrayBuffer]",m="[object DataView]",h="[object Float32Array]",v="[object Float64Array]",b="[object Int8Array]",_="[object Int16Array]",y="[object Int32Array]",x="[object Uint8Array]",S="[object Uint8ClampedArray]",C="[object Uint16Array]",N="[object Uint32Array]";function M(k,E,$){var I=k.constructor;switch(E){case d:return e(k);case i:case l:return new I(+k);case m:return t(k,$);case h:case v:case b:case _:case y:case x:case S:case C:case N:return o(k,$);case a:return new I;case s:case p:return new I(k);case u:return n(k);case f:return new I;case g:return r(k)}}return ra=M,ra}var oa,Tf;function Ax(){if(Tf)return oa;Tf=1;var e=kr(),t=Object.create,n=function(){function r(){}return function(o){if(!e(o))return{};if(t)return t(o);r.prototype=o;var i=new r;return r.prototype=void 0,i}}();return oa=n,oa}var ia,Af;function Nx(){if(Af)return ia;Af=1;var e=Ax(),t=Hm(),n=iu();function r(o){return typeof o.constructor=="function"&&!n(o)?e(t(o)):{}}return ia=r,ia}var la,Nf;function Ox(){if(Nf)return la;Nf=1;var e=uu(),t=Mr(),n="[object Map]";function r(o){return t(o)&&e(o)==n}return la=r,la}var aa,Of;function Ix(){if(Of)return aa;Of=1;var e=Ox(),t=ru(),n=ou(),r=n&&n.isMap,o=r?t(r):e;return aa=o,aa}var sa,If;function kx(){if(If)return sa;If=1;var e=uu(),t=Mr(),n="[object Set]";function r(o){return t(o)&&e(o)==n}return sa=r,sa}var ua,kf;function Mx(){if(kf)return ua;kf=1;var e=kx(),t=ru(),n=ou(),r=n&&n.isSet,o=r?t(r):e;return ua=o,ua}var ca,Mf;function Lx(){if(Mf)return ca;Mf=1;var e=JS(),t=QS(),n=km(),r=ux(),o=fx(),i=px(),l=gx(),a=hx(),s=vx(),u=bx(),f=_x(),p=uu(),g=Cx(),d=Tx(),m=Nx(),h=nu(),v=Mm(),b=Ix(),_=kr(),y=Mx(),x=lu(),S=au(),C=1,N=2,M=4,k="[object Arguments]",E="[object Array]",$="[object Boolean]",I="[object Date]",H="[object Error]",z="[object Function]",L="[object GeneratorFunction]",R="[object Map]",K="[object Number]",Y="[object Object]",ee="[object RegExp]",q="[object Set]",O="[object String]",Z="[object Symbol]",U="[object WeakMap]",j="[object ArrayBuffer]",we="[object DataView]",ue="[object Float32Array]",W="[object Float64Array]",X="[object Int8Array]",fe="[object Int16Array]",ye="[object Int32Array]",rn="[object Uint8Array]",Kn="[object Uint8ClampedArray]",Yn="[object Uint16Array]",on="[object Uint32Array]",he={};he[k]=he[E]=he[j]=he[we]=he[$]=he[I]=he[ue]=he[W]=he[X]=he[fe]=he[ye]=he[R]=he[K]=he[Y]=he[ee]=he[q]=he[O]=he[Z]=he[rn]=he[Kn]=he[Yn]=he[on]=!0,he[H]=he[z]=he[U]=!1;function bt(ie,_t,ft,w,T,J){var te,Re=_t&C,Pe=_t&N,Ve=_t&M;if(ft&&(te=T?ft(ie,w,T,J):ft(ie)),te!==void 0)return te;if(!_(ie))return ie;var Je=h(ie);if(Je){if(te=g(ie),!Re)return l(ie,te)}else{var qe=p(ie),xn=qe==z||qe==L;if(v(ie))return i(ie,Re);if(qe==Y||qe==k||xn&&!T){if(te=Pe||xn?{}:m(ie),!Re)return Pe?s(ie,o(te,ie)):a(ie,r(te,ie))}else{if(!he[qe])return T?ie:{};te=d(ie,qe,Re)}}J||(J=new e);var Xn=J.get(ie);if(Xn)return Xn;J.set(ie,te),y(ie)?ie.forEach(function(pt){te.add(bt(pt,_t,ft,pt,ie,J))}):b(ie)&&ie.forEach(function(pt,yt){te.set(yt,bt(pt,_t,ft,yt,ie,J))});var Lr=Ve?Pe?f:u:Pe?S:x,Dr=Je?void 0:Lr(ie);return t(Dr||ie,function(pt,yt){Dr&&(yt=pt,pt=ie[yt]),n(te,yt,bt(pt,_t,ft,yt,ie,J))}),te}return ca=bt,ca}var da,Lf;function Dx(){if(Lf)return da;Lf=1;var e=Lx(),t=1,n=4;function r(o){return e(o,t|n)}return da=r,da}var Gx=Dx();const Vx=xb(Gx);function Bx({}){const[e,t]=A({rack_config:{}}),[n,r]=A({rack_config:{}}),[o,i]=A(null),[l,a]=A(null),[s,u]=A(1),[f,p]=A({}),[g,d]=A(!1),[m,h]=A(!1),[v,b]=A(null),{storageConfig:_,reloadStorageConfig:y,saveStorageConfig:x}=Zs();Q(()=>{if(_==null)return;const R=Vx(_);r(R),t(_),u(1+Math.max(0,...Object.keys(_.rack_config).map(Number)))},[_]);const S=async()=>{await y()},C=async()=>{try{await x(e)}catch(R){b({type:"error",text:`Error saving configuration: ${R instanceof Error?R.message:String(R)}`})}},N=()=>JSON.stringify(e)!==JSON.stringify(n),M=()=>{i(s),a({name:"",bay_numbering_order:Fm.LeftToRight,shelf_numbering_order:Em.TopDown,position_numbering_order:Pm.LeftToRight,container_numbering_order:$m.BottomUp,num_bays:0,num_shelves:0,num_positions:0,num_containers:0,container_capacity:0}),p({})},k=R=>{i(R),a({...e.rack_config[R]}),p({})},E=()=>{i(null),a(null),p({})},$=R=>Object.values(e.rack_config).some(K=>K.name===R),I=()=>{const R={};return l.name.trim()?o===s&&$(l.name)&&(R.name="Rack name already exists"):R.name="Rack name is required",l?(l.num_bays<0&&(R.num_bays="Must be 0 or greater"),l.num_shelves<0&&(R.num_shelves="Must be 0 or greater"),l.num_positions<0&&(R.num_positions_per_shelf="Must be 0 or greater"),l.num_containers<0&&(R.num_containers_per_position="Must be 0 or greater"),l.container_capacity<0&&(R.num_spools_per_container="Must be 0 or greater"),p(R),Object.keys(R).length===0):!1},H=()=>{if(!I()||!l)return;const R={...e};o===s?(R.rack_config[o]=l,u(s+1)):o&&(delete R.rack_config[o],R.rack_config[o]=l),t(R),E()},z=R=>{const K=e.rack_config[R].name;if(!confirm(`Are you sure you want to delete rack "${K}"?`))return;const Y={...e};delete Y.rack_config[R],t(Y)},L=(R,K)=>{l&&a({...l,[R]:K})};return c("div",{className:"spools-container",children:c("div",{className:"spools-controls",children:[!o&&c(ae,{children:[c("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-4",children:[c("h2",{className:"text-2xl font-bold",children:"Storage Configuration"}),c("div",{className:"flex gap-2",children:[c("button",{onClick:S,disabled:g,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-base-200 disabled:opacity-50",children:[c(Mh,{size:18,className:g?"animate-spin":""}),"Reload/Undo Changes"]}),c("button",{onClick:C,disabled:m||!N(),className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-content rounded-lg font-medium hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed",children:[c(Dh,{size:18}),m?"Saving...":"Save Changes"]}),c("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-content rounded-lg font-medium hover:bg-primary/90",children:[c(kh,{size:20}),"Add Rack"]})]})]}),v&&c("div",{className:`mb-4 p-3 rounded-lg ${v.type==="success"?"bg-success/10 text-success border border-success/20":"bg-error/10 text-error border border-error/20"}`,children:v.text}),N()&&!v&&c("div",{className:"mb-4 p-3 rounded-lg bg-warning/10 text-warning border border-warning/20",children:"You have unsaved changes"}),c("div",{className:"space-y-4",children:[Object.entries(e.rack_config).map(([R,K])=>c("div",{className:"bg-base-100 rounded-lg border border-gray-300 dark:border-gray-600 overflow-hidden",children:c("div",{className:"p-4 flex justify-between items-center border-b border-gray-300 dark:border-gray-600",children:[c("div",{children:[c("h3",{className:"font-semibold text-lg",children:`${e.rack_config[R].name} (ID: ${R})`}),c("p",{className:"text-sm text-base-content/70",children:[K.num_bays?`${K.num_bays} bays`:"No bays"," |",K.num_shelves?` ${K.num_shelves} shelves${!!K.num_shelves&&"/bay"}`:" No shelves"," ","|",K.num_positions?` ${K.num_positions} positions${!!K.num_shelves&&"/shelf"||!!K.num_bays&&"/bay"}`:" No positions"," ","|",K.num_containers?` ${K.num_containers} containers${!!K.num_positions&&"/position"||!!K.num_shelves&&"/shelf"||!!K.num_bays&&"/bay"} | ${K.container_capacity} spools/container `:" No containers "]})]}),c("div",{className:"flex gap-2",children:[c("button",{onClick:()=>k(Number(R)),className:"p-2 hover:bg-base-200 rounded-lg transition-colors",title:"Edit rack",children:c(Ih,{size:18})}),c("button",{onClick:()=>z(Number(R)),className:"p-2 hover:bg-error/10 text-error rounded-lg transition-colors",title:"Delete rack",children:c(lp,{size:18})})]})]})},R)),Object.keys(e).length===0&&c("div",{className:"text-center py-12 text-base-content/60",children:[c("p",{className:"text-lg font-medium mb-2",children:"No racks configured"}),c("p",{className:"text-sm",children:'Click "Add Rack" to create your first storage rack'})]})]})]}),o&&l&&c("div",{className:"space-y-4 p-2 pb-4",children:[c("div",{className:"flex items-center justify-between mb-4",children:c("h2",{className:"text-xl font-bold",children:o===s?`Add New Rack ID: ${o}`:`Edit Rack ID: ${o}`})}),c("div",{className:"form-field",children:[c("label",{className:"form-label",children:"Rack Name"}),c("input",{type:"text",className:`form-input ${f.name?"form-input-error":""}`,value:l.name,onInput:R=>a({...l,name:R.target.value}),placeholder:"e.g., Main Storage A"}),f.name&&c("p",{className:"form-error",children:f.name})]}),c("div",{className:"grid grid-cols-2 gap-4",children:[c("div",{className:"form-field",children:[c("label",{className:"form-label",children:"Number of Bays"}),c("input",{type:"number",className:`form-input ${f.num_bays?"form-input-error":""}`,value:l.num_bays||"",placeholder:"None",onInput:R=>L("num_bays",parseInt(R.target.value)||0),min:"0"}),f.num_shelves&&c("p",{className:"form-error",children:f.num_shelves})]}),c("div",{className:`form-field ${l.num_bays===0&&"invisible"}`,children:[c("label",{className:"form-label",children:"Bays Numbering Order"}),c("select",{className:"form-input",value:l.bay_numbering_order,onChange:R=>L("bay_numbering_order",R.target.value),children:[c("option",{value:"LeftToRight",children:"Left to Right"}),c("option",{value:"RightToLeft",children:"Right to Left"})]})]}),c("div",{className:"form-field",children:[c("label",{className:"form-label",children:l.num_bays?"Shelves per Bay":"Number of Shelves"}),c("input",{type:"number",className:`form-input ${f.num_shelves?"form-input-error":""}`,value:l.num_shelves||"",placeholder:"None",onInput:R=>L("num_shelves",parseInt(R.target.value)||0),min:"0"}),f.num_shelves&&c("p",{className:"form-error",children:f.num_shelves})]}),c("div",{className:`form-field ${l.num_shelves===0&&"invisible"}`,children:[c("label",{className:"form-label",children:"Shelves Numbering Order"}),c("select",{className:"form-input",value:l.shelf_numbering_order,onChange:R=>L("shelf_numbering_order",R.target.value),children:[c("option",{value:"TopDown",children:"Top Down"}),c("option",{value:"BottomUp",children:"Bottom Up"})]})]}),c("div",{className:"form-field",children:[c("label",{className:"form-label",children:l.num_shelves?"Positions per Shelf":l.num_bays?"Positions per Bay":"Number of Positions"}),c("input",{type:"number",className:`form-input ${f.num_positions_per_shelf?"form-input-error":""}`,value:l.num_positions||"",placeholder:"None",onInput:R=>L("num_positions",parseInt(R.target.value)||0),min:"0"}),f.num_positions_per_shelf&&c("p",{className:"form-error",children:f.num_positions_per_shelf})]}),c("div",{className:`form-field ${l.num_positions===0&&"invisible"}`,children:[c("label",{className:"form-label",children:"Positions Numbering Order"}),c("select",{className:"form-input",value:l.position_numbering_order,onChange:R=>L("position_numbering_order",R.target.value),children:[c("option",{value:"LeftToRight",children:"Left to Right"}),c("option",{value:"RightToLeft",children:"Right to Left"})]})]}),c("div",{className:"form-field",children:[c("label",{className:"form-label",children:l.num_positions?"Containers per Position":l.num_shelves?"Contaiers per Shelf":l.num_bays?"Containers per Bay":"Number of Containers"}),c("input",{type:"number",className:`form-input ${f.num_containers_per_position?"form-input-error":""}`,value:l.num_containers||"",placeholder:"None",onInput:R=>L("num_containers",parseInt(R.target.value)||0),min:"0"}),f.num_containers_per_position&&c("p",{className:"form-error",children:f.num_containers_per_position})]}),c("div",{className:`form-field ${l.num_containers===0&&"invisible"}`,children:[c("label",{className:"form-label",children:"Containers Numbering Order"}),c("select",{className:"form-input",value:l.container_numbering_order,onChange:R=>L("container_numbering_order",R.target.value),children:[c("option",{value:"Unordered",children:"Unordered"}),c("option",{value:"TopDown",children:"Top Down"}),c("option",{value:"BottomUp",children:"Bottom Up"}),c("option",{value:"FrontToBack",children:"Front to Back"}),c("option",{value:"BackToFront",children:"Back to Front"}),c("option",{value:"LeftToRight",children:"Left to Right"}),c("option",{value:"RightToLeft",children:"Right to Left"})]})]}),c("div",{className:`form-field ${l.num_containers===0&&"invisible"}`,children:[c("label",{className:"form-label",children:"Spools per Container"}),c("input",{type:"number",className:`form-input ${f.num_spools_per_container?"form-input-error":""}`,value:l.container_capacity||"",placeholder:"None",onInput:R=>L("container_capacity",parseInt(R.target.value)||0),min:"0"}),f.num_spools_per_container&&c("p",{className:"form-error",children:f.num_spools_per_container})]})]}),c("div",{className:"dialog-actions border-t border-gray-200 dark:border-gray-700 pt-4",children:[c("button",{onClick:E,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-base-200 transition-colors",children:"Cancel"}),c("button",{onClick:H,className:"px-4 py-2 bg-primary text-primary-content rounded-lg font-medium hover:bg-primary/90 transition-colors",children:o===s?"Add Rack":"Apply"})]})]})]})})}const jx=e=>c("div",{className:"navbar bg-primary text-primary-content min-h-10",children:[c("div",{className:"flex-1",children:c("a",{className:"btn btn-ghost text-xl",children:"SpoolEase Inventory"})}),c("div",{className:"flex-none",children:[c("ul",{className:"menu menu-horizontal px-1",children:[c("li",{children:c("a",{href:"/inventory",children:"Inventory"})}),c("li",{children:c("a",{href:"/inventory/storage",children:"Storage"})})]}),c("button",{className:"btn btn-square btn-ghost mr-5",children:c(ip,{})})]})]});function Hx(){return c("div",{class:"w-screen h-screen flex flex-col bg-base-200",children:[c(jx,{}),c(op,{children:[c(wS,{path:"/inventory"}),c(Bx,{path:"/inventory/storage"})]})]})}let fa=null,Um=!1;function Wm(){return fa||(fa=Ym().then(()=>{console.log("Wasm initialized"),window.securityKeyOnDerive="",window.encryptionKey=Gf("","example_salt"),Um=!0})),fa}async function qx(e,t={},n={}){const{retries:r=3,retryOnNetworkError:o=!0,retryOn400:i=!1,retryOn500:l=!0}=n;let a=null;for(let s=0;s<r;s++)try{const u=await fetch(e,t);if(a=u,!u.ok){const f=u.status;if(f>=500&&l||f>=400&&f<500&&i)continue}return u}catch(u){if(!o)throw u}return a}window.encryptedFetch=async(...e)=>{if(window.securityKey==="")throw new Error("No Security Key Set");Um||await Wm();const[t,n={}]=e;n.body&&typeof n.body=="string"&&(n.body=Xm(Df(),n.body));const r=await qx(t,n,{retries:!n.method||n.method==="GET"?3:1,retryOnNetworkError:!0,retryOn500:!0}),o=await r.text();let i;if(o==="")i="";else{let l=Df();i=o.split("|").filter(f=>f.length>0).map(f=>Jm(l,f)).join(""),sS(!0);const a=new URL(window.location.href),s=new URLSearchParams(a.hash.slice(1));s.delete("sk");const u=s.toString();history.replaceState(null,"",u?`#${u}`:window.location.pathname+window.location.search)}return new Response(i,{status:r.status,statusText:r.statusText,headers:r.headers})};function Df(){const e=window.securityKey;return e!=window.securityKeyOnDerive&&(console.log("generating security key"),window.encryptionKey=Gf(e,"example_salt"),window.securityKeyOnDerive=e),window.encryptionKey}function zx({onSecurityKeyChanged:e}){const{securityKey:t,setSecurityKey:n}=se(wn),r=D(null),o=D(null);return c(Or,{open:!0,onClose:()=>{},initialFocus:o,children:[c(Ar,{className:"dialog-backdrop"}),c("div",{className:"dialog-container",children:c("div",{className:"security-key-section",children:[c("h3",{children:"Security Key:"}),c(xt,{ref:o,placeholder:"Enter Security Key",className:"security-key-input",type:"text",value:t,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellcheck:!1,onChange:l=>{n(l.currentTarget.value),clearTimeout(r.current),r.current=setTimeout(()=>{e()},500)}})]})})]})}function Ux({children:e}){const{securityOk:t}=se(wn);Q(()=>{(async()=>await n())()},[t]);const n=async()=>{try{const r=Ue("/api/test-key");return await(await encryptedFetch(r,{method:"POST",headers:{"Content-Type":"application/text"},body:JSON.stringify({test:"Hello"})})).text(),console.log("Authentication Succeeded"),"Ok"}catch{return console.log("Authentication Failed"),"Err"}};return t?c(ae,{children:e}):c(zx,{onSecurityKeyChanged:n})}(async()=>(console.log("Initialize Wasm"),Wm(),Ln(c(lS,{children:c(Ux,{children:c(J1,{children:c(Hx,{})})})}),document.getElementById("app"))))();
